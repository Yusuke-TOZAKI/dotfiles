(()=>{var __webpack_modules__={58049:(d,m,g)=>{"use strict";g.r(m),g.d(m,{HttpCancellationError:()=>HttpCancellationError,HttpClient:()=>HttpClient,HttpClientAuthenticationError:()=>HttpClientAuthenticationError,HttpClientError:()=>HttpClientError,HttpClientResponseError:()=>HttpClientResponseError,HttpError:()=>HttpError});var v=g(12781),y=g(13685),C=g(57310),_=g(78382),T=g(95687),b=g(59796);const A=v.Readable,P=Symbol("buffer"),R=Symbol("type");class Blob{constructor(){this[R]="";const d=arguments[0],m=arguments[1],g=[];let v=0;if(d){const m=d,y=Number(m.length);for(let d=0;d<y;d++){const y=m[d];let C;C=y instanceof Buffer?y:ArrayBuffer.isView(y)?Buffer.from(y.buffer,y.byteOffset,y.byteLength):y instanceof ArrayBuffer?Buffer.from(y):y instanceof Blob?y[P]:Buffer.from("string"==typeof y?y:String(y)),v+=C.length,g.push(C)}}this[P]=Buffer.concat(g);let y=m&&void 0!==m.type&&String(m.type).toLowerCase();y&&!/[^\u0020-\u007E]/.test(y)&&(this[R]=y)}get size(){return this[P].length}get type(){return this[R]}text(){return Promise.resolve(this[P].toString())}arrayBuffer(){const d=this[P],m=d.buffer.slice(d.byteOffset,d.byteOffset+d.byteLength);return Promise.resolve(m)}stream(){const d=new A;return d._read=function(){},d.push(this[P]),d.push(null),d}toString(){return"[object Blob]"}slice(){const d=this.size,m=arguments[0],g=arguments[1];let v,y;v=void 0===m?0:m<0?Math.max(d+m,0):Math.min(m,d),y=void 0===g?d:g<0?Math.max(d+g,0):Math.min(g,d);const C=Math.max(y-v,0),_=this[P].slice(v,v+C),T=new Blob([],{type:arguments[2]});return T[P]=_,T}}function FetchError(d,m,g){Error.call(this,d),this.message=d,this.type=m,g&&(this.code=this.errno=g.code),Error.captureStackTrace(this,this.constructor)}let k;Object.defineProperties(Blob.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(Blob.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),FetchError.prototype=Object.create(Error.prototype),FetchError.prototype.constructor=FetchError,FetchError.prototype.name="FetchError";try{k=require("encoding").convert}catch(d){}const M=Symbol("Body internals"),I=v.PassThrough;function Body(d){var m=this,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=g.size;let C=void 0===y?0:y;var _=g.timeout;let T=void 0===_?0:_;null==d?d=null:isURLSearchParams(d)?d=Buffer.from(d.toString()):isBlob(d)||Buffer.isBuffer(d)||("[object ArrayBuffer]"===Object.prototype.toString.call(d)?d=Buffer.from(d):ArrayBuffer.isView(d)?d=Buffer.from(d.buffer,d.byteOffset,d.byteLength):d instanceof v||(d=Buffer.from(String(d)))),this[M]={body:d,disturbed:!1,error:null},this.size=C,this.timeout=T,d instanceof v&&d.on("error",(function(d){const g="AbortError"===d.name?d:new FetchError(`Invalid response body while trying to fetch ${m.url}: ${d.message}`,"system",d);m[M].error=g}))}function consumeBody(){var d=this;if(this[M].disturbed)return Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[M].disturbed=!0,this[M].error)return Body.Promise.reject(this[M].error);let m=this.body;if(null===m)return Body.Promise.resolve(Buffer.alloc(0));if(isBlob(m)&&(m=m.stream()),Buffer.isBuffer(m))return Body.Promise.resolve(m);if(!(m instanceof v))return Body.Promise.resolve(Buffer.alloc(0));let g=[],y=0,C=!1;return new Body.Promise((function(v,_){let T;d.timeout&&(T=setTimeout((function(){C=!0,_(new FetchError(`Response timeout while trying to fetch ${d.url} (over ${d.timeout}ms)`,"body-timeout"))}),d.timeout)),m.on("error",(function(m){"AbortError"===m.name?(C=!0,_(m)):_(new FetchError(`Invalid response body while trying to fetch ${d.url}: ${m.message}`,"system",m))})),m.on("data",(function(m){if(!C&&null!==m){if(d.size&&y+m.length>d.size)return C=!0,void _(new FetchError(`content size at ${d.url} over limit: ${d.size}`,"max-size"));y+=m.length,g.push(m)}})),m.on("end",(function(){if(!C){clearTimeout(T);try{v(Buffer.concat(g,y))}catch(m){_(new FetchError(`Could not create Buffer from response body for ${d.url}: ${m.message}`,"system",m))}}}))}))}function isURLSearchParams(d){return"object"==typeof d&&"function"==typeof d.append&&"function"==typeof d.delete&&"function"==typeof d.get&&"function"==typeof d.getAll&&"function"==typeof d.has&&"function"==typeof d.set&&("URLSearchParams"===d.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(d)||"function"==typeof d.sort)}function isBlob(d){return"object"==typeof d&&"function"==typeof d.arrayBuffer&&"string"==typeof d.type&&"function"==typeof d.stream&&"function"==typeof d.constructor&&"string"==typeof d.constructor.name&&/^(Blob|File)$/.test(d.constructor.name)&&/^(Blob|File)$/.test(d[Symbol.toStringTag])}function clone(d){let m,g,y=d.body;if(d.bodyUsed)throw new Error("cannot clone body after it is used");return y instanceof v&&"function"!=typeof y.getBoundary&&(m=new I,g=new I,y.pipe(m),y.pipe(g),d[M].body=m,y=g),y}function extractContentType(d){return null===d?null:"string"==typeof d?"text/plain;charset=UTF-8":isURLSearchParams(d)?"application/x-www-form-urlencoded;charset=UTF-8":isBlob(d)?d.type||null:Buffer.isBuffer(d)||"[object ArrayBuffer]"===Object.prototype.toString.call(d)||ArrayBuffer.isView(d)?null:"function"==typeof d.getBoundary?`multipart/form-data;boundary=${d.getBoundary()}`:d instanceof v?null:"text/plain;charset=UTF-8"}function getTotalBytes(d){const m=d.body;return null===m?0:isBlob(m)?m.size:Buffer.isBuffer(m)?m.length:m&&"function"==typeof m.getLengthSync&&(m._lengthRetrievers&&0==m._lengthRetrievers.length||m.hasKnownLength&&m.hasKnownLength())?m.getLengthSync():null}Body.prototype={get body(){return this[M].body},get bodyUsed(){return this[M].disturbed},arrayBuffer(){return consumeBody.call(this).then((function(d){return d.buffer.slice(d.byteOffset,d.byteOffset+d.byteLength)}))},blob(){let d=this.headers&&this.headers.get("content-type")||"";return consumeBody.call(this).then((function(m){return Object.assign(new Blob([],{type:d.toLowerCase()}),{[P]:m})}))},json(){var d=this;return consumeBody.call(this).then((function(m){try{return JSON.parse(m.toString())}catch(m){return Body.Promise.reject(new FetchError(`invalid json response body at ${d.url} reason: ${m.message}`,"invalid-json"))}}))},text(){return consumeBody.call(this).then((function(d){return d.toString()}))},buffer(){return consumeBody.call(this)},textConverted(){var d=this;return consumeBody.call(this).then((function(m){return function convertBody(d,m){if("function"!=typeof k)throw new Error("The package `encoding` must be installed to use the textConverted() function");const g=m.get("content-type");let v,y,C="utf-8";g&&(v=/charset=([^;]*)/i.exec(g));y=d.slice(0,1024).toString(),!v&&y&&(v=/<meta.+?charset=(['"])(.+?)\1/i.exec(y));!v&&y&&(v=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(y),v||(v=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(y),v&&v.pop()),v&&(v=/charset=(.*)/i.exec(v.pop())));!v&&y&&(v=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(y));v&&(C=v.pop(),"gb2312"!==C&&"gbk"!==C||(C="gb18030"));return k(d,"UTF-8",C).toString()}(m,d.headers)}))}},Object.defineProperties(Body.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),Body.mixIn=function(d){for(const m of Object.getOwnPropertyNames(Body.prototype))if(!(m in d)){const g=Object.getOwnPropertyDescriptor(Body.prototype,m);Object.defineProperty(d,m,g)}},Body.Promise=global.Promise;const O=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,x=/[^\t\x20-\x7e\x80-\xff]/;function validateName(d){if(d=`${d}`,O.test(d)||""===d)throw new TypeError(`${d} is not a legal HTTP header name`)}function validateValue(d){if(d=`${d}`,x.test(d))throw new TypeError(`${d} is not a legal HTTP header value`)}function find(d,m){m=m.toLowerCase();for(const g in d)if(g.toLowerCase()===m)return g}const L=Symbol("map");class Headers{constructor(){let d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[L]=Object.create(null),d instanceof Headers){const m=d.raw(),g=Object.keys(m);for(const d of g)for(const g of m[d])this.append(d,g)}else if(null==d);else{if("object"!=typeof d)throw new TypeError("Provided initializer must be an object");{const m=d[Symbol.iterator];if(null!=m){if("function"!=typeof m)throw new TypeError("Header pairs must be iterable");const g=[];for(const m of d){if("object"!=typeof m||"function"!=typeof m[Symbol.iterator])throw new TypeError("Each header pair must be iterable");g.push(Array.from(m))}for(const d of g){if(2!==d.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(d[0],d[1])}}else for(const m of Object.keys(d)){const g=d[m];this.append(m,g)}}}}get(d){validateName(d=`${d}`);const m=find(this[L],d);return void 0===m?null:this[L][m].join(", ")}forEach(d){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,g=getHeaders(this),v=0;for(;v<g.length;){var y=g[v];const C=y[0],_=y[1];d.call(m,_,C,this),g=getHeaders(this),v++}}set(d,m){m=`${m}`,validateName(d=`${d}`),validateValue(m);const g=find(this[L],d);this[L][void 0!==g?g:d]=[m]}append(d,m){m=`${m}`,validateName(d=`${d}`),validateValue(m);const g=find(this[L],d);void 0!==g?this[L][g].push(m):this[L][d]=[m]}has(d){return validateName(d=`${d}`),void 0!==find(this[L],d)}delete(d){validateName(d=`${d}`);const m=find(this[L],d);void 0!==m&&delete this[L][m]}raw(){return this[L]}keys(){return createHeadersIterator(this,"key")}values(){return createHeadersIterator(this,"value")}[Symbol.iterator](){return createHeadersIterator(this,"key+value")}}function getHeaders(d){let m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";const g=Object.keys(d[L]).sort();return g.map("key"===m?function(d){return d.toLowerCase()}:"value"===m?function(m){return d[L][m].join(", ")}:function(m){return[m.toLowerCase(),d[L][m].join(", ")]})}Headers.prototype.entries=Headers.prototype[Symbol.iterator],Object.defineProperty(Headers.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(Headers.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const U=Symbol("internal");function createHeadersIterator(d,m){const g=Object.create(j);return g[U]={target:d,kind:m,index:0},g}const j=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==j)throw new TypeError("Value of `this` is not a HeadersIterator");var d=this[U];const m=d.target,g=d.kind,v=d.index,y=getHeaders(m,g);return v>=y.length?{value:void 0,done:!0}:(this[U].index=v+1,{value:y[v],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function exportNodeCompatibleHeaders(d){const m=Object.assign({__proto__:null},d[L]),g=find(d[L],"Host");return void 0!==g&&(m[g]=m[g][0]),m}Object.defineProperty(j,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const B=Symbol("Response internals"),V=y.STATUS_CODES;class Response{constructor(){let d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Body.call(this,d,m);const g=m.status||200,v=new Headers(m.headers);if(null!=d&&!v.has("Content-Type")){const m=extractContentType(d);m&&v.append("Content-Type",m)}this[B]={url:m.url,status:g,statusText:m.statusText||V[g],headers:v,counter:m.counter}}get url(){return this[B].url||""}get status(){return this[B].status}get ok(){return this[B].status>=200&&this[B].status<300}get redirected(){return this[B].counter>0}get statusText(){return this[B].statusText}get headers(){return this[B].headers}clone(){return new Response(clone(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}Body.mixIn(Response.prototype),Object.defineProperties(Response.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(Response.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const $=Symbol("Request internals"),q=C.URL||_.URL,Y=C.parse,z=C.format;function parseURL(d){return/^[a-zA-Z][a-zA-Z\d+\-.]*:/.exec(d)&&(d=new q(d).toString()),Y(d)}const G="destroy"in v.Readable.prototype;function isRequest(d){return"object"==typeof d&&"object"==typeof d[$]}class Request{constructor(d){let m,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};isRequest(d)?m=parseURL(d.url):(m=d&&d.href?parseURL(d.href):parseURL(`${d}`),d={});let v=g.method||d.method||"GET";if(v=v.toUpperCase(),(null!=g.body||isRequest(d)&&null!==d.body)&&("GET"===v||"HEAD"===v))throw new TypeError("Request with GET/HEAD method cannot have body");let y=null!=g.body?g.body:isRequest(d)&&null!==d.body?clone(d):null;Body.call(this,y,{timeout:g.timeout||d.timeout||0,size:g.size||d.size||0});const C=new Headers(g.headers||d.headers||{});if(null!=y&&!C.has("Content-Type")){const d=extractContentType(y);d&&C.append("Content-Type",d)}let _=isRequest(d)?d.signal:null;if("signal"in g&&(_=g.signal),null!=_&&!function isAbortSignal(d){const m=d&&"object"==typeof d&&Object.getPrototypeOf(d);return!(!m||"AbortSignal"!==m.constructor.name)}(_))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[$]={method:v,redirect:g.redirect||d.redirect||"follow",headers:C,parsedURL:m,signal:_},this.follow=void 0!==g.follow?g.follow:void 0!==d.follow?d.follow:20,this.compress=void 0!==g.compress?g.compress:void 0===d.compress||d.compress,this.counter=g.counter||d.counter||0,this.agent=g.agent||d.agent}get method(){return this[$].method}get url(){return z(this[$].parsedURL)}get headers(){return this[$].headers}get redirect(){return this[$].redirect}get signal(){return this[$].signal}clone(){return new Request(this)}}function AbortError(d){Error.call(this,d),this.type="aborted",this.message=d,Error.captureStackTrace(this,this.constructor)}Body.mixIn(Request.prototype),Object.defineProperty(Request.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(Request.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),AbortError.prototype=Object.create(Error.prototype),AbortError.prototype.constructor=AbortError,AbortError.prototype.name="AbortError";const J=C.URL||_.URL,X=v.PassThrough;function fetch(d,m){if(!fetch.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return Body.Promise=fetch.Promise,new fetch.Promise((function(g,C){const _=new Request(d,m),A=function getNodeRequestOptions(d){const m=d[$].parsedURL,g=new Headers(d[$].headers);if(g.has("Accept")||g.set("Accept","*/*"),!m.protocol||!m.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(m.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(d.signal&&d.body instanceof v.Readable&&!G)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let y=null;if(null==d.body&&/^(POST|PUT)$/i.test(d.method)&&(y="0"),null!=d.body){const m=getTotalBytes(d);"number"==typeof m&&(y=String(m))}y&&g.set("Content-Length",y),g.has("User-Agent")||g.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),d.compress&&!g.has("Accept-Encoding")&&g.set("Accept-Encoding","gzip,deflate");let C=d.agent;return"function"==typeof C&&(C=C(m)),g.has("Connection")||C||g.set("Connection","close"),Object.assign({},m,{method:d.method,headers:exportNodeCompatibleHeaders(g),agent:C})}(_),P=("https:"===A.protocol?T:y).request,R=_.signal;let k=null;const M=function abort(){let d=new AbortError("The user aborted a request.");C(d),_.body&&_.body instanceof v.Readable&&_.body.destroy(d),k&&k.body&&k.body.emit("error",d)};if(R&&R.aborted)return void M();const I=function abortAndFinalize(){M(),finalize()},U=P(A);let j;function finalize(){U.abort(),R&&R.removeEventListener("abort",I),clearTimeout(j)}R&&R.addEventListener("abort",I),_.timeout&&U.once("socket",(function(d){j=setTimeout((function(){C(new FetchError(`network timeout at: ${_.url}`,"request-timeout")),finalize()}),_.timeout)})),U.on("error",(function(d){C(new FetchError(`request to ${_.url} failed, reason: ${d.message}`,"system",d)),finalize()})),U.on("response",(function(d){clearTimeout(j);const m=function createHeadersLenient(d){const m=new Headers;for(const g of Object.keys(d))if(!O.test(g))if(Array.isArray(d[g]))for(const v of d[g])x.test(v)||(void 0===m[L][g]?m[L][g]=[v]:m[L][g].push(v));else x.test(d[g])||(m[L][g]=[d[g]]);return m}(d.headers);if(fetch.isRedirect(d.statusCode)){const v=m.get("Location");let y=null;try{y=null===v?null:new J(v,_.url).toString()}catch(d){if("manual"!==_.redirect)return C(new FetchError(`uri requested responds with an invalid redirect URL: ${v}`,"invalid-redirect")),void finalize()}switch(_.redirect){case"error":return C(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${_.url}`,"no-redirect")),void finalize();case"manual":if(null!==y)try{m.set("Location",y)}catch(d){C(d)}break;case"follow":if(null===y)break;if(_.counter>=_.follow)return C(new FetchError(`maximum redirect reached at: ${_.url}`,"max-redirect")),void finalize();const v={headers:new Headers(_.headers),follow:_.follow,counter:_.counter+1,agent:_.agent,compress:_.compress,method:_.method,body:_.body,signal:_.signal,timeout:_.timeout,size:_.size};if(!function isDomainOrSubdomain(d,m){const g=new J(m).hostname,v=new J(d).hostname;return g===v||"."===g[g.length-v.length-1]&&g.endsWith(v)}(_.url,y))for(const d of["authorization","www-authenticate","cookie","cookie2"])v.headers.delete(d);return 303!==d.statusCode&&_.body&&null===getTotalBytes(_)?(C(new FetchError("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void finalize()):(303!==d.statusCode&&(301!==d.statusCode&&302!==d.statusCode||"POST"!==_.method)||(v.method="GET",v.body=void 0,v.headers.delete("content-length")),g(fetch(new Request(y,v))),void finalize())}}d.once("end",(function(){R&&R.removeEventListener("abort",I)}));let v=d.pipe(new X);const y={url:_.url,status:d.statusCode,statusText:d.statusMessage,headers:m,size:_.size,timeout:_.timeout,counter:_.counter},T=m.get("Content-Encoding");if(!_.compress||"HEAD"===_.method||null===T||204===d.statusCode||304===d.statusCode)return k=new Response(v,y),void g(k);const A={flush:b.Z_SYNC_FLUSH,finishFlush:b.Z_SYNC_FLUSH};if("gzip"==T||"x-gzip"==T)return v=v.pipe(b.createGunzip(A)),k=new Response(v,y),void g(k);if("deflate"!=T&&"x-deflate"!=T){if("br"==T&&"function"==typeof b.createBrotliDecompress)return v=v.pipe(b.createBrotliDecompress()),k=new Response(v,y),void g(k);k=new Response(v,y),g(k)}else{d.pipe(new X).once("data",(function(d){v=8==(15&d[0])?v.pipe(b.createInflate()):v.pipe(b.createInflateRaw()),k=new Response(v,y),g(k)}))}})),function writeToStream(d,m){const g=m.body;null===g?d.end():isBlob(g)?g.stream().pipe(d):Buffer.isBuffer(g)?(d.write(g),d.end()):g.pipe(d)}(U,_)}))}fetch.isRedirect=function(d){return 301===d||302===d||303===d||307===d||308===d},fetch.Promise=global.Promise;const te=fetch;var re=g(28359);const ie={fetch:void 0,Request:void 0,AbortController:void 0},{fetch:se,Request:oe,AbortController:ae}="undefined"!=typeof self?self:"undefined"!=typeof window?window:ie;var ce=null!=se?se:te,le=null!=oe?oe:Request,de=null!=ae?ae:re.AbortController;function toAbortSignal(d){const m=new de;d.isCancellationRequested&&m.abort();const g=null==d?void 0:d.onCancellationRequested((()=>{g.dispose(),m.abort()}));return m.signal}var he=g(87091);function createTimeoutTokenSource(d){const m=new he.CancellationTokenSource,g=setTimeout((()=>{m.cancel()}),d);return{cancel:m.cancel.bind(m),dispose(){clearTimeout(g),m.dispose()},token:m.token}}class HttpError extends Error{constructor(){super(...arguments),this.errorType="HttpError"}}class HttpClientError extends HttpError{constructor(d){if(super(d),this.errorType="HttpClientError",d instanceof HttpClientError)return d;let m;m=d instanceof Error?d.message:"string"==typeof d?d:"",this.message=m,this.name="HttpClientError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,HttpClientError)}}class HttpClientAuthenticationError extends HttpError{constructor(d){super(`Request failed with status code ${d.status}.`),this.response=d,this.errorType="HttpClientAuthenticationError",this.name="HttpClientAuthenticationError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,HttpClientAuthenticationError)}}class HttpClientResponseError extends HttpError{constructor(d){super(`Request failed with status code ${d.status}.`),this.response=d,this.errorType="HttpClientResponseError",this.name="HttpClientResponseError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,HttpClientResponseError)}}class HttpCancellationError extends HttpError{constructor(d){super(d),this.errorType="HttpCancellationError",this.name="CancellationError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,HttpCancellationError)}}class FetchRequest{constructor(d,m,g,v,y){var C;this.logger=d,this.configuration=m,this.request=g,this.init=v,this.cancellationToken=y,this.retry=0,this.input=this.request instanceof URL?this.request.toString():this.request;let _="GET";"string"!=typeof this.input&&(_=this.input.method),(null===(C=this.init)||void 0===C?void 0:C.method)&&(_=this.init.method),this.method=_,this.url="string"==typeof this.input?this.input:this.input.url}then(d,m){return this.fetch().then(d,m)}async text(){const d=await this.fetchWithCancellationCheck();return await d.text()}async json(){const d=await this.fetchWithCancellationCheck();return await d.json()}async arrayBuffer(){const d=await this.fetchWithCancellationCheck();return await d.arrayBuffer()}async blob(){const d=await this.fetchWithCancellationCheck();return await d.blob()}async formData(){const d=await this.fetchWithCancellationCheck();return await d.formData()}async value(){return await this.json()}async fetch(){var d;if(this.logger.verbose(`${this.method} - fetch start`),null===(d=this.cancellationToken)||void 0===d?void 0:d.isCancellationRequested)throw new HttpCancellationError;const m=await this.prepareRequest();return this.ongoingPromise=this.retryRequest(m),await this.ongoingPromise}async fetchWithCancellationCheck(){var d;const m=await this.fetch();if(null===(d=this.cancellationToken)||void 0===d?void 0:d.isCancellationRequested)throw new HttpCancellationError;return m}async makeRequest(d){let m;try{m=await ce(d),this.logger.verbose(`${this.method} - fetch response. (url=${this.url};status=${m.status})`)}catch(d){if("AbortError"===d.name)throw this.logger.verbose(`${this.method} - fetch cancelled. (url=${this.url};cancelled=true)`),new HttpCancellationError(d.message);throw this.logger.verbose(`${this.method} - fetch failed. (url=${this.url};reason=${d.message};failed=true)`),new HttpClientError(d)}if(this.configuration.throwOnErrorStatus&&(401===m.status||403===m.status))throw new HttpClientAuthenticationError(m);if(this.configuration.throwOnErrorStatus&&!m.ok)throw new HttpClientResponseError(m);return m}async retryRequest(d){try{return await this.makeRequest(d)}catch(m){if(!this.shouldRetry(m))throw m;const g=await this.prepareRetryRequest(d,m.response);return await this.delayRetry(m),this.retry++,await this.retryRequest(g)}}shouldRetry(d){return!(this.retry>=this.configuration.retryCount)&&!!(d instanceof HttpClientResponseError&&d.response&&this.configuration.retryStatusCodes.includes(d.response.status))}delayRetry(d){let m=1e3*this.retry;if(d instanceof HttpClientResponseError){const g=d.response.headers.get("Retry-After");if(null!==g){let d=Number(g);isNaN(d)?d=Math.max(Date.parse(g)-Date.now(),0):d*=1e3,isNaN(d)||(m=Math.max(m,d))}}return new Promise((d=>{setTimeout(d,m)}))}async prepareRequest(){var d;let m=new le(this.input,Object.assign({credentials:"same-origin"},this.init));this.configuration.beforeRequest&&(m=await this.configuration.beforeRequest(m));const g=null!==(d=this.cancellationToken)&&void 0!==d?d:createTimeoutTokenSource(this.configuration.timeout).token;return new le(m,{signal:toAbortSignal(g)})}async prepareRetryRequest(d,m){var g;let v=d;if(this.configuration.beforeRetry){const g=await this.configuration.beforeRetry(d,m,this.retry);Array.isArray(g)?(this.retry=g[1],v=g[0]):v=g}const y=null!==(g=this.cancellationToken)&&void 0!==g?g:createTimeoutTokenSource(this.configuration.timeout).token;return new le(v,{signal:toAbortSignal(y)})}}const pe={requestNumber:1},me={timeout:3e4,throwOnErrorStatus:!0,beforeRequest:void 0,beforeRetry:void 0,retryCount:2,retryStatusCodes:[429,500,503]};class HttpClient{constructor(d,m={}){this.logger=d,this.configuration=Object.assign(Object.assign({},me),m)}fetch(d,m,g){return new FetchRequest(this.logger.withName("FetchRequest:"+pe.requestNumber++),this.configuration,d,m,g)}method(d,m,g,v){return this.fetch(m,Object.assign(Object.assign({},g),{method:d}),v)}get(d,m,g){return this.method("GET",d,m,g)}post(d,m,g){return this.method("POST",d,m,g)}put(d,m,g){return this.method("PUT",d,m,g)}patch(d,m,g){return this.method("PATCH",d,m,g)}head(d,m,g){return this.method("HEAD",d,m,g)}delete(d,m,g){return this.method("DELETE",d,m,g)}}},61822:(d,m,g)=>{"use strict";const v=g(5168),y=Symbol("max"),C=Symbol("length"),_=Symbol("lengthCalculator"),T=Symbol("allowStale"),b=Symbol("maxAge"),A=Symbol("dispose"),P=Symbol("noDisposeOnSet"),R=Symbol("lruList"),k=Symbol("cache"),M=Symbol("updateAgeOnGet"),naiveLength=()=>1;const get=(d,m,g)=>{const v=d[k].get(m);if(v){const m=v.value;if(isStale(d,m)){if(del(d,v),!d[T])return}else g&&(d[M]&&(v.value.now=Date.now()),d[R].unshiftNode(v));return m.value}},isStale=(d,m)=>{if(!m||!m.maxAge&&!d[b])return!1;const g=Date.now()-m.now;return m.maxAge?g>m.maxAge:d[b]&&g>d[b]},trim=d=>{if(d[C]>d[y])for(let m=d[R].tail;d[C]>d[y]&&null!==m;){const g=m.prev;del(d,m),m=g}},del=(d,m)=>{if(m){const g=m.value;d[A]&&d[A](g.key,g.value),d[C]-=g.length,d[k].delete(g.key),d[R].removeNode(m)}};class Entry{constructor(d,m,g,v,y){this.key=d,this.value=m,this.length=g,this.now=v,this.maxAge=y||0}}const forEachStep=(d,m,g,v)=>{let y=g.value;isStale(d,y)&&(del(d,g),d[T]||(y=void 0)),y&&m.call(v,y.value,y.key,d)};d.exports=class LRUCache{constructor(d){if("number"==typeof d&&(d={max:d}),d||(d={}),d.max&&("number"!=typeof d.max||d.max<0))throw new TypeError("max must be a non-negative number");this[y]=d.max||1/0;const m=d.length||naiveLength;if(this[_]="function"!=typeof m?naiveLength:m,this[T]=d.stale||!1,d.maxAge&&"number"!=typeof d.maxAge)throw new TypeError("maxAge must be a number");this[b]=d.maxAge||0,this[A]=d.dispose,this[P]=d.noDisposeOnSet||!1,this[M]=d.updateAgeOnGet||!1,this.reset()}set max(d){if("number"!=typeof d||d<0)throw new TypeError("max must be a non-negative number");this[y]=d||1/0,trim(this)}get max(){return this[y]}set allowStale(d){this[T]=!!d}get allowStale(){return this[T]}set maxAge(d){if("number"!=typeof d)throw new TypeError("maxAge must be a non-negative number");this[b]=d,trim(this)}get maxAge(){return this[b]}set lengthCalculator(d){"function"!=typeof d&&(d=naiveLength),d!==this[_]&&(this[_]=d,this[C]=0,this[R].forEach((d=>{d.length=this[_](d.value,d.key),this[C]+=d.length}))),trim(this)}get lengthCalculator(){return this[_]}get length(){return this[C]}get itemCount(){return this[R].length}rforEach(d,m){m=m||this;for(let g=this[R].tail;null!==g;){const v=g.prev;forEachStep(this,d,g,m),g=v}}forEach(d,m){m=m||this;for(let g=this[R].head;null!==g;){const v=g.next;forEachStep(this,d,g,m),g=v}}keys(){return this[R].toArray().map((d=>d.key))}values(){return this[R].toArray().map((d=>d.value))}reset(){this[A]&&this[R]&&this[R].length&&this[R].forEach((d=>this[A](d.key,d.value))),this[k]=new Map,this[R]=new v,this[C]=0}dump(){return this[R].map((d=>!isStale(this,d)&&{k:d.key,v:d.value,e:d.now+(d.maxAge||0)})).toArray().filter((d=>d))}dumpLru(){return this[R]}set(d,m,g){if((g=g||this[b])&&"number"!=typeof g)throw new TypeError("maxAge must be a number");const v=g?Date.now():0,T=this[_](m,d);if(this[k].has(d)){if(T>this[y])return del(this,this[k].get(d)),!1;const _=this[k].get(d).value;return this[A]&&(this[P]||this[A](d,_.value)),_.now=v,_.maxAge=g,_.value=m,this[C]+=T-_.length,_.length=T,this.get(d),trim(this),!0}const M=new Entry(d,m,T,v,g);return M.length>this[y]?(this[A]&&this[A](d,m),!1):(this[C]+=M.length,this[R].unshift(M),this[k].set(d,this[R].head),trim(this),!0)}has(d){if(!this[k].has(d))return!1;const m=this[k].get(d).value;return!isStale(this,m)}get(d){return get(this,d,!0)}peek(d){return get(this,d,!1)}pop(){const d=this[R].tail;return d?(del(this,d),d.value):null}del(d){del(this,this[k].get(d))}load(d){this.reset();const m=Date.now();for(let g=d.length-1;g>=0;g--){const v=d[g],y=v.e||0;if(0===y)this.set(v.k,v.v);else{const d=y-m;d>0&&this.set(v.k,v.v,d)}}}prune(){this[k].forEach(((d,m)=>get(this,m,!1)))}}},92829:(d,m,g)=>{const v=Symbol("SemVer ANY");class Comparator{static get ANY(){return v}constructor(d,m){if(m=y(m),d instanceof Comparator){if(d.loose===!!m.loose)return d;d=d.value}b("comparator",d,m),this.options=m,this.loose=!!m.loose,this.parse(d),this.semver===v?this.value="":this.value=this.operator+this.semver.version,b("comp",this)}parse(d){const m=this.options.loose?C[_.COMPARATORLOOSE]:C[_.COMPARATOR],g=d.match(m);if(!g)throw new TypeError(`Invalid comparator: ${d}`);this.operator=void 0!==g[1]?g[1]:"","="===this.operator&&(this.operator=""),g[2]?this.semver=new A(g[2],this.options.loose):this.semver=v}toString(){return this.value}test(d){if(b("Comparator.test",d,this.options.loose),this.semver===v||d===v)return!0;if("string"==typeof d)try{d=new A(d,this.options)}catch(d){return!1}return T(d,this.operator,this.semver,this.options)}intersects(d,m){if(!(d instanceof Comparator))throw new TypeError("a Comparator is required");if(m&&"object"==typeof m||(m={loose:!!m,includePrerelease:!1}),""===this.operator)return""===this.value||new P(d.value,m).test(this.value);if(""===d.operator)return""===d.value||new P(this.value,m).test(d.semver);const g=!(">="!==this.operator&&">"!==this.operator||">="!==d.operator&&">"!==d.operator),v=!("<="!==this.operator&&"<"!==this.operator||"<="!==d.operator&&"<"!==d.operator),y=this.semver.version===d.semver.version,C=!(">="!==this.operator&&"<="!==this.operator||">="!==d.operator&&"<="!==d.operator),_=T(this.semver,"<",d.semver,m)&&(">="===this.operator||">"===this.operator)&&("<="===d.operator||"<"===d.operator),b=T(this.semver,">",d.semver,m)&&("<="===this.operator||"<"===this.operator)&&(">="===d.operator||">"===d.operator);return g||v||y&&C||_||b}}d.exports=Comparator;const y=g(80970),{re:C,t:_}=g(67912),T=g(92230),b=g(13591),A=g(87351),P=g(477)},477:(d,m,g)=>{class Range{constructor(d,m){if(m=y(m),d instanceof Range)return d.loose===!!m.loose&&d.includePrerelease===!!m.includePrerelease?d:new Range(d.raw,m);if(d instanceof C)return this.raw=d.value,this.set=[[d]],this.format(),this;if(this.options=m,this.loose=!!m.loose,this.includePrerelease=!!m.includePrerelease,this.raw=d,this.set=d.split("||").map((d=>this.parseRange(d.trim()))).filter((d=>d.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${d}`);if(this.set.length>1){const d=this.set[0];if(this.set=this.set.filter((d=>!isNullSet(d[0]))),0===this.set.length)this.set=[d];else if(this.set.length>1)for(const d of this.set)if(1===d.length&&isAny(d[0])){this.set=[d];break}}this.format()}format(){return this.range=this.set.map((d=>d.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(d){d=d.trim();const m=`parseRange:${Object.keys(this.options).join(",")}:${d}`,g=v.get(m);if(g)return g;const y=this.options.loose,T=y?b[A.HYPHENRANGELOOSE]:b[A.HYPHENRANGE];d=d.replace(T,hyphenReplace(this.options.includePrerelease)),_("hyphen replace",d),d=d.replace(b[A.COMPARATORTRIM],P),_("comparator trim",d);let M=(d=(d=(d=d.replace(b[A.TILDETRIM],R)).replace(b[A.CARETTRIM],k)).split(/\s+/).join(" ")).split(" ").map((d=>parseComparator(d,this.options))).join(" ").split(/\s+/).map((d=>replaceGTE0(d,this.options)));y&&(M=M.filter((d=>(_("loose invalid filter",d,this.options),!!d.match(b[A.COMPARATORLOOSE]))))),_("range list",M);const I=new Map,O=M.map((d=>new C(d,this.options)));for(const d of O){if(isNullSet(d))return[d];I.set(d.value,d)}I.size>1&&I.has("")&&I.delete("");const x=[...I.values()];return v.set(m,x),x}intersects(d,m){if(!(d instanceof Range))throw new TypeError("a Range is required");return this.set.some((g=>isSatisfiable(g,m)&&d.set.some((d=>isSatisfiable(d,m)&&g.every((g=>d.every((d=>g.intersects(d,m)))))))))}test(d){if(!d)return!1;if("string"==typeof d)try{d=new T(d,this.options)}catch(d){return!1}for(let m=0;m<this.set.length;m++)if(testSet(this.set[m],d,this.options))return!0;return!1}}d.exports=Range;const v=new(g(61822))({max:1e3}),y=g(80970),C=g(92829),_=g(13591),T=g(87351),{re:b,t:A,comparatorTrimReplace:P,tildeTrimReplace:R,caretTrimReplace:k}=g(67912),isNullSet=d=>"<0.0.0-0"===d.value,isAny=d=>""===d.value,isSatisfiable=(d,m)=>{let g=!0;const v=d.slice();let y=v.pop();for(;g&&v.length;)g=v.every((d=>y.intersects(d,m))),y=v.pop();return g},parseComparator=(d,m)=>(_("comp",d,m),d=replaceCarets(d,m),_("caret",d),d=replaceTildes(d,m),_("tildes",d),d=replaceXRanges(d,m),_("xrange",d),d=replaceStars(d,m),_("stars",d),d),isX=d=>!d||"x"===d.toLowerCase()||"*"===d,replaceTildes=(d,m)=>d.trim().split(/\s+/).map((d=>replaceTilde(d,m))).join(" "),replaceTilde=(d,m)=>{const g=m.loose?b[A.TILDELOOSE]:b[A.TILDE];return d.replace(g,((m,g,v,y,C)=>{let T;return _("tilde",d,m,g,v,y,C),isX(g)?T="":isX(v)?T=`>=${g}.0.0 <${+g+1}.0.0-0`:isX(y)?T=`>=${g}.${v}.0 <${g}.${+v+1}.0-0`:C?(_("replaceTilde pr",C),T=`>=${g}.${v}.${y}-${C} <${g}.${+v+1}.0-0`):T=`>=${g}.${v}.${y} <${g}.${+v+1}.0-0`,_("tilde return",T),T}))},replaceCarets=(d,m)=>d.trim().split(/\s+/).map((d=>replaceCaret(d,m))).join(" "),replaceCaret=(d,m)=>{_("caret",d,m);const g=m.loose?b[A.CARETLOOSE]:b[A.CARET],v=m.includePrerelease?"-0":"";return d.replace(g,((m,g,y,C,T)=>{let b;return _("caret",d,m,g,y,C,T),isX(g)?b="":isX(y)?b=`>=${g}.0.0${v} <${+g+1}.0.0-0`:isX(C)?b="0"===g?`>=${g}.${y}.0${v} <${g}.${+y+1}.0-0`:`>=${g}.${y}.0${v} <${+g+1}.0.0-0`:T?(_("replaceCaret pr",T),b="0"===g?"0"===y?`>=${g}.${y}.${C}-${T} <${g}.${y}.${+C+1}-0`:`>=${g}.${y}.${C}-${T} <${g}.${+y+1}.0-0`:`>=${g}.${y}.${C}-${T} <${+g+1}.0.0-0`):(_("no pr"),b="0"===g?"0"===y?`>=${g}.${y}.${C}${v} <${g}.${y}.${+C+1}-0`:`>=${g}.${y}.${C}${v} <${g}.${+y+1}.0-0`:`>=${g}.${y}.${C} <${+g+1}.0.0-0`),_("caret return",b),b}))},replaceXRanges=(d,m)=>(_("replaceXRanges",d,m),d.split(/\s+/).map((d=>replaceXRange(d,m))).join(" ")),replaceXRange=(d,m)=>{d=d.trim();const g=m.loose?b[A.XRANGELOOSE]:b[A.XRANGE];return d.replace(g,((g,v,y,C,T,b)=>{_("xRange",d,g,v,y,C,T,b);const A=isX(y),P=A||isX(C),R=P||isX(T),k=R;return"="===v&&k&&(v=""),b=m.includePrerelease?"-0":"",A?g=">"===v||"<"===v?"<0.0.0-0":"*":v&&k?(P&&(C=0),T=0,">"===v?(v=">=",P?(y=+y+1,C=0,T=0):(C=+C+1,T=0)):"<="===v&&(v="<",P?y=+y+1:C=+C+1),"<"===v&&(b="-0"),g=`${v+y}.${C}.${T}${b}`):P?g=`>=${y}.0.0${b} <${+y+1}.0.0-0`:R&&(g=`>=${y}.${C}.0${b} <${y}.${+C+1}.0-0`),_("xRange return",g),g}))},replaceStars=(d,m)=>(_("replaceStars",d,m),d.trim().replace(b[A.STAR],"")),replaceGTE0=(d,m)=>(_("replaceGTE0",d,m),d.trim().replace(b[m.includePrerelease?A.GTE0PRE:A.GTE0],"")),hyphenReplace=d=>(m,g,v,y,C,_,T,b,A,P,R,k,M)=>`${g=isX(v)?"":isX(y)?`>=${v}.0.0${d?"-0":""}`:isX(C)?`>=${v}.${y}.0${d?"-0":""}`:_?`>=${g}`:`>=${g}${d?"-0":""}`} ${b=isX(A)?"":isX(P)?`<${+A+1}.0.0-0`:isX(R)?`<${A}.${+P+1}.0-0`:k?`<=${A}.${P}.${R}-${k}`:d?`<${A}.${P}.${+R+1}-0`:`<=${b}`}`.trim(),testSet=(d,m,g)=>{for(let g=0;g<d.length;g++)if(!d[g].test(m))return!1;if(m.prerelease.length&&!g.includePrerelease){for(let g=0;g<d.length;g++)if(_(d[g].semver),d[g].semver!==C.ANY&&d[g].semver.prerelease.length>0){const v=d[g].semver;if(v.major===m.major&&v.minor===m.minor&&v.patch===m.patch)return!0}return!1}return!0}},87351:(d,m,g)=>{const v=g(13591),{MAX_LENGTH:y,MAX_SAFE_INTEGER:C}=g(73477),{re:_,t:T}=g(67912),b=g(80970),{compareIdentifiers:A}=g(35434);class SemVer{constructor(d,m){if(m=b(m),d instanceof SemVer){if(d.loose===!!m.loose&&d.includePrerelease===!!m.includePrerelease)return d;d=d.version}else if("string"!=typeof d)throw new TypeError(`Invalid Version: ${d}`);if(d.length>y)throw new TypeError(`version is longer than ${y} characters`);v("SemVer",d,m),this.options=m,this.loose=!!m.loose,this.includePrerelease=!!m.includePrerelease;const g=d.trim().match(m.loose?_[T.LOOSE]:_[T.FULL]);if(!g)throw new TypeError(`Invalid Version: ${d}`);if(this.raw=d,this.major=+g[1],this.minor=+g[2],this.patch=+g[3],this.major>C||this.major<0)throw new TypeError("Invalid major version");if(this.minor>C||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>C||this.patch<0)throw new TypeError("Invalid patch version");g[4]?this.prerelease=g[4].split(".").map((d=>{if(/^[0-9]+$/.test(d)){const m=+d;if(m>=0&&m<C)return m}return d})):this.prerelease=[],this.build=g[5]?g[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(d){if(v("SemVer.compare",this.version,this.options,d),!(d instanceof SemVer)){if("string"==typeof d&&d===this.version)return 0;d=new SemVer(d,this.options)}return d.version===this.version?0:this.compareMain(d)||this.comparePre(d)}compareMain(d){return d instanceof SemVer||(d=new SemVer(d,this.options)),A(this.major,d.major)||A(this.minor,d.minor)||A(this.patch,d.patch)}comparePre(d){if(d instanceof SemVer||(d=new SemVer(d,this.options)),this.prerelease.length&&!d.prerelease.length)return-1;if(!this.prerelease.length&&d.prerelease.length)return 1;if(!this.prerelease.length&&!d.prerelease.length)return 0;let m=0;do{const g=this.prerelease[m],y=d.prerelease[m];if(v("prerelease compare",m,g,y),void 0===g&&void 0===y)return 0;if(void 0===y)return 1;if(void 0===g)return-1;if(g!==y)return A(g,y)}while(++m)}compareBuild(d){d instanceof SemVer||(d=new SemVer(d,this.options));let m=0;do{const g=this.build[m],y=d.build[m];if(v("prerelease compare",m,g,y),void 0===g&&void 0===y)return 0;if(void 0===y)return 1;if(void 0===g)return-1;if(g!==y)return A(g,y)}while(++m)}inc(d,m){switch(d){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",m);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",m);break;case"prepatch":this.prerelease.length=0,this.inc("patch",m),this.inc("pre",m);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",m),this.inc("pre",m);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let d=this.prerelease.length;for(;--d>=0;)"number"==typeof this.prerelease[d]&&(this.prerelease[d]++,d=-2);-1===d&&this.prerelease.push(0)}m&&(0===A(this.prerelease[0],m)?isNaN(this.prerelease[1])&&(this.prerelease=[m,0]):this.prerelease=[m,0]);break;default:throw new Error(`invalid increment argument: ${d}`)}return this.format(),this.raw=this.version,this}}d.exports=SemVer},99895:(d,m,g)=>{const v=g(34480);d.exports=(d,m)=>{const g=v(d.trim().replace(/^[=v]+/,""),m);return g?g.version:null}},92230:(d,m,g)=>{const v=g(19451),y=g(55423),C=g(3588),_=g(68471),T=g(88559),b=g(72976);d.exports=(d,m,g,A)=>{switch(m){case"===":return"object"==typeof d&&(d=d.version),"object"==typeof g&&(g=g.version),d===g;case"!==":return"object"==typeof d&&(d=d.version),"object"==typeof g&&(g=g.version),d!==g;case"":case"=":case"==":return v(d,g,A);case"!=":return y(d,g,A);case">":return C(d,g,A);case">=":return _(d,g,A);case"<":return T(d,g,A);case"<=":return b(d,g,A);default:throw new TypeError(`Invalid operator: ${m}`)}}},35228:(d,m,g)=>{const v=g(87351),y=g(34480),{re:C,t:_}=g(67912);d.exports=(d,m)=>{if(d instanceof v)return d;if("number"==typeof d&&(d=String(d)),"string"!=typeof d)return null;let g=null;if((m=m||{}).rtl){let m;for(;(m=C[_.COERCERTL].exec(d))&&(!g||g.index+g[0].length!==d.length);)g&&m.index+m[0].length===g.index+g[0].length||(g=m),C[_.COERCERTL].lastIndex=m.index+m[1].length+m[2].length;C[_.COERCERTL].lastIndex=-1}else g=d.match(C[_.COERCE]);return null===g?null:y(`${g[2]}.${g[3]||"0"}.${g[4]||"0"}`,m)}},11047:(d,m,g)=>{const v=g(87351);d.exports=(d,m,g)=>{const y=new v(d,g),C=new v(m,g);return y.compare(C)||y.compareBuild(C)}},75398:(d,m,g)=>{const v=g(75444);d.exports=(d,m)=>v(d,m,!0)},75444:(d,m,g)=>{const v=g(87351);d.exports=(d,m,g)=>new v(d,g).compare(new v(m,g))},66338:(d,m,g)=>{const v=g(34480),y=g(19451);d.exports=(d,m)=>{if(y(d,m))return null;{const g=v(d),y=v(m),C=g.prerelease.length||y.prerelease.length,_=C?"pre":"",T=C?"prerelease":"";for(const d in g)if(("major"===d||"minor"===d||"patch"===d)&&g[d]!==y[d])return _+d;return T}}},19451:(d,m,g)=>{const v=g(75444);d.exports=(d,m,g)=>0===v(d,m,g)},3588:(d,m,g)=>{const v=g(75444);d.exports=(d,m,g)=>v(d,m,g)>0},68471:(d,m,g)=>{const v=g(75444);d.exports=(d,m,g)=>v(d,m,g)>=0},86919:(d,m,g)=>{const v=g(87351);d.exports=(d,m,g,y)=>{"string"==typeof g&&(y=g,g=void 0);try{return new v(d instanceof v?d.version:d,g).inc(m,y).version}catch(d){return null}}},88559:(d,m,g)=>{const v=g(75444);d.exports=(d,m,g)=>v(d,m,g)<0},72976:(d,m,g)=>{const v=g(75444);d.exports=(d,m,g)=>v(d,m,g)<=0},99200:(d,m,g)=>{const v=g(87351);d.exports=(d,m)=>new v(d,m).major},96070:(d,m,g)=>{const v=g(87351);d.exports=(d,m)=>new v(d,m).minor},55423:(d,m,g)=>{const v=g(75444);d.exports=(d,m,g)=>0!==v(d,m,g)},34480:(d,m,g)=>{const{MAX_LENGTH:v}=g(73477),{re:y,t:C}=g(67912),_=g(87351),T=g(80970);d.exports=(d,m)=>{if(m=T(m),d instanceof _)return d;if("string"!=typeof d)return null;if(d.length>v)return null;if(!(m.loose?y[C.LOOSE]:y[C.FULL]).test(d))return null;try{return new _(d,m)}catch(d){return null}}},30107:(d,m,g)=>{const v=g(87351);d.exports=(d,m)=>new v(d,m).patch},76107:(d,m,g)=>{const v=g(34480);d.exports=(d,m)=>{const g=v(d,m);return g&&g.prerelease.length?g.prerelease:null}},80385:(d,m,g)=>{const v=g(75444);d.exports=(d,m,g)=>v(m,d,g)},51470:(d,m,g)=>{const v=g(11047);d.exports=(d,m)=>d.sort(((d,g)=>v(g,d,m)))},55105:(d,m,g)=>{const v=g(477);d.exports=(d,m,g)=>{try{m=new v(m,g)}catch(d){return!1}return m.test(d)}},94094:(d,m,g)=>{const v=g(11047);d.exports=(d,m)=>d.sort(((d,g)=>v(d,g,m)))},68289:(d,m,g)=>{const v=g(34480);d.exports=(d,m)=>{const g=v(d,m);return g?g.version:null}},9949:(d,m,g)=>{const v=g(67912);d.exports={re:v.re,src:v.src,tokens:v.t,SEMVER_SPEC_VERSION:g(73477).SEMVER_SPEC_VERSION,SemVer:g(87351),compareIdentifiers:g(35434).compareIdentifiers,rcompareIdentifiers:g(35434).rcompareIdentifiers,parse:g(34480),valid:g(68289),clean:g(99895),inc:g(86919),diff:g(66338),major:g(99200),minor:g(96070),patch:g(30107),prerelease:g(76107),compare:g(75444),rcompare:g(80385),compareLoose:g(75398),compareBuild:g(11047),sort:g(94094),rsort:g(51470),gt:g(3588),lt:g(88559),eq:g(19451),neq:g(55423),gte:g(68471),lte:g(72976),cmp:g(92230),coerce:g(35228),Comparator:g(92829),Range:g(477),satisfies:g(55105),toComparators:g(44585),maxSatisfying:g(93349),minSatisfying:g(91636),minVersion:g(30894),validRange:g(95648),outside:g(82924),gtr:g(49808),ltr:g(34683),intersects:g(47061),simplifyRange:g(922),subset:g(99626)}},73477:d=>{const m=Number.MAX_SAFE_INTEGER||9007199254740991;d.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:m,MAX_SAFE_COMPONENT_LENGTH:16}},13591:d=>{const m="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...d)=>console.error("SEMVER",...d):()=>{};d.exports=m},35434:d=>{const m=/^[0-9]+$/,compareIdentifiers=(d,g)=>{const v=m.test(d),y=m.test(g);return v&&y&&(d=+d,g=+g),d===g?0:v&&!y?-1:y&&!v?1:d<g?-1:1};d.exports={compareIdentifiers,rcompareIdentifiers:(d,m)=>compareIdentifiers(m,d)}},80970:d=>{const m=["includePrerelease","loose","rtl"];d.exports=d=>d?"object"!=typeof d?{loose:!0}:m.filter((m=>d[m])).reduce(((d,m)=>(d[m]=!0,d)),{}):{}},67912:(d,m,g)=>{const{MAX_SAFE_COMPONENT_LENGTH:v}=g(73477),y=g(13591),C=(m=d.exports={}).re=[],_=m.src=[],T=m.t={};let b=0;const createToken=(d,m,g)=>{const v=b++;y(d,v,m),T[d]=v,_[v]=m,C[v]=new RegExp(m,g?"g":void 0)};createToken("NUMERICIDENTIFIER","0|[1-9]\\d*"),createToken("NUMERICIDENTIFIERLOOSE","[0-9]+"),createToken("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),createToken("MAINVERSION",`(${_[T.NUMERICIDENTIFIER]})\\.(${_[T.NUMERICIDENTIFIER]})\\.(${_[T.NUMERICIDENTIFIER]})`),createToken("MAINVERSIONLOOSE",`(${_[T.NUMERICIDENTIFIERLOOSE]})\\.(${_[T.NUMERICIDENTIFIERLOOSE]})\\.(${_[T.NUMERICIDENTIFIERLOOSE]})`),createToken("PRERELEASEIDENTIFIER",`(?:${_[T.NUMERICIDENTIFIER]}|${_[T.NONNUMERICIDENTIFIER]})`),createToken("PRERELEASEIDENTIFIERLOOSE",`(?:${_[T.NUMERICIDENTIFIERLOOSE]}|${_[T.NONNUMERICIDENTIFIER]})`),createToken("PRERELEASE",`(?:-(${_[T.PRERELEASEIDENTIFIER]}(?:\\.${_[T.PRERELEASEIDENTIFIER]})*))`),createToken("PRERELEASELOOSE",`(?:-?(${_[T.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${_[T.PRERELEASEIDENTIFIERLOOSE]})*))`),createToken("BUILDIDENTIFIER","[0-9A-Za-z-]+"),createToken("BUILD",`(?:\\+(${_[T.BUILDIDENTIFIER]}(?:\\.${_[T.BUILDIDENTIFIER]})*))`),createToken("FULLPLAIN",`v?${_[T.MAINVERSION]}${_[T.PRERELEASE]}?${_[T.BUILD]}?`),createToken("FULL",`^${_[T.FULLPLAIN]}$`),createToken("LOOSEPLAIN",`[v=\\s]*${_[T.MAINVERSIONLOOSE]}${_[T.PRERELEASELOOSE]}?${_[T.BUILD]}?`),createToken("LOOSE",`^${_[T.LOOSEPLAIN]}$`),createToken("GTLT","((?:<|>)?=?)"),createToken("XRANGEIDENTIFIERLOOSE",`${_[T.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),createToken("XRANGEIDENTIFIER",`${_[T.NUMERICIDENTIFIER]}|x|X|\\*`),createToken("XRANGEPLAIN",`[v=\\s]*(${_[T.XRANGEIDENTIFIER]})(?:\\.(${_[T.XRANGEIDENTIFIER]})(?:\\.(${_[T.XRANGEIDENTIFIER]})(?:${_[T.PRERELEASE]})?${_[T.BUILD]}?)?)?`),createToken("XRANGEPLAINLOOSE",`[v=\\s]*(${_[T.XRANGEIDENTIFIERLOOSE]})(?:\\.(${_[T.XRANGEIDENTIFIERLOOSE]})(?:\\.(${_[T.XRANGEIDENTIFIERLOOSE]})(?:${_[T.PRERELEASELOOSE]})?${_[T.BUILD]}?)?)?`),createToken("XRANGE",`^${_[T.GTLT]}\\s*${_[T.XRANGEPLAIN]}$`),createToken("XRANGELOOSE",`^${_[T.GTLT]}\\s*${_[T.XRANGEPLAINLOOSE]}$`),createToken("COERCE",`(^|[^\\d])(\\d{1,${v}})(?:\\.(\\d{1,${v}}))?(?:\\.(\\d{1,${v}}))?(?:$|[^\\d])`),createToken("COERCERTL",_[T.COERCE],!0),createToken("LONETILDE","(?:~>?)"),createToken("TILDETRIM",`(\\s*)${_[T.LONETILDE]}\\s+`,!0),m.tildeTrimReplace="$1~",createToken("TILDE",`^${_[T.LONETILDE]}${_[T.XRANGEPLAIN]}$`),createToken("TILDELOOSE",`^${_[T.LONETILDE]}${_[T.XRANGEPLAINLOOSE]}$`),createToken("LONECARET","(?:\\^)"),createToken("CARETTRIM",`(\\s*)${_[T.LONECARET]}\\s+`,!0),m.caretTrimReplace="$1^",createToken("CARET",`^${_[T.LONECARET]}${_[T.XRANGEPLAIN]}$`),createToken("CARETLOOSE",`^${_[T.LONECARET]}${_[T.XRANGEPLAINLOOSE]}$`),createToken("COMPARATORLOOSE",`^${_[T.GTLT]}\\s*(${_[T.LOOSEPLAIN]})$|^$`),createToken("COMPARATOR",`^${_[T.GTLT]}\\s*(${_[T.FULLPLAIN]})$|^$`),createToken("COMPARATORTRIM",`(\\s*)${_[T.GTLT]}\\s*(${_[T.LOOSEPLAIN]}|${_[T.XRANGEPLAIN]})`,!0),m.comparatorTrimReplace="$1$2$3",createToken("HYPHENRANGE",`^\\s*(${_[T.XRANGEPLAIN]})\\s+-\\s+(${_[T.XRANGEPLAIN]})\\s*$`),createToken("HYPHENRANGELOOSE",`^\\s*(${_[T.XRANGEPLAINLOOSE]})\\s+-\\s+(${_[T.XRANGEPLAINLOOSE]})\\s*$`),createToken("STAR","(<|>)?=?\\s*\\*"),createToken("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),createToken("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},49808:(d,m,g)=>{const v=g(82924);d.exports=(d,m,g)=>v(d,m,">",g)},47061:(d,m,g)=>{const v=g(477);d.exports=(d,m,g)=>(d=new v(d,g),m=new v(m,g),d.intersects(m))},34683:(d,m,g)=>{const v=g(82924);d.exports=(d,m,g)=>v(d,m,"<",g)},93349:(d,m,g)=>{const v=g(87351),y=g(477);d.exports=(d,m,g)=>{let C=null,_=null,T=null;try{T=new y(m,g)}catch(d){return null}return d.forEach((d=>{T.test(d)&&(C&&-1!==_.compare(d)||(C=d,_=new v(C,g)))})),C}},91636:(d,m,g)=>{const v=g(87351),y=g(477);d.exports=(d,m,g)=>{let C=null,_=null,T=null;try{T=new y(m,g)}catch(d){return null}return d.forEach((d=>{T.test(d)&&(C&&1!==_.compare(d)||(C=d,_=new v(C,g)))})),C}},30894:(d,m,g)=>{const v=g(87351),y=g(477),C=g(3588);d.exports=(d,m)=>{d=new y(d,m);let g=new v("0.0.0");if(d.test(g))return g;if(g=new v("0.0.0-0"),d.test(g))return g;g=null;for(let m=0;m<d.set.length;++m){const y=d.set[m];let _=null;y.forEach((d=>{const m=new v(d.semver.version);switch(d.operator){case">":0===m.prerelease.length?m.patch++:m.prerelease.push(0),m.raw=m.format();case"":case">=":_&&!C(m,_)||(_=m);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${d.operator}`)}})),!_||g&&!C(g,_)||(g=_)}return g&&d.test(g)?g:null}},82924:(d,m,g)=>{const v=g(87351),y=g(92829),{ANY:C}=y,_=g(477),T=g(55105),b=g(3588),A=g(88559),P=g(72976),R=g(68471);d.exports=(d,m,g,k)=>{let M,I,O,x,L;switch(d=new v(d,k),m=new _(m,k),g){case">":M=b,I=P,O=A,x=">",L=">=";break;case"<":M=A,I=R,O=b,x="<",L="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(T(d,m,k))return!1;for(let g=0;g<m.set.length;++g){const v=m.set[g];let _=null,T=null;if(v.forEach((d=>{d.semver===C&&(d=new y(">=0.0.0")),_=_||d,T=T||d,M(d.semver,_.semver,k)?_=d:O(d.semver,T.semver,k)&&(T=d)})),_.operator===x||_.operator===L)return!1;if((!T.operator||T.operator===x)&&I(d,T.semver))return!1;if(T.operator===L&&O(d,T.semver))return!1}return!0}},922:(d,m,g)=>{const v=g(55105),y=g(75444);d.exports=(d,m,g)=>{const C=[];let _=null,T=null;const b=d.sort(((d,m)=>y(d,m,g)));for(const d of b){v(d,m,g)?(T=d,_||(_=d)):(T&&C.push([_,T]),T=null,_=null)}_&&C.push([_,null]);const A=[];for(const[d,m]of C)d===m?A.push(d):m||d!==b[0]?m?d===b[0]?A.push(`<=${m}`):A.push(`${d} - ${m}`):A.push(`>=${d}`):A.push("*");const P=A.join(" || "),R="string"==typeof m.raw?m.raw:String(m);return P.length<R.length?P:m}},99626:(d,m,g)=>{const v=g(477),y=g(92829),{ANY:C}=y,_=g(55105),T=g(75444),simpleSubset=(d,m,g)=>{if(d===m)return!0;if(1===d.length&&d[0].semver===C){if(1===m.length&&m[0].semver===C)return!0;d=g.includePrerelease?[new y(">=0.0.0-0")]:[new y(">=0.0.0")]}if(1===m.length&&m[0].semver===C){if(g.includePrerelease)return!0;m=[new y(">=0.0.0")]}const v=new Set;let b,A,P,R,k,M,I;for(const m of d)">"===m.operator||">="===m.operator?b=higherGT(b,m,g):"<"===m.operator||"<="===m.operator?A=lowerLT(A,m,g):v.add(m.semver);if(v.size>1)return null;if(b&&A){if(P=T(b.semver,A.semver,g),P>0)return null;if(0===P&&(">="!==b.operator||"<="!==A.operator))return null}for(const d of v){if(b&&!_(d,String(b),g))return null;if(A&&!_(d,String(A),g))return null;for(const v of m)if(!_(d,String(v),g))return!1;return!0}let O=!(!A||g.includePrerelease||!A.semver.prerelease.length)&&A.semver,x=!(!b||g.includePrerelease||!b.semver.prerelease.length)&&b.semver;O&&1===O.prerelease.length&&"<"===A.operator&&0===O.prerelease[0]&&(O=!1);for(const d of m){if(I=I||">"===d.operator||">="===d.operator,M=M||"<"===d.operator||"<="===d.operator,b)if(x&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===x.major&&d.semver.minor===x.minor&&d.semver.patch===x.patch&&(x=!1),">"===d.operator||">="===d.operator){if(R=higherGT(b,d,g),R===d&&R!==b)return!1}else if(">="===b.operator&&!_(b.semver,String(d),g))return!1;if(A)if(O&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===O.major&&d.semver.minor===O.minor&&d.semver.patch===O.patch&&(O=!1),"<"===d.operator||"<="===d.operator){if(k=lowerLT(A,d,g),k===d&&k!==A)return!1}else if("<="===A.operator&&!_(A.semver,String(d),g))return!1;if(!d.operator&&(A||b)&&0!==P)return!1}return!(b&&M&&!A&&0!==P)&&(!(A&&I&&!b&&0!==P)&&(!x&&!O))},higherGT=(d,m,g)=>{if(!d)return m;const v=T(d.semver,m.semver,g);return v>0?d:v<0||">"===m.operator&&">="===d.operator?m:d},lowerLT=(d,m,g)=>{if(!d)return m;const v=T(d.semver,m.semver,g);return v<0?d:v>0||"<"===m.operator&&"<="===d.operator?m:d};d.exports=(d,m,g={})=>{if(d===m)return!0;d=new v(d,g),m=new v(m,g);let y=!1;e:for(const v of d.set){for(const d of m.set){const m=simpleSubset(v,d,g);if(y=y||null!==m,m)continue e}if(y)return!1}return!0}},44585:(d,m,g)=>{const v=g(477);d.exports=(d,m)=>new v(d,m).set.map((d=>d.map((d=>d.value)).join(" ").trim().split(" ")))},95648:(d,m,g)=>{const v=g(477);d.exports=(d,m)=>{try{return new v(d,m).range||"*"}catch(d){return null}}},25476:d=>{"use strict";d.exports=function(d){d.prototype[Symbol.iterator]=function*(){for(let d=this.head;d;d=d.next)yield d.value}}},5168:(d,m,g)=>{"use strict";function Yallist(d){var m=this;if(m instanceof Yallist||(m=new Yallist),m.tail=null,m.head=null,m.length=0,d&&"function"==typeof d.forEach)d.forEach((function(d){m.push(d)}));else if(arguments.length>0)for(var g=0,v=arguments.length;g<v;g++)m.push(arguments[g]);return m}function insert(d,m,g){var v=m===d.head?new Node(g,null,m,d):new Node(g,m,m.next,d);return null===v.next&&(d.tail=v),null===v.prev&&(d.head=v),d.length++,v}function push(d,m){d.tail=new Node(m,d.tail,null,d),d.head||(d.head=d.tail),d.length++}function unshift(d,m){d.head=new Node(m,null,d.head,d),d.tail||(d.tail=d.head),d.length++}function Node(d,m,g,v){if(!(this instanceof Node))return new Node(d,m,g,v);this.list=v,this.value=d,m?(m.next=this,this.prev=m):this.prev=null,g?(g.prev=this,this.next=g):this.next=null}d.exports=Yallist,Yallist.Node=Node,Yallist.create=Yallist,Yallist.prototype.removeNode=function(d){if(d.list!==this)throw new Error("removing node which does not belong to this list");var m=d.next,g=d.prev;return m&&(m.prev=g),g&&(g.next=m),d===this.head&&(this.head=m),d===this.tail&&(this.tail=g),d.list.length--,d.next=null,d.prev=null,d.list=null,m},Yallist.prototype.unshiftNode=function(d){if(d!==this.head){d.list&&d.list.removeNode(d);var m=this.head;d.list=this,d.next=m,m&&(m.prev=d),this.head=d,this.tail||(this.tail=d),this.length++}},Yallist.prototype.pushNode=function(d){if(d!==this.tail){d.list&&d.list.removeNode(d);var m=this.tail;d.list=this,d.prev=m,m&&(m.next=d),this.tail=d,this.head||(this.head=d),this.length++}},Yallist.prototype.push=function(){for(var d=0,m=arguments.length;d<m;d++)push(this,arguments[d]);return this.length},Yallist.prototype.unshift=function(){for(var d=0,m=arguments.length;d<m;d++)unshift(this,arguments[d]);return this.length},Yallist.prototype.pop=function(){if(this.tail){var d=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,d}},Yallist.prototype.shift=function(){if(this.head){var d=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,d}},Yallist.prototype.forEach=function(d,m){m=m||this;for(var g=this.head,v=0;null!==g;v++)d.call(m,g.value,v,this),g=g.next},Yallist.prototype.forEachReverse=function(d,m){m=m||this;for(var g=this.tail,v=this.length-1;null!==g;v--)d.call(m,g.value,v,this),g=g.prev},Yallist.prototype.get=function(d){for(var m=0,g=this.head;null!==g&&m<d;m++)g=g.next;if(m===d&&null!==g)return g.value},Yallist.prototype.getReverse=function(d){for(var m=0,g=this.tail;null!==g&&m<d;m++)g=g.prev;if(m===d&&null!==g)return g.value},Yallist.prototype.map=function(d,m){m=m||this;for(var g=new Yallist,v=this.head;null!==v;)g.push(d.call(m,v.value,this)),v=v.next;return g},Yallist.prototype.mapReverse=function(d,m){m=m||this;for(var g=new Yallist,v=this.tail;null!==v;)g.push(d.call(m,v.value,this)),v=v.prev;return g},Yallist.prototype.reduce=function(d,m){var g,v=this.head;if(arguments.length>1)g=m;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");v=this.head.next,g=this.head.value}for(var y=0;null!==v;y++)g=d(g,v.value,y),v=v.next;return g},Yallist.prototype.reduceReverse=function(d,m){var g,v=this.tail;if(arguments.length>1)g=m;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");v=this.tail.prev,g=this.tail.value}for(var y=this.length-1;null!==v;y--)g=d(g,v.value,y),v=v.prev;return g},Yallist.prototype.toArray=function(){for(var d=new Array(this.length),m=0,g=this.head;null!==g;m++)d[m]=g.value,g=g.next;return d},Yallist.prototype.toArrayReverse=function(){for(var d=new Array(this.length),m=0,g=this.tail;null!==g;m++)d[m]=g.value,g=g.prev;return d},Yallist.prototype.slice=function(d,m){(m=m||this.length)<0&&(m+=this.length),(d=d||0)<0&&(d+=this.length);var g=new Yallist;if(m<d||m<0)return g;d<0&&(d=0),m>this.length&&(m=this.length);for(var v=0,y=this.head;null!==y&&v<d;v++)y=y.next;for(;null!==y&&v<m;v++,y=y.next)g.push(y.value);return g},Yallist.prototype.sliceReverse=function(d,m){(m=m||this.length)<0&&(m+=this.length),(d=d||0)<0&&(d+=this.length);var g=new Yallist;if(m<d||m<0)return g;d<0&&(d=0),m>this.length&&(m=this.length);for(var v=this.length,y=this.tail;null!==y&&v>m;v--)y=y.prev;for(;null!==y&&v>d;v--,y=y.prev)g.push(y.value);return g},Yallist.prototype.splice=function(d,m,...g){d>this.length&&(d=this.length-1),d<0&&(d=this.length+d);for(var v=0,y=this.head;null!==y&&v<d;v++)y=y.next;var C=[];for(v=0;y&&v<m;v++)C.push(y.value),y=this.removeNode(y);null===y&&(y=this.tail),y!==this.head&&y!==this.tail&&(y=y.prev);for(v=0;v<g.length;v++)y=insert(this,y,g[v]);return C},Yallist.prototype.reverse=function(){for(var d=this.head,m=this.tail,g=d;null!==g;g=g.prev){var v=g.prev;g.prev=g.next,g.next=v}return this.head=m,this.tail=d,this};try{g(25476)(Yallist)}catch(d){}},45207:(d,m)=>{var g;m=d.exports=SemVer,g="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var d=Array.prototype.slice.call(arguments,0);d.unshift("SEMVER"),console.log.apply(console,d)}:function(){},m.SEMVER_SPEC_VERSION="2.0.0";var v=Number.MAX_SAFE_INTEGER||9007199254740991,y=m.re=[],C=m.src=[],_=0,T=_++;C[T]="0|[1-9]\\d*";var b=_++;C[b]="[0-9]+";var A=_++;C[A]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var P=_++;C[P]="("+C[T]+")\\.("+C[T]+")\\.("+C[T]+")";var R=_++;C[R]="("+C[b]+")\\.("+C[b]+")\\.("+C[b]+")";var k=_++;C[k]="(?:"+C[T]+"|"+C[A]+")";var M=_++;C[M]="(?:"+C[b]+"|"+C[A]+")";var I=_++;C[I]="(?:-("+C[k]+"(?:\\."+C[k]+")*))";var O=_++;C[O]="(?:-?("+C[M]+"(?:\\."+C[M]+")*))";var x=_++;C[x]="[0-9A-Za-z-]+";var L=_++;C[L]="(?:\\+("+C[x]+"(?:\\."+C[x]+")*))";var U=_++,j="v?"+C[P]+C[I]+"?"+C[L]+"?";C[U]="^"+j+"$";var B="[v=\\s]*"+C[R]+C[O]+"?"+C[L]+"?",V=_++;C[V]="^"+B+"$";var $=_++;C[$]="((?:<|>)?=?)";var q=_++;C[q]=C[b]+"|x|X|\\*";var Y=_++;C[Y]=C[T]+"|x|X|\\*";var z=_++;C[z]="[v=\\s]*("+C[Y]+")(?:\\.("+C[Y]+")(?:\\.("+C[Y]+")(?:"+C[I]+")?"+C[L]+"?)?)?";var G=_++;C[G]="[v=\\s]*("+C[q]+")(?:\\.("+C[q]+")(?:\\.("+C[q]+")(?:"+C[O]+")?"+C[L]+"?)?)?";var J=_++;C[J]="^"+C[$]+"\\s*"+C[z]+"$";var X=_++;C[X]="^"+C[$]+"\\s*"+C[G]+"$";var te=_++;C[te]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var re=_++;C[re]="(?:~>?)";var ie=_++;C[ie]="(\\s*)"+C[re]+"\\s+",y[ie]=new RegExp(C[ie],"g");var se=_++;C[se]="^"+C[re]+C[z]+"$";var oe=_++;C[oe]="^"+C[re]+C[G]+"$";var ae=_++;C[ae]="(?:\\^)";var ce=_++;C[ce]="(\\s*)"+C[ae]+"\\s+",y[ce]=new RegExp(C[ce],"g");var le=_++;C[le]="^"+C[ae]+C[z]+"$";var de=_++;C[de]="^"+C[ae]+C[G]+"$";var he=_++;C[he]="^"+C[$]+"\\s*("+B+")$|^$";var pe=_++;C[pe]="^"+C[$]+"\\s*("+j+")$|^$";var me=_++;C[me]="(\\s*)"+C[$]+"\\s*("+B+"|"+C[z]+")",y[me]=new RegExp(C[me],"g");var fe=_++;C[fe]="^\\s*("+C[z]+")\\s+-\\s+("+C[z]+")\\s*$";var ge=_++;C[ge]="^\\s*("+C[G]+")\\s+-\\s+("+C[G]+")\\s*$";var ve=_++;C[ve]="(<|>)?=?\\s*\\*";for(var ye=0;ye<35;ye++)g(ye,C[ye]),y[ye]||(y[ye]=new RegExp(C[ye]));function parse(d,m){if(m&&"object"==typeof m||(m={loose:!!m,includePrerelease:!1}),d instanceof SemVer)return d;if("string"!=typeof d)return null;if(d.length>256)return null;if(!(m.loose?y[V]:y[U]).test(d))return null;try{return new SemVer(d,m)}catch(d){return null}}function SemVer(d,m){if(m&&"object"==typeof m||(m={loose:!!m,includePrerelease:!1}),d instanceof SemVer){if(d.loose===m.loose)return d;d=d.version}else if("string"!=typeof d)throw new TypeError("Invalid Version: "+d);if(d.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof SemVer))return new SemVer(d,m);g("SemVer",d,m),this.options=m,this.loose=!!m.loose;var C=d.trim().match(m.loose?y[V]:y[U]);if(!C)throw new TypeError("Invalid Version: "+d);if(this.raw=d,this.major=+C[1],this.minor=+C[2],this.patch=+C[3],this.major>v||this.major<0)throw new TypeError("Invalid major version");if(this.minor>v||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>v||this.patch<0)throw new TypeError("Invalid patch version");C[4]?this.prerelease=C[4].split(".").map((function(d){if(/^[0-9]+$/.test(d)){var m=+d;if(m>=0&&m<v)return m}return d})):this.prerelease=[],this.build=C[5]?C[5].split("."):[],this.format()}m.parse=parse,m.valid=function valid(d,m){var g=parse(d,m);return g?g.version:null},m.clean=function clean(d,m){var g=parse(d.trim().replace(/^[=v]+/,""),m);return g?g.version:null},m.SemVer=SemVer,SemVer.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},SemVer.prototype.toString=function(){return this.version},SemVer.prototype.compare=function(d){return g("SemVer.compare",this.version,this.options,d),d instanceof SemVer||(d=new SemVer(d,this.options)),this.compareMain(d)||this.comparePre(d)},SemVer.prototype.compareMain=function(d){return d instanceof SemVer||(d=new SemVer(d,this.options)),compareIdentifiers(this.major,d.major)||compareIdentifiers(this.minor,d.minor)||compareIdentifiers(this.patch,d.patch)},SemVer.prototype.comparePre=function(d){if(d instanceof SemVer||(d=new SemVer(d,this.options)),this.prerelease.length&&!d.prerelease.length)return-1;if(!this.prerelease.length&&d.prerelease.length)return 1;if(!this.prerelease.length&&!d.prerelease.length)return 0;var m=0;do{var v=this.prerelease[m],y=d.prerelease[m];if(g("prerelease compare",m,v,y),void 0===v&&void 0===y)return 0;if(void 0===y)return 1;if(void 0===v)return-1;if(v!==y)return compareIdentifiers(v,y)}while(++m)},SemVer.prototype.inc=function(d,m){switch(d){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",m);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",m);break;case"prepatch":this.prerelease.length=0,this.inc("patch",m),this.inc("pre",m);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",m),this.inc("pre",m);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var g=this.prerelease.length;--g>=0;)"number"==typeof this.prerelease[g]&&(this.prerelease[g]++,g=-2);-1===g&&this.prerelease.push(0)}m&&(this.prerelease[0]===m?isNaN(this.prerelease[1])&&(this.prerelease=[m,0]):this.prerelease=[m,0]);break;default:throw new Error("invalid increment argument: "+d)}return this.format(),this.raw=this.version,this},m.inc=function inc(d,m,g,v){"string"==typeof g&&(v=g,g=void 0);try{return new SemVer(d,g).inc(m,v).version}catch(d){return null}},m.diff=function diff(d,m){if(eq(d,m))return null;var g=parse(d),v=parse(m),y="";if(g.prerelease.length||v.prerelease.length){y="pre";var C="prerelease"}for(var _ in g)if(("major"===_||"minor"===_||"patch"===_)&&g[_]!==v[_])return y+_;return C},m.compareIdentifiers=compareIdentifiers;var Se=/^[0-9]+$/;function compareIdentifiers(d,m){var g=Se.test(d),v=Se.test(m);return g&&v&&(d=+d,m=+m),d===m?0:g&&!v?-1:v&&!g?1:d<m?-1:1}function compare(d,m,g){return new SemVer(d,g).compare(new SemVer(m,g))}function gt(d,m,g){return compare(d,m,g)>0}function lt(d,m,g){return compare(d,m,g)<0}function eq(d,m,g){return 0===compare(d,m,g)}function neq(d,m,g){return 0!==compare(d,m,g)}function gte(d,m,g){return compare(d,m,g)>=0}function lte(d,m,g){return compare(d,m,g)<=0}function cmp(d,m,g,v){switch(m){case"===":return"object"==typeof d&&(d=d.version),"object"==typeof g&&(g=g.version),d===g;case"!==":return"object"==typeof d&&(d=d.version),"object"==typeof g&&(g=g.version),d!==g;case"":case"=":case"==":return eq(d,g,v);case"!=":return neq(d,g,v);case">":return gt(d,g,v);case">=":return gte(d,g,v);case"<":return lt(d,g,v);case"<=":return lte(d,g,v);default:throw new TypeError("Invalid operator: "+m)}}function Comparator(d,m){if(m&&"object"==typeof m||(m={loose:!!m,includePrerelease:!1}),d instanceof Comparator){if(d.loose===!!m.loose)return d;d=d.value}if(!(this instanceof Comparator))return new Comparator(d,m);g("comparator",d,m),this.options=m,this.loose=!!m.loose,this.parse(d),this.semver===Ee?this.value="":this.value=this.operator+this.semver.version,g("comp",this)}m.rcompareIdentifiers=function rcompareIdentifiers(d,m){return compareIdentifiers(m,d)},m.major=function major(d,m){return new SemVer(d,m).major},m.minor=function minor(d,m){return new SemVer(d,m).minor},m.patch=function patch(d,m){return new SemVer(d,m).patch},m.compare=compare,m.compareLoose=function compareLoose(d,m){return compare(d,m,!0)},m.rcompare=function rcompare(d,m,g){return compare(m,d,g)},m.sort=function sort(d,g){return d.sort((function(d,v){return m.compare(d,v,g)}))},m.rsort=function rsort(d,g){return d.sort((function(d,v){return m.rcompare(d,v,g)}))},m.gt=gt,m.lt=lt,m.eq=eq,m.neq=neq,m.gte=gte,m.lte=lte,m.cmp=cmp,m.Comparator=Comparator;var Ee={};function Range(d,m){if(m&&"object"==typeof m||(m={loose:!!m,includePrerelease:!1}),d instanceof Range)return d.loose===!!m.loose&&d.includePrerelease===!!m.includePrerelease?d:new Range(d.raw,m);if(d instanceof Comparator)return new Range(d.value,m);if(!(this instanceof Range))return new Range(d,m);if(this.options=m,this.loose=!!m.loose,this.includePrerelease=!!m.includePrerelease,this.raw=d,this.set=d.split(/\s*\|\|\s*/).map((function(d){return this.parseRange(d.trim())}),this).filter((function(d){return d.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+d);this.format()}function isX(d){return!d||"x"===d.toLowerCase()||"*"===d}function hyphenReplace(d,m,g,v,y,C,_,T,b,A,P,R,k){return((m=isX(g)?"":isX(v)?">="+g+".0.0":isX(y)?">="+g+"."+v+".0":">="+m)+" "+(T=isX(b)?"":isX(A)?"<"+(+b+1)+".0.0":isX(P)?"<"+b+"."+(+A+1)+".0":R?"<="+b+"."+A+"."+P+"-"+R:"<="+T)).trim()}function testSet(d,m,v){for(var y=0;y<d.length;y++)if(!d[y].test(m))return!1;if(m.prerelease.length&&!v.includePrerelease){for(y=0;y<d.length;y++)if(g(d[y].semver),d[y].semver!==Ee&&d[y].semver.prerelease.length>0){var C=d[y].semver;if(C.major===m.major&&C.minor===m.minor&&C.patch===m.patch)return!0}return!1}return!0}function satisfies(d,m,g){try{m=new Range(m,g)}catch(d){return!1}return m.test(d)}function outside(d,m,g,v){var y,C,_,T,b;switch(d=new SemVer(d,v),m=new Range(m,v),g){case">":y=gt,C=lte,_=lt,T=">",b=">=";break;case"<":y=lt,C=gte,_=gt,T="<",b="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(satisfies(d,m,v))return!1;for(var A=0;A<m.set.length;++A){var P=m.set[A],R=null,k=null;if(P.forEach((function(d){d.semver===Ee&&(d=new Comparator(">=0.0.0")),R=R||d,k=k||d,y(d.semver,R.semver,v)?R=d:_(d.semver,k.semver,v)&&(k=d)})),R.operator===T||R.operator===b)return!1;if((!k.operator||k.operator===T)&&C(d,k.semver))return!1;if(k.operator===b&&_(d,k.semver))return!1}return!0}Comparator.prototype.parse=function(d){var m=this.options.loose?y[he]:y[pe],g=d.match(m);if(!g)throw new TypeError("Invalid comparator: "+d);this.operator=g[1],"="===this.operator&&(this.operator=""),g[2]?this.semver=new SemVer(g[2],this.options.loose):this.semver=Ee},Comparator.prototype.toString=function(){return this.value},Comparator.prototype.test=function(d){return g("Comparator.test",d,this.options.loose),this.semver===Ee||("string"==typeof d&&(d=new SemVer(d,this.options)),cmp(d,this.operator,this.semver,this.options))},Comparator.prototype.intersects=function(d,m){if(!(d instanceof Comparator))throw new TypeError("a Comparator is required");var g;if(m&&"object"==typeof m||(m={loose:!!m,includePrerelease:!1}),""===this.operator)return g=new Range(d.value,m),satisfies(this.value,g,m);if(""===d.operator)return g=new Range(this.value,m),satisfies(d.semver,g,m);var v=!(">="!==this.operator&&">"!==this.operator||">="!==d.operator&&">"!==d.operator),y=!("<="!==this.operator&&"<"!==this.operator||"<="!==d.operator&&"<"!==d.operator),C=this.semver.version===d.semver.version,_=!(">="!==this.operator&&"<="!==this.operator||">="!==d.operator&&"<="!==d.operator),T=cmp(this.semver,"<",d.semver,m)&&(">="===this.operator||">"===this.operator)&&("<="===d.operator||"<"===d.operator),b=cmp(this.semver,">",d.semver,m)&&("<="===this.operator||"<"===this.operator)&&(">="===d.operator||">"===d.operator);return v||y||C&&_||T||b},m.Range=Range,Range.prototype.format=function(){return this.range=this.set.map((function(d){return d.join(" ").trim()})).join("||").trim(),this.range},Range.prototype.toString=function(){return this.range},Range.prototype.parseRange=function(d){var m=this.options.loose;d=d.trim();var v=m?y[ge]:y[fe];d=d.replace(v,hyphenReplace),g("hyphen replace",d),d=d.replace(y[me],"$1$2$3"),g("comparator trim",d,y[me]),d=(d=(d=d.replace(y[ie],"$1~")).replace(y[ce],"$1^")).split(/\s+/).join(" ");var C=m?y[he]:y[pe],_=d.split(" ").map((function(d){return function parseComparator(d,m){return g("comp",d,m),d=function replaceCarets(d,m){return d.trim().split(/\s+/).map((function(d){return function replaceCaret(d,m){g("caret",d,m);var v=m.loose?y[de]:y[le];return d.replace(v,(function(m,v,y,C,_){var T;return g("caret",d,m,v,y,C,_),isX(v)?T="":isX(y)?T=">="+v+".0.0 <"+(+v+1)+".0.0":isX(C)?T="0"===v?">="+v+"."+y+".0 <"+v+"."+(+y+1)+".0":">="+v+"."+y+".0 <"+(+v+1)+".0.0":_?(g("replaceCaret pr",_),T="0"===v?"0"===y?">="+v+"."+y+"."+C+"-"+_+" <"+v+"."+y+"."+(+C+1):">="+v+"."+y+"."+C+"-"+_+" <"+v+"."+(+y+1)+".0":">="+v+"."+y+"."+C+"-"+_+" <"+(+v+1)+".0.0"):(g("no pr"),T="0"===v?"0"===y?">="+v+"."+y+"."+C+" <"+v+"."+y+"."+(+C+1):">="+v+"."+y+"."+C+" <"+v+"."+(+y+1)+".0":">="+v+"."+y+"."+C+" <"+(+v+1)+".0.0"),g("caret return",T),T}))}(d,m)})).join(" ")}(d,m),g("caret",d),d=function replaceTildes(d,m){return d.trim().split(/\s+/).map((function(d){return function replaceTilde(d,m){var v=m.loose?y[oe]:y[se];return d.replace(v,(function(m,v,y,C,_){var T;return g("tilde",d,m,v,y,C,_),isX(v)?T="":isX(y)?T=">="+v+".0.0 <"+(+v+1)+".0.0":isX(C)?T=">="+v+"."+y+".0 <"+v+"."+(+y+1)+".0":_?(g("replaceTilde pr",_),T=">="+v+"."+y+"."+C+"-"+_+" <"+v+"."+(+y+1)+".0"):T=">="+v+"."+y+"."+C+" <"+v+"."+(+y+1)+".0",g("tilde return",T),T}))}(d,m)})).join(" ")}(d,m),g("tildes",d),d=function replaceXRanges(d,m){return g("replaceXRanges",d,m),d.split(/\s+/).map((function(d){return function replaceXRange(d,m){d=d.trim();var v=m.loose?y[X]:y[J];return d.replace(v,(function(m,v,y,C,_,T){g("xRange",d,m,v,y,C,_,T);var b=isX(y),A=b||isX(C),P=A||isX(_);return"="===v&&P&&(v=""),b?m=">"===v||"<"===v?"<0.0.0":"*":v&&P?(A&&(C=0),_=0,">"===v?(v=">=",A?(y=+y+1,C=0,_=0):(C=+C+1,_=0)):"<="===v&&(v="<",A?y=+y+1:C=+C+1),m=v+y+"."+C+"."+_):A?m=">="+y+".0.0 <"+(+y+1)+".0.0":P&&(m=">="+y+"."+C+".0 <"+y+"."+(+C+1)+".0"),g("xRange return",m),m}))}(d,m)})).join(" ")}(d,m),g("xrange",d),d=function replaceStars(d,m){return g("replaceStars",d,m),d.trim().replace(y[ve],"")}(d,m),g("stars",d),d}(d,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(_=_.filter((function(d){return!!d.match(C)}))),_=_.map((function(d){return new Comparator(d,this.options)}),this)},Range.prototype.intersects=function(d,m){if(!(d instanceof Range))throw new TypeError("a Range is required");return this.set.some((function(g){return g.every((function(g){return d.set.some((function(d){return d.every((function(d){return g.intersects(d,m)}))}))}))}))},m.toComparators=function toComparators(d,m){return new Range(d,m).set.map((function(d){return d.map((function(d){return d.value})).join(" ").trim().split(" ")}))},Range.prototype.test=function(d){if(!d)return!1;"string"==typeof d&&(d=new SemVer(d,this.options));for(var m=0;m<this.set.length;m++)if(testSet(this.set[m],d,this.options))return!0;return!1},m.satisfies=satisfies,m.maxSatisfying=function maxSatisfying(d,m,g){var v=null,y=null;try{var C=new Range(m,g)}catch(d){return null}return d.forEach((function(d){C.test(d)&&(v&&-1!==y.compare(d)||(y=new SemVer(v=d,g)))})),v},m.minSatisfying=function minSatisfying(d,m,g){var v=null,y=null;try{var C=new Range(m,g)}catch(d){return null}return d.forEach((function(d){C.test(d)&&(v&&1!==y.compare(d)||(y=new SemVer(v=d,g)))})),v},m.minVersion=function minVersion(d,m){d=new Range(d,m);var g=new SemVer("0.0.0");if(d.test(g))return g;if(g=new SemVer("0.0.0-0"),d.test(g))return g;g=null;for(var v=0;v<d.set.length;++v){d.set[v].forEach((function(d){var m=new SemVer(d.semver.version);switch(d.operator){case">":0===m.prerelease.length?m.patch++:m.prerelease.push(0),m.raw=m.format();case"":case">=":g&&!gt(g,m)||(g=m);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+d.operator)}}))}if(g&&d.test(g))return g;return null},m.validRange=function validRange(d,m){try{return new Range(d,m).range||"*"}catch(d){return null}},m.ltr=function ltr(d,m,g){return outside(d,m,"<",g)},m.gtr=function gtr(d,m,g){return outside(d,m,">",g)},m.outside=outside,m.prerelease=function prerelease(d,m){var g=parse(d,m);return g&&g.prerelease.length?g.prerelease:null},m.intersects=function intersects(d,m,g){return d=new Range(d,g),m=new Range(m,g),d.intersects(m)},m.coerce=function coerce(d){if(d instanceof SemVer)return d;if("string"!=typeof d)return null;var m=d.match(y[te]);if(null==m)return null;return parse(m[1]+"."+(m[2]||"0")+"."+(m[3]||"0"))}},34474:d=>{"use strict";function balanced(d,m,g){d instanceof RegExp&&(d=maybeMatch(d,g)),m instanceof RegExp&&(m=maybeMatch(m,g));var v=range(d,m,g);return v&&{start:v[0],end:v[1],pre:g.slice(0,v[0]),body:g.slice(v[0]+d.length,v[1]),post:g.slice(v[1]+m.length)}}function maybeMatch(d,m){var g=m.match(d);return g?g[0]:null}function range(d,m,g){var v,y,C,_,T,b=g.indexOf(d),A=g.indexOf(m,b+1),P=b;if(b>=0&&A>0){for(v=[],C=g.length;P>=0&&!T;)P==b?(v.push(P),b=g.indexOf(d,P+1)):1==v.length?T=[v.pop(),A]:((y=v.pop())<C&&(C=y,_=A),A=g.indexOf(m,P+1)),P=b<A&&b>=0?b:A;v.length&&(T=[C,_])}return T}d.exports=balanced,balanced.range=range},35871:(d,m,g)=>{var v=g(92549),y=g(34474);d.exports=function expandTop(d){if(!d)return[];"{}"===d.substr(0,2)&&(d="\\{\\}"+d.substr(2));return expand(function escapeBraces(d){return d.split("\\\\").join(C).split("\\{").join(_).split("\\}").join(T).split("\\,").join(b).split("\\.").join(A)}(d),!0).map(unescapeBraces)};var C="\0SLASH"+Math.random()+"\0",_="\0OPEN"+Math.random()+"\0",T="\0CLOSE"+Math.random()+"\0",b="\0COMMA"+Math.random()+"\0",A="\0PERIOD"+Math.random()+"\0";function numeric(d){return parseInt(d,10)==d?parseInt(d,10):d.charCodeAt(0)}function unescapeBraces(d){return d.split(C).join("\\").split(_).join("{").split(T).join("}").split(b).join(",").split(A).join(".")}function parseCommaParts(d){if(!d)return[""];var m=[],g=y("{","}",d);if(!g)return d.split(",");var v=g.pre,C=g.body,_=g.post,T=v.split(",");T[T.length-1]+="{"+C+"}";var b=parseCommaParts(_);return _.length&&(T[T.length-1]+=b.shift(),T.push.apply(T,b)),m.push.apply(m,T),m}function embrace(d){return"{"+d+"}"}function isPadded(d){return/^-?0\d/.test(d)}function lte(d,m){return d<=m}function gte(d,m){return d>=m}function expand(d,m){var g=[],C=y("{","}",d);if(!C||/\$$/.test(C.pre))return[d];var _,b=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(C.body),A=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(C.body),P=b||A,R=C.body.indexOf(",")>=0;if(!P&&!R)return C.post.match(/,.*\}/)?expand(d=C.pre+"{"+C.body+T+C.post):[d];if(P)_=C.body.split(/\.\./);else if(1===(_=parseCommaParts(C.body)).length&&1===(_=expand(_[0],!1).map(embrace)).length)return(I=C.post.length?expand(C.post,!1):[""]).map((function(d){return C.pre+_[0]+d}));var k,M=C.pre,I=C.post.length?expand(C.post,!1):[""];if(P){var O=numeric(_[0]),x=numeric(_[1]),L=Math.max(_[0].length,_[1].length),U=3==_.length?Math.abs(numeric(_[2])):1,j=lte;x<O&&(U*=-1,j=gte);var B=_.some(isPadded);k=[];for(var V=O;j(V,x);V+=U){var $;if(A)"\\"===($=String.fromCharCode(V))&&($="");else if($=String(V),B){var q=L-$.length;if(q>0){var Y=new Array(q+1).join("0");$=V<0?"-"+Y+$.slice(1):Y+$}}k.push($)}}else k=v(_,(function(d){return expand(d,!1)}));for(var z=0;z<k.length;z++)for(var G=0;G<I.length;G++){var J=M+k[z]+I[G];(!m||P||J)&&g.push(J)}return g}},14835:d=>{var m=Object.prototype.toString,g="function"==typeof Buffer.alloc&&"function"==typeof Buffer.allocUnsafe&&"function"==typeof Buffer.from;d.exports=function bufferFrom(d,v,y){if("number"==typeof d)throw new TypeError('"value" argument must not be a number');return function isArrayBuffer(d){return"ArrayBuffer"===m.call(d).slice(8,-1)}(d)?function fromArrayBuffer(d,m,v){m>>>=0;var y=d.byteLength-m;if(y<0)throw new RangeError("'offset' is out of bounds");if(void 0===v)v=y;else if((v>>>=0)>y)throw new RangeError("'length' is out of bounds");return g?Buffer.from(d.slice(m,m+v)):new Buffer(new Uint8Array(d.slice(m,m+v)))}(d,v,y):"string"==typeof d?function fromString(d,m){if("string"==typeof m&&""!==m||(m="utf8"),!Buffer.isEncoding(m))throw new TypeError('"encoding" must be a valid string encoding');return g?Buffer.from(d,m):new Buffer(d,m)}(d,v):g?Buffer.from(d):new Buffer(d)}},92549:d=>{d.exports=function(d,g){for(var v=[],y=0;y<d.length;y++){var C=g(d[y],y);m(C)?v.push.apply(v,C):v.push(C)}return v};var m=Array.isArray||function(d){return"[object Array]"===Object.prototype.toString.call(d)}},77701:(d,m,g)=>{m.formatArgs=function formatArgs(m){if(m[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+m[0]+(this.useColors?"%c ":" ")+"+"+d.exports.humanize(this.diff),!this.useColors)return;const g="color: "+this.color;m.splice(1,0,g,"color: inherit");let v=0,y=0;m[0].replace(/%[a-zA-Z%]/g,(d=>{"%%"!==d&&(v++,"%c"===d&&(y=v))})),m.splice(y,0,g)},m.save=function save(d){try{d?m.storage.setItem("debug",d):m.storage.removeItem("debug")}catch(d){}},m.load=function load(){let d;try{d=m.storage.getItem("debug")}catch(d){}!d&&"undefined"!=typeof process&&"env"in process&&(d=process.env.DEBUG);return d},m.useColors=function useColors(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},m.storage=function localstorage(){try{return localStorage}catch(d){}}(),m.destroy=(()=>{let d=!1;return()=>{d||(d=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),m.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],m.log=console.debug||console.log||(()=>{}),d.exports=g(9978)(m);const{formatters:v}=d.exports;v.j=function(d){try{return JSON.stringify(d)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}},9978:(d,m,g)=>{d.exports=function setup(d){function createDebug(d){let m,g=null;function debug(...d){if(!debug.enabled)return;const g=debug,v=Number(new Date),y=v-(m||v);g.diff=y,g.prev=m,g.curr=v,m=v,d[0]=createDebug.coerce(d[0]),"string"!=typeof d[0]&&d.unshift("%O");let C=0;d[0]=d[0].replace(/%([a-zA-Z%])/g,((m,v)=>{if("%%"===m)return"%";C++;const y=createDebug.formatters[v];if("function"==typeof y){const v=d[C];m=y.call(g,v),d.splice(C,1),C--}return m})),createDebug.formatArgs.call(g,d);(g.log||createDebug.log).apply(g,d)}return debug.namespace=d,debug.useColors=createDebug.useColors(),debug.color=createDebug.selectColor(d),debug.extend=extend,debug.destroy=createDebug.destroy,Object.defineProperty(debug,"enabled",{enumerable:!0,configurable:!1,get:()=>null===g?createDebug.enabled(d):g,set:d=>{g=d}}),"function"==typeof createDebug.init&&createDebug.init(debug),debug}function extend(d,m){const g=createDebug(this.namespace+(void 0===m?":":m)+d);return g.log=this.log,g}function toNamespace(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}return createDebug.debug=createDebug,createDebug.default=createDebug,createDebug.coerce=function coerce(d){if(d instanceof Error)return d.stack||d.message;return d},createDebug.disable=function disable(){const d=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map((d=>"-"+d))].join(",");return createDebug.enable(""),d},createDebug.enable=function enable(d){let m;createDebug.save(d),createDebug.names=[],createDebug.skips=[];const g=("string"==typeof d?d:"").split(/[\s,]+/),v=g.length;for(m=0;m<v;m++)g[m]&&("-"===(d=g[m].replace(/\*/g,".*?"))[0]?createDebug.skips.push(new RegExp("^"+d.substr(1)+"$")):createDebug.names.push(new RegExp("^"+d+"$")))},createDebug.enabled=function enabled(d){if("*"===d[d.length-1])return!0;let m,g;for(m=0,g=createDebug.skips.length;m<g;m++)if(createDebug.skips[m].test(d))return!1;for(m=0,g=createDebug.names.length;m<g;m++)if(createDebug.names[m].test(d))return!0;return!1},createDebug.humanize=g(41025),createDebug.destroy=function destroy(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(d).forEach((m=>{createDebug[m]=d[m]})),createDebug.names=[],createDebug.skips=[],createDebug.formatters={},createDebug.selectColor=function selectColor(d){let m=0;for(let g=0;g<d.length;g++)m=(m<<5)-m+d.charCodeAt(g),m|=0;return createDebug.colors[Math.abs(m)%createDebug.colors.length]},createDebug.enable(createDebug.load()),createDebug}},29875:(d,m,g)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?d.exports=g(77701):d.exports=g(44272)},44272:(d,m,g)=>{const v=g(76224),y=g(73837);m.init=function init(d){d.inspectOpts={};const g=Object.keys(m.inspectOpts);for(let v=0;v<g.length;v++)d.inspectOpts[g[v]]=m.inspectOpts[g[v]]},m.log=function log(...d){return process.stderr.write(y.format(...d)+"\n")},m.formatArgs=function formatArgs(g){const{namespace:v,useColors:y}=this;if(y){const m=this.color,y="[3"+(m<8?m:"8;5;"+m),C=`  ${y};1m${v} [0m`;g[0]=C+g[0].split("\n").join("\n"+C),g.push(y+"m+"+d.exports.humanize(this.diff)+"[0m")}else g[0]=function getDate(){if(m.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+v+" "+g[0]},m.save=function save(d){d?process.env.DEBUG=d:delete process.env.DEBUG},m.load=function load(){return process.env.DEBUG},m.useColors=function useColors(){return"colors"in m.inspectOpts?Boolean(m.inspectOpts.colors):v.isatty(process.stderr.fd)},m.destroy=y.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),m.colors=[6,2,3,4,5,1];try{const d=g(11216);d&&(d.stderr||d).level>=2&&(m.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(d){}m.inspectOpts=Object.keys(process.env).filter((d=>/^debug_/i.test(d))).reduce(((d,m)=>{const g=m.substring(6).toLowerCase().replace(/_([a-z])/g,((d,m)=>m.toUpperCase()));let v=process.env[m];return v=!!/^(yes|on|true|enabled)$/i.test(v)||!/^(no|off|false|disabled)$/i.test(v)&&("null"===v?null:Number(v)),d[g]=v,d}),{}),d.exports=g(9978)(m);const{formatters:C}=d.exports;C.o=function(d){return this.inspectOpts.colors=this.useColors,y.inspect(d,this.inspectOpts).split("\n").map((d=>d.trim())).join(" ")},C.O=function(d){return this.inspectOpts.colors=this.useColors,y.inspect(d,this.inspectOpts)}},15558:d=>{"use strict";d.exports=(d,m=process.argv)=>{const g=d.startsWith("-")?"":1===d.length?"-":"--",v=m.indexOf(g+d),y=m.indexOf("--");return-1!==v&&(-1===y||v<y)}},31184:(d,m,g)=>{d.exports=minimatch,minimatch.Minimatch=Minimatch;var v={sep:"/"};try{v=g(71017)}catch(d){}var y=minimatch.GLOBSTAR=Minimatch.GLOBSTAR={},C=g(35871),_={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},T="[^/]",b="[^/]*?",A=function charSet(d){return d.split("").reduce((function(d,m){return d[m]=!0,d}),{})}("().*{}+?[]^$\\!");var P=/\/+/;function ext(d,m){d=d||{},m=m||{};var g={};return Object.keys(m).forEach((function(d){g[d]=m[d]})),Object.keys(d).forEach((function(m){g[m]=d[m]})),g}function minimatch(d,m,g){if("string"!=typeof m)throw new TypeError("glob pattern string required");return g||(g={}),!(!g.nocomment&&"#"===m.charAt(0))&&(""===m.trim()?""===d:new Minimatch(m,g).match(d))}function Minimatch(d,m){if(!(this instanceof Minimatch))return new Minimatch(d,m);if("string"!=typeof d)throw new TypeError("glob pattern string required");m||(m={}),d=d.trim(),"/"!==v.sep&&(d=d.split(v.sep).join("/")),this.options=m,this.set=[],this.pattern=d,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function braceExpand(d,m){if(m||(m=this instanceof Minimatch?this.options:{}),void 0===(d=void 0===d?this.pattern:d))throw new TypeError("undefined pattern");return m.nobrace||!d.match(/\{.*\}/)?[d]:C(d)}minimatch.filter=function filter(d,m){return m=m||{},function(g,v,y){return minimatch(g,d,m)}},minimatch.defaults=function(d){if(!d||!Object.keys(d).length)return minimatch;var m=minimatch,g=function minimatch(g,v,y){return m.minimatch(g,v,ext(d,y))};return g.Minimatch=function Minimatch(g,v){return new m.Minimatch(g,ext(d,v))},g},Minimatch.defaults=function(d){return d&&Object.keys(d).length?minimatch.defaults(d).Minimatch:Minimatch},Minimatch.prototype.debug=function(){},Minimatch.prototype.make=function make(){if(this._made)return;var d=this.pattern,m=this.options;if(!m.nocomment&&"#"===d.charAt(0))return void(this.comment=!0);if(!d)return void(this.empty=!0);this.parseNegate();var g=this.globSet=this.braceExpand();m.debug&&(this.debug=console.error);this.debug(this.pattern,g),g=this.globParts=g.map((function(d){return d.split(P)})),this.debug(this.pattern,g),g=g.map((function(d,m,g){return d.map(this.parse,this)}),this),this.debug(this.pattern,g),g=g.filter((function(d){return-1===d.indexOf(!1)})),this.debug(this.pattern,g),this.set=g},Minimatch.prototype.parseNegate=function parseNegate(){var d=this.pattern,m=!1,g=this.options,v=0;if(g.nonegate)return;for(var y=0,C=d.length;y<C&&"!"===d.charAt(y);y++)m=!m,v++;v&&(this.pattern=d.substr(v));this.negate=m},minimatch.braceExpand=function(d,m){return braceExpand(d,m)},Minimatch.prototype.braceExpand=braceExpand,Minimatch.prototype.parse=function parse(d,m){if(d.length>65536)throw new TypeError("pattern is too long");var g=this.options;if(!g.noglobstar&&"**"===d)return y;if(""===d)return"";var v,C="",P=!!g.nocase,k=!1,M=[],I=[],O=!1,x=-1,L=-1,U="."===d.charAt(0)?"":g.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",j=this;function clearStateChar(){if(v){switch(v){case"*":C+=b,P=!0;break;case"?":C+=T,P=!0;break;default:C+="\\"+v}j.debug("clearStateChar %j %j",v,C),v=!1}}for(var B,V=0,$=d.length;V<$&&(B=d.charAt(V));V++)if(this.debug("%s\t%s %s %j",d,V,C,B),k&&A[B])C+="\\"+B,k=!1;else switch(B){case"/":return!1;case"\\":clearStateChar(),k=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",d,V,C,B),O){this.debug("  in class"),"!"===B&&V===L+1&&(B="^"),C+=B;continue}j.debug("call clearStateChar %j",v),clearStateChar(),v=B,g.noext&&clearStateChar();continue;case"(":if(O){C+="(";continue}if(!v){C+="\\(";continue}M.push({type:v,start:V-1,reStart:C.length,open:_[v].open,close:_[v].close}),C+="!"===v?"(?:(?!(?:":"(?:",this.debug("plType %j %j",v,C),v=!1;continue;case")":if(O||!M.length){C+="\\)";continue}clearStateChar(),P=!0;var q=M.pop();C+=q.close,"!"===q.type&&I.push(q),q.reEnd=C.length;continue;case"|":if(O||!M.length||k){C+="\\|",k=!1;continue}clearStateChar(),C+="|";continue;case"[":if(clearStateChar(),O){C+="\\"+B;continue}O=!0,L=V,x=C.length,C+=B;continue;case"]":if(V===L+1||!O){C+="\\"+B,k=!1;continue}if(O){var Y=d.substring(L+1,V);try{RegExp("["+Y+"]")}catch(d){var z=this.parse(Y,R);C=C.substr(0,x)+"\\["+z[0]+"\\]",P=P||z[1],O=!1;continue}}P=!0,O=!1,C+=B;continue;default:clearStateChar(),k?k=!1:!A[B]||"^"===B&&O||(C+="\\"),C+=B}O&&(Y=d.substr(L+1),z=this.parse(Y,R),C=C.substr(0,x)+"\\["+z[0],P=P||z[1]);for(q=M.pop();q;q=M.pop()){var G=C.slice(q.reStart+q.open.length);this.debug("setting tail",C,q),G=G.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(d,m,g){return g||(g="\\"),m+m+g+"|"})),this.debug("tail=%j\n   %s",G,G,q,C);var J="*"===q.type?b:"?"===q.type?T:"\\"+q.type;P=!0,C=C.slice(0,q.reStart)+J+"\\("+G}clearStateChar(),k&&(C+="\\\\");var X=!1;switch(C.charAt(0)){case".":case"[":case"(":X=!0}for(var te=I.length-1;te>-1;te--){var re=I[te],ie=C.slice(0,re.reStart),se=C.slice(re.reStart,re.reEnd-8),oe=C.slice(re.reEnd-8,re.reEnd),ae=C.slice(re.reEnd);oe+=ae;var ce=ie.split("(").length-1,le=ae;for(V=0;V<ce;V++)le=le.replace(/\)[+*?]?/,"");var de="";""===(ae=le)&&m!==R&&(de="$"),C=ie+se+ae+de+oe}""!==C&&P&&(C="(?=.)"+C);X&&(C=U+C);if(m===R)return[C,P];if(!P)return function globUnescape(d){return d.replace(/\\(.)/g,"$1")}(d);var he=g.nocase?"i":"";try{var pe=new RegExp("^"+C+"$",he)}catch(d){return new RegExp("$.")}return pe._glob=d,pe._src=C,pe};var R={};minimatch.makeRe=function(d,m){return new Minimatch(d,m||{}).makeRe()},Minimatch.prototype.makeRe=function makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;var d=this.set;if(!d.length)return this.regexp=!1,this.regexp;var m=this.options,g=m.noglobstar?b:m.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",v=m.nocase?"i":"",C=d.map((function(d){return d.map((function(d){return d===y?g:"string"==typeof d?function regExpEscape(d){return d.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(d):d._src})).join("\\/")})).join("|");C="^(?:"+C+")$",this.negate&&(C="^(?!"+C+").*$");try{this.regexp=new RegExp(C,v)}catch(d){this.regexp=!1}return this.regexp},minimatch.match=function(d,m,g){var v=new Minimatch(m,g=g||{});return d=d.filter((function(d){return v.match(d)})),v.options.nonull&&!d.length&&d.push(m),d},Minimatch.prototype.match=function match(d,m){if(this.debug("match",d,this.pattern),this.comment)return!1;if(this.empty)return""===d;if("/"===d&&m)return!0;var g=this.options;"/"!==v.sep&&(d=d.split(v.sep).join("/"));d=d.split(P),this.debug(this.pattern,"split",d);var y,C,_=this.set;for(this.debug(this.pattern,"set",_),C=d.length-1;C>=0&&!(y=d[C]);C--);for(C=0;C<_.length;C++){var T=_[C],b=d;if(g.matchBase&&1===T.length&&(b=[y]),this.matchOne(b,T,m))return!!g.flipNegate||!this.negate}return!g.flipNegate&&this.negate},Minimatch.prototype.matchOne=function(d,m,g){var v=this.options;this.debug("matchOne",{this:this,file:d,pattern:m}),this.debug("matchOne",d.length,m.length);for(var C=0,_=0,T=d.length,b=m.length;C<T&&_<b;C++,_++){this.debug("matchOne loop");var A,P=m[_],R=d[C];if(this.debug(m,P,R),!1===P)return!1;if(P===y){this.debug("GLOBSTAR",[m,P,R]);var k=C,M=_+1;if(M===b){for(this.debug("** at the end");C<T;C++)if("."===d[C]||".."===d[C]||!v.dot&&"."===d[C].charAt(0))return!1;return!0}for(;k<T;){var I=d[k];if(this.debug("\nglobstar while",d,k,m,M,I),this.matchOne(d.slice(k),m.slice(M),g))return this.debug("globstar found match!",k,T,I),!0;if("."===I||".."===I||!v.dot&&"."===I.charAt(0)){this.debug("dot detected!",d,k,m,M);break}this.debug("globstar swallow a segment, and continue"),k++}return!(!g||(this.debug("\n>>> no match, partial?",d,k,m,M),k!==T))}if("string"==typeof P?(A=v.nocase?R.toLowerCase()===P.toLowerCase():R===P,this.debug("string match",P,R,A)):(A=R.match(P),this.debug("pattern match",P,R,A)),!A)return!1}if(C===T&&_===b)return!0;if(C===T)return g;if(_===b)return C===T-1&&""===d[C];throw new Error("wtf?")}},41025:d=>{var m=1e3,g=60*m,v=60*g,y=24*v,C=7*y,_=365.25*y;function plural(d,m,g,v){var y=m>=1.5*g;return Math.round(d/g)+" "+v+(y?"s":"")}d.exports=function(d,T){T=T||{};var b=typeof d;if("string"===b&&d.length>0)return function parse(d){if((d=String(d)).length>100)return;var T=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(!T)return;var b=parseFloat(T[1]);switch((T[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return b*_;case"weeks":case"week":case"w":return b*C;case"days":case"day":case"d":return b*y;case"hours":case"hour":case"hrs":case"hr":case"h":return b*v;case"minutes":case"minute":case"mins":case"min":case"m":return b*g;case"seconds":case"second":case"secs":case"sec":case"s":return b*m;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return b;default:return}}(d);if("number"===b&&isFinite(d))return T.long?function fmtLong(d){var C=Math.abs(d);if(C>=y)return plural(d,C,y,"day");if(C>=v)return plural(d,C,v,"hour");if(C>=g)return plural(d,C,g,"minute");if(C>=m)return plural(d,C,m,"second");return d+" ms"}(d):function fmtShort(d){var C=Math.abs(d);if(C>=y)return Math.round(d/y)+"d";if(C>=v)return Math.round(d/v)+"h";if(C>=g)return Math.round(d/g)+"m";if(C>=m)return Math.round(d/m)+"s";return d+"ms"}(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))}},12433:(d,m,g)=>{var v=g(181),y=Object.prototype.hasOwnProperty,C="undefined"!=typeof Map;function ArraySet(){this._array=[],this._set=C?new Map:Object.create(null)}ArraySet.fromArray=function ArraySet_fromArray(d,m){for(var g=new ArraySet,v=0,y=d.length;v<y;v++)g.add(d[v],m);return g},ArraySet.prototype.size=function ArraySet_size(){return C?this._set.size:Object.getOwnPropertyNames(this._set).length},ArraySet.prototype.add=function ArraySet_add(d,m){var g=C?d:v.toSetString(d),_=C?this.has(d):y.call(this._set,g),T=this._array.length;_&&!m||this._array.push(d),_||(C?this._set.set(d,T):this._set[g]=T)},ArraySet.prototype.has=function ArraySet_has(d){if(C)return this._set.has(d);var m=v.toSetString(d);return y.call(this._set,m)},ArraySet.prototype.indexOf=function ArraySet_indexOf(d){if(C){var m=this._set.get(d);if(m>=0)return m}else{var g=v.toSetString(d);if(y.call(this._set,g))return this._set[g]}throw new Error('"'+d+'" is not in the set.')},ArraySet.prototype.at=function ArraySet_at(d){if(d>=0&&d<this._array.length)return this._array[d];throw new Error("No element indexed by "+d)},ArraySet.prototype.toArray=function ArraySet_toArray(){return this._array.slice()},m.I=ArraySet},51958:(d,m,g)=>{var v=g(36130);m.encode=function base64VLQ_encode(d){var m,g="",y=function toVLQSigned(d){return d<0?1+(-d<<1):0+(d<<1)}(d);do{m=31&y,(y>>>=5)>0&&(m|=32),g+=v.encode(m)}while(y>0);return g},m.decode=function base64VLQ_decode(d,m,g){var y,C,_=d.length,T=0,b=0;do{if(m>=_)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(C=v.decode(d.charCodeAt(m++))))throw new Error("Invalid base64 digit: "+d.charAt(m-1));y=!!(32&C),T+=(C&=31)<<b,b+=5}while(y);g.value=function fromVLQSigned(d){var m=d>>1;return 1==(1&d)?-m:m}(T),g.rest=m}},36130:(d,m)=>{var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");m.encode=function(d){if(0<=d&&d<g.length)return g[d];throw new TypeError("Must be between 0 and 63: "+d)},m.decode=function(d){return 65<=d&&d<=90?d-65:97<=d&&d<=122?d-97+26:48<=d&&d<=57?d-48+52:43==d?62:47==d?63:-1}},84876:(d,m)=>{function recursiveSearch(d,g,v,y,C,_){var T=Math.floor((g-d)/2)+d,b=C(v,y[T],!0);return 0===b?T:b>0?g-T>1?recursiveSearch(T,g,v,y,C,_):_==m.LEAST_UPPER_BOUND?g<y.length?g:-1:T:T-d>1?recursiveSearch(d,T,v,y,C,_):_==m.LEAST_UPPER_BOUND?T:d<0?-1:d}m.GREATEST_LOWER_BOUND=1,m.LEAST_UPPER_BOUND=2,m.search=function search(d,g,v,y){if(0===g.length)return-1;var C=recursiveSearch(-1,g.length,d,g,v,y||m.GREATEST_LOWER_BOUND);if(C<0)return-1;for(;C-1>=0&&0===v(g[C],g[C-1],!0);)--C;return C}},65299:(d,m,g)=>{var v=g(181);function MappingList(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}MappingList.prototype.unsortedForEach=function MappingList_forEach(d,m){this._array.forEach(d,m)},MappingList.prototype.add=function MappingList_add(d){!function generatedPositionAfter(d,m){var g=d.generatedLine,y=m.generatedLine,C=d.generatedColumn,_=m.generatedColumn;return y>g||y==g&&_>=C||v.compareByGeneratedPositionsInflated(d,m)<=0}(this._last,d)?(this._sorted=!1,this._array.push(d)):(this._last=d,this._array.push(d))},MappingList.prototype.toArray=function MappingList_toArray(){return this._sorted||(this._array.sort(v.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},m.H=MappingList},53755:(d,m)=>{function swap(d,m,g){var v=d[m];d[m]=d[g],d[g]=v}function doQuickSort(d,m,g,v){if(g<v){var y=g-1;swap(d,function randomIntInRange(d,m){return Math.round(d+Math.random()*(m-d))}(g,v),v);for(var C=d[v],_=g;_<v;_++)m(d[_],C)<=0&&swap(d,y+=1,_);swap(d,y+1,_);var T=y+1;doQuickSort(d,m,g,T-1),doQuickSort(d,m,T+1,v)}}m.U=function(d,m){doQuickSort(d,m,0,d.length-1)}},91756:(d,m,g)=>{var v=g(181),y=g(84876),C=g(12433).I,_=g(51958),T=g(53755).U;function SourceMapConsumer(d,m){var g=d;return"string"==typeof d&&(g=v.parseSourceMapInput(d)),null!=g.sections?new IndexedSourceMapConsumer(g,m):new BasicSourceMapConsumer(g,m)}function BasicSourceMapConsumer(d,m){var g=d;"string"==typeof d&&(g=v.parseSourceMapInput(d));var y=v.getArg(g,"version"),_=v.getArg(g,"sources"),T=v.getArg(g,"names",[]),b=v.getArg(g,"sourceRoot",null),A=v.getArg(g,"sourcesContent",null),P=v.getArg(g,"mappings"),R=v.getArg(g,"file",null);if(y!=this._version)throw new Error("Unsupported version: "+y);b&&(b=v.normalize(b)),_=_.map(String).map(v.normalize).map((function(d){return b&&v.isAbsolute(b)&&v.isAbsolute(d)?v.relative(b,d):d})),this._names=C.fromArray(T.map(String),!0),this._sources=C.fromArray(_,!0),this._absoluteSources=this._sources.toArray().map((function(d){return v.computeSourceURL(b,d,m)})),this.sourceRoot=b,this.sourcesContent=A,this._mappings=P,this._sourceMapURL=m,this.file=R}function Mapping(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function IndexedSourceMapConsumer(d,m){var g=d;"string"==typeof d&&(g=v.parseSourceMapInput(d));var y=v.getArg(g,"version"),_=v.getArg(g,"sections");if(y!=this._version)throw new Error("Unsupported version: "+y);this._sources=new C,this._names=new C;var T={line:-1,column:0};this._sections=_.map((function(d){if(d.url)throw new Error("Support for url field in sections not implemented.");var g=v.getArg(d,"offset"),y=v.getArg(g,"line"),C=v.getArg(g,"column");if(y<T.line||y===T.line&&C<T.column)throw new Error("Section offsets must be ordered and non-overlapping.");return T=g,{generatedOffset:{generatedLine:y+1,generatedColumn:C+1},consumer:new SourceMapConsumer(v.getArg(d,"map"),m)}}))}SourceMapConsumer.fromSourceMap=function(d,m){return BasicSourceMapConsumer.fromSourceMap(d,m)},SourceMapConsumer.prototype._version=3,SourceMapConsumer.prototype.__generatedMappings=null,Object.defineProperty(SourceMapConsumer.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),SourceMapConsumer.prototype.__originalMappings=null,Object.defineProperty(SourceMapConsumer.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),SourceMapConsumer.prototype._charIsMappingSeparator=function SourceMapConsumer_charIsMappingSeparator(d,m){var g=d.charAt(m);return";"===g||","===g},SourceMapConsumer.prototype._parseMappings=function SourceMapConsumer_parseMappings(d,m){throw new Error("Subclasses must implement _parseMappings")},SourceMapConsumer.GENERATED_ORDER=1,SourceMapConsumer.ORIGINAL_ORDER=2,SourceMapConsumer.GREATEST_LOWER_BOUND=1,SourceMapConsumer.LEAST_UPPER_BOUND=2,SourceMapConsumer.prototype.eachMapping=function SourceMapConsumer_eachMapping(d,m,g){var y,C=m||null;switch(g||SourceMapConsumer.GENERATED_ORDER){case SourceMapConsumer.GENERATED_ORDER:y=this._generatedMappings;break;case SourceMapConsumer.ORIGINAL_ORDER:y=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var _=this.sourceRoot;y.map((function(d){var m=null===d.source?null:this._sources.at(d.source);return{source:m=v.computeSourceURL(_,m,this._sourceMapURL),generatedLine:d.generatedLine,generatedColumn:d.generatedColumn,originalLine:d.originalLine,originalColumn:d.originalColumn,name:null===d.name?null:this._names.at(d.name)}}),this).forEach(d,C)},SourceMapConsumer.prototype.allGeneratedPositionsFor=function SourceMapConsumer_allGeneratedPositionsFor(d){var m=v.getArg(d,"line"),g={source:v.getArg(d,"source"),originalLine:m,originalColumn:v.getArg(d,"column",0)};if(g.source=this._findSourceIndex(g.source),g.source<0)return[];var C=[],_=this._findMapping(g,this._originalMappings,"originalLine","originalColumn",v.compareByOriginalPositions,y.LEAST_UPPER_BOUND);if(_>=0){var T=this._originalMappings[_];if(void 0===d.column)for(var b=T.originalLine;T&&T.originalLine===b;)C.push({line:v.getArg(T,"generatedLine",null),column:v.getArg(T,"generatedColumn",null),lastColumn:v.getArg(T,"lastGeneratedColumn",null)}),T=this._originalMappings[++_];else for(var A=T.originalColumn;T&&T.originalLine===m&&T.originalColumn==A;)C.push({line:v.getArg(T,"generatedLine",null),column:v.getArg(T,"generatedColumn",null),lastColumn:v.getArg(T,"lastGeneratedColumn",null)}),T=this._originalMappings[++_]}return C},m.SourceMapConsumer=SourceMapConsumer,BasicSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype),BasicSourceMapConsumer.prototype.consumer=SourceMapConsumer,BasicSourceMapConsumer.prototype._findSourceIndex=function(d){var m,g=d;if(null!=this.sourceRoot&&(g=v.relative(this.sourceRoot,g)),this._sources.has(g))return this._sources.indexOf(g);for(m=0;m<this._absoluteSources.length;++m)if(this._absoluteSources[m]==d)return m;return-1},BasicSourceMapConsumer.fromSourceMap=function SourceMapConsumer_fromSourceMap(d,m){var g=Object.create(BasicSourceMapConsumer.prototype),y=g._names=C.fromArray(d._names.toArray(),!0),_=g._sources=C.fromArray(d._sources.toArray(),!0);g.sourceRoot=d._sourceRoot,g.sourcesContent=d._generateSourcesContent(g._sources.toArray(),g.sourceRoot),g.file=d._file,g._sourceMapURL=m,g._absoluteSources=g._sources.toArray().map((function(d){return v.computeSourceURL(g.sourceRoot,d,m)}));for(var b=d._mappings.toArray().slice(),A=g.__generatedMappings=[],P=g.__originalMappings=[],R=0,k=b.length;R<k;R++){var M=b[R],I=new Mapping;I.generatedLine=M.generatedLine,I.generatedColumn=M.generatedColumn,M.source&&(I.source=_.indexOf(M.source),I.originalLine=M.originalLine,I.originalColumn=M.originalColumn,M.name&&(I.name=y.indexOf(M.name)),P.push(I)),A.push(I)}return T(g.__originalMappings,v.compareByOriginalPositions),g},BasicSourceMapConsumer.prototype._version=3,Object.defineProperty(BasicSourceMapConsumer.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),BasicSourceMapConsumer.prototype._parseMappings=function SourceMapConsumer_parseMappings(d,m){for(var g,y,C,b,A,P=1,R=0,k=0,M=0,I=0,O=0,x=d.length,L=0,U={},j={},B=[],V=[];L<x;)if(";"===d.charAt(L))P++,L++,R=0;else if(","===d.charAt(L))L++;else{for((g=new Mapping).generatedLine=P,b=L;b<x&&!this._charIsMappingSeparator(d,b);b++);if(C=U[y=d.slice(L,b)])L+=y.length;else{for(C=[];L<b;)_.decode(d,L,j),A=j.value,L=j.rest,C.push(A);if(2===C.length)throw new Error("Found a source, but no line and column");if(3===C.length)throw new Error("Found a source and line, but no column");U[y]=C}g.generatedColumn=R+C[0],R=g.generatedColumn,C.length>1&&(g.source=I+C[1],I+=C[1],g.originalLine=k+C[2],k=g.originalLine,g.originalLine+=1,g.originalColumn=M+C[3],M=g.originalColumn,C.length>4&&(g.name=O+C[4],O+=C[4])),V.push(g),"number"==typeof g.originalLine&&B.push(g)}T(V,v.compareByGeneratedPositionsDeflated),this.__generatedMappings=V,T(B,v.compareByOriginalPositions),this.__originalMappings=B},BasicSourceMapConsumer.prototype._findMapping=function SourceMapConsumer_findMapping(d,m,g,v,C,_){if(d[g]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+d[g]);if(d[v]<0)throw new TypeError("Column must be greater than or equal to 0, got "+d[v]);return y.search(d,m,C,_)},BasicSourceMapConsumer.prototype.computeColumnSpans=function SourceMapConsumer_computeColumnSpans(){for(var d=0;d<this._generatedMappings.length;++d){var m=this._generatedMappings[d];if(d+1<this._generatedMappings.length){var g=this._generatedMappings[d+1];if(m.generatedLine===g.generatedLine){m.lastGeneratedColumn=g.generatedColumn-1;continue}}m.lastGeneratedColumn=1/0}},BasicSourceMapConsumer.prototype.originalPositionFor=function SourceMapConsumer_originalPositionFor(d){var m={generatedLine:v.getArg(d,"line"),generatedColumn:v.getArg(d,"column")},g=this._findMapping(m,this._generatedMappings,"generatedLine","generatedColumn",v.compareByGeneratedPositionsDeflated,v.getArg(d,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(g>=0){var y=this._generatedMappings[g];if(y.generatedLine===m.generatedLine){var C=v.getArg(y,"source",null);null!==C&&(C=this._sources.at(C),C=v.computeSourceURL(this.sourceRoot,C,this._sourceMapURL));var _=v.getArg(y,"name",null);return null!==_&&(_=this._names.at(_)),{source:C,line:v.getArg(y,"originalLine",null),column:v.getArg(y,"originalColumn",null),name:_}}}return{source:null,line:null,column:null,name:null}},BasicSourceMapConsumer.prototype.hasContentsOfAllSources=function BasicSourceMapConsumer_hasContentsOfAllSources(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(d){return null==d})))},BasicSourceMapConsumer.prototype.sourceContentFor=function SourceMapConsumer_sourceContentFor(d,m){if(!this.sourcesContent)return null;var g=this._findSourceIndex(d);if(g>=0)return this.sourcesContent[g];var y,C=d;if(null!=this.sourceRoot&&(C=v.relative(this.sourceRoot,C)),null!=this.sourceRoot&&(y=v.urlParse(this.sourceRoot))){var _=C.replace(/^file:\/\//,"");if("file"==y.scheme&&this._sources.has(_))return this.sourcesContent[this._sources.indexOf(_)];if((!y.path||"/"==y.path)&&this._sources.has("/"+C))return this.sourcesContent[this._sources.indexOf("/"+C)]}if(m)return null;throw new Error('"'+C+'" is not in the SourceMap.')},BasicSourceMapConsumer.prototype.generatedPositionFor=function SourceMapConsumer_generatedPositionFor(d){var m=v.getArg(d,"source");if((m=this._findSourceIndex(m))<0)return{line:null,column:null,lastColumn:null};var g={source:m,originalLine:v.getArg(d,"line"),originalColumn:v.getArg(d,"column")},y=this._findMapping(g,this._originalMappings,"originalLine","originalColumn",v.compareByOriginalPositions,v.getArg(d,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(y>=0){var C=this._originalMappings[y];if(C.source===g.source)return{line:v.getArg(C,"generatedLine",null),column:v.getArg(C,"generatedColumn",null),lastColumn:v.getArg(C,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},IndexedSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype),IndexedSourceMapConsumer.prototype.constructor=SourceMapConsumer,IndexedSourceMapConsumer.prototype._version=3,Object.defineProperty(IndexedSourceMapConsumer.prototype,"sources",{get:function(){for(var d=[],m=0;m<this._sections.length;m++)for(var g=0;g<this._sections[m].consumer.sources.length;g++)d.push(this._sections[m].consumer.sources[g]);return d}}),IndexedSourceMapConsumer.prototype.originalPositionFor=function IndexedSourceMapConsumer_originalPositionFor(d){var m={generatedLine:v.getArg(d,"line"),generatedColumn:v.getArg(d,"column")},g=y.search(m,this._sections,(function(d,m){var g=d.generatedLine-m.generatedOffset.generatedLine;return g||d.generatedColumn-m.generatedOffset.generatedColumn})),C=this._sections[g];return C?C.consumer.originalPositionFor({line:m.generatedLine-(C.generatedOffset.generatedLine-1),column:m.generatedColumn-(C.generatedOffset.generatedLine===m.generatedLine?C.generatedOffset.generatedColumn-1:0),bias:d.bias}):{source:null,line:null,column:null,name:null}},IndexedSourceMapConsumer.prototype.hasContentsOfAllSources=function IndexedSourceMapConsumer_hasContentsOfAllSources(){return this._sections.every((function(d){return d.consumer.hasContentsOfAllSources()}))},IndexedSourceMapConsumer.prototype.sourceContentFor=function IndexedSourceMapConsumer_sourceContentFor(d,m){for(var g=0;g<this._sections.length;g++){var v=this._sections[g].consumer.sourceContentFor(d,!0);if(v)return v}if(m)return null;throw new Error('"'+d+'" is not in the SourceMap.')},IndexedSourceMapConsumer.prototype.generatedPositionFor=function IndexedSourceMapConsumer_generatedPositionFor(d){for(var m=0;m<this._sections.length;m++){var g=this._sections[m];if(-1!==g.consumer._findSourceIndex(v.getArg(d,"source"))){var y=g.consumer.generatedPositionFor(d);if(y)return{line:y.line+(g.generatedOffset.generatedLine-1),column:y.column+(g.generatedOffset.generatedLine===y.line?g.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},IndexedSourceMapConsumer.prototype._parseMappings=function IndexedSourceMapConsumer_parseMappings(d,m){this.__generatedMappings=[],this.__originalMappings=[];for(var g=0;g<this._sections.length;g++)for(var y=this._sections[g],C=y.consumer._generatedMappings,_=0;_<C.length;_++){var b=C[_],A=y.consumer._sources.at(b.source);A=v.computeSourceURL(y.consumer.sourceRoot,A,this._sourceMapURL),this._sources.add(A),A=this._sources.indexOf(A);var P=null;b.name&&(P=y.consumer._names.at(b.name),this._names.add(P),P=this._names.indexOf(P));var R={source:A,generatedLine:b.generatedLine+(y.generatedOffset.generatedLine-1),generatedColumn:b.generatedColumn+(y.generatedOffset.generatedLine===b.generatedLine?y.generatedOffset.generatedColumn-1:0),originalLine:b.originalLine,originalColumn:b.originalColumn,name:P};this.__generatedMappings.push(R),"number"==typeof R.originalLine&&this.__originalMappings.push(R)}T(this.__generatedMappings,v.compareByGeneratedPositionsDeflated),T(this.__originalMappings,v.compareByOriginalPositions)}},88412:(d,m,g)=>{var v=g(51958),y=g(181),C=g(12433).I,_=g(65299).H;function SourceMapGenerator(d){d||(d={}),this._file=y.getArg(d,"file",null),this._sourceRoot=y.getArg(d,"sourceRoot",null),this._skipValidation=y.getArg(d,"skipValidation",!1),this._sources=new C,this._names=new C,this._mappings=new _,this._sourcesContents=null}SourceMapGenerator.prototype._version=3,SourceMapGenerator.fromSourceMap=function SourceMapGenerator_fromSourceMap(d){var m=d.sourceRoot,g=new SourceMapGenerator({file:d.file,sourceRoot:m});return d.eachMapping((function(d){var v={generated:{line:d.generatedLine,column:d.generatedColumn}};null!=d.source&&(v.source=d.source,null!=m&&(v.source=y.relative(m,v.source)),v.original={line:d.originalLine,column:d.originalColumn},null!=d.name&&(v.name=d.name)),g.addMapping(v)})),d.sources.forEach((function(v){var C=v;null!==m&&(C=y.relative(m,v)),g._sources.has(C)||g._sources.add(C);var _=d.sourceContentFor(v);null!=_&&g.setSourceContent(v,_)})),g},SourceMapGenerator.prototype.addMapping=function SourceMapGenerator_addMapping(d){var m=y.getArg(d,"generated"),g=y.getArg(d,"original",null),v=y.getArg(d,"source",null),C=y.getArg(d,"name",null);this._skipValidation||this._validateMapping(m,g,v,C),null!=v&&(v=String(v),this._sources.has(v)||this._sources.add(v)),null!=C&&(C=String(C),this._names.has(C)||this._names.add(C)),this._mappings.add({generatedLine:m.line,generatedColumn:m.column,originalLine:null!=g&&g.line,originalColumn:null!=g&&g.column,source:v,name:C})},SourceMapGenerator.prototype.setSourceContent=function SourceMapGenerator_setSourceContent(d,m){var g=d;null!=this._sourceRoot&&(g=y.relative(this._sourceRoot,g)),null!=m?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[y.toSetString(g)]=m):this._sourcesContents&&(delete this._sourcesContents[y.toSetString(g)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},SourceMapGenerator.prototype.applySourceMap=function SourceMapGenerator_applySourceMap(d,m,g){var v=m;if(null==m){if(null==d.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');v=d.file}var _=this._sourceRoot;null!=_&&(v=y.relative(_,v));var T=new C,b=new C;this._mappings.unsortedForEach((function(m){if(m.source===v&&null!=m.originalLine){var C=d.originalPositionFor({line:m.originalLine,column:m.originalColumn});null!=C.source&&(m.source=C.source,null!=g&&(m.source=y.join(g,m.source)),null!=_&&(m.source=y.relative(_,m.source)),m.originalLine=C.line,m.originalColumn=C.column,null!=C.name&&(m.name=C.name))}var A=m.source;null==A||T.has(A)||T.add(A);var P=m.name;null==P||b.has(P)||b.add(P)}),this),this._sources=T,this._names=b,d.sources.forEach((function(m){var v=d.sourceContentFor(m);null!=v&&(null!=g&&(m=y.join(g,m)),null!=_&&(m=y.relative(_,m)),this.setSourceContent(m,v))}),this)},SourceMapGenerator.prototype._validateMapping=function SourceMapGenerator_validateMapping(d,m,g,v){if(m&&"number"!=typeof m.line&&"number"!=typeof m.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(d&&"line"in d&&"column"in d&&d.line>0&&d.column>=0)||m||g||v)&&!(d&&"line"in d&&"column"in d&&m&&"line"in m&&"column"in m&&d.line>0&&d.column>=0&&m.line>0&&m.column>=0&&g))throw new Error("Invalid mapping: "+JSON.stringify({generated:d,source:g,original:m,name:v}))},SourceMapGenerator.prototype._serializeMappings=function SourceMapGenerator_serializeMappings(){for(var d,m,g,C,_=0,T=1,b=0,A=0,P=0,R=0,k="",M=this._mappings.toArray(),I=0,O=M.length;I<O;I++){if(d="",(m=M[I]).generatedLine!==T)for(_=0;m.generatedLine!==T;)d+=";",T++;else if(I>0){if(!y.compareByGeneratedPositionsInflated(m,M[I-1]))continue;d+=","}d+=v.encode(m.generatedColumn-_),_=m.generatedColumn,null!=m.source&&(C=this._sources.indexOf(m.source),d+=v.encode(C-R),R=C,d+=v.encode(m.originalLine-1-A),A=m.originalLine-1,d+=v.encode(m.originalColumn-b),b=m.originalColumn,null!=m.name&&(g=this._names.indexOf(m.name),d+=v.encode(g-P),P=g)),k+=d}return k},SourceMapGenerator.prototype._generateSourcesContent=function SourceMapGenerator_generateSourcesContent(d,m){return d.map((function(d){if(!this._sourcesContents)return null;null!=m&&(d=y.relative(m,d));var g=y.toSetString(d);return Object.prototype.hasOwnProperty.call(this._sourcesContents,g)?this._sourcesContents[g]:null}),this)},SourceMapGenerator.prototype.toJSON=function SourceMapGenerator_toJSON(){var d={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(d.file=this._file),null!=this._sourceRoot&&(d.sourceRoot=this._sourceRoot),this._sourcesContents&&(d.sourcesContent=this._generateSourcesContent(d.sources,d.sourceRoot)),d},SourceMapGenerator.prototype.toString=function SourceMapGenerator_toString(){return JSON.stringify(this.toJSON())},m.h=SourceMapGenerator},36231:(d,m,g)=>{var v=g(88412).h,y=g(181),C=/(\r?\n)/,_="$$$isSourceNode$$$";function SourceNode(d,m,g,v,y){this.children=[],this.sourceContents={},this.line=null==d?null:d,this.column=null==m?null:m,this.source=null==g?null:g,this.name=null==y?null:y,this[_]=!0,null!=v&&this.add(v)}SourceNode.fromStringWithSourceMap=function SourceNode_fromStringWithSourceMap(d,m,g){var v=new SourceNode,_=d.split(C),T=0,shiftNextLine=function(){return getNextLine()+(getNextLine()||"");function getNextLine(){return T<_.length?_[T++]:void 0}},b=1,A=0,P=null;return m.eachMapping((function(d){if(null!==P){if(!(b<d.generatedLine)){var m=(g=_[T]||"").substr(0,d.generatedColumn-A);return _[T]=g.substr(d.generatedColumn-A),A=d.generatedColumn,addMappingWithCode(P,m),void(P=d)}addMappingWithCode(P,shiftNextLine()),b++,A=0}for(;b<d.generatedLine;)v.add(shiftNextLine()),b++;if(A<d.generatedColumn){var g=_[T]||"";v.add(g.substr(0,d.generatedColumn)),_[T]=g.substr(d.generatedColumn),A=d.generatedColumn}P=d}),this),T<_.length&&(P&&addMappingWithCode(P,shiftNextLine()),v.add(_.splice(T).join(""))),m.sources.forEach((function(d){var C=m.sourceContentFor(d);null!=C&&(null!=g&&(d=y.join(g,d)),v.setSourceContent(d,C))})),v;function addMappingWithCode(d,m){if(null===d||void 0===d.source)v.add(m);else{var C=g?y.join(g,d.source):d.source;v.add(new SourceNode(d.originalLine,d.originalColumn,C,m,d.name))}}},SourceNode.prototype.add=function SourceNode_add(d){if(Array.isArray(d))d.forEach((function(d){this.add(d)}),this);else{if(!d[_]&&"string"!=typeof d)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+d);d&&this.children.push(d)}return this},SourceNode.prototype.prepend=function SourceNode_prepend(d){if(Array.isArray(d))for(var m=d.length-1;m>=0;m--)this.prepend(d[m]);else{if(!d[_]&&"string"!=typeof d)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+d);this.children.unshift(d)}return this},SourceNode.prototype.walk=function SourceNode_walk(d){for(var m,g=0,v=this.children.length;g<v;g++)(m=this.children[g])[_]?m.walk(d):""!==m&&d(m,{source:this.source,line:this.line,column:this.column,name:this.name})},SourceNode.prototype.join=function SourceNode_join(d){var m,g,v=this.children.length;if(v>0){for(m=[],g=0;g<v-1;g++)m.push(this.children[g]),m.push(d);m.push(this.children[g]),this.children=m}return this},SourceNode.prototype.replaceRight=function SourceNode_replaceRight(d,m){var g=this.children[this.children.length-1];return g[_]?g.replaceRight(d,m):"string"==typeof g?this.children[this.children.length-1]=g.replace(d,m):this.children.push("".replace(d,m)),this},SourceNode.prototype.setSourceContent=function SourceNode_setSourceContent(d,m){this.sourceContents[y.toSetString(d)]=m},SourceNode.prototype.walkSourceContents=function SourceNode_walkSourceContents(d){for(var m=0,g=this.children.length;m<g;m++)this.children[m][_]&&this.children[m].walkSourceContents(d);var v=Object.keys(this.sourceContents);for(m=0,g=v.length;m<g;m++)d(y.fromSetString(v[m]),this.sourceContents[v[m]])},SourceNode.prototype.toString=function SourceNode_toString(){var d="";return this.walk((function(m){d+=m})),d},SourceNode.prototype.toStringWithSourceMap=function SourceNode_toStringWithSourceMap(d){var m={code:"",line:1,column:0},g=new v(d),y=!1,C=null,_=null,T=null,b=null;return this.walk((function(d,v){m.code+=d,null!==v.source&&null!==v.line&&null!==v.column?(C===v.source&&_===v.line&&T===v.column&&b===v.name||g.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:m.line,column:m.column},name:v.name}),C=v.source,_=v.line,T=v.column,b=v.name,y=!0):y&&(g.addMapping({generated:{line:m.line,column:m.column}}),C=null,y=!1);for(var A=0,P=d.length;A<P;A++)10===d.charCodeAt(A)?(m.line++,m.column=0,A+1===P?(C=null,y=!1):y&&g.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:m.line,column:m.column},name:v.name})):m.column++})),this.walkSourceContents((function(d,m){g.setSourceContent(d,m)})),{code:m.code,map:g}}},181:(d,m)=>{m.getArg=function getArg(d,m,g){if(m in d)return d[m];if(3===arguments.length)return g;throw new Error('"'+m+'" is a required argument.')};var g=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,v=/^data:.+\,.+$/;function urlParse(d){var m=d.match(g);return m?{scheme:m[1],auth:m[2],host:m[3],port:m[4],path:m[5]}:null}function urlGenerate(d){var m="";return d.scheme&&(m+=d.scheme+":"),m+="//",d.auth&&(m+=d.auth+"@"),d.host&&(m+=d.host),d.port&&(m+=":"+d.port),d.path&&(m+=d.path),m}function normalize(d){var g=d,v=urlParse(d);if(v){if(!v.path)return d;g=v.path}for(var y,C=m.isAbsolute(g),_=g.split(/\/+/),T=0,b=_.length-1;b>=0;b--)"."===(y=_[b])?_.splice(b,1):".."===y?T++:T>0&&(""===y?(_.splice(b+1,T),T=0):(_.splice(b,2),T--));return""===(g=_.join("/"))&&(g=C?"/":"."),v?(v.path=g,urlGenerate(v)):g}function join(d,m){""===d&&(d="."),""===m&&(m=".");var g=urlParse(m),y=urlParse(d);if(y&&(d=y.path||"/"),g&&!g.scheme)return y&&(g.scheme=y.scheme),urlGenerate(g);if(g||m.match(v))return m;if(y&&!y.host&&!y.path)return y.host=m,urlGenerate(y);var C="/"===m.charAt(0)?m:normalize(d.replace(/\/+$/,"")+"/"+m);return y?(y.path=C,urlGenerate(y)):C}m.urlParse=urlParse,m.urlGenerate=urlGenerate,m.normalize=normalize,m.join=join,m.isAbsolute=function(d){return"/"===d.charAt(0)||g.test(d)},m.relative=function relative(d,m){""===d&&(d="."),d=d.replace(/\/$/,"");for(var g=0;0!==m.indexOf(d+"/");){var v=d.lastIndexOf("/");if(v<0)return m;if((d=d.slice(0,v)).match(/^([^\/]+:\/)?\/*$/))return m;++g}return Array(g+1).join("../")+m.substr(d.length+1)};var y=!("__proto__"in Object.create(null));function identity(d){return d}function isProtoString(d){if(!d)return!1;var m=d.length;if(m<9)return!1;if(95!==d.charCodeAt(m-1)||95!==d.charCodeAt(m-2)||111!==d.charCodeAt(m-3)||116!==d.charCodeAt(m-4)||111!==d.charCodeAt(m-5)||114!==d.charCodeAt(m-6)||112!==d.charCodeAt(m-7)||95!==d.charCodeAt(m-8)||95!==d.charCodeAt(m-9))return!1;for(var g=m-10;g>=0;g--)if(36!==d.charCodeAt(g))return!1;return!0}function strcmp(d,m){return d===m?0:null===d?1:null===m?-1:d>m?1:-1}m.toSetString=y?identity:function toSetString(d){return isProtoString(d)?"$"+d:d},m.fromSetString=y?identity:function fromSetString(d){return isProtoString(d)?d.slice(1):d},m.compareByOriginalPositions=function compareByOriginalPositions(d,m,g){var v=strcmp(d.source,m.source);return 0!==v||0!==(v=d.originalLine-m.originalLine)||0!==(v=d.originalColumn-m.originalColumn)||g||0!==(v=d.generatedColumn-m.generatedColumn)||0!==(v=d.generatedLine-m.generatedLine)?v:strcmp(d.name,m.name)},m.compareByGeneratedPositionsDeflated=function compareByGeneratedPositionsDeflated(d,m,g){var v=d.generatedLine-m.generatedLine;return 0!==v||0!==(v=d.generatedColumn-m.generatedColumn)||g||0!==(v=strcmp(d.source,m.source))||0!==(v=d.originalLine-m.originalLine)||0!==(v=d.originalColumn-m.originalColumn)?v:strcmp(d.name,m.name)},m.compareByGeneratedPositionsInflated=function compareByGeneratedPositionsInflated(d,m){var g=d.generatedLine-m.generatedLine;return 0!==g||0!==(g=d.generatedColumn-m.generatedColumn)||0!==(g=strcmp(d.source,m.source))||0!==(g=d.originalLine-m.originalLine)||0!==(g=d.originalColumn-m.originalColumn)?g:strcmp(d.name,m.name)},m.parseSourceMapInput=function parseSourceMapInput(d){return JSON.parse(d.replace(/^\)]}'[^\n]*\n/,""))},m.computeSourceURL=function computeSourceURL(d,m,g){if(m=m||"",d&&("/"!==d[d.length-1]&&"/"!==m[0]&&(d+="/"),m=d+m),g){var v=urlParse(g);if(!v)throw new Error("sourceMapURL could not be parsed");if(v.path){var y=v.path.lastIndexOf("/");y>=0&&(v.path=v.path.substring(0,y+1))}m=join(urlGenerate(v),m)}return normalize(m)}},76939:(d,m,g)=>{g(88412).h,m.SourceMapConsumer=g(91756).SourceMapConsumer,g(36231)},79542:(d,m,g)=>{var v,y=g(76939).SourceMapConsumer,C=g(71017);try{(v=g(57147)).existsSync&&v.readFileSync||(v=null)}catch(d){}var _=g(14835),T=!1,b=!1,A=!1,P="auto",R={},k={},M=/^data:application\/json[^,]+base64,/,I=[],O=[];function isInBrowser(){return"browser"===P||"node"!==P&&("undefined"!=typeof window&&"function"==typeof XMLHttpRequest&&!(window.require&&window.module&&window.process&&"renderer"===window.process.type))}function handlerExec(d){return function(m){for(var g=0;g<d.length;g++){var v=d[g](m);if(v)return v}return null}}var x=handlerExec(I);function supportRelativeURL(d,m){if(!d)return m;var g=C.dirname(d),v=/^\w+:\/\/[^\/]*/.exec(g),y=v?v[0]:"",_=g.slice(y.length);return y&&/^\/\w\:/.test(_)?(y+="/")+C.resolve(g.slice(y.length),m).replace(/\\/g,"/"):y+C.resolve(g.slice(y.length),m)}I.push((function(d){if(d=d.trim(),/^file:/.test(d)&&(d=d.replace(/file:\/\/\/(\w:)?/,(function(d,m){return m?"":"/"}))),d in R)return R[d];var m="";try{if(v)v.existsSync(d)&&(m=v.readFileSync(d,"utf8"));else{var g=new XMLHttpRequest;g.open("GET",d,!1),g.send(null),4===g.readyState&&200===g.status&&(m=g.responseText)}}catch(d){}return R[d]=m}));var L=handlerExec(O);function mapSourcePosition(d){var m=k[d.source];if(!m){var g=L(d.source);g?(m=k[d.source]={url:g.url,map:new y(g.map)}).map.sourcesContent&&m.map.sources.forEach((function(d,g){var v=m.map.sourcesContent[g];if(v){var y=supportRelativeURL(m.url,d);R[y]=v}})):m=k[d.source]={url:null,map:null}}if(m&&m.map&&"function"==typeof m.map.originalPositionFor){var v=m.map.originalPositionFor(d);if(null!==v.source)return v.source=supportRelativeURL(m.url,v.source),v}return d}function mapEvalOrigin(d){var m=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(d);if(m){var g=mapSourcePosition({source:m[2],line:+m[3],column:m[4]-1});return"eval at "+m[1]+" ("+g.source+":"+g.line+":"+(g.column+1)+")"}return(m=/^eval at ([^(]+) \((.+)\)$/.exec(d))?"eval at "+m[1]+" ("+mapEvalOrigin(m[2])+")":d}function CallSiteToString(){var d,m="";if(this.isNative())m="native";else{!(d=this.getScriptNameOrSourceURL())&&this.isEval()&&(m=this.getEvalOrigin(),m+=", "),m+=d||"<anonymous>";var g=this.getLineNumber();if(null!=g){m+=":"+g;var v=this.getColumnNumber();v&&(m+=":"+v)}}var y="",C=this.getFunctionName(),_=!0,T=this.isConstructor();if(!(this.isToplevel()||T)){var b=this.getTypeName();"[object Object]"===b&&(b="null");var A=this.getMethodName();C?(b&&0!=C.indexOf(b)&&(y+=b+"."),y+=C,A&&C.indexOf("."+A)!=C.length-A.length-1&&(y+=" [as "+A+"]")):y+=b+"."+(A||"<anonymous>")}else T?y+="new "+(C||"<anonymous>"):C?y+=C:(y+=m,_=!1);return _&&(y+=" ("+m+")"),y}function cloneCallSite(d){var m={};return Object.getOwnPropertyNames(Object.getPrototypeOf(d)).forEach((function(g){m[g]=/^(?:is|get)/.test(g)?function(){return d[g].call(d)}:d[g]})),m.toString=CallSiteToString,m}function wrapCallSite(d,m){if(void 0===m&&(m={nextPosition:null,curPosition:null}),d.isNative())return m.curPosition=null,d;var g=d.getFileName()||d.getScriptNameOrSourceURL();if(g){var v=d.getLineNumber(),y=d.getColumnNumber()-1,C=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/.test(process.version)?0:62;1===v&&y>C&&!isInBrowser()&&!d.isEval()&&(y-=C);var _=mapSourcePosition({source:g,line:v,column:y});m.curPosition=_;var T=(d=cloneCallSite(d)).getFunctionName;return d.getFunctionName=function(){return null==m.nextPosition?T():m.nextPosition.name||T()},d.getFileName=function(){return _.source},d.getLineNumber=function(){return _.line},d.getColumnNumber=function(){return _.column+1},d.getScriptNameOrSourceURL=function(){return _.source},d}var b=d.isEval()&&d.getEvalOrigin();return b?(b=mapEvalOrigin(b),(d=cloneCallSite(d)).getEvalOrigin=function(){return b},d):d}function prepareStackTrace(d,m){A&&(R={},k={});for(var g=(d.name||"Error")+": "+(d.message||""),v={nextPosition:null,curPosition:null},y=[],C=m.length-1;C>=0;C--)y.push("\n    at "+wrapCallSite(m[C],v)),v.nextPosition=v.curPosition;return v.curPosition=v.nextPosition=null,g+y.reverse().join("")}function getErrorSource(d){var m=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(d.stack);if(m){var g=m[1],y=+m[2],C=+m[3],_=R[g];if(!_&&v&&v.existsSync(g))try{_=v.readFileSync(g,"utf8")}catch(d){_=""}if(_){var T=_.split(/(?:\r\n|\r|\n)/)[y-1];if(T)return g+":"+y+"\n"+T+"\n"+new Array(C).join(" ")+"^"}}return null}function printErrorAndExit(d){var m=getErrorSource(d);process.stderr._handle&&process.stderr._handle.setBlocking&&process.stderr._handle.setBlocking(!0),m&&(console.error(),console.error(m)),console.error(d.stack),process.exit(1)}O.push((function(d){var m,g=function retrieveSourceMapURL(d){var m;if(isInBrowser())try{var g=new XMLHttpRequest;g.open("GET",d,!1),g.send(null),m=4===g.readyState?g.responseText:null;var v=g.getResponseHeader("SourceMap")||g.getResponseHeader("X-SourceMap");if(v)return v}catch(d){}m=x(d);for(var y,C,_=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/gm;C=_.exec(m);)y=C;return y?y[1]:null}(d);if(!g)return null;if(M.test(g)){var v=g.slice(g.indexOf(",")+1);m=_(v,"base64").toString(),g=d}else g=supportRelativeURL(d,g),m=x(g);return m?{url:g,map:m}:null}));var U=I.slice(0),j=O.slice(0);m.wrapCallSite=wrapCallSite,m.getErrorSource=getErrorSource,m.mapSourcePosition=mapSourcePosition,m.retrieveSourceMap=L,m.install=function(d){if((d=d||{}).environment&&(P=d.environment,-1===["node","browser","auto"].indexOf(P)))throw new Error("environment "+P+" was unknown. Available options are {auto, browser, node}");if(d.retrieveFile&&(d.overrideRetrieveFile&&(I.length=0),I.unshift(d.retrieveFile)),d.retrieveSourceMap&&(d.overrideRetrieveSourceMap&&(O.length=0),O.unshift(d.retrieveSourceMap)),d.hookRequire&&!isInBrowser()){var m;try{m=g(98188)}catch(d){}var v=m.prototype._compile;v.__sourceMapSupport||(m.prototype._compile=function(d,m){return R[m]=d,k[m]=void 0,v.call(this,d,m)},m.prototype._compile.__sourceMapSupport=!0)}(A||(A="emptyCacheBetweenOperations"in d&&d.emptyCacheBetweenOperations),T||(T=!0,Error.prepareStackTrace=prepareStackTrace),b)||(!("handleUncaughtExceptions"in d)||d.handleUncaughtExceptions)&&function hasGlobalProcessEventEmitter(){return"object"==typeof process&&null!==process&&"function"==typeof process.on}()&&(b=!0,function shimEmitUncaughtException(){var d=process.emit;process.emit=function(m){if("uncaughtException"===m){var g=arguments[1]&&arguments[1].stack,v=this.listeners(m).length>0;if(g&&!v)return printErrorAndExit(arguments[1])}return d.apply(this,arguments)}}())},m.resetRetrieveHandlers=function(){I.length=0,O.length=0,I=U.slice(0),O=j.slice(0),L=handlerExec(O),x=handlerExec(I)}},11216:(d,m,g)=>{"use strict";const v=g(22037),y=g(76224),C=g(15558),{env:_}=process;let T;function translateLevel(d){return 0!==d&&{level:d,hasBasic:!0,has256:d>=2,has16m:d>=3}}function supportsColor(d,m){if(0===T)return 0;if(C("color=16m")||C("color=full")||C("color=truecolor"))return 3;if(C("color=256"))return 2;if(d&&!m&&void 0===T)return 0;const g=T||0;if("dumb"===_.TERM)return g;if("win32"===process.platform){const d=v.release().split(".");return Number(d[0])>=10&&Number(d[2])>=10586?Number(d[2])>=14931?3:2:1}if("CI"in _)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((d=>d in _))||"codeship"===_.CI_NAME?1:g;if("TEAMCITY_VERSION"in _)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(_.TEAMCITY_VERSION)?1:0;if("GITHUB_ACTIONS"in _)return 1;if("truecolor"===_.COLORTERM)return 3;if("TERM_PROGRAM"in _){const d=parseInt((_.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(_.TERM_PROGRAM){case"iTerm.app":return d>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(_.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(_.TERM)||"COLORTERM"in _?1:g}C("no-color")||C("no-colors")||C("color=false")||C("color=never")?T=0:(C("color")||C("colors")||C("color=true")||C("color=always"))&&(T=1),"FORCE_COLOR"in _&&(T="true"===_.FORCE_COLOR?1:"false"===_.FORCE_COLOR?0:0===_.FORCE_COLOR.length?1:Math.min(parseInt(_.FORCE_COLOR,10),3)),d.exports={supportsColor:function getSupportLevel(d){return translateLevel(supportsColor(d,d&&d.isTTY))},stdout:translateLevel(supportsColor(!0,y.isatty(1))),stderr:translateLevel(supportsColor(!0,y.isatty(2)))}},65526:(d,m,g)=>{"use strict";g.r(m),g.d(m,{AppInsightsCore:()=>he,BaseCore:()=>me,BaseTelemetryPlugin:()=>G.i,CoreUtils:()=>le.Tr,DiagnosticLogger:()=>I.AQ,ESPromise:()=>ge,ESPromiseScheduler:()=>Ce,EventHelper:()=>Ae.zB,EventLatency:()=>A,EventPersistence:()=>R,EventPropertyType:()=>P,EventsDiscardedReason:()=>be.h,FullVersionString:()=>le.vs,InternalAppInsightsCore:()=>ce,InternalBaseCore:()=>oe,LoggingSeverity:()=>_,MinChannelPriorty:()=>Te,NotificationManager:()=>ae,PerfEvent:()=>O.zn,PerfManager:()=>O.Jk,ProcessTelemetryContext:()=>j.Vi,TraceLevel:()=>k,Undefined:()=>Ne.jA,Utils:()=>le.cQ,ValueKind:()=>b,ValueSanitizer:()=>_e,Version:()=>le.Gf,_ExtendedInternalMessageId:()=>M,_InternalLogMessage:()=>I.lQ,_InternalMessageId:()=>T,__getRegisteredEvents:()=>Pe.um,_throwInternal:()=>I.kP,addEventHandler:()=>Pe.Ib,addEventListeners:()=>Pe.yw,addPageHideEventListener:()=>Pe.TJ,addPageShowEventListener:()=>Pe.nD,addPageUnloadEventListener:()=>Pe.c9,areCookiesSupported:()=>V.p7,arrForEach:()=>C.tO,arrIndexOf:()=>C.UA,arrMap:()=>C.Mr,arrReduce:()=>C.Xz,attachEvent:()=>Pe.pZ,cookieAvailable:()=>V.p7,createCookieMgr:()=>V.Nz,createEnumStyle:()=>y.By,createGuid:()=>le.cm,createProcessTelemetryContext:()=>j.CD,createTraceParent:()=>De.SU,createUniqueNamespace:()=>X.J,createUnloadHandlerContainer:()=>te.Y,dateNow:()=>C.m6,deleteCookie:()=>le.kT,detachEvent:()=>Pe.pD,disableCookies:()=>le.oF,disallowsSameSiteNone:()=>V.UY,doPerf:()=>O.Lm,dumpObj:()=>x.eU,eventOff:()=>Pe.QY,eventOn:()=>Pe.XO,extend:()=>le.l7,findW3cTraceParent:()=>De.lq,formatTraceParent:()=>De.aR,generateW3CId:()=>Ae.DO,getCommonSchemaMetaData:()=>le.Vv,getConsole:()=>x.dr,getCookie:()=>le.ej,getCookieValue:()=>le.Do,getCrypto:()=>x.MX,getDocument:()=>x.Me,getExceptionName:()=>C.jj,getFieldValueType:()=>le.Sy,getGlobal:()=>L.Rd,getGlobalInst:()=>x.a8,getHistory:()=>x.s1,getIEVersion:()=>x.sA,getISOString:()=>C.Y6,getJSON:()=>x.xA,getLocation:()=>x.k$,getMsCrypto:()=>x.gz,getNavigator:()=>x.jW,getPerformance:()=>x.r,getSetValue:()=>C.qK,getTenantId:()=>le.jM,getTime:()=>le.hK,getWindow:()=>x.Jj,hasDocument:()=>x.Nv,hasHistory:()=>x.fE,hasJSON:()=>x.nS,hasNavigator:()=>x.d6,hasOwnProperty:()=>C.nr,hasWindow:()=>x.Ym,isArray:()=>C.kJ,isArrayValid:()=>le.JT,isBeaconsSupported:()=>x.MF,isBoolean:()=>C.jn,isChromium:()=>le.mJ,isDate:()=>C.J_,isDocumentObjectAvailable:()=>le.x9,isError:()=>C.VZ,isFetchSupported:()=>x.JO,isFunction:()=>C.mf,isIE:()=>x.w1,isLatency:()=>le.r7,isNotTruthy:()=>C.F,isNullOrUndefined:()=>C.le,isNumber:()=>C.hj,isObject:()=>C.Kn,isReactNative:()=>x.b$,isSampledFlag:()=>De.Pn,isString:()=>C.HD,isTruthy:()=>C.fQ,isTypeof:()=>C.Ym,isUint8ArrayAvailable:()=>le.IZ,isUndefined:()=>C.o8,isValidSpanId:()=>De.Lc,isValidTraceId:()=>De.jN,isValidTraceParent:()=>De.J6,isValueAssigned:()=>le.Sn,isValueKind:()=>le.oS,isWindowObjectAvailable:()=>le.dH,isXhrSupported:()=>x.Z3,mergeEvtNamespace:()=>Pe.jU,newGuid:()=>Ae.GW,newId:()=>ke.pZ,normalizeJsName:()=>C.Gf,objCreate:()=>L.pu,objDefineAccessors:()=>C.l_,objForEachKey:()=>C.rW,objFreeze:()=>C.FL,objKeys:()=>C.FY,objSeal:()=>C.Xi,openXhr:()=>le.ot,optimizeObject:()=>C.Ax,parseTraceParent:()=>De.j_,perfNow:()=>Ae.Jj,proxyAssign:()=>C.cf,proxyFunctionAs:()=>C.Oi,proxyFunctions:()=>C.Vb,random32:()=>ke._l,randomValue:()=>ke.az,removeEventHandler:()=>Pe.C1,removeEventListeners:()=>Pe.nJ,removePageHideEventListener:()=>Pe.C9,removePageShowEventListener:()=>Pe.Yl,removePageUnloadEventListener:()=>Pe.JA,safeGetCookieMgr:()=>V.JP,safeGetLogger:()=>I.vH,sanitizeProperty:()=>le.yj,setCookie:()=>le.d8,setEnableEnvMocks:()=>x.dI,setProcessTelemetryTimings:()=>le.if,setValue:()=>C.sO,strContains:()=>C._Q,strEndsWith:()=>C.Id,strFunction:()=>Ne.cb,strObject:()=>Ne.fK,strPrototype:()=>Ne.hB,strStartsWith:()=>C.xe,strTrim:()=>C.nd,strUndefined:()=>Ne.jA,throwError:()=>C._y,toISOString:()=>C.Y6,useXDomainRequest:()=>x.cp});var v=g(43298),y=g(32579),C=g(36696),_=(0,y.By)({CRITICAL:1,WARNING:2}),T=(0,y.By)({BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105,InstrumentationKeyDeprecation:106}),b=(0,y.By)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),A=(0,y.By)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),P=(0,y.By)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),R=(0,y.By)({Normal:1,Critical:2}),k=(0,y.By)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),M=(0,C.FL)((0,v.uc)((0,v.uc)({},T),(0,y.By)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}))),I=g(92451),O=g(89062),x=g(53989),L=g(28785),U=g(92160),j=g(88585),B=g(29181),V=g(85121),$=g(54319),q=g(3516),Y=g(70780),z=500;function _addChannelQueue(d,m,g,v){m&&(0,C.kJ)(m)&&m.length>0&&(m=m.sort((function(d,m){return d.priority-m.priority})),(0,C.tO)(m,(function(d){d.priority<z&&(0,C._y)("Channel has invalid priority - "+d.identifier)})),d.push({queue:(0,C.FL)(m),chain:(0,j.jV)(m,g,v)}))}var G=g(58194),J=function(d){function TelemetryInitializerPlugin(){var m,g,v=d.call(this)||this;function _initDefaults(){m=0,g=[]}return v.identifier="TelemetryInitializerPlugin",v.priority=199,_initDefaults(),(0,U.Z)(TelemetryInitializerPlugin,v,(function(d,v){d.addTelemetryInitializer=function(d){var v={id:m++,fn:d};return g.push(v),{remove:function(){(0,C.tO)(g,(function(d,m){if(d.id===v.id)return g.splice(m,1),-1}))}}},d.processTelemetry=function(m,v){for(var y=!1,_=g.length,T=0;T<_;++T){var b=g[T];if(b)try{if(!1===b.fn.apply(null,[m])){y=!0;break}}catch(d){(0,I.kP)(v.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,C.jj)(d),{exception:(0,x.eU)(d)},!0)}}y||d.processNext(m,v)},d[Y.Ho]=function(){_initDefaults()}})),v}return(0,v.ne)(TelemetryInitializerPlugin,d),TelemetryInitializerPlugin}(G.i),X=g(76413),te=g(20088),re="Plugins must provide initialize method",ie="SDK is still unloading...",se={loggingLevelConsole:1};function _createPerfManager(d,m){return new O.Jk(m)}function _isPluginPresent(d,m){var g=!1;return(0,C.tO)(m,(function(m){if(m===d)return g=!0,-1})),g}var oe=function BaseCore(){var d,m,g,y,_,T,b,A,P,R,k,M,x,G,oe,ae,ce,le,de,he=0;(0,U.Z)(BaseCore,this,(function(U){function _initDefaults(){d=!1,U.config=(0,C.mm)(!0,{},se),U.logger=new I.AQ(U.config),U._extensions=[],G=new J,m=[],g=null,y=null,_=null,T=null,b=null,P=null,A=[],R=null,k=null,M=null,x=!1,oe=null,ae=(0,X.J)("AIBaseCore",!0),ce=(0,te.Y)(),de=null}function _createTelCtx(){return(0,j.CD)(_getPluginChain(),U.config,U)}function _initPluginChain(d,m){var g=function _validateExtensions(d,m,g){var v=[],y={};return(0,C.tO)(g,(function(g){((0,C.le)(g)||(0,C.le)(g.initialize))&&(0,C._y)(re);var _=g.priority,T=g.identifier;g&&_&&((0,C.le)(y[_])?y[_]=T:(0,I.jV)(d,"Two extensions have same priority #"+_+" - "+y[_]+", "+T)),(!_||_<m)&&v.push(g)})),{all:g,core:v}}(U.logger,z,A);P=g.core,b=null;var v=g.all;if(M=(0,C.FL)(function createChannelQueues(d,m,g,v){var y=[];if(d&&(0,C.tO)(d,(function(d){return _addChannelQueue(y,d,g,v)})),m){var _=[];(0,C.tO)(m,(function(d){d.priority>z&&_.push(d)})),_addChannelQueue(y,_,g,v)}return y}(k,v,d,U)),R){var y=(0,C.UA)(v,R);-1!==y&&v.splice(y,1),-1!==(y=(0,C.UA)(P,R))&&P.splice(y,1),R._setQueue(M)}else R=function createChannelControllerPlugin(d,m){var g;function _getTelCtx(){return(0,j.CD)(null,m.config,m,null)}function _processChannelQueue(d,m,g,v){var y=d?d.length+1:1;function _runChainOnComplete(){0==--y&&(v&&v(),v=null)}y>0&&(0,C.tO)(d,(function(d){if(d&&d.queue.length>0){var v=d.chain,C=m.createNew(v);C.onComplete(_runChainOnComplete),g(C)}else y--})),_runChainOnComplete()}var v=!1,y=(g={identifier:"ChannelControllerPlugin",priority:z,initialize:function(m,g,y,_){v=!0,(0,C.tO)(d,(function(d){d&&d.queue.length>0&&(0,B.bP)((0,j.CD)(d.chain,m,g),y)}))},isInitialized:function(){return v},processTelemetry:function(m,g){_processChannelQueue(d,g||_getTelCtx(),(function(d){d[Y.Z_](m)}),(function(){g[Y.Z_](m)}))},update:function _doUpdate(m,g){var v=g||{reason:0};return _processChannelQueue(d,m,(function(d){d[Y.Z_](v)}),(function(){m[Y.Z_](v)})),!0}},g[Y.nE]=function(){_processChannelQueue(d,_getTelCtx(),(function(d){d.iterate((function(d){d[Y.nE]&&d[Y.nE]()}))}),null)},g[Y.Mf]=function(){_processChannelQueue(d,_getTelCtx(),(function(d){d.iterate((function(d){d[Y.Mf]&&d[Y.Mf]()}))}),null)},g[Y.vE]=function _doTeardown(m,g){var y=g||{reason:0,isAsync:!1};return _processChannelQueue(d,m,(function(d){d[Y.Z_](y)}),(function(){m[Y.Z_](y),v=!1})),!0},g.getChannel=function _getChannel(m){var g=null;return d&&d.length>0&&(0,C.tO)(d,(function(d){if(d&&d.queue.length>0&&((0,C.tO)(d.queue,(function(d){if(d.identifier===m)return g=d,-1})),g))return-1})),g},g.flush=function(m,g,v,y){var C=1,_=!1,T=null;function doCallback(){C--,_&&0===C&&(T&&(clearTimeout(T),T=null),g&&g(_),g=null)}return y=y||5e3,_processChannelQueue(d,_getTelCtx(),(function(d){d.iterate((function(d){if(d.flush){C++;var g=!1;d.flush(m,(function(){g=!0,doCallback()}),v)||g||(m&&null==T?T=setTimeout((function(){T=null,doCallback()}),y):doCallback())}}))}),(function(){_=!0,doCallback()})),!0},g._setQueue=function(m){d=m},g);return y}(M,U);v.push(R),P.push(R),U._extensions=(0,B.AA)(v),R.initialize(d,U,v),(0,B.bP)(_createTelCtx(),v),U._extensions=(0,C.FL)((0,B.AA)(P||[])).slice(),m&&function _doUpdate(d){var m=(0,j.xy)(_getPluginChain(),U);U._updateHook&&!0===U._updateHook(m,d)||m.processNext(d)}(m)}function _getPlugin(d){var m=null,g=null;return(0,C.tO)(U._extensions,(function(m){if(m.identifier===d&&m!==R&&m!==G)return g=m,-1})),!g&&R&&(g=R.getChannel(d)),g&&(m={plugin:g,setEnabled:function(d){(0,B.OY)(g)[Y.C0]=!d},isEnabled:function(){var d=(0,B.OY)(g);return!d[Y.vE]&&!d[Y.C0]},remove:function(d,m){void 0===d&&(d=!0);var v=[g];_removePlugins(v,{reason:1,isAsync:d},(function(d){d&&_initPluginChain(U.config,{reason:32,removed:v}),m&&m(d)}))}}),m}function _getPluginChain(){if(!b){var d=(P||[]).slice();-1===(0,C.UA)(d,G)&&d.push(G),b=(0,j.jV)((0,B.AA)(d),U.config,U)}return b}function _removePlugins(d,m,g){if(d&&d.length>0){var v=(0,j.jV)(d,U.config,U),y=(0,j.Bt)(v,U);y.onComplete((function(){var m=!1,v=[];(0,C.tO)(A,(function(g,y){_isPluginPresent(g,d)?m=!0:v.push(g)})),A=v;var y=[];k&&((0,C.tO)(k,(function(g,v){var _=[];(0,C.tO)(g,(function(g){_isPluginPresent(g,d)?m=!0:_.push(g)})),y.push(_)})),k=y),g&&g(m)})),y.processNext(m)}else g(!1)}function _flushInternalLogs(){var d=U.logger?U.logger.queue:[];d&&((0,C.tO)(d,(function(d){var m={name:oe||"InternalMessageId: "+d.messageId,iKey:U.config.instrumentationKey,time:(0,C.Y6)(new Date),baseType:I.lQ.dataType,baseData:{message:d.message}};U.track(m)})),d.length=0)}function _flushChannels(d,m,g,v){return R?R.flush(d,m,g||6,v):(m&&m(!1),!0)}function _logOrThrowError(d){var m=U.logger;m?(0,I.kP)(m,2,73,d):(0,C._y)(d)}_initDefaults(),U.isInitialized=function(){return d},U.initialize=function(m,y,T,b){x&&(0,C._y)(ie),U.isInitialized()&&(0,C._y)("Core should not be initialized more than once"),m&&!(0,C.le)(m.instrumentationKey)||(0,C._y)("Please provide instrumentation key"),g=b,U._notificationManager=b,U.config=m||{},function _initDebugListener(d){!0===d.disableDbgExt&&le&&(g[Y.XP](le),le=null),g&&!le&&!0!==d.disableDbgExt&&(le=(0,q.p)(d),g[Y.dV](le))}(m),function _initPerfManager(d){!d.enablePerfMgr&&_&&(_=null),d.enablePerfMgr&&(0,C.sO)(U.config,"createPerfMgr",_createPerfManager)}(m),m.extensions=(0,C.le)(m.extensions)?[]:m.extensions,function _initExtConfig(d){(0,C.qK)(d,$.F).NotificationManager=g}(m),T&&(U.logger=T),(A=[]).push.apply(A,(0,v.$h)((0,v.$h)([],y,!1),m.extensions,!1)),k=(m||{}).channels,_initPluginChain(m,null),M&&0!==M.length||(0,C._y)("No channels available"),d=!0,U.releaseQueue()},U.getTransmissionControls=function(){var d=[];return M&&(0,C.tO)(M,(function(m){d.push(m.queue)})),(0,C.FL)(d)},U.track=function(d){(0,C.sO)(d,$.z,U.config.instrumentationKey,null,C.F),(0,C.sO)(d,"time",(0,C.Y6)(new Date),null,C.F),(0,C.sO)(d,"ver","4.0",null,C.le),!x&&U.isInitialized()?_createTelCtx().processNext(d):m.push(d)},U.getProcessTelContext=_createTelCtx,U.getNotifyMgr=function(){return g||(g=function _createDummyNotificationManager(){var d;return(0,L.pu)(((d={})[Y.dV]=function(d){},d[Y.XP]=function(d){},d[Y.eO]=function(d){},d[Y.H4]=function(d,m){},d[Y.rX]=function(d,m){},d))}(),U._notificationManager=g),g},U[Y.dV]=function(d){g&&g[Y.dV](d)},U[Y.XP]=function(d){g&&g[Y.XP](d)},U.getCookieMgr=function(){return T||(T=(0,V.Nz)(U.config,U.logger)),T},U.setCookieMgr=function(d){T=d},U.getPerfMgr=function(){return y||_||U.config&&U.config.enablePerfMgr&&(0,C.mf)(U.config.createPerfMgr)&&(_=U.config.createPerfMgr(U,U.getNotifyMgr())),y||_||(0,O.j5)()},U.setPerfMgr=function(d){y=d},U.eventCnt=function(){return m.length},U.releaseQueue=function(){if(d&&m.length>0){var g=m;m=[],(0,C.tO)(g,(function(d){_createTelCtx().processNext(d)}))}},U.pollInternalLogs=function(d){oe=d||null;var m=U.config.diagnosticLogInterval;return m&&m>0||(m=1e4),he&&clearInterval(he),he=setInterval((function(){_flushInternalLogs()}),m)},U.stopPollingInternalLogs=function(){he&&(clearInterval(he),he=0,_flushInternalLogs())},(0,C.Vb)(U,(function(){return G}),["addTelemetryInitializer"]),U.unload=function(m,g,v){void 0===m&&(m=!0),d||(0,C._y)("SDK is not initialized"),x&&(0,C._y)(ie);var y={reason:50,isAsync:m,flushComplete:!1},_=(0,j.Bt)(_getPluginChain(),U);function _doUnload(d){y.flushComplete=d,x=!0,ce.run(_,y),U.stopPollingInternalLogs(),_.processNext(y)}_.onComplete((function(){_initDefaults(),g&&g(y)}),U),_flushChannels(m,_doUnload,6,v)||_doUnload(!1)},U.getPlugin=_getPlugin,U.addPlugin=function(d,m,g,v){if(!d)return v&&v(!1),void _logOrThrowError(re);var y=_getPlugin(d.identifier);if(y&&!m)return v&&v(!1),void _logOrThrowError("Plugin ["+d.identifier+"] is already loaded!");var C={reason:16};function _addPlugin(m){A.push(d),C.added=[d],_initPluginChain(U.config,C),v&&v(!0)}if(y){var _=[y.plugin];_removePlugins(_,{reason:2,isAsync:!!g},(function(d){d?(C.removed=_,C.reason|=32,_addPlugin()):v&&v(!1)}))}else _addPlugin()},U.evtNamespace=function(){return ae},U.flush=_flushChannels,U.getTraceCtx=function(d){return de||(de=(0,B.Yn)()),de},U.setTraceCtx=function(d){de=d||null},(0,C.Oi)(U,"addUnloadCb",(function(){return ce}),"add")}))};function _runListeners(d,m,g,v){(0,C.tO)(d,(function(d){if(d&&d[m])if(g)setTimeout((function(){return v(d)}),0);else try{v(d)}catch(d){}}))}var ae=function NotificationManager(d){this.listeners=[];var m=!!(d||{}).perfEvtsSendAll;(0,U.Z)(NotificationManager,this,(function(d){d[Y.dV]=function(m){d.listeners.push(m)},d[Y.XP]=function(m){for(var g=(0,C.UA)(d.listeners,m);g>-1;)d.listeners.splice(g,1),g=(0,C.UA)(d.listeners,m)},d[Y.eO]=function(m){_runListeners(d.listeners,Y.eO,!0,(function(d){d[Y.eO](m)}))},d[Y.H4]=function(m,g){_runListeners(d.listeners,Y.H4,!0,(function(d){d[Y.H4](m,g)}))},d[Y.rX]=function(m,g){_runListeners(d.listeners,Y.rX,g,(function(d){d[Y.rX](m,g)}))},d[Y.SN]=function(g){g&&(!m&&g.isChildEvt()||_runListeners(d.listeners,Y.SN,!1,(function(d){g.isAsync?setTimeout((function(){return d[Y.SN](g)}),0):d[Y.SN](g)})))}}))},ce=function(d){function AppInsightsCore(){var m=d.call(this)||this;return(0,U.Z)(AppInsightsCore,m,(function(d,m){function _notifyInvalidEvent(m){var g=d.getNotifyMgr();g&&g.eventsDiscarded([m],2)}d.initialize=function(d,g,v,y){m.initialize(d,g,v||new I.AQ(d),y||new ae(d))},d.track=function(g){(0,O.Lm)(d.getPerfMgr(),(function(){return"AppInsightsCore:track"}),(function(){null===g&&(_notifyInvalidEvent(g),(0,C._y)("Invalid telemetry item")),function _validateTelemetryItem(d){(0,C.le)(d.name)&&(_notifyInvalidEvent(d),(0,C._y)("telemetry name required"))}(g),m.track(g)}),(function(){return{item:g}}),!g.sync)}})),m}return(0,v.ne)(AppInsightsCore,d),AppInsightsCore}(oe),le=g(51175),de=function(d){function AppInsightsCore(){var m=d.call(this)||this;return m.pluginVersionStringArr=[],m.pluginVersionString="",(0,U.Z)(AppInsightsCore,m,(function(d,m){d.logger&&d.logger.queue||(d.logger=new I.AQ({loggingLevelConsole:1})),d.initialize=function(g,v,y,_){(0,O.Lm)(d,(function(){return"AppInsightsCore.initialize"}),(function(){if(g){g.endpointUrl||(g.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var T=g.propertyStorageOverride;if(T&&(!T.getProperty||!T.setProperty))throw new Error("Invalid property storage override passed.");g.channels&&(0,C.tO)(g.channels,(function(m){m&&(0,C.tO)(m,(function(m){if(m.identifier&&m.version){var g=m.identifier+"="+m.version;d.pluginVersionStringArr.push(g)}}))}))}d.getWParam=function(){return"undefined"!=typeof document?0:-1},v&&(0,C.tO)(v,(function(m){if(m&&m.identifier&&m.version){var g=m.identifier+"="+m.version;d.pluginVersionStringArr.push(g)}})),d.pluginVersionString=d.pluginVersionStringArr.join(";");try{m.initialize(g,v,y,_),d.pollInternalLogs("InternalLog")}catch(m){var b=d.logger,A=(0,x.eU)(m);-1!==A.indexOf("channels")&&(A+="\n - Channels must be provided through config.channels only!"),b.throwInternal(1,514,"SDK Initialization Failed - no telemetry will be sent: "+A)}}),(function(){return{config:g,extensions:v,logger:y,notificationManager:_}}))},d.track=function(g){(0,O.Lm)(d,(function(){return"AppInsightsCore.track"}),(function(){var v=g;if(v){v.timings=v.timings||{},v.timings.trackStart=(0,le.hK)(),(0,le.r7)(v.latency)||(v.latency=1);var y=v.ext=v.ext||{};y.sdk=y.sdk||{},y.sdk.ver=le.vs;var C=v.baseData=v.baseData||{};C.properties||(C.properties={});var _=C.properties;_.version||(_.version=""),""!==d.pluginVersionString&&(_.version=d.pluginVersionString)}m.track(v)}),(function(){return{item:g}}),!g.sync)}})),m}return(0,v.ne)(AppInsightsCore,d),AppInsightsCore}(ce);const he=de;var pe=function(d){function BaseCore(){var m=d.call(this)||this;return(0,U.Z)(BaseCore,m,(function(d,m){d.initialize=function(g,v,y,C){g&&!g.endpointUrl&&(g.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/"),d.getWParam=function(){return le.x9?0:-1};try{m.initialize(g,v,y,C)}catch(m){(0,I.kP)(d.logger,1,514,"Initialization Failed: "+(0,x.eU)(m)+"\n - Note: Channels must be provided through config.channels only")}},d.track=function(d){var g=d;if(g){var v=g.ext=g.ext||{};v.sdk=v.sdk||{},v.sdk.ver=le.vs}m.track(g)}})),m}return(0,v.ne)(BaseCore,d),BaseCore}(oe);const me=pe;var fe=C.mf;function _createPromiseAllOnResolvedFunction(d,m,g){return function(v){d[m]=v,g()}}const ge=function(){function ESPromise(d){var m=0,g=null,v=[];function _processQueue(){if(v.length>0){var d=v.slice();v=[],setTimeout((function(){for(var m=0,g=d.length;m<g;++m)try{d[m]()}catch(d){}}),0)}}function _resolve(d){0===m&&(g=d,m=1,_processQueue())}function _reject(d){0===m&&(g=d,m=2,_processQueue())}(0,U.Z)(ESPromise,this,(function(d){d.then=function(d,y){return new ESPromise((function(C,_){!function _enqueue(d,y,C,_){v.push((function(){var v;try{(v=1===m?fe(d)?d(g):g:fe(y)?y(g):g)instanceof ESPromise?v.then(C,_):2!==m||fe(y)?C(v):_(v)}catch(d){return void _(d)}})),0!==m&&_processQueue()}(d,y,C,_)}))},d.catch=function(m){return d.then(null,m)}})),function _initialize(){if(!fe(d))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{d(_resolve,_reject)}catch(d){_reject(d)}}()}return ESPromise.resolve=function(d){return d instanceof ESPromise?d:d&&fe(d.then)?new ESPromise((function(m,g){try{d.then(m,g)}catch(d){g(d)}})):new ESPromise((function(m){m(d)}))},ESPromise.reject=function(d){return new ESPromise((function(m,g){g(d)}))},ESPromise.all=function(d){if(d&&d.length)return new ESPromise((function(m,g){try{for(var v=[],y=0,C=0;C<d.length;C++){var _=d[C];_&&fe(_.then)?(y++,_.then(_createPromiseAllOnResolvedFunction(v,C,(function(){0==--y&&m(v)})),g)):v[C]=_}0===y&&setTimeout((function(){m(v)}),0)}catch(d){g(d)}}))},ESPromise.race=function(d){return new ESPromise((function(m,g){if(d&&d.length)try{for(var _loop_1=function(v){var y=d[v];y&&fe(y.then)?y.then(m,g):setTimeout((function(){m(y)}),0)},v=0;v<d.length;v++)_loop_1(v)}catch(d){g(d)}}))},ESPromise}();var ve=0,ye=[],Se=[],Ee=[];function _getTime(){return(new Date).getTime()}const Ce=function(){function ESPromiseScheduler(d,m){var g=0,v=(d||"<unnamed>")+"."+ve;function _debugLog(d){var m=(0,L.Rd)();m&&m.QUnit&&console&&console.log("ESPromiseScheduler["+v+"] "+d)}function _warnLog(d){m&&m.warnToConsole("ESPromiseScheduler["+v+"] "+d)}ve++,(0,U.Z)(ESPromiseScheduler,this,(function(d){var m=null,y=0;function _removeQueuedEvent(d,m){for(var g=0;g<d.length;g++)if(d[g].id===m)return d.splice(g,1)[0];return null}d.scheduleEvent=function(d,C,_){var T=v+"."+y;y++,C&&(T+="-("+C+")");var b=T+"{"+g+"}";g++;var A={evt:null,tm:_getTime(),id:b,isRunning:!1,isAborted:!1};return A.evt=m?function _waitForPreviousEvent(d,m){var g=new ge((function(g,v){var y=_getTime()-m.tm,C=m.id;_debugLog("["+T+"] is waiting for ["+C+":"+y+" ms] to complete before starting -- ["+Se.length+"] waiting and ["+ye.length+"] running"),d.abort=function(m){d.abort=null,_removeQueuedEvent(Se,T),d.isAborted=!0,v(new Error(m))},m.evt.then((function(m){_removeQueuedEvent(Se,T),_startWaitingEvent(d).then(g,v)}),(function(m){_removeQueuedEvent(Se,T),_startWaitingEvent(d).then(g,v)}))}));return Se.push(d),g}(A,m):_startWaitingEvent(A),(m=A).evt._schId=b,A.evt;function _abortAndRemoveOldEvents(d){for(var m=_getTime(),g=m-6e5,v=d.length,y=0;y<v;){var C=d[y];if(C&&C.tm<g){var _=null;C.abort?(_="Aborting ["+C.id+"] due to Excessive runtime ("+(m-C.tm)+" ms)",C.abort(_)):_="Removing ["+C.id+"] due to Excessive runtime ("+(m-C.tm)+" ms)",_warnLog(_),d.splice(y,1),v--}else y++}}function _cleanup(d,g){var v=!1,y=_removeQueuedEvent(ye,d);if(y||(y=_removeQueuedEvent(Ee,d),v=!0),y){y.to&&(clearTimeout(y.to),y.to=null);var C=_getTime()-y.tm;g?v?_warnLog("Timed out event ["+d+"] finally complete -- "+C+" ms"):_debugLog("Promise ["+d+"] Complete -- "+C+" ms"):(Ee.push(y),_warnLog("Event ["+d+"] Timed out and removed -- "+C+" ms"))}else _debugLog("Failed to remove ["+d+"] from running queue");m&&m.id===d&&(m=null),_abortAndRemoveOldEvents(ye),_abortAndRemoveOldEvents(Se),_abortAndRemoveOldEvents(Ee)}function _removeScheduledEvent(d,m){return function(g){return _cleanup(d,!0),m&&m(g),g}}function _waitForFinalResult(d,m,g,v){m.then((function(m){return m instanceof ge?(_debugLog("Event ["+d+"] returned a promise -- waiting"),_waitForFinalResult(d,m,g,v),m):_removeScheduledEvent(d,g)(m)}),_removeScheduledEvent(d,v))}function _createScheduledEvent(d,m){var g=d.id;return new ge((function(v,y){_debugLog("Event ["+g+"] Starting -- waited for "+(d.wTm||"--")+" ms"),d.isRunning=!0,d.abort=function(m){d.abort=null,d.isAborted=!0,_cleanup(g,!1),y(new Error(m))};var C=m(g);C instanceof ge?(_&&(d.to=setTimeout((function(){_cleanup(g,!1),y(new Error("Timed out after ["+_+"] ms"))}),_)),_waitForFinalResult(g,C,(function(m){_debugLog("Event ["+g+"] Resolving after "+(_getTime()-d.tm)+" ms"),v(m)}),y)):(_debugLog("Promise ["+g+"] Auto completed as the start action did not return a promise"),v())}))}function _startWaitingEvent(m){var g=_getTime();return m.wTm=g-m.tm,m.tm=g,m.isAborted?ge.reject(new Error("["+T+"] was aborted")):(ye.push(m),_createScheduledEvent(m,d))}}}))}return ESPromiseScheduler.incomplete=function(){return ye},ESPromiseScheduler.waitingToStart=function(){return Se},ESPromiseScheduler}();var _e=function(){function ValueSanitizer(d){var m=this,g={},v=[],y=[];function _getFieldSanitizer(d,m){var _,T=g[d];if(T&&(_=T[m]),!_&&null!==_){if((0,C.HD)(d)&&(0,C.HD)(m))if(y.length>0){for(var b=0;b<y.length;b++)if(y[b].handleField(d,m)){_={canHandle:!0,fieldHandler:y[b]};break}}else 0===v.length&&(_={canHandle:!0});if(!_&&null!==_){_=null;for(b=0;b<v.length;b++)if(v[b].handleField(d,m)){_={canHandle:!0,handler:v[b],fieldHandler:null};break}}T||(T=g[d]={}),T[m]=_}return _}function _handleProperty(d,m,g,v,y,_){if(d.handler)return d.handler.property(m,g,y,_);if(!(0,C.le)(y.kind)){if(4096==(4096&v)||!(0,le.oS)(y.kind))return null;y.value=y.value.toString()}return _callFieldSanitizer(d.fieldHandler,m,g,v,y)}function _convertToProperty(d,m,g){return(0,le.Sn)(g)?{value:g}:null}function _callFieldSanitizer(d,g,v,y,_){if(_&&d){var T=d.getSanitizer(g,v,y,_.kind,_.propertyType);if(T)if(4===y){var b={},A=_.value;(0,C.rW)(A,(function(m,y){var C=g+"."+v;if((0,le.Sn)(y)){var _=_convertToProperty(0,0,y);(_=_callFieldSanitizer(d,C,m,(0,le.Sy)(y),_))&&(b[m]=_.value)}})),_.value=b}else{var P={path:g,name:v,type:y,prop:_,sanitizer:m};_=T.call(m,P)}}return _}d&&y.push(d),m.addSanitizer=function(d){d&&(v.push(d),g={})},m.addFieldSanitizer=function(d){d&&(y.push(d),g={})},m.handleField=function(d,m){var g=_getFieldSanitizer(d,m);return!!g&&g.canHandle},m.value=function(d,m,g,v){var y=_getFieldSanitizer(d,m);if(y&&y.canHandle){if(!y||!y.canHandle)return null;if(y.handler)return y.handler.value(d,m,g,v);if(!(0,C.HD)(m)||(0,C.le)(g)||""===g)return null;var _=null,T=(0,le.Sy)(g);if(8192==(8192&T)){var b=-8193&T;if(_=g,!(0,le.Sn)(_.value)||1!==b&&2!==b&&3!==b&&4096!=(4096&b))return null}else 1===T||2===T||3===T||4096==(4096&T)?_=_convertToProperty(d,m,g):4===T&&(_=_convertToProperty(d,m,v?JSON.stringify(g):g));if(_)return _handleProperty(y,d,m,T,_,v)}return null},m.property=function(d,m,g,v){var y=_getFieldSanitizer(d,m);if(!y||!y.canHandle)return null;if(!(0,C.HD)(m)||(0,C.le)(g)||!(0,le.Sn)(g.value))return null;var _=(0,le.Sy)(g.value);return 0===_?null:_handleProperty(y,d,m,_,g,v)}}return ValueSanitizer.getFieldType=le.Sy,ValueSanitizer}(),Te=100,be=g(4092),Ae=g(30539),Pe=g(42873),ke=g(48150),Ne=g(32589),De=g(35665)},51175:(d,m,g)=>{"use strict";g.d(m,{Do:()=>getCookieValue,Gf:()=>k,IZ:()=>isUint8ArrayAvailable,JT:()=>isArrayValid,Sn:()=>isValueAssigned,Sy:()=>getFieldValueType,Tr:()=>V,Vv:()=>getCommonSchemaMetaData,cQ:()=>B,cm:()=>createGuid,d8:()=>setCookie,dH:()=>U,ej:()=>getCookie,hK:()=>j,if:()=>setProcessTelemetryTimings,jM:()=>getTenantId,kT:()=>deleteCookie,l7:()=>extend,mJ:()=>isChromium,oF:()=>disableCookies,oS:()=>isValueKind,ot:()=>openXhr,r7:()=>isLatency,vs:()=>M,x9:()=>L,yj:()=>sanitizeProperty});var v,y=g(32589),C=g(28785),_=g(53989),T=g(36696),b=g(85121),A=g(30539),P=g(42873),R=g(48150),k="3.2.3",M="1DS-Web-JS-"+k,I="withCredentials",O=((v={})[0]=0,v[2]=6,v[1]=1,v[3]=7,v[4098]=6,v[4097]=1,v[4099]=7,v),x=null,L=Boolean((0,_.Me)()),U=Boolean((0,_.Jj)());function isValueAssigned(d){return!(""===d||(0,T.le)(d))}function getTenantId(d){if(d){var m=d.indexOf("-");if(m>-1)return d.substring(0,m)}return""}function isUint8ArrayAvailable(){return null===x&&(x=!(0,T.o8)(Uint8Array)&&!function isSafariOrFirefox(){var d=(0,_.jW)();if(!(0,T.o8)(d)&&d.userAgent){var m=d.userAgent.toLowerCase();if((m.indexOf("safari")>=0||m.indexOf("firefox")>=0)&&m.indexOf("chrome")<0)return!0}return!1}()&&!(0,_.b$)()),x}function isLatency(d){return!!(d&&(0,T.hj)(d)&&d>=1&&d<=4)}function sanitizeProperty(d,m,g){if(!m&&!isValueAssigned(m)||"string"!=typeof d)return null;var v=typeof m;if("string"===v||"number"===v||"boolean"===v||(0,T.kJ)(m))m={value:m};else if("object"!==v||m.hasOwnProperty("value")){if((0,T.le)(m.value)||""===m.value||!(0,T.HD)(m.value)&&!(0,T.hj)(m.value)&&!(0,T.jn)(m.value)&&!(0,T.kJ)(m.value))return null}else m={value:g?JSON.stringify(m):m};if((0,T.kJ)(m.value)&&!isArrayValid(m.value))return null;if(!(0,T.le)(m.kind)){if((0,T.kJ)(m.value)||!isValueKind(m.kind))return null;m.value=m.value.toString()}return m}function getCommonSchemaMetaData(d,m,g){var v=-1;if(!(0,T.o8)(d))if(m>0&&(32===m?v=8192:m<=13&&(v=m<<5)),function isDataType(d){if(d>=0&&d<=9)return!0;return!1}(g))-1===v&&(v=0),v|=g;else{var y=O[getFieldValueType(d)]||-1;-1!==v&&-1!==y?v|=y:6===y&&(v=y)}return v}function disableCookies(){(0,b.JP)(null).setEnabled(!1)}function setCookie(d,m,g){(0,b.p7)(null)&&(0,b.JP)(null).set(d,m,86400*g,null,"/")}function deleteCookie(d){(0,b.p7)(null)&&(0,b.JP)(null).del(d)}function getCookie(d){return(0,b.p7)(null)?getCookieValue((0,b.JP)(null),d):""}function getCookieValue(d,m,g){var v;return void 0===g&&(g=!0),d&&(v=d.get(m),g&&v&&decodeURIComponent&&(v=decodeURIComponent(v))),v||""}function createGuid(d){void 0===d&&(d="D");var m=(0,A.GW)();return"B"===d?m="{"+m+"}":"P"===d?m="("+m+")":"N"===d&&(m=m.replace(/-/g,"")),m}function extend(d,m,g,v,C){var _={},b=!1,A=0,P=arguments.length,R=Object[y.hB],k=arguments;for("[object Boolean]"===R.toString.call(k[0])&&(b=k[0],A++);A<P;A++){d=k[A];(0,T.rW)(d,(function(d,m){b&&m&&(0,T.Kn)(m)?(0,T.kJ)(m)?(_[d]=_[d]||[],(0,T.tO)(m,(function(m,g){m&&(0,T.Kn)(m)?_[d][g]=extend(!0,_[d][g],m):_[d][g]=m}))):_[d]=extend(!0,_[d],m):_[d]=m}))}return _}var j=A.Jj;function isValueKind(d){return 0===d||d>0&&d<=13||32===d}function isArrayValid(d){return d.length>0}function setProcessTelemetryTimings(d,m){var g=d;g.timings=g.timings||{},g.timings.processTelemetryStart=g.timings.processTelemetryStart||{},g.timings.processTelemetryStart[m]=j()}function getFieldValueType(d){var m=0;if(null!=d){var g=typeof d;"string"===g?m=1:"number"===g?m=2:"boolean"===g?m=3:g===y.fK&&(m=4,(0,T.kJ)(d)?(m=4096,d.length>0&&(m|=getFieldValueType(d[0]))):(0,T.nr)(d,"value")&&(m=8192|getFieldValueType(d.value)))}return m}var B={Version:k,FullVersionString:M,strUndefined:y.jA,strObject:y.fK,Undefined:y.jA,arrForEach:T.tO,arrIndexOf:T.UA,arrMap:T.Mr,arrReduce:T.Xz,objKeys:T.FY,toISOString:T.Y6,isReactNative:_.b$,isString:T.HD,isNumber:T.hj,isBoolean:T.jn,isFunction:T.mf,isArray:T.kJ,isObject:T.Kn,strTrim:T.nd,isDocumentObjectAvailable:L,isWindowObjectAvailable:U,isValueAssigned,getTenantId,isBeaconsSupported:_.MF,isUint8ArrayAvailable,isLatency,sanitizeProperty,getISOString:T.Y6,useXDomainRequest:_.cp,getCommonSchemaMetaData,cookieAvailable:b.p7,disallowsSameSiteNone:b.UY,setCookie,deleteCookie,getCookie,createGuid,extend,getTime:j,isValueKind,isArrayValid,objDefineAccessors:T.l_,addPageUnloadEventListener:P.c9,setProcessTelemetryTimings,addEventHandler:P.Ib,getFieldValueType,strEndsWith:T.Id,objForEachKey:T.rW},V={_canUseCookies:void 0,isTypeof:T.Ym,isUndefined:T.o8,isNullOrUndefined:T.le,hasOwnProperty:T.nr,isFunction:T.mf,isObject:T.Kn,isDate:T.J_,isArray:T.kJ,isError:T.VZ,isString:T.HD,isNumber:T.hj,isBoolean:T.jn,toISOString:T.Y6,arrForEach:T.tO,arrIndexOf:T.UA,arrMap:T.Mr,arrReduce:T.Xz,strTrim:T.nd,objCreate:C.pu,objKeys:T.FY,objDefineAccessors:T.l_,addEventHandler:P.Ib,dateNow:T.m6,isIE:_.w1,disableCookies,newGuid:A.GW,perfNow:A.Jj,newId:R.pZ,randomValue:R.az,random32:R._l,mwcRandomSeed:R.CN,mwcRandom32:R.F6,generateW3CId:A.DO};function isChromium(){return!!(0,_.a8)("chrome")}function openXhr(d,m,g,v,y,C){function _wrapSetXhrProp(d,m,g){try{d[m]=g}catch(d){}}void 0===v&&(v=!1),void 0===y&&(y=!1);var _=new XMLHttpRequest;return v&&_wrapSetXhrProp(_,"Microsoft_ApplicationInsights_BypassAjaxInstrumentation",v),g&&_wrapSetXhrProp(_,I,g),_.open(d,m,!y),g&&_wrapSetXhrProp(_,I,g),!y&&C&&_wrapSetXhrProp(_,"timeout",C),_}},32579:(d,m,g)=>{"use strict";g.d(m,{By:()=>createEnumStyle});var v=g(36696);function createEnumStyle(d){var m={};return(0,v.rW)(d,(function(d,g){m[d]=g,m[g]=d})),(0,v._A)(m)}},4092:(d,m,g)=>{"use strict";g.d(m,{h:()=>v});var v=(0,g(32579).By)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},58194:(d,m,g)=>{"use strict";g.d(m,{i:()=>A});var v=g(92160),y=g(88585),C=g(36696),_=g(54319),T=g(20088),b=g(70780),A=function BaseTelemetryPlugin(){var d,m,g,A,P,R=this;function _getTelCtx(d){void 0===d&&(d=null);var v=d;if(!v){var C=m||(0,y.CD)(null,{},R.core);v=g&&g.getPlugin?C.createNew(null,g.getPlugin):C.createNew(null,g)}return v}function _setDefaults(d,v,T){d&&(0,C.sO)(d,_.F,[],null,C.le),!T&&v&&(T=v.getProcessTelContext().getNext());var b=g;g&&g.getPlugin&&(b=g.getPlugin()),R.core=v,m=(0,y.CD)(T,d,v,b)}function _initDefaults(){d=!1,R.core=null,m=null,g=null,P=[],A=(0,T.Y)()}_initDefaults(),(0,v.Z)(BaseTelemetryPlugin,R,(function(m){m.initialize=function(m,g,v,y){_setDefaults(m,g,y),d=!0},m.teardown=function(d,v){var _=m.core;if(_&&(!d||_===d.core())){var T,R=!1,k=d||(0,y.Bt)(null,_,g&&g.getPlugin?g.getPlugin():g),M=v||{reason:0,isAsync:!1};return m[b.Ho]&&!0===m[b.Ho](k,M,_unloadCallback)?T=!0:_unloadCallback(),T}function _unloadCallback(){R||(R=!0,A.run(k,v),(0,C.tO)(P,(function(d){d.rm()})),P=[],!0===T&&k.processNext(M),_initDefaults())}},m.update=function(d,v){var C=m.core;if(C&&(!d||C===d.core())){var _,T=!1,b=d||(0,y.xy)(null,C,g&&g.getPlugin?g.getPlugin():g),A=v||{reason:0};return m._doUpdate&&!0===m._doUpdate(b,A,_updateCallback)?_=!0:_updateCallback(),_}function _updateCallback(){T||(T=!0,_setDefaults(b.getCfg(),b.core(),b.getNext()))}},m._addHook=function(d){d&&((0,C.kJ)(d)?P=P.concat(d):P.push(d))},(0,C.Oi)(m,"_addUnloadCb",(function(){return A}),"add")})),R.diagLog=function(d){return _getTelCtx(d).diagLog()},R[b.Vr]=function(){return d},R.setInitialized=function(m){d=m},R[b.El]=function(d){g=d},R.processNext=function(d,m){m?m.processNext(d):g&&(0,C.mf)(g.processTelemetry)&&g.processTelemetry(d,null)},R._getTelCtx=_getTelCtx}},54319:(d,m,g)=>{"use strict";g.d(m,{F:()=>y,z:()=>v});var v="iKey",y="extensionConfig"},85121:(d,m,g)=>{"use strict";g.d(m,{JP:()=>safeGetCookieMgr,Nz:()=>createCookieMgr,UY:()=>uaDisallowsSameSiteNone,kj:()=>_gblCookieMgr,p7:()=>areCookiesSupported});var v=g(53989),y=g(36696),C=g(70780),_=g(92451),T="toGMTString",b="toUTCString",A="expires",P=null,R=null,k=null,M=(0,v.Me)(),I={},O={};function _gblCookieMgr(d,m){var g=createCookieMgr._ckMgr||O._ckMgr;return g||(g=createCookieMgr._ckMgr=createCookieMgr(d,m),O._ckMgr=g),g}function _isMgrEnabled(d){return!d||d.isEnabled()}function safeGetCookieMgr(d,m){var g;if(d)g=d.getCookieMgr();else if(m){var v=m.cookieCfg;g=v._ckMgr?v._ckMgr:createCookieMgr(m)}return g||(g=_gblCookieMgr(m,(d||{}).logger)),g}function createCookieMgr(d,m){var g=function _createCookieMgrConfig(d){var m=d.cookieCfg=d.cookieCfg||{};if((0,y.sO)(m,"domain",d.cookieDomain,y.BX,y.le),(0,y.sO)(m,"path",d.cookiePath||"/",null,y.le),(0,y.le)(m.enabled)){var g=void 0;(0,y.o8)(d.isCookieUseDisabled)||(g=!d.isCookieUseDisabled),(0,y.o8)(d.disableCookiesUsage)||(g=!d.disableCookiesUsage),m.enabled=g}return m}(d||O),_=g.path||"/",P=g.domain,k=!1!==g.enabled,M={isEnabled:function(){var d=k&&areCookiesSupported(m),g=O._ckMgr;return d&&g&&M!==g&&(d=_isMgrEnabled(g)),d},setEnabled:function(d){k=!1!==d},set:function(d,m,k,I,O){var x=!1;if(_isMgrEnabled(M)){var L={},U=(0,y.nd)(m||C.SM),j=U.indexOf(";");if(-1!==j&&(U=(0,y.nd)(m.substring(0,j)),L=_extractParts(m.substring(j+1))),(0,y.sO)(L,"domain",I||P,y.fQ,y.o8),!(0,y.le)(k)){var B=(0,v.w1)();if((0,y.o8)(L.expires)){var V=(0,y.m6)()+1e3*k;if(V>0){var $=new Date;$.setTime(V),(0,y.sO)(L,A,_formatDate($,B?T:b)||_formatDate($,B?T:b)||C.SM,y.fQ)}}B||(0,y.sO)(L,"max-age",C.SM+k,null,y.o8)}var q=(0,v.k$)();q&&"https:"===q.protocol&&((0,y.sO)(L,"secure",null,null,y.o8),null===R&&(R=!uaDisallowsSameSiteNone(((0,v.jW)()||{}).userAgent)),R&&(0,y.sO)(L,"SameSite","None",null,y.o8)),(0,y.sO)(L,"path",O||_,null,y.o8),(g.setCookie||_setCookieValue)(d,_formatCookieValue(U,L)),x=!0}return x},get:function(d){var m=C.SM;return _isMgrEnabled(M)&&(m=(g.getCookie||_getCookieValue)(d)),m},del:function(d,m){var g=!1;return _isMgrEnabled(M)&&(g=M.purge(d,m)),g},purge:function(d,y){var _,T=!1;if(areCookiesSupported(m)){var b=((_={}).path=y||"/",_.expires="Thu, 01 Jan 1970 00:00:01 GMT",_);(0,v.w1)()||(b["max-age"]="0"),(g.delCookie||_setCookieValue)(d,_formatCookieValue(C.SM,b)),T=!0}return T}};return M._ckMgr=M,M}function areCookiesSupported(d){if(null===P){P=!1;try{P=void 0!==(M||{}).cookie}catch(m){(0,_.kP)(d,2,68,"Cannot access document.cookie - "+(0,y.jj)(m),{exception:(0,v.eU)(m)})}}return P}function _extractParts(d){var m={};if(d&&d.length){var g=(0,y.nd)(d).split(";");(0,y.tO)(g,(function(d){if(d=(0,y.nd)(d||C.SM)){var g=d.indexOf("=");-1===g?m[d]=null:m[(0,y.nd)(d.substring(0,g))]=(0,y.nd)(d.substring(g+1))}}))}return m}function _formatDate(d,m){return(0,y.mf)(d[m])?d[m]():null}function _formatCookieValue(d,m){var g=d||C.SM;return(0,y.rW)(m,(function(d,m){g+="; "+d+((0,y.le)(m)?C.SM:"="+m)})),g}function _getCookieValue(d){var m=C.SM;if(M){var g=M.cookie||C.SM;k!==g&&(I=_extractParts(g),k=g),m=(0,y.nd)(I[d]||C.SM)}return m}function _setCookieValue(d,m){M&&(M.cookie=d+"="+m)}function uaDisallowsSameSiteNone(d){return!!(0,y.HD)(d)&&(!(!(0,y._Q)(d,"CPU iPhone OS 12")&&!(0,y._Q)(d,"iPad; CPU OS 12"))||(!!((0,y._Q)(d,"Macintosh; Intel Mac OS X 10_14")&&(0,y._Q)(d,"Version/")&&(0,y._Q)(d,"Safari"))||(!(!(0,y._Q)(d,"Macintosh; Intel Mac OS X 10_14")||!(0,y.Id)(d,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))||(!(!(0,y._Q)(d,"Chrome/5")&&!(0,y._Q)(d,"Chrome/6"))||(!(!(0,y._Q)(d,"UnrealEngine")||(0,y._Q)(d,"Chrome"))||!(!(0,y._Q)(d,"UCBrowser/12")&&!(0,y._Q)(d,"UCBrowser/11")))))))}},30539:(d,m,g)=>{"use strict";g.d(m,{DO:()=>generateW3CId,GW:()=>newGuid,Jj:()=>perfNow,zB:()=>I});var v,y=g(28785),C=g(85121),_=g(53989),T=g(36696),b=g(42873),A=g(48150),P=g(70780),R=null;function newGuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(M,(function(d){var m=0|function randomHexDigit(){return(0,A.az)(15)}();return("x"===d?m:3&m|8).toString(16)}))}function perfNow(){var d=(0,_.r)();return d&&d.now?d.now():(0,T.m6)()}function generateW3CId(){for(var d,m=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],g=P.SM,v=0;v<4;v++)g+=m[15&(d=(0,A._l)())]+m[d>>4&15]+m[d>>8&15]+m[d>>12&15]+m[d>>16&15]+m[d>>20&15]+m[d>>24&15]+m[d>>28&15];var y=m[8+(3&(0,A._l)())|0];return g.substr(0,8)+g.substr(9,4)+"4"+g.substr(13,3)+y+g.substr(16,3)+g.substr(19,12)}var k={_canUseCookies:void 0,isTypeof:T.Ym,isUndefined:T.o8,isNullOrUndefined:T.le,hasOwnProperty:T.nr,isFunction:T.mf,isObject:T.Kn,isDate:T.J_,isArray:T.kJ,isError:T.VZ,isString:T.HD,isNumber:T.hj,isBoolean:T.jn,toISOString:T.Y6,arrForEach:T.tO,arrIndexOf:T.UA,arrMap:T.Mr,arrReduce:T.Xz,strTrim:T.nd,objCreate:y.pu,objKeys:T.FY,objDefineAccessors:T.l_,addEventHandler:b.Ib,dateNow:T.m6,isIE:_.w1,disableCookies:function disableCookies(){_legacyCookieMgr().setEnabled(!1)},newGuid,perfNow,newId:A.pZ,randomValue:A.az,random32:A._l,mwcRandomSeed:A.CN,mwcRandom32:A.F6,generateW3CId},M=/[xy]/g,I={Attach:b.pZ,AttachEvent:b.pZ,Detach:b.pD,DetachEvent:b.pD};function _legacyCookieMgr(d,m){var g=(0,C.kj)(d,m),y=k._canUseCookies;return null===R&&(R=[],v=y,(0,T.l_)(k,"_canUseCookies",(function(){return v}),(function(d){v=d,(0,T.tO)(R,(function(m){m.setEnabled(d)}))}))),-1===(0,T.UA)(R,g)&&R.push(g),(0,T.jn)(y)&&g.setEnabled(y),(0,T.jn)(v)&&g.setEnabled(v),g}},76413:(d,m,g)=>{"use strict";g.d(m,{J:()=>createUniqueNamespace,K:()=>createElmNodeData});var v=g(32589),y=g(36696),C=g(48150),_=v.RJ,T="2.8.4",b="."+(0,C.pZ)(6),A=0;function _canAcceptData(d){return 1===d.nodeType||9===d.nodeType||!+d.nodeType}function _getCache(d,m){var g=m[d.id];if(!g){g={};try{_canAcceptData(m)&&(function _createAccessor(d,m,g){if(_)try{return _(d,m,{value:g,enumerable:!1,configurable:!0}),!0}catch(d){}return!1}(m,d.id,g)||(m[d.id]=g))}catch(d){}}return g}function createUniqueNamespace(d,m){return void 0===m&&(m=!1),(0,y.Gf)(d+A+++(m?".2.8.4":"")+b)}function createElmNodeData(d){var m={id:createUniqueNamespace("_aiData-"+(d||"")+"."+T),accept:function(d){return _canAcceptData(d)},get:function(d,g,v,C){var _=d[m.id];return _?_[(0,y.Gf)(g)]:(C&&((_=_getCache(m,d))[(0,y.Gf)(g)]=v),v)},kill:function(d,m){if(d&&d[m])try{delete d[m]}catch(d){}}};return m}},3516:(d,m,g)=>{"use strict";g.d(m,{j:()=>getDebugExt,p:()=>getDebugListener});var v,y=g(53989),C=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],_=null;function _listenerProxyFunc(d,m){return function(){var g=arguments,v=getDebugExt(m);if(v){var y=v.listener;y&&y[d]&&y[d].apply(y,g)}}}function getDebugExt(d){var m=_;return m||!0===d.disableDbgExt||(m=_||function _getExtensionNamespace(){var d=(0,y.a8)("Microsoft");return d&&(_=d.ApplicationInsights),_}()),m?m.ChromeDbgExt:null}function getDebugListener(d){if(!v){v={};for(var m=0;m<C.length;m++)v[C[m]]=_listenerProxyFunc(C[m],d)}return v}},92451:(d,m,g)=>{"use strict";g.d(m,{AQ:()=>A,jV:()=>_warnToConsole,kP:()=>_throwInternal,lQ:()=>b,vH:()=>safeGetLogger});var v=g(53989),y=g(92160),C=g(36696),_=g(3516),T=g(70780);function _sanitizeDiagnosticText(d){return d?'"'+d.replace(/\"/g,T.SM)+'"':T.SM}function _logToConsole(d,m){var g=(0,v.dr)();if(g){var y="log";g[d]&&(y=d),(0,C.mf)(g[y])&&g[y](m)}}var b=function(){function _InternalLogMessage(d,m,g,y){void 0===g&&(g=!1);var C=this;C.messageId=d,C.message=(g?"AI: ":"AI (Internal): ")+d;var _=T.SM;(0,v.nS)()&&(_=(0,v.xA)().stringify(y));var b=(m?" message:"+_sanitizeDiagnosticText(m):T.SM)+(y?" props:"+_sanitizeDiagnosticText(_):T.SM);C.message+=b}return _InternalLogMessage.dataType="MessageData",_InternalLogMessage}();function safeGetLogger(d,m){return(d||{}).logger||new A(m)}var A=function DiagnosticLogger(d){this.identifier="DiagnosticLogger",this.queue=[];var m=0,g={};(0,y.Z)(DiagnosticLogger,this,(function(y){function _getConfigValue(m,g){var v=d[m];return(0,C.le)(v)?g:v}function _debugExtMsg(m,g){var v=(0,_.j)(d);v&&v.diagLog&&v.diagLog(m,g)}(0,C.le)(d)&&(d={}),y.consoleLoggingLevel=function(){return _getConfigValue("loggingLevelConsole",0)},y.telemetryLoggingLevel=function(){return _getConfigValue("loggingLevelTelemetry",1)},y.maxInternalMessageLimit=function(){return _getConfigValue("maxMessageLimit",25)},y.enableDebugExceptions=function(){return _getConfigValue("enableDebugExceptions",!1)},y.throwInternal=function(d,m,_,T,A){void 0===A&&(A=!1);var P=new b(m,_,A,T);if(y.enableDebugExceptions())throw(0,v.eU)(P);var R=1===d?"errorToConsole":"warnToConsole";if((0,C.o8)(P.message))_debugExtMsg("throw"+(1===d?"Critical":"Warning"),P);else{var k=y.consoleLoggingLevel();if(A){var M=+P.messageId;!g[M]&&k>=d&&(y[R](P.message),g[M]=!0)}else k>=d&&y[R](P.message);y.logInternalMessage(d,P)}},y.warnToConsole=function(d){_logToConsole("warn",d),_debugExtMsg("warning",d)},y.errorToConsole=function(d){_logToConsole("error",d),_debugExtMsg("error",d)},y.resetInternalMessageCount=function(){m=0,g={}},y.logInternalMessage=function(d,v){if(!function _areInternalMessagesThrottled(){return m>=y.maxInternalMessageLimit()}()){var C=!0,_="AITR_"+v.messageId;if(g[_]?C=!1:g[_]=!0,C&&(d<=y.telemetryLoggingLevel()&&(y.queue.push(v),m++,_debugExtMsg(1===d?"error":"warn",v)),m===y.maxInternalMessageLimit())){var T="Internal events throttle limit per PageView reached for this app.",A=new b(23,T,!1);y.queue.push(A),1===d?y.errorToConsole(T):y.warnToConsole(T)}}}}))};function _getLogger(d){return d||new A}function _throwInternal(d,m,g,v,y,C){void 0===C&&(C=!1),(d||new A).throwInternal(m,g,v,y,C)}function _warnToConsole(d,m){_getLogger(d).warnToConsole(m)}},53989:(d,m,g)=>{"use strict";g.d(m,{JO:()=>isFetchSupported,Jj:()=>getWindow,MF:()=>isBeaconsSupported,MX:()=>getCrypto,Me:()=>getDocument,Nv:()=>hasDocument,Ym:()=>hasWindow,Z3:()=>isXhrSupported,a8:()=>getGlobalInst,b$:()=>isReactNative,cp:()=>useXDomainRequest,d6:()=>hasNavigator,dI:()=>setEnableEnvMocks,dr:()=>getConsole,eU:()=>dumpObj,ed:()=>findMetaTag,fE:()=>hasHistory,gz:()=>getMsCrypto,jW:()=>getNavigator,k$:()=>getLocation,nS:()=>hasJSON,pI:()=>findNamedServerTiming,r:()=>getPerformance,s1:()=>getHistory,sA:()=>getIEVersion,w1:()=>isIE,xA:()=>getJSON});var v=g(32589),y=g(28785),C=g(70780),_=g(36696),T="window",b="JSON",A="msie",P="trident/",R="XMLHttpRequest",k=null,M=null,I=!1,O=null,x=null;function _hasProperty(d,m){var g=!1;if(d){try{if(!(g=m in d)){var y=d[v.hB];y&&(g=m in y)}}catch(d){}if(!g)try{var C=new d;g=!(0,_.o8)(C[m])}catch(d){}}return g}function setEnableEnvMocks(d){I=d}function getGlobalInst(d){var m=(0,y.Rd)();return m&&m[d]?m[d]:d===T&&hasWindow()?window:null}function hasWindow(){return Boolean(typeof window===v.fK&&window)}function getWindow(){return hasWindow()?window:getGlobalInst(T)}function hasDocument(){return Boolean(typeof document===v.fK&&document)}function getDocument(){return hasDocument()?document:getGlobalInst("document")}function hasNavigator(){return Boolean(typeof navigator===v.fK&&navigator)}function getNavigator(){return hasNavigator()?navigator:getGlobalInst("navigator")}function hasHistory(){return Boolean(typeof history===v.fK&&history)}function getHistory(){return hasHistory()?history:getGlobalInst("history")}function getLocation(d){if(d&&I){var m=getGlobalInst("__mockLocation");if(m)return m}return typeof location===v.fK&&location?location:getGlobalInst("location")}function getConsole(){return typeof console!==v.jA?console:getGlobalInst("console")}function getPerformance(){return getGlobalInst("performance")}function hasJSON(){return Boolean(typeof JSON===v.fK&&JSON||null!==getGlobalInst(b))}function getJSON(){return hasJSON()?JSON||getGlobalInst(b):null}function getCrypto(){return getGlobalInst("crypto")}function getMsCrypto(){return getGlobalInst("msCrypto")}function isReactNative(){var d=getNavigator();return!(!d||!d.product)&&"ReactNative"===d.product}function isIE(){var d=getNavigator();if(d&&(d.userAgent!==M||null===k)){var m=((M=d.userAgent)||C.SM).toLowerCase();k=(0,_._Q)(m,A)||(0,_._Q)(m,P)}return k}function getIEVersion(d){if(void 0===d&&(d=null),!d){var m=getNavigator()||{};d=m?(m.userAgent||C.SM).toLowerCase():C.SM}var g=(d||C.SM).toLowerCase();if((0,_._Q)(g,A)){var v=getDocument()||{};return Math.max(parseInt(g.split(A)[1]),v.documentMode||0)}if((0,_._Q)(g,P)){var y=parseInt(g.split(P)[1]);if(y)return y+4}return null}function dumpObj(d){var m=Object[v.hB].toString.call(d),g=C.SM;return"[object Error]"===m?g="{ stack: '"+d.stack+"', message: '"+d.message+"', name: '"+d.name+"'":hasJSON()&&(g=getJSON().stringify(d)),m+g}function isBeaconsSupported(){return null===x&&(x=hasNavigator()&&Boolean(getNavigator().sendBeacon)),x}function isFetchSupported(d){var m=!1;try{m=!!getGlobalInst("fetch");var g=getGlobalInst("Request");m&&d&&g&&(m=_hasProperty(g,"keepalive"))}catch(d){}return m}function useXDomainRequest(){return null===O&&(O=typeof XDomainRequest!==v.jA)&&isXhrSupported()&&(O=O&&!_hasProperty(getGlobalInst(R),"withCredentials")),O}function isXhrSupported(){var d=!1;try{d=!!getGlobalInst(R)}catch(d){}return d}function _getNamedValue(d,m){if(d)for(var g=0;g<d.length;g++){var v=d[g];if(v.name&&v.name===m)return v}return{}}function findMetaTag(d){var m=getDocument();return m&&d?_getNamedValue(m.querySelectorAll("meta"),d).content:null}function findNamedServerTiming(d){var m,g=getPerformance();if(g){var v=g.getEntriesByType("navigation")||[];m=_getNamedValue((v.length>0?v[0]:{}).serverTiming,d).description}return m}},42873:(d,m,g)=>{"use strict";g.d(m,{C1:()=>removeEventHandler,C9:()=>removePageHideEventListener,Ib:()=>addEventHandler,JA:()=>removePageUnloadEventListener,QY:()=>eventOff,TJ:()=>addPageHideEventListener,XO:()=>eventOn,Yl:()=>removePageShowEventListener,c9:()=>addPageUnloadEventListener,jU:()=>mergeEvtNamespace,nD:()=>addPageShowEventListener,nJ:()=>removeEventListeners,pD:()=>detachEvent,pZ:()=>attachEvent,um:()=>__getRegisteredEvents,yw:()=>addEventListeners});var v=g(76413),y=g(53989),C=g(36696),_="events",T="visibilitychange",b="pagehide",A="pageshow",P="unload",R="beforeunload",k=(0,v.J)("aiEvtPageHide"),M=(0,v.J)("aiEvtPageShow"),I=/\.[\.]+/g,O=/[\.]+$/,x=1,L=(0,v.K)("events"),U=/^([^.]*)(?:\.(.+)|)/;function _normalizeNamespace(d){return d&&d.replace?d.replace(/^\s*\.*|\.*\s*$/g,""):d}function _getEvtNamespace(d,m){if(m){var g="";(0,C.kJ)(m)?(g="",(0,C.tO)(m,(function(d){(d=_normalizeNamespace(d))&&("."!==d[0]&&(d="."+d),g+=d)}))):g=_normalizeNamespace(m),g&&("."!==g[0]&&(g="."+g),d=(d||"")+g)}var v=U.exec(d||"")||[];return{type:v[1],ns:(v[2]||"").replace(I,".").replace(O,"").split(".").sort().join(".")}}function __getRegisteredEvents(d,m,g){var v=[],y=L.get(d,_,{},!1),T=_getEvtNamespace(m,g);return(0,C.rW)(y,(function(d,m){(0,C.tO)(m,(function(d){T.type&&T.type!==d.evtName.type||T.ns&&T.ns!=T.ns||v.push({name:d.evtName.type+(d.evtName.ns?"."+d.evtName.ns:""),handler:d.handler})}))})),v}function _getRegisteredEvents(d,m,g){void 0===g&&(g=!0);var v=L.get(d,_,{},g),y=v[m];return y||(y=v[m]=[]),y}function _doDetach(d,m,g,v){d&&m&&m.type&&(d.removeEventListener?d.removeEventListener(m.type,g,v):d.detachEvent&&d.detachEvent("on"+m.type,g))}function _doUnregister(d,m,g,v){for(var y=m.length;y--;){var C=m[y];C&&(g.ns&&g.ns!==C.evtName.ns||v&&!v(C)||(_doDetach(d,C.evtName,C.handler,C.capture),m.splice(y,1)))}}function mergeEvtNamespace(d,m){return m?_getEvtNamespace("xx",(0,C.kJ)(m)?[d].concat(m):[d,m]).ns.split("."):d}function eventOn(d,m,g,v,y){void 0===y&&(y=!1);var C=!1;if(d)try{var _=_getEvtNamespace(m,v);if(C=function _doAttach(d,m,g,v){var y=!1;return d&&m&&m.type&&g&&(d.addEventListener?(d.addEventListener(m.type,g,v),y=!0):d.attachEvent&&(d.attachEvent("on"+m.type,g),y=!0)),y}(d,_,g,y),C&&L.accept(d)){var T={guid:x++,evtName:_,handler:g,capture:y};_getRegisteredEvents(d,_.type).push(T)}}catch(d){}return C}function eventOff(d,m,g,v,y){if(void 0===y&&(y=!1),d)try{var T=_getEvtNamespace(m,v),b=!1;!function _unregisterEvents(d,m,g){if(m.type)_doUnregister(d,_getRegisteredEvents(d,m.type),m,g);else{var v=L.get(d,_,{});(0,C.rW)(v,(function(v,y){_doUnregister(d,y,m,g)})),0===(0,C.FY)(v).length&&L.kill(d,_)}}(d,T,(function(d){return!((!T.ns||g)&&d.handler!==g)&&(b=!0,!0)})),b||_doDetach(d,T,g,y)}catch(d){}}function attachEvent(d,m,g,v){return void 0===v&&(v=!1),eventOn(d,m,g,null,v)}function detachEvent(d,m,g,v){void 0===v&&(v=!1),eventOff(d,m,g,null,v)}function addEventHandler(d,m,g){var v=!1,C=(0,y.Jj)();C&&(v=eventOn(C,d,m,g),v=eventOn(C.body,d,m,g)||v);var _=(0,y.Me)();return _&&(v=eventOn(_,d,m,g)||v),v}function removeEventHandler(d,m,g){var v=(0,y.Jj)();v&&(eventOff(v,d,m,g),eventOff(v.body,d,m,g));var C=(0,y.Me)();C&&eventOff(C,d,m,g)}function _addEventListeners(d,m,g,v){var y=!1;return m&&d&&d.length>0&&(0,C.tO)(d,(function(d){d&&(g&&-1!==(0,C.UA)(g,d)||(y=addEventHandler(d,m,v)||y))})),y}function addEventListeners(d,m,g,v){var y=!1;return m&&d&&(0,C.kJ)(d)&&!(y=_addEventListeners(d,m,g,v))&&g&&g.length>0&&(y=_addEventListeners(d,m,null,v)),y}function removeEventListeners(d,m,g){d&&(0,C.kJ)(d)&&(0,C.tO)(d,(function(d){d&&removeEventHandler(d,m,g)}))}function addPageUnloadEventListener(d,m,g){return addEventListeners([R,P,b],d,m,g)}function removePageUnloadEventListener(d,m){removeEventListeners([R,P,b],d,m)}function addPageHideEventListener(d,m,g){var v=mergeEvtNamespace(k,g),_=_addEventListeners([b],d,m,v);return m&&-1!==(0,C.UA)(m,T)||(_=_addEventListeners([T],(function _handlePageVisibility(m){var g=(0,y.Me)();d&&g&&"hidden"===g.visibilityState&&d(m)}),m,v)||_),!_&&m&&(_=addPageHideEventListener(d,null,g)),_}function removePageHideEventListener(d,m){var g=mergeEvtNamespace(k,m);removeEventListeners([b],d,g),removeEventListeners([T],null,g)}function addPageShowEventListener(d,m,g){var v=mergeEvtNamespace(M,g),C=_addEventListeners([A],d,m,v);return!(C=_addEventListeners([T],(function _handlePageVisibility(m){var g=(0,y.Me)();d&&g&&"visible"===g.visibilityState&&d(m)}),m,v)||C)&&m&&(C=addPageShowEventListener(d,null,g)),C}function removePageShowEventListener(d,m){var g=mergeEvtNamespace(M,m);removeEventListeners([A],d,g),removeEventListeners([T],null,g)}},36696:(d,m,g)=>{"use strict";g.d(m,{Ax:()=>optimizeObject,BX:()=>isNotNullOrUndefined,F:()=>isNotTruthy,FL:()=>J,FY:()=>objKeys,Gf:()=>normalizeJsName,HD:()=>isString,Id:()=>strEndsWith,J_:()=>isDate,Kn:()=>isObject,Mr:()=>arrMap,Oi:()=>proxyFunctionAs,UA:()=>arrIndexOf,VZ:()=>isError,Vb:()=>proxyFunctions,Xi:()=>X,Xz:()=>arrReduce,Y6:()=>toISOString,Ym:()=>isTypeof,_A:()=>deepFreeze,_Q:()=>strContains,_y:()=>throwError,cf:()=>proxyAssign,fQ:()=>isTruthy,hj:()=>isNumber,jj:()=>getExceptionName,jn:()=>isBoolean,kJ:()=>Y,l_:()=>objDefineAccessors,le:()=>isNullOrUndefined,m6:()=>dateNow,mf:()=>isFunction,mm:()=>objExtend,nd:()=>strTrim,nr:()=>hasOwnProperty,o8:()=>isUndefined,qK:()=>getSetValue,rW:()=>objForEachKey,sO:()=>setValue,tO:()=>arrForEach,xe:()=>strStartsWith});var v=g(32589),y=g(28785),C=g(70780),_="constructor",T=v.RJ,b=v.Pw.freeze,A=v.Pw.seal,P=v.Pw.keys,R=String[v.hB],k=R.trim,M=R.endsWith,I=R.startsWith,O=Date[v.hB].toISOString,x=Array.isArray,L=v.V4.toString,U=v.CY.toString,j=U.call(v.Pw),B=/-([a-z])/g,V=/([^\w\d_$])/g,$=/^(\d+[\w\d_$])/,q=Object.getPrototypeOf;function isTypeof(d,m){return typeof d===m}function isUndefined(d){return void 0===d||typeof d===v.jA}function isNullOrUndefined(d){return null===d||isUndefined(d)}function isNotNullOrUndefined(d){return!isNullOrUndefined(d)}function hasOwnProperty(d,m){return!(!d||!v.CY.call(d,m))}function isObject(d){return!(!d||typeof d!==v.fK)}function isFunction(d){return!(!d||typeof d!==v.cb)}function normalizeJsName(d){var m=d;return m&&isString(m)&&(m=(m=(m=m.replace(B,(function(d,m){return m.toUpperCase()}))).replace(V,"_")).replace($,(function(d,m){return"_"+m}))),m}function objForEachKey(d,m){if(d)for(var g in d)v.CY.call(d,g)&&m.call(d,g,d[g])}function strEndsWith(d,m){var g=!1;return d&&m&&!(g=d===m)&&(g=M?d.endsWith(m):function _strEndsWithPoly(d,m){var g=!1,v=m?m.length:0,y=d?d.length:0;if(v&&y&&y>=v&&!(g=d===m)){for(var C=y-1,_=v-1;_>=0;_--){if(d[C]!=m[_])return!1;C--}g=!0}return g}(d,m)),g}function strStartsWith(d,m){var g=!1;return d&&m&&!(g=d===m)&&(g=I?d.startsWith(m):function _strStartsWithPoly(d,m){var g=!1,v=m?m.length:0;if(d&&v&&d.length>=v&&!(g=d===m)){for(var y=0;y<v;y++)if(d[y]!==m[y])return!1;g=!0}return g}(d,m)),g}function strContains(d,m){return!(!d||!m)&&-1!==d.indexOf(m)}function isDate(d){return!(!d||"[object Date]"!==L.call(d))}var Y=x||function _isArrayPoly(d){return!(!d||"[object Array]"!==L.call(d))};function isError(d){return!(!d||"[object Error]"!==L.call(d))}function isString(d){return"string"==typeof d}function isNumber(d){return"number"==typeof d}function isBoolean(d){return"boolean"==typeof d}function isPlainObject(d){var m=!1;if(d&&"object"==typeof d){var g=q?q(d):function _getObjProto(d){if(d){if(q)return q(d);var m=d.__proto__||d[v.hB]||d.constructor;if(m)return m}return null}(d);g?(g.constructor&&v.CY.call(g,_)&&(g=g.constructor),m=typeof g===v.cb&&U.call(g)===j):m=!0}return m}function toISOString(d){if(d)return O?d.toISOString():function _toISOStringPoly(d){if(d&&d.getUTCFullYear){var pad=function(d){var m=String(d);return 1===m.length&&(m="0"+m),m};return d.getUTCFullYear()+"-"+pad(d.getUTCMonth()+1)+"-"+pad(d.getUTCDate())+"T"+pad(d.getUTCHours())+":"+pad(d.getUTCMinutes())+":"+pad(d.getUTCSeconds())+"."+String((d.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(d)}function arrForEach(d,m,g){var v=d.length;try{for(var y=0;y<v&&(!(y in d)||-1!==m.call(g||d,d[y],y,d));y++);}catch(d){}}function arrIndexOf(d,m,g){if(d){if(d.indexOf)return d.indexOf(m,g);var v=d.length,y=g||0;try{for(var C=Math.max(y>=0?y:v-Math.abs(y),0);C<v;C++)if(C in d&&d[C]===m)return C}catch(d){}}return-1}function arrMap(d,m,g){var v;if(d){if(d.map)return d.map(m,g);var y=d.length,C=g||d;v=new Array(y);try{for(var _=0;_<y;_++)_ in d&&(v[_]=m.call(C,d[_],d))}catch(d){}}return v}function arrReduce(d,m,g){var v;if(d){if(d.reduce)return d.reduce(m,g);var y=d.length,C=0;if(arguments.length>=3)v=arguments[2];else{for(;C<y&&!(C in d);)C++;v=d[C++]}for(;C<y;)C in d&&(v=m(v,d[C],C,d)),C++}return v}function strTrim(d){return d&&(d=k&&d.trim?d.trim():d.replace?d.replace(/^\s+|\s+$/g,""):d),d}var z=!{toString:null}.propertyIsEnumerable("toString"),G=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function objKeys(d){var m=typeof d;if(m===v.cb||m===v.fK&&null!==d||(0,y.ZU)("objKeys called on non-object"),!z&&P)return P(d);var g=[];for(var C in d)d&&v.CY.call(d,C)&&g.push(C);if(z)for(var _=G.length,T=0;T<_;T++)d&&v.CY.call(d,G[T])&&g.push(G[T]);return g}function objDefineAccessors(d,m,g,v){if(T)try{var y={enumerable:!0,configurable:!0};return g&&(y.get=g),v&&(y.set=v),T(d,m,y),!0}catch(d){}return!1}function _doNothing(d){return d}function deepFreeze(d){return b&&objForEachKey(d,(function(d,m){(Y(m)||isObject(m))&&b(m)})),J(d)}var J=b||_doNothing,X=A||_doNothing;function dateNow(){var d=Date;return d.now?d.now():(new d).getTime()}function getExceptionName(d){return isError(d)?d.name:C.SM}function setValue(d,m,g,v,y){var C=g;return d&&((C=d[m])===g||y&&!y(C)||v&&!v(g)||(C=g,d[m]=C)),C}function getSetValue(d,m,g){var v;return d?!(v=d[m])&&isNullOrUndefined(v)&&(v=isUndefined(g)?{}:g,d[m]=v):v=isUndefined(g)?{}:g,v}function isNotTruthy(d){return!d}function isTruthy(d){return!!d}function throwError(d){throw new Error(d)}function _createProxyFunction(d,m){var g=null,v=null;return isFunction(d)?g=d:v=d,function(){var d=arguments;if(g&&(v=g()),v)return v[m].apply(v,d)}}function proxyAssign(d,m,g){if(d&&m&&isObject(d)&&isObject(m)){var _loop_1=function(v){if(isString(v)){var y=m[v];isFunction(y)?g&&!g(v,!0,m,d)||(d[v]=_createProxyFunction(m,v)):g&&!g(v,!1,m,d)||(hasOwnProperty(d,v)&&delete d[v],objDefineAccessors(d,v,(function(){return m[v]}),(function(d){m[v]=d}))||(d[v]=y))}};for(var v in m)_loop_1(v)}return d}function proxyFunctionAs(d,m,g,v,y){d&&m&&g&&(!1!==y||isUndefined(d[m]))&&(d[m]=_createProxyFunction(g,v))}function proxyFunctions(d,m,g,v){return d&&m&&isObject(d)&&Y(g)&&arrForEach(g,(function(g){isString(g)&&proxyFunctionAs(d,g,m,g,v)})),d}function optimizeObject(d){return d&&v.rl&&(d=(0,v.Pw)((0,v.rl)({},d))),d}function objExtend(d,m,g,y,C,_){var T=arguments,b=T[0]||{},A=T.length,P=!1,R=1;for(A>0&&isBoolean(b)&&(P=b,b=T[R]||{},R++),isObject(b)||(b={});R<A;R++){var k=T[R],M=Y(k),I=isObject(k);for(var O in k){var x=M&&O in k||I&&v.CY.call(k,O);if(x){var L=k[O],U=void 0;if(P&&L&&((U=Y(L))||isPlainObject(L))){var j=b[O];U?Y(j)||(j=[]):isPlainObject(j)||(j={}),L=objExtend(P,j,L)}void 0!==L&&(b[O]=L)}}}return b}},70780:(d,m,g)=>{"use strict";g.d(m,{C0:()=>R,El:()=>_,Gc:()=>A,H4:()=>j,Ho:()=>k,Mf:()=>I,Nz:()=>C,Rw:()=>P,SM:()=>v,SN:()=>V,Vr:()=>T,XP:()=>L,Z_:()=>M,dV:()=>x,eO:()=>U,i9:()=>y,nE:()=>O,rX:()=>B,vE:()=>b});var v="",y="processTelemetry",C="priority",_="setNextPlugin",T="isInitialized",b="teardown",A="core",P="update",R="disabled",k="_doTeardown",M="processNext",I="resume",O="pause",x="addNotificationListener",L="removeNotificationListener",U="eventsSent",j="eventsDiscarded",B="eventsSendRequest",V="perfEvent"},89062:(d,m,g)=>{"use strict";g.d(m,{Jk:()=>T,Lm:()=>doPerf,j5:()=>getGblPerfMgr,zn:()=>_});var v=g(92160),y=g(36696),C=null,_=function(){function PerfEvent(d,m,g){var v,C=this,_=!1;(C.start=(0,y.m6)(),C.name=d,C.isAsync=g,C.isChildEvt=function(){return!1},(0,y.mf)(m))&&(_=(0,y.l_)(C,"payload",(function(){return!v&&(0,y.mf)(m)&&(v=m(),m=null),v})));C.getCtx=function(d){return d?d===PerfEvent.ParentContextKey||d===PerfEvent.ChildrenContextKey?C[d]:(C.ctx||{})[d]:null},C.setCtx=function(d,m){if(d)if(d===PerfEvent.ParentContextKey)C[d]||(C.isChildEvt=function(){return!0}),C[d]=m;else if(d===PerfEvent.ChildrenContextKey)C[d]=m;else{(C.ctx=C.ctx||{})[d]=m}},C.complete=function(){var d=0,g=C.getCtx(PerfEvent.ChildrenContextKey);if((0,y.kJ)(g))for(var v=0;v<g.length;v++){var T=g[v];T&&(d+=T.time)}C.time=(0,y.m6)()-C.start,C.exTime=C.time-d,C.complete=function(){},!_&&(0,y.mf)(m)&&(C.payload=m())}}return PerfEvent.ParentContextKey="parent",PerfEvent.ChildrenContextKey="childEvts",PerfEvent}(),T=function PerfManager(d){this.ctx={},(0,v.Z)(PerfManager,this,(function(m){m.create=function(d,m,g){return new _(d,m,g)},m.fire=function(m){m&&(m.complete(),d&&(0,y.mf)(d.perfEvent)&&d.perfEvent(m))},m.setCtx=function(d,g){d&&((m.ctx=m.ctx||{})[d]=g)},m.getCtx=function(d){return(m.ctx||{})[d]}}))},b="CoreUtils.doPerf";function doPerf(d,m,g,v,C){if(d){var T=d;if((0,y.mf)(T.getPerfMgr)&&(T=T.getPerfMgr()),T){var A=void 0,P=T.getCtx(b);try{if(A=T.create(m(),v,C)){if(P&&A.setCtx&&(A.setCtx(_.ParentContextKey,P),P.getCtx&&P.setCtx)){var R=P.getCtx(_.ChildrenContextKey);R||(R=[],P.setCtx(_.ChildrenContextKey,R)),R.push(A)}return T.setCtx(b,A),g(A)}}catch(d){A&&A.setCtx&&A.setCtx("exception",d)}finally{A&&T.fire(A),T.setCtx(b,P)}}}return g()}function getGblPerfMgr(){return C}},88585:(d,m,g)=>{"use strict";g.d(m,{Bt:()=>createProcessTelemetryUnloadContext,CD:()=>createProcessTelemetryContext,Vi:()=>R,jV:()=>createTelemetryProxyChain,xy:()=>createProcessTelemetryUpdateContext});var v=g(92451),y=g(36696),C=g(89062),_=g(53989),T=g(70780),b=g(29181),A="TelemetryPluginChain",P=0;function _createInternalContext(d,m,g,C){var T=null,b=[];null!==C&&(T=C?function _getNextProxyStart(d,m,g){for(;d;){if(d.getPlugin()===g)return d;d=d.getNext()}return createTelemetryProxyChain([g],m.config||{},m)}(d,g,C):d);var A={_next:function _moveNext(){var d=T;if(T=d?d.getNext():null,!d){var m=b;m&&m.length>0&&((0,y.tO)(m,(function(d){try{d.func.call(d.self,d.args)}catch(d){(0,v.kP)(g.logger,2,73,"Unexpected Exception during onComplete - "+(0,_.eU)(d))}})),b=[])}return d},ctx:{core:function(){return g},diagLog:function(){return(0,v.vH)(g,m)},getCfg:function(){return m},getExtCfg:_getExtCfg,getConfig:function _getConfig(d,g,v){void 0===v&&(v=!1);var C,_=_getExtCfg(d,null);_&&!(0,y.le)(_[g])?C=_[g]:m&&!(0,y.le)(m[g])&&(C=m[g]);return(0,y.le)(C)?v:C},hasNext:function(){return!!T},getNext:function(){return T},setNext:function(d){T=d},iterate:function _iterateChain(d){var m;for(;m=A._next();){var g=m.getPlugin();g&&d(g)}},onComplete:function _addOnComplete(d,m){for(var g=[],v=2;v<arguments.length;v++)g[v-2]=arguments[v];d&&b.push({func:d,self:(0,y.o8)(m)?A.ctx:m,args:g})}}};function _getExtCfg(d,g,v){var C;if(void 0===g&&(g={}),void 0===v&&(v=0),m){var _=m.extensionConfig;_&&d&&(C=_[d])}if(C){if((0,y.Kn)(g)&&0!==v){var T=(0,y.mm)(!0,g,C);m&&2===v&&(0,y.rW)(g,(function(d){if((0,y.le)(T[d])){var g=m[d];(0,y.le)(g)||(T[d]=g)}})),C=T}}else C=g;return C}return A}function createProcessTelemetryContext(d,m,g,v){var C=_createInternalContext(d,m,g,v),_=C.ctx;return _.processNext=function _processNext(d){var m=C._next();return m&&m.processTelemetry(d,_),!m},_.createNew=function _createNew(d,v){return void 0===d&&(d=null),(0,y.kJ)(d)&&(d=createTelemetryProxyChain(d,m,g,v)),createProcessTelemetryContext(d||_.getNext(),m,g,v)},_}function createProcessTelemetryUnloadContext(d,m,g){var v=m.config||{},C=_createInternalContext(d,v,m,g),_=C.ctx;return _.processNext=function _processNext(d){var m=C._next();return m&&m.unload(_,d),!m},_.createNew=function _createNew(d,g){return void 0===d&&(d=null),(0,y.kJ)(d)&&(d=createTelemetryProxyChain(d,v,m,g)),createProcessTelemetryUnloadContext(d||_.getNext(),m,g)},_}function createProcessTelemetryUpdateContext(d,m,g){var v=m.config||{},C=_createInternalContext(d,v,m,g).ctx;return C.processNext=function _processNext(d){return C.iterate((function(m){(0,y.mf)(m.update)&&m.update(C,d)}))},C.createNew=function _createNew(d,g){return void 0===d&&(d=null),(0,y.kJ)(d)&&(d=createTelemetryProxyChain(d,v,m,g)),createProcessTelemetryUpdateContext(d||C.getNext(),m,g)},C}function createTelemetryProxyChain(d,m,g,R){var k=null,M=!R;if((0,y.kJ)(d)&&d.length>0){var I=null;(0,y.tO)(d,(function(d){if(M||R!==d||(M=!0),M&&d&&(0,y.mf)(d.processTelemetry)){var O=function createTelemetryPluginProxy(d,m,g){var R,k=null,M=(0,y.mf)(d.processTelemetry),I=(0,y.mf)(d.setNextPlugin);R=d?d.identifier+"-"+d.priority+"-"+P++:"Unknown-0-"+P++;var O={getPlugin:function(){return d},getNext:function(){return k},processTelemetry:_processTelemetry,unload:_unloadPlugin,update:_updatePlugin,_id:R,_setNext:function(d){k=d}};function _getTelCtx(){var v;return d&&(0,y.mf)(d._getTelCtx)&&(v=d._getTelCtx()),v||(v=createProcessTelemetryContext(O,m,g)),v}function _processChain(m,g,y,b,P){var M=!1,I=d?d.identifier:A,O=m._hasRun;return O||(O=m._hasRun={}),m.setNext(k),d&&(0,C.Lm)(m[T.Gc](),(function(){return I+":"+y}),(function(){O[R]=!0;try{var d=k?k._id:T.SM;d&&(O[d]=!1),M=g(m)}catch(d){var C=!k||O[k._id];C&&(M=!0),k&&C||(0,v.kP)(m.diagLog(),1,73,"Plugin ["+I+"] failed during "+y+" - "+(0,_.eU)(d)+", run flags: "+(0,_.eU)(O))}}),b,P),M}function _processTelemetry(m,g){function _callProcessTelemetry(g){if(!d||!M)return!1;var v=(0,b.OY)(d);return!v.teardown&&!v[T.C0]&&(I&&d.setNextPlugin(k),d.processTelemetry(m,g),!0)}_processChain(g=g||_getTelCtx(),_callProcessTelemetry,"processTelemetry",(function(){return{item:m}}),!m.sync)||g.processNext(m)}function _unloadPlugin(m,g){function _callTeardown(){var v=!1;if(d){var y=(0,b.OY)(d),C=d[T.Gc]||y.core;!d||C&&C!==m[T.Gc]()||y[T.vE]||(y[T.Gc]=null,y[T.vE]=!0,y[T.Vr]=!1,d[T.vE]&&!0===d[T.vE](m,g)&&(v=!0))}return v}_processChain(m,_callTeardown,"unload",(function(){}),g.isAsync)||m.processNext(g)}function _updatePlugin(m,g){function _callUpdate(){var v=!1;if(d){var y=(0,b.OY)(d),C=d[T.Gc]||y.core;!d||C&&C!==m[T.Gc]()||y[T.vE]||d[T.Rw]&&!0===d[T.Rw](m,g)&&(v=!0)}return v}_processChain(m,_callUpdate,"update",(function(){}),!1)||m.processNext(g)}return(0,y.FL)(O)}(d,m,g);k||(k=O),I&&I._setNext(O),I=O}}))}return R&&!k?createTelemetryProxyChain([R],m,g):k}var R=function R(d,m,g,v){var C=createProcessTelemetryContext(d,m,g,v);(0,y.Vb)(this,C,(0,y.FY)(C))}},48150:(d,m,g)=>{"use strict";g.d(m,{CN:()=>mwcRandomSeed,F6:()=>mwcRandom32,_l:()=>random32,az:()=>randomValue,pZ:()=>newId});var v=g(53989),y=g(36696),C=g(70780),_=4294967296,T=4294967295,b=!1,A=123456789,P=987654321;function _mwcSeed(d){d<0&&(d>>>=0),A=123456789+d&T,P=987654321-d&T,b=!0}function _autoSeedMwc(){try{var d=2147483647&(0,y.m6)();_mwcSeed((Math.random()*_^d)+d)}catch(d){}}function randomValue(d){return d>0?Math.floor(random32()/T*(d+1))>>>0:0}function random32(d){var m=0,g=(0,v.MX)()||(0,v.gz)();return g&&g.getRandomValues&&(m=g.getRandomValues(new Uint32Array(1))[0]&T),0===m&&(0,v.w1)()&&(b||_autoSeedMwc(),m=mwcRandom32()&T),0===m&&(m=Math.floor(_*Math.random()|0)),d||(m>>>=0),m}function mwcRandomSeed(d){d?_mwcSeed(d):_autoSeedMwc()}function mwcRandom32(d){var m=((P=36969*(65535&P)+(P>>16)&T)<<16)+(65535&(A=18e3*(65535&A)+(A>>16)&T))>>>0&T|0;return d||(m>>>=0),m}function newId(d){void 0===d&&(d=22);for(var m=random32()>>>0,g=0,v=C.SM;v.length<d;)g++,v+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&m),m>>>=6,5===g&&(m=(random32()<<2&4294967295|3&m)>>>0,g=0);return v}},29181:(d,m,g)=>{"use strict";g.d(m,{AA:()=>sortPlugins,OY:()=>_getPluginState,Yn:()=>createDistributedTraceContext,bP:()=>initializePlugins});var v=g(36696),y=g(70780),C=g(76413),_=g(35665),T=(0,C.K)("plugin");function _getPluginState(d){return T.get(d,"state",{},!0)}function initializePlugins(d,m){for(var g,C=[],_=null,T=d.getNext();T;){var b=T.getPlugin();if(b){_&&(0,v.mf)(_[y.El])&&(0,v.mf)(b[y.i9])&&_[y.El](b);((0,v.mf)(b[y.Vr])?b[y.Vr]():(g=_getPluginState(b))[y.Vr])||C.push(b),_=b,T=T.getNext()}}(0,v.tO)(C,(function(v){var C=d.core();v.initialize(d.getCfg(),C,m,d.getNext()),g=_getPluginState(v),v[y.Gc]||g[y.Gc]||(g[y.Gc]=C),g[y.Vr]=!0,delete g[y.vE]}))}function sortPlugins(d){return d.sort((function(d,m){var g=0;if(m){var C=(0,v.mf)(m[y.i9]);(0,v.mf)(d[y.i9])?g=C?d[y.Nz]-m[y.Nz]:1:C&&(g=-1)}else g=d?1:-1;return g}))}function createDistributedTraceContext(d){var m={};return{getName:function(){return m.name},setName:function(g){d&&d.setName(g),m.name=g},getTraceId:function(){return m.traceId},setTraceId:function(g){d&&d.setTraceId(g),(0,_.jN)(g)&&(m.traceId=g)},getSpanId:function(){return m.spanId},setSpanId:function(g){d&&d.setSpanId(g),(0,_.Lc)(g)&&(m.spanId=g)},getTraceFlags:function(){return m.traceFlags},setTraceFlags:function(g){d&&d.setTraceFlags(g),m.traceFlags=g}}}},20088:(d,m,g)=>{"use strict";g.d(m,{Y:()=>createUnloadHandlerContainer});var v=g(92451),y=g(53989),C=g(36696);function createUnloadHandlerContainer(){var d=[];return{add:function _addHandler(m){m&&d.push(m)},run:function _runHandlers(m,g){(0,C.tO)(d,(function(d){try{d(m,g)}catch(d){(0,v.kP)(m.diagLog(),2,73,"Unexpected error calling unload handler - "+(0,y.eU)(d))}})),d=[]}}}},35665:(d,m,g)=>{"use strict";g.d(m,{J6:()=>isValidTraceParent,Lc:()=>isValidSpanId,Pn:()=>isSampledFlag,SU:()=>createTraceParent,aR:()=>formatTraceParent,jN:()=>isValidTraceId,j_:()=>parseTraceParent,lq:()=>findW3cTraceParent});var v=g(30539),y=g(53989),C=g(36696),_=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,T="00",b="ff",A="00000000000000000000000000000000",P="0000000000000000";function _isValid(d,m,g){return!(!d||d.length!==m||d===g)&&!!d.match(/^[\da-f]*$/)}function _formatValue(d,m,g){return _isValid(d,m)?d:g}function _formatFlags(d){(isNaN(d)||d<0||d>255)&&(d=1);for(var m=d.toString(16);m.length<2;)m="0"+m;return m}function createTraceParent(d,m,g,y){return{version:_isValid(y,2,b)?y:T,traceId:isValidTraceId(d)?d:(0,v.DO)(),spanId:isValidSpanId(m)?m:(0,v.DO)().substr(0,16),traceFlags:g>=0&&g<=255?g:1}}function parseTraceParent(d){if(!d)return null;if((0,C.kJ)(d)&&(d=d[0]||""),!d||!(0,C.HD)(d)||d.length>8192)return null;var m=_.exec((0,C.nd)(d));return m&&m[1]!==b&&m[2]!==A&&m[3]!==P?{version:m[1],traceId:m[2],spanId:m[3],traceFlags:parseInt(m[4],16)}:null}function isValidTraceId(d){return _isValid(d,32,A)}function isValidSpanId(d){return _isValid(d,16,P)}function isValidTraceParent(d){return!!(d&&_isValid(d.version,2,b)&&_isValid(d.traceId,32,A)&&_isValid(d.spanId,16,P)&&_isValid(_formatFlags(d.traceFlags),2))}function isSampledFlag(d){return!!isValidTraceParent(d)&&1==(1&d.traceFlags)}function formatTraceParent(d){if(d){var m=_formatFlags(d.traceFlags);_isValid(m,2)||(m="01");var g=d.version||T;return"00"!==g&&"ff"!==g&&(g=T),"".concat(g,"-").concat(_formatValue(d.traceId,32,A),"-").concat(_formatValue(d.spanId,16,P),"-").concat(m)}return""}function findW3cTraceParent(){var d="traceparent",m=parseTraceParent((0,y.ed)(d));return m||(m=parseTraceParent((0,y.pI)(d))),m}},92160:(d,m,g)=>{"use strict";g.d(m,{Z:()=>dynamicProto});
/*!
 * Microsoft Dynamic Proto Utility, 1.1.6
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
var v="constructor",y="prototype",C="function",_="_dynClass",T="_unknown_",b="_dyn__proto__",A=Object,P=A.getPrototypeOf,R=A.getOwnPropertyNames,k=0;function _hasOwnProperty(d,m){return d&&A.prototype.hasOwnProperty.call(d,m)}function _isObjectOrArrayPrototype(d){return d&&(d===A.prototype||d===Array.prototype)}function _isObjectArrayOrFunctionPrototype(d){return _isObjectOrArrayPrototype(d)||d===Function.prototype}function _getObjProto(d){var m;if(d){if(P)return P(d);var g=d.__proto__||d.prototype||(d.constructor?d.constructor.prototype:null);m=d._dyn__proto__||g,_hasOwnProperty(d,b)||(delete d._dynInstProto,m=d._dyn__proto__=d._dynInstProto||d._dyn__proto__,d._dynInstProto=g)}return m}function _forEachProp(d,m){var g=[];if(R)g=R(d);else for(var v in d)"string"==typeof v&&_hasOwnProperty(d,v)&&g.push(v);if(g&&g.length>0)for(var y=0;y<g.length;y++)m(g[y])}function _isDynamicCandidate(d,m,g){return m!==v&&typeof d[m]===C&&(g||_hasOwnProperty(d,m))}function _throwTypeError(d){throw new TypeError("DynamicProto: "+d)}function _hasVisited(d,m){for(var g=d.length-1;g>=0;g--)if(d[g]===m)return!0;return!1}function _getInstFunc(d,m,g,v){var y=null;if(d&&_hasOwnProperty(g,_)){var T=d._dynInstFuncs||{};if((y=(T[g._dynClass]||{})[m])||_throwTypeError("Missing ["+m+"] "+C),!y._dynInstChk&&!1!==T._dynInstChk){for(var b=!_hasOwnProperty(d,m),A=_getObjProto(d),P=[];b&&A&&!_isObjectArrayOrFunctionPrototype(A)&&!_hasVisited(P,A);){var R=A[m];if(R){b=R===v;break}P.push(A),A=_getObjProto(A)}try{b&&(d[m]=y),y._dynInstChk=1}catch(d){T._dynInstChk=!1}}}return y}function _getProtoFunc(d,m,g){var v=m[d];return v===g&&(v=_getObjProto(m)[d]),typeof v!==C&&_throwTypeError("["+d+"] is not a "+C),v}function _populatePrototype(d,m,g,v,y){if(!_isObjectOrArrayPrototype(d)){var C=g._dynInstFuncs=g._dynInstFuncs||{},_=C[m]=C[m]||{};!1!==C._dynInstChk&&(C._dynInstChk=!!y),_forEachProp(g,(function(m){_isDynamicCandidate(g,m,!1)&&g[m]!==v[m]&&(_[m]=g[m],delete g[m],(!_hasOwnProperty(d,m)||d[m]&&!d[m]._isDynProxy)&&(d[m]=function _createDynamicPrototype(d,m){var dynProtoProxy=function(){return(_getInstFunc(this,m,d,dynProtoProxy)||_getProtoFunc(m,d,dynProtoProxy)).apply(this,arguments)};return dynProtoProxy._isDynProxy=1,dynProtoProxy}(d,m)))}))}}function _getObjName(d,m){return _hasOwnProperty(d,y)?d.name||m||T:((d||{}).constructor||{}).name||m||T}function dynamicProto(d,m,g,v){_hasOwnProperty(d,y)||_throwTypeError("theClass is an invalid class definition.");var C=d.prototype;(function _checkPrototype(d,m){if(P){for(var g=[],v=_getObjProto(m);v&&!_isObjectArrayOrFunctionPrototype(v)&&!_hasVisited(g,v);){if(v===d)return!0;g.push(v),v=_getObjProto(v)}return!1}return!0})(C,m)||_throwTypeError("["+_getObjName(d)+"] is not in class hierarchy of ["+_getObjName(m)+"]");var T=null;_hasOwnProperty(C,_)?T=C._dynClass:(T="_dynCls$"+_getObjName(d,"_")+"$"+k,k++,C._dynClass=T);var b=dynamicProto._dfOpts,A=!!b.useBaseInst;A&&v&&void 0!==v.useBaseInst&&(A=!!v.useBaseInst);var R=function _getInstanceFuncs(d){var m={};return _forEachProp(d,(function(g){!m[g]&&_isDynamicCandidate(d,g,!1)&&(m[g]=d[g])})),m}(m),M=function _getBaseFuncs(d,m,g,v){function _instFuncProxy(d,m,g){var y=m[g];if(y._isDynProxy&&v){var C=d._dynInstFuncs||{};!1!==C._dynInstChk&&(y=(C[m._dynClass]||{})[g]||y)}return function(){return y.apply(d,arguments)}}var y={};_forEachProp(g,(function(d){y[d]=_instFuncProxy(m,g,d)}));for(var C=_getObjProto(d),_=[];C&&!_isObjectArrayOrFunctionPrototype(C)&&!_hasVisited(_,C);)_forEachProp(C,(function(d){!y[d]&&_isDynamicCandidate(C,d,!P)&&(y[d]=_instFuncProxy(m,C,d))})),_.push(C),C=_getObjProto(C);return y}(C,m,R,A);g(m,M);var I=!!P&&!!b.setInstFuncs;I&&v&&(I=!!v.setInstFuncs),_populatePrototype(C,T,m,R,!1!==I)}dynamicProto._dfOpts={setInstFuncs:!0,useBaseInst:!0}},6107:(d,m,g)=>{"use strict";g.r(m),g.d(m,{BE_PROFILE:()=>z,NRT_PROFILE:()=>Y,PostChannel:()=>xe,RT_PROFILE:()=>q});var v=g(43298),y="constructor",C="prototype",_="function",T="_dynClass",b="_unknown_",A="_dyn__proto__",P=Object,R=P.getPrototypeOf,k=P.getOwnPropertyNames,M=0;function _hasOwnProperty(d,m){return d&&P.prototype.hasOwnProperty.call(d,m)}function _isObjectOrArrayPrototype(d){return d&&(d===P.prototype||d===Array.prototype)}function _isObjectArrayOrFunctionPrototype(d){return _isObjectOrArrayPrototype(d)||d===Function.prototype}function _getObjProto(d){var m;if(d){if(R)return R(d);var g=d.__proto__||d.prototype||(d.constructor?d.constructor.prototype:null);m=d._dyn__proto__||g,_hasOwnProperty(d,A)||(delete d._dynInstProto,m=d._dyn__proto__=d._dynInstProto||d._dyn__proto__,d._dynInstProto=g)}return m}function _forEachProp(d,m){var g=[];if(k)g=k(d);else for(var v in d)"string"==typeof v&&_hasOwnProperty(d,v)&&g.push(v);if(g&&g.length>0)for(var y=0;y<g.length;y++)m(g[y])}function _isDynamicCandidate(d,m,g){return m!==y&&typeof d[m]===_&&(g||_hasOwnProperty(d,m))}function _throwTypeError(d){throw new TypeError("DynamicProto: "+d)}function _hasVisited(d,m){for(var g=d.length-1;g>=0;g--)if(d[g]===m)return!0;return!1}function _getInstFunc(d,m,g,v){var y=null;if(d&&_hasOwnProperty(g,T)){var C=d._dynInstFuncs||{};if((y=(C[g._dynClass]||{})[m])||_throwTypeError("Missing ["+m+"] "+_),!y._dynInstChk&&!1!==C._dynInstChk){for(var b=!_hasOwnProperty(d,m),A=_getObjProto(d),P=[];b&&A&&!_isObjectArrayOrFunctionPrototype(A)&&!_hasVisited(P,A);){var R=A[m];if(R){b=R===v;break}P.push(A),A=_getObjProto(A)}try{b&&(d[m]=y),y._dynInstChk=1}catch(d){C._dynInstChk=!1}}}return y}function _getProtoFunc(d,m,g){var v=m[d];return v===g&&(v=_getObjProto(m)[d]),typeof v!==_&&_throwTypeError("["+d+"] is not a "+_),v}function _populatePrototype(d,m,g,v,y){if(!_isObjectOrArrayPrototype(d)){var C=g._dynInstFuncs=g._dynInstFuncs||{},_=C[m]=C[m]||{};!1!==C._dynInstChk&&(C._dynInstChk=!!y),_forEachProp(g,(function(m){_isDynamicCandidate(g,m,!1)&&g[m]!==v[m]&&(_[m]=g[m],delete g[m],(!_hasOwnProperty(d,m)||d[m]&&!d[m]._isDynProxy)&&(d[m]=function _createDynamicPrototype(d,m){var dynProtoProxy=function(){return(_getInstFunc(this,m,d,dynProtoProxy)||_getProtoFunc(m,d,dynProtoProxy)).apply(this,arguments)};return dynProtoProxy._isDynProxy=1,dynProtoProxy}(d,m)))}))}}function _getObjName(d,m){return _hasOwnProperty(d,C)?d.name||m||b:((d||{}).constructor||{}).name||m||b}function dynamicProto(d,m,g,v){_hasOwnProperty(d,C)||_throwTypeError("theClass is an invalid class definition.");var y=d.prototype;(function _checkPrototype(d,m){if(R){for(var g=[],v=_getObjProto(m);v&&!_isObjectArrayOrFunctionPrototype(v)&&!_hasVisited(g,v);){if(v===d)return!0;g.push(v),v=_getObjProto(v)}return!1}return!0})(y,m)||_throwTypeError("["+_getObjName(d)+"] is not in class hierarchy of ["+_getObjName(m)+"]");var _=null;_hasOwnProperty(y,T)?_=y._dynClass:(_="_dynCls$"+_getObjName(d,"_")+"$"+M,M++,y._dynClass=_);var b=dynamicProto._dfOpts,A=!!b.useBaseInst;A&&v&&void 0!==v.useBaseInst&&(A=!!v.useBaseInst);var P=function _getInstanceFuncs(d){var m={};return _forEachProp(d,(function(g){!m[g]&&_isDynamicCandidate(d,g,!1)&&(m[g]=d[g])})),m}(m),k=function _getBaseFuncs(d,m,g,v){function _instFuncProxy(d,m,g){var y=m[g];if(y._isDynProxy&&v){var C=d._dynInstFuncs||{};!1!==C._dynInstChk&&(y=(C[m._dynClass]||{})[g]||y)}return function(){return y.apply(d,arguments)}}var y={};_forEachProp(g,(function(d){y[d]=_instFuncProxy(m,g,d)}));for(var C=_getObjProto(d),_=[];C&&!_isObjectArrayOrFunctionPrototype(C)&&!_hasVisited(_,C);)_forEachProp(C,(function(d){!y[d]&&_isDynamicCandidate(C,d,!R)&&(y[d]=_instFuncProxy(m,C,d))})),_.push(C),C=_getObjProto(C);return y}(y,m,P,A);g(m,k);var I=!!R&&!!b.setInstFuncs;I&&v&&(I=!!v.setInstFuncs),_populatePrototype(y,_,m,P,!1!==I)}dynamicProto._dfOpts={setInstFuncs:!0,useBaseInst:!0};var I=g(89062),O=g(42873),x=g(76413),L=g(51175),U=g(36696),j=g(53989),B=g(4092),V=g(92451),$=g(58194),q="REAL_TIME",Y="NEAR_REAL_TIME",z="BEST_EFFORT",G="POST",J="drop",X="send",te="requeue",re="rspFail",ie="application/x-json-stream",se="cache-control",oe="content-type",ae="kill-duration",ce="time-delta-millis",le="client-version",de="client-id",he="time-delta-to-apply-millis",pe="upload-time",me="apikey",fe="AuthMsaDeviceTicket",ge="AuthXToken";function _getEventMsfpc(d){var m=(d.ext||{}).intweb;return m&&(0,L.Sn)(m.msfpc)?m.msfpc:null}function _getMsfpc(d){for(var m=null,g=0;null===m&&g<d.length;g++)m=_getEventMsfpc(d[g]);return m}var ve=function(){function EventBatch(d,m){var g=m?[].concat(m):[],v=this,y=_getMsfpc(g);v.iKey=function(){return d},v.Msfpc=function(){return y||""},v.count=function(){return g.length},v.events=function(){return g},v.addEvent=function(d){return!!d&&(g.push(d),y||(y=_getEventMsfpc(d)),!0)},v.split=function(m,v){var C;if(m<g.length){var _=g.length-m;(0,U.le)(v)||(_=v<_?v:_),C=g.splice(m,_),y=_getMsfpc(g)}return new EventBatch(d,C)}}return EventBatch.create=function(d,m){return new EventBatch(d,m)},EventBatch}(),ye=g(32589),Se=2e6,Ee=Math.min(Se,65e3),Ce=/\./,_e=function Serializer(d,m,g,v){var y="data",C="baseData",_=!!v,T=m,b={};dynamicProto(Serializer,this,(function(m){function _processPathKeys(d,m,v,y,C,A,P){(0,U.rW)(d,(function(d,R){var k=null;if(R||(0,L.Sn)(R)){var M=v,I=d,O=C,x=m;if(_&&!y&&Ce.test(d)){var j=d.split("."),B=j.length;if(B>1){O&&(O=O.slice());for(var V=0;V<B-1;V++){var $=j[V];x=x[$]=x[$]||{},M+="."+$,O&&O.push($)}I=j[B-1]}}var q=y&&function _isReservedField(d,m){var g=b[d];return void 0===g&&(d.length>=7&&(g=(0,U.xe)(d,"ext.metadata")||(0,U.xe)(d,"ext.web")),b[d]=g),g}(M);if(k=!q&&T&&T.handleField(M,I)?T.value(M,I,R,g):(0,L.yj)(I,R,g)){var Y=k.value;if(x[I]=Y,A&&A(O,I,k),P&&"object"==typeof Y&&!(0,U.kJ)(Y)){var z=O;z&&(z=z.slice()).push(I),_processPathKeys(R,Y,M+"."+I,y,z,A,P)}}}}))}m.createPayload=function(d,m,g,v,y,C){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:d,isTeardown:m,isSync:g,isBeacon:v,sendType:C,sendReason:y}},m.appendPayload=function(g,v,y){var C=g&&v&&!g.overflow;return C&&(0,I.Lm)(d,(function(){return"Serializer:appendPayload"}),(function(){for(var d=v.events(),C=g.payloadBlob,_=g.numEvents,T=!1,b=[],A=[],P=g.isBeacon,R=P?65e3:3984588,k=P?Ee:Se,M=0,I=0;M<d.length;){var O=d[M];if(O){if(_>=y){g.overflow=v.split(M);break}var x=m.getEventBlob(O);if(x&&x.length<=k){var L=x.length;if(C.length+L>R){g.overflow=v.split(M);break}C&&(C+="\n"),C+=x,++I>20&&(C.substr(0,1),I=0),T=!0,_++}else x?b.push(O):A.push(O),d.splice(M,1),M--}M++}if(b&&b.length>0&&g.sizeExceed.push(ve.create(v.iKey(),b)),A&&A.length>0&&g.failedEvts.push(ve.create(v.iKey(),A)),T){g.batches.push(v),g.payloadBlob=C,g.numEvents=_;var j=v.iKey();-1===(0,U.UA)(g.apiKeys,j)&&g.apiKeys.push(j)}}),(function(){return{payload:g,theBatch:{iKey:v.iKey(),evts:v.events()},max:y}})),C},m.getEventBlob=function(m){try{return(0,I.Lm)(d,(function(){return"Serializer.getEventBlob"}),(function(){var d={};d.name=m.name,d.time=m.time,d.ver=m.ver,d.iKey="o:"+(0,L.jM)(m.iKey);var g={},v=m.ext;v&&(d.ext=g,(0,U.rW)(v,(function(d,m){_processPathKeys(m,g[d]={},"ext."+d,!0,null,null,!0)})));var _=d.data={};_.baseType=m.baseType;var T=_.baseData={};return _processPathKeys(m.baseData,T,C,!1,[C],(function(d,m,v){_addJSONPropertyMetaData(g,d,m,v)}),!0),_processPathKeys(m.data,_,y,!1,[],(function(d,m,v){_addJSONPropertyMetaData(g,d,m,v)}),!0),JSON.stringify(d)}),(function(){return{item:m}}))}catch(d){return null}}}))};function _addJSONPropertyMetaData(d,m,g,v){if(v&&d){var y=(0,L.Vv)(v.value,v.kind,v.propertyType);if(y>-1){var C=d.metadata;C||(C=d.metadata={f:{}});var _=C.f;if(_||(_=C.f={}),m)for(var T=0;T<m.length;T++){var b=m[T];_[b]||(_[b]={f:{}});var A=_[b].f;A||(A=_[b].f={}),_=A}_=_[g]={},(0,U.kJ)(v.value)?_.a={t:y}:_.t=y}}}function retryPolicyGetMillisToBackoffForRetry(d){var m,g=Math.floor(1200*Math.random())+2400;return m=Math.pow(2,d)*g,Math.min(m,6e5)}const Te=function KillSwitch(){var d={};dynamicProto(KillSwitch,this,(function(m){m.setKillSwitchTenants=function(m,g){if(m&&g)try{var v=function _normalizeTenants(d){var m=[];return d&&(0,U.tO)(d,(function(d){m.push((0,U.nd)(d))})),m}(m.split(","));if("this-request-only"===g)return v;for(var y=1e3*parseInt(g,10),C=0;C<v.length;++C)d[v[C]]=(0,U.m6)()+y}catch(d){return[]}return[]},m.isTenantKilled=function(m){var g=d,v=(0,U.nd)(m);return void 0!==g[v]&&g[v]>(0,U.m6)()||(delete g[v],!1)}}))};const be=function ClockSkewManager(){var d=!0,m=!0,g=!0,v="use-collector-delta",y=!1;dynamicProto(ClockSkewManager,this,(function(C){C.allowRequestSending=function(){return d},C.firstRequestSent=function(){g&&(g=!1,y||(d=!1))},C.shouldAddClockSkewHeaders=function(){return m},C.getClockSkewHeaderValue=function(){return v},C.setClockSkew=function(g){y||(g?(v=g,m=!0,y=!0):m=!1,d=!0)}}))};var Ae,Pe="&NoResponseBody=true",ke=((Ae={})[1]=te,Ae[100]=te,Ae[200]="sent",Ae[8004]=J,Ae[8003]=J,Ae),Ne={},De={};function _addCollectorHeaderQsMapping(d,m,g){Ne[d]=m,!1!==g&&(De[m]=d)}function _getResponseText(d){try{return d.responseText}catch(d){}return""}function _hasHeader(d,m){var g=!1;if(d&&m){var v=(0,U.FY)(d);if(v&&v.length>0)for(var y=m.toLowerCase(),C=0;C<v.length;C++){var _=v[C];if(_&&(0,U.nr)(m,_)&&_.toLowerCase()===y){g=!0;break}}}return g}function _addRequestDetails(d,m,g,v){m&&g&&g.length>0&&(v&&Ne[m]?(d.hdrs[Ne[m]]=g,d.useHdrs=!0):d.url+="&"+m+"="+g)}_addCollectorHeaderQsMapping(fe,fe,!1),_addCollectorHeaderQsMapping(le,le),_addCollectorHeaderQsMapping(de,"Client-Id"),_addCollectorHeaderQsMapping(me,me),_addCollectorHeaderQsMapping(he,he),_addCollectorHeaderQsMapping(pe,pe),_addCollectorHeaderQsMapping(ge,ge);var Ie=function HttpManager(d,m,g,v,y){this._responseHandlers=[];var C,_,T,b,A,P,R="?cors=true&"+oe.toLowerCase()+"="+ie,k=new Te,M=!1,O=new be,x=!1,B=0,$=!0,q=[],Y={},z=[],te=null,fe=!1,ge=!1,ve=!1;dynamicProto(HttpManager,this,(function(Se){var Ee=!0;function _getSenderInterface(d,m){for(var g=0,v=null,y=0;null==v&&y<d.length;)1===(g=d[y])?(0,j.cp)()?v=_xdrSendPost:(0,j.Z3)()&&(v=_xhrSendPost):2===g&&(0,j.JO)(m)?v=_fetchSendPost:x&&3===g&&(0,j.MF)()&&(v=_beaconSendPost),y++;return v?{_transport:g,_isSync:m,sendPOST:v}:null}function _xdrSendPost(d,m,g){var v=new XDomainRequest;v.open(G,d.urlString),d.timeout&&(v.timeout=d.timeout),v.onload=function(){var d=_getResponseText(v);_doOnComplete(m,200,{},d),_handleCollectorResponse(d)},v.onerror=function(){_doOnComplete(m,400,{})},v.ontimeout=function(){_doOnComplete(m,500,{})},v.onprogress=function(){},g?v.send(d.data):y.set((function(){v.send(d.data)}),0)}function _fetchSendPost(d,m,g){var v,C=d.urlString,_=!1,T=!1,b=((v={body:d.data,method:G}).Microsoft_ApplicationInsights_BypassAjaxInstrumentation=!0,v);g&&(b.keepalive=!0,2===d._sendReason&&(_=!0,C+=Pe)),Ee&&(b.credentials="include"),d.headers&&(0,U.FY)(d.headers).length>0&&(b.headers=d.headers),fetch(C,b).then((function(d){var g={},v="";d.headers&&d.headers.forEach((function(d,m){g[m]=d})),d.body&&d.text().then((function(d){v=d})),T||(T=!0,_doOnComplete(m,d.status,g,v),_handleCollectorResponse(v))})).catch((function(d){T||(T=!0,_doOnComplete(m,0,{}))})),_&&!T&&(T=!0,_doOnComplete(m,200,{})),!T&&d.timeout>0&&y.set((function(){T||(T=!0,_doOnComplete(m,500,{}))}),d.timeout)}function _xhrSendPost(d,m,g){var v=d.urlString;function _appendHeader(d,m,g){if(!d[g]&&m&&m.getResponseHeader){var v=m.getResponseHeader(g);v&&(d[g]=(0,U.nd)(v))}return d}function _getAllResponseHeaders(d){var m={};return d.getAllResponseHeaders?m=function _convertAllHeadersToMap(d){var m={};if((0,U.HD)(d)){var g=(0,U.nd)(d).split(/[\r\n]+/);(0,U.tO)(g,(function(d){if(d){var g=d.indexOf(": ");if(-1!==g){var v=(0,U.nd)(d.substring(0,g)).toLowerCase(),y=(0,U.nd)(d.substring(g+1));m[v]=y}else m[(0,U.nd)(d)]=1}}))}return m}(d.getAllResponseHeaders()):(m=_appendHeader(m,d,ce),m=_appendHeader(m,d,ae),m=_appendHeader(m,d,"kill-duration-seconds")),m}function xhrComplete(d,g){_doOnComplete(m,d.status,_getAllResponseHeaders(d),g)}g&&d.disableXhrSync&&(g=!1);var y=(0,L.ot)(G,v,Ee,!0,g,d.timeout);(0,U.rW)(d.headers,(function(d,m){y.setRequestHeader(d,m)})),y.onload=function(){var d=_getResponseText(y);xhrComplete(y,d),_handleCollectorResponse(d)},y.onerror=function(){xhrComplete(y)},y.ontimeout=function(){xhrComplete(y)},y.send(d.data)}function _doOnComplete(d,m,g,v){try{d(m,g,v)}catch(d){(0,V.kP)(C.diagLog(),2,518,(0,j.eU)(d))}}function _beaconSendPost(d,m,g){var v=200,y=d._thePayload,_=d.urlString+Pe;try{var T=(0,j.jW)();if(!T.sendBeacon(_,d.data))if(y){var b=[];(0,U.tO)(y.batches,(function(d){if(b&&d&&d.count()>0){for(var m=d.events(),g=0;g<m.length;g++)if(!T.sendBeacon(_,te.getEventBlob(m[g]))){b.push(d.split(g));break}}else b.push(d.split(0))})),_sendBatchesNotification(b,8003,y.sendType,!0)}else v=0}catch(d){C.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+(0,j.eU)(d)),v=0}finally{_doOnComplete(m,v,{},"")}}function _isBeaconPayload(d){return 2===d||3===d}function _adjustSendType(d){return ge&&_isBeaconPayload(d)&&(d=2),d}function _hasIdleConnection(){return!M&&B<m}function _clearQueue(){var d=z;return z=[],d}function _canSendPayload(d,m,g){var v=!1;return d&&d.length>0&&!M&&_[m]&&te&&(v=0!==m||_hasIdleConnection()&&(g>0||O.allowRequestSending())),v}function _createDebugBatches(d){var m={};return d&&(0,U.tO)(d,(function(d,g){m[g]={iKey:d.iKey(),evts:d.events()}})),m}function _sendBatches(m,g,v,y,b){if(m&&0!==m.length)if(M)_sendBatchesNotification(m,1,y);else{y=_adjustSendType(y);try{var A=m,P=0!==y;(0,I.Lm)(T,(function(){return"HttpManager:_sendBatches"}),(function(C){C&&(m=m.slice(0));for(var T=[],A=null,R=(0,L.hK)(),M=_[y]||(P?_[1]:_[0]),I=(ge||_isBeaconPayload(y)||M&&3===M._transport)&&function _canUseSendBeaconApi(){return!$&&x&&(0,j.MF)()}();_canSendPayload(m,y,g);){var O=m.shift();O&&O.count()>0&&(k.isTenantKilled(O.iKey())?T.push(O):(A=A||te.createPayload(g,v,P,I,b,y),te.appendPayload(A,O,d)?null!==A.overflow&&(m=[A.overflow].concat(m),A.overflow=null,_doPayloadSend(A,R,(0,L.hK)(),b),R=(0,L.hK)(),A=null):(_doPayloadSend(A,R,(0,L.hK)(),b),R=(0,L.hK)(),m=[O].concat(m),A=null)))}A&&_doPayloadSend(A,R,(0,L.hK)(),b),m.length>0&&(z=m.concat(z)),_sendBatchesNotification(T,8004,y)}),(function(){return{batches:_createDebugBatches(A),retryCount:g,isTeardown:v,isSynchronous:P,sendReason:b,useSendBeacon:_isBeaconPayload(y),sendType:y}}),!P)}catch(d){(0,V.kP)(C.diagLog(),2,48,"Unexpected Exception sending batch: "+(0,j.eU)(d))}}}function _buildRequestDetails(d,m){var g={url:R,hdrs:{},useHdrs:!1};m?(g.hdrs=(0,L.l7)(g.hdrs,Y),g.useHdrs=(0,U.FY)(g.hdrs).length>0):(0,U.rW)(Y,(function(d,m){De[d]?_addRequestDetails(g,De[d],m,!1):(g.hdrs[d]=m,g.useHdrs=!0)})),_addRequestDetails(g,de,"NO_AUTH",m),_addRequestDetails(g,le,L.vs,m);var v="";(0,U.tO)(d.apiKeys,(function(d){v.length>0&&(v+=","),v+=d})),_addRequestDetails(g,me,v,m),_addRequestDetails(g,pe,(0,U.m6)().toString(),m);var y=function _getMsfpc(d){for(var m=0;m<d.batches.length;m++){var g=d.batches[m].Msfpc();if(g)return encodeURIComponent(g)}return""}(d);if((0,L.Sn)(y)&&(g.url+="&ext.intweb.msfpc="+y),O.shouldAddClockSkewHeaders()&&_addRequestDetails(g,he,O.getClockSkewHeaderValue(),m),T.getWParam){var C=T.getWParam();C>=0&&(g.url+="&w="+C)}for(var _=0;_<q.length;_++)g.url+="&"+q[_].name+"="+q[_].value;return g}function _setTimingValue(d,m,g){d[m]=d[m]||{},d[m][C.identifier]=g}function _doPayloadSend(d,m,v,y){if(d&&d.payloadBlob&&d.payloadBlob.length>0){var b=!!Se.sendHook,R=_[d.sendType];!_isBeaconPayload(d.sendType)&&d.isBeacon&&2===d.sendReason&&(R=_[2]||_[3]||R);var M=ve;(d.isBeacon||3===R._transport)&&(M=!1);var x=_buildRequestDetails(d,M);M=M||x.useHdrs;var V=(0,L.hK)();(0,I.Lm)(T,(function(){return"HttpManager:_doPayloadSend"}),(function(){for(var _=0;_<d.batches.length;_++)for(var q=d.batches[_].events(),Y=0;Y<q.length;Y++){var z=q[Y];if(fe){var G=z.timings=z.timings||{};_setTimingValue(G,"sendEventStart",V),_setTimingValue(G,"serializationStart",m),_setTimingValue(G,"serializationCompleted",v)}z.sendAttempt>0?z.sendAttempt++:z.sendAttempt=1}_sendBatchesNotification(d.batches,1e3+(y||0),d.sendType,!0);var J={data:d.payloadBlob,urlString:x.url,headers:x.hdrs,_thePayload:d,_sendReason:y,timeout:A};(0,U.o8)(P)||(J.disableXhrSync=!!P),M&&(_hasHeader(J.headers,se)||(J.headers[se]="no-cache, no-store"),_hasHeader(J.headers,oe)||(J.headers["content-type"]=ie));var X=null;R&&(X=function(m){O.firstRequestSent();var onComplete=function(m,v){!function _retryRequestIfNeeded(d,m,v,y){var _=9e3,T=null,b=!1,A=!1;try{var P=!0;if(typeof d!==ye.jA){if(m){O.setClockSkew(m[ce]);var R=m["kill-duration"]||m["kill-duration-seconds"];(0,U.tO)(k.setKillSwitchTenants(m["kill-tokens"],R),(function(d){(0,U.tO)(v.batches,(function(m){if(m.iKey()===d){T=T||[];var g=m.split(0);v.numEvents-=g.count(),T.push(g)}}))}))}if(200==d||204==d)return void(_=200);(!function retryPolicyShouldRetryForStatus(d){return!(d>=300&&d<500&&408!=d&&429!=d||501==d||505==d)}(d)||v.numEvents<=0)&&(P=!1),_=9e3+d%1e3}if(P){_=100;var M=v.retryCnt;0===v.sendType&&(M<g?(b=!0,_doAction((function(){0===v.sendType&&B--,_sendBatches(v.batches,M+1,v.isTeardown,ge?2:v.sendType,5)}),ge,retryPolicyGetMillisToBackoffForRetry(M))):(A=!0,ge&&(_=8001)))}}finally{b||(O.setClockSkew(),function _handleRequestFinished(d,m,g,v){try{v&&C._backOffTransmission(),200===m&&(v||d.isSync||C._clearBackOff(),function _addCompleteTimings(d){if(fe){var m=(0,L.hK)();(0,U.tO)(d,(function(d){d&&d.count()>0&&function _addEventCompletedTimings(d,m){fe&&(0,U.tO)(d,(function(d){_setTimingValue(d.timings=d.timings||{},"sendEventCompleted",m)}))}(d.events(),m)}))}}(d.batches)),_sendBatchesNotification(d.batches,m,d.sendType,!0)}finally{0===d.sendType&&(B--,5!==g&&Se.sendQueuedRequests(d.sendType,g))}}(v,_,y,A)),_sendBatchesNotification(T,8004,v.sendType)}}(m,v,d,y)},v=d.isTeardown||d.isSync;try{R.sendPOST(m,onComplete,v),Se.sendListener&&Se.sendListener(J,m,v,d.isBeacon)}catch(d){C.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+(0,j.eU)(d)),_doOnComplete(onComplete,0,{})}}),(0,I.Lm)(T,(function(){return"HttpManager:_doPayloadSend.sender"}),(function(){if(X)if(0===d.sendType&&B++,b&&!d.isBeacon&&3!==R._transport){var m={data:J.data,urlString:J.urlString,headers:(0,L.l7)({},J.headers),timeout:J.timeout,disableXhrSync:J.disableXhrSync},g=!1;(0,I.Lm)(T,(function(){return"HttpManager:_doPayloadSend.sendHook"}),(function(){try{Se.sendHook(m,(function(d){g=!0,$||d._thePayload||(d._thePayload=d._thePayload||J._thePayload,d._sendReason=d._sendReason||J._sendReason),X(d)}),d.isSync||d.isTeardown)}catch(d){g||X(J)}}))}else X(J)}))}),(function(){return{thePayload:d,serializationStart:m,serializationCompleted:v,sendReason:y}}),d.isSync)}d.sizeExceed&&d.sizeExceed.length>0&&_sendBatchesNotification(d.sizeExceed,8003,d.sendType),d.failedEvts&&d.failedEvts.length>0&&_sendBatchesNotification(d.failedEvts,8002,d.sendType)}function _doAction(d,m,g){m?d():y.set(d,g)}function _handleCollectorResponse(d){var m=Se._responseHandlers;try{for(var g=0;g<m.length;g++)try{m[g](d)}catch(d){(0,V.kP)(C.diagLog(),1,519,"Response handler failed: "+d)}if(d){var v=JSON.parse(d);(0,L.Sn)(v.webResult)&&(0,L.Sn)(v.webResult.msfpc)&&b.set("MSFPC",v.webResult.msfpc,31536e3)}}catch(d){}}function _sendBatchesNotification(d,m,g,y){if(d&&d.length>0&&v){var _=v[function _getNotificationAction(d){var m=ke[d];return(0,L.Sn)(m)||(m="oth",d>=9e3&&d<=9999?m=re:d>=8e3&&d<=8999?m=J:d>=1e3&&d<=1999&&(m=X)),m}(m)];if(_){var b=0!==g;(0,I.Lm)(T,(function(){return"HttpManager:_sendBatchesNotification"}),(function(){_doAction((function(){try{_.call(v,d,m,b,g)}catch(d){(0,V.kP)(C.diagLog(),1,74,"send request notification failed: "+d)}}),y||b,0)}),(function(){return{batches:_createDebugBatches(d),reason:m,isSync:b,sendSync:y,sendType:g}}),!b)}}}Se.initialize=function(d,m,g,v,y){var k;y||(y={}),R=d+R,ve=!!(0,U.o8)(y.avoidOptions)||!y.avoidOptions,T=m,b=m.getCookieMgr(),fe=!T.config.disableEventTimings;var M=!!T.config.enableCompoundKey;C=g;var I=y.valueSanitizer,O=y.stringifyObjects;(0,U.o8)(y.enableCompoundKey)||(M=!!y.enableCompoundKey),A=y.xhrTimeout,P=y.disableXhrSync,x=!(0,j.b$)(),te=new _e(T,I,O,M);var L=v,B=y.alwaysUseXhrOverride?v:null,V=y.alwaysUseXhrOverride?v:null;if(!v){$=!1;var q=(0,j.k$)();q&&q.protocol&&"file:"===q.protocol.toLowerCase()&&(Ee=!1);var Y=[];Y=(0,j.b$)()?[2,1]:[1,2,3];var z=y.transports;z&&((0,U.hj)(z)?Y=[z].concat(Y):(0,U.kJ)(z)&&(Y=z.concat(Y))),v=_getSenderInterface(Y,!1),L=_getSenderInterface(Y,!0),v||C.diagLog().warnToConsole("No available transport to send events")}(k={})[0]=v,k[1]=L||_getSenderInterface([1,2,3],!0),k[2]=B||_getSenderInterface([3,2],!0)||L||_getSenderInterface([1],!0),k[3]=V||_getSenderInterface([2,3],!0)||L||_getSenderInterface([1],!0),_=k},Se._getDbgPlgTargets=function(){return[_[0],k,te,_]},Se.addQueryStringParameter=function(d,m){for(var g=0;g<q.length;g++)if(q[g].name===d)return void(q[g].value=m);q.push({name:d,value:m})},Se.addHeader=function(d,m){Y[d]=m},Se.canSendRequest=function(){return _hasIdleConnection()&&O.allowRequestSending()},Se.sendQueuedRequests=function(d,m){(0,U.o8)(d)&&(d=0),ge&&(d=_adjustSendType(d),m=2),_canSendPayload(z,d,0)&&_sendBatches(_clearQueue(),0,!1,d,m||0)},Se.isCompletelyIdle=function(){return!M&&0===B&&0===z.length},Se.setUnloading=function(d){ge=d},Se.addBatch=function(d){if(d&&d.count()>0){if(k.isTenantKilled(d.iKey()))return!1;z.push(d)}return!0},Se.teardown=function(){z.length>0&&_sendBatches(_clearQueue(),0,!0,2,2)},Se.pause=function(){M=!0},Se.resume=function(){M=!1,Se.sendQueuedRequests(0,4)},Se.sendSynchronousBatch=function(d,m,g){d&&d.count()>0&&((0,U.le)(m)&&(m=1),ge&&(m=_adjustSendType(m),g=2),_sendBatches([d],0,!1,m,g||0))}}))};function defaultSetTimeout(d,m){for(var g=[],v=2;v<arguments.length;v++)g[v-2]=arguments[v];return setTimeout(d,m,g)}function defaultClearTimeout(d){clearTimeout(d)}function createTimeoutWrapper(d,m){return{set:d||defaultSetTimeout,clear:m||defaultClearTimeout}}var Oe="eventsDiscarded";const xe=function(d){function PostChannel(){var m,g=d.call(this)||this;g.identifier="PostChannel",g.priority=1011,g.version="3.2.3";var v,y,C,_,T,b,A,P=!1,R=[],k=null,M=!1,$=0,G=500,J=0,X=1e4,te={},re=q,ie=null,se=null,oe=0,ae=0,ce={},le=-1,de=!0,he=!1,pe=6,me=2;return dynamicProto(PostChannel,g,(function(d,g){function _handleUnloadEvents(d){"beforeunload"!==(d||(0,j.Jj)().event).type&&(he=!0,y.setUnloading(he)),_releaseAllQueues(2,2)}function _handleShowEvents(d){he=!1,y.setUnloading(he)}function _addEventToQueues(d,m){if(d.sendAttempt||(d.sendAttempt=0),d.latency||(d.latency=1),d.ext&&d.ext.trace&&delete d.ext.trace,d.ext&&d.ext.user&&d.ext.user.id&&delete d.ext.user.id,de&&(d.ext=(0,U.Ax)(d.ext),d.baseData&&(d.baseData=(0,U.Ax)(d.baseData)),d.data&&(d.data=(0,U.Ax)(d.data))),d.sync)if(oe||M)d.latency=3,d.sync=!1;else if(y)return de&&(d=(0,U.Ax)(d)),void y.sendSynchronousBatch(ve.create(d.iKey,[d]),!0===d.sync?1:d.sync,3);var g=d.latency,v=J,C=X;4===g&&(v=$,C=G);var _=!1;if(v<C)_=!_addEventToProperQueue(d,m);else{var T=1,b=20;4===g&&(T=4,b=1),_=!0,function _dropEventWithLatencyOrLess(d,m,g,v){for(;g<=m;){var y=_getEventBatch(d,m,!0);if(y&&y.count()>0){var C=y.split(0,v),_=C.count();if(_>0)return 4===g?$-=_:J-=_,_notifyBatchEvents(Oe,[C],B.h.QueueFull),!0}g++}return _resetQueueCounts(),!1}(d.iKey,d.latency,T,b)&&(_=!_addEventToProperQueue(d,m))}_&&_notifyEvents(Oe,[d],B.h.QueueFull)}function _sendEventsForLatencyAndAbove(d,m,g){var v=_queueBatches(d,m,g);return y.sendQueuedRequests(m,g),v}function _hasEvents(){return J>0}function _scheduleTimer(){if(le>=0&&_queueBatches(le,0,T)&&y.sendQueuedRequests(0,T),$>0&&!se&&!M){var d=te[re][2];d>=0&&(se=_createTimer((function(){se=null,_sendEventsForLatencyAndAbove(4,0,1),_scheduleTimer()}),d))}var m=te[re][1];!ie&&!k&&m>=0&&!M&&(_hasEvents()?ie=_createTimer((function(){ie=null,_sendEventsForLatencyAndAbove(0===ae?3:1,0,1),ae++,ae%=2,_scheduleTimer()}),m):ae=0)}function _initDefaults(){m=null,P=!1,R=[],k=null,M=!1,$=0,G=500,J=0,X=1e4,te={},re=q,ie=null,se=null,oe=0,ae=0,v=null,ce={},C=void 0,_=0,le=-1,T=null,de=!0,he=!1,pe=6,me=2,b=null,A=createTimeoutWrapper(),y=new Ie(500,2,1,{requeue:_requeueEvents,send:_sendingEvent,sent:_eventsSentEvent,drop:_eventsDropped,rspFail:_eventsResponseFail,oth:_otherEvent},A),_initializeProfiles(),function _clearQueues(){ce[4]={batches:[],iKeyMap:{}},ce[3]={batches:[],iKeyMap:{}},ce[2]={batches:[],iKeyMap:{}},ce[1]={batches:[],iKeyMap:{}}}(),_setAutoLimits()}function _createTimer(d,m){0===m&&oe&&(m=1);var g=1e3;return oe&&(g=retryPolicyGetMillisToBackoffForRetry(oe-1)),A.set(d,m*g)}function _clearScheduledTimer(){return null!==ie&&(A.clear(ie),ie=null,ae=0,!0)}function _releaseAllQueues(d,m){_clearScheduledTimer(),k&&(A.clear(k),k=null),M||_sendEventsForLatencyAndAbove(1,d,m)}function _getEventBatch(d,m,g){var v=ce[m];v||(v=ce[m=1]);var y=v.iKeyMap[d];return!y&&g&&(y=ve.create(d),v.batches.push(y),v.iKeyMap[d]=y),y}function _performAutoFlush(m,g){y.canSendRequest()&&!oe&&(C>0&&J>C&&(g=!0),g&&null==k&&d.flush(m,null,20))}function _addEventToProperQueue(d,m){de&&(d=(0,U.Ax)(d));var g=d.latency,v=_getEventBatch(d.iKey,g,!0);return!!v.addEvent(d)&&(4!==g?(J++,m&&0===d.sendAttempt&&_performAutoFlush(!d.sync,_>0&&v.count()>=_)):$++,!0)}function _resetQueueCounts(){for(var d=0,m=0,_loop_1=function(g){var v=ce[g];v&&v.batches&&(0,U.tO)(v.batches,(function(v){4===g?d+=v.count():m+=v.count()}))},g=1;g<=4;g++)_loop_1(g);J=m,$=d}function _queueBatches(m,g,v){var C=!1,_=0===g;return!_||y.canSendRequest()?(0,I.Lm)(d.core,(function(){return"PostChannel._queueBatches"}),(function(){for(var d=[],g=4;g>=m;){var v=ce[g];v&&v.batches&&v.batches.length>0&&((0,U.tO)(v.batches,(function(m){y.addBatch(m)?C=C||m&&m.count()>0:d=d.concat(m.events()),4===g?$-=m.count():J-=m.count()})),v.batches=[],v.iKeyMap={}),g--}d.length>0&&_notifyEvents(Oe,d,B.h.KillSwitch),C&&le>=m&&(le=-1,T=0)}),(function(){return{latency:m,sendType:g,sendReason:v}}),!_):(le=le>=0?Math.min(le,m):m,T=Math.max(T,v)),C}function _flushImpl(d,m){_sendEventsForLatencyAndAbove(1,0,m),_resetQueueCounts(),_waitForIdleManager((function(){d&&d(),R.length>0?k=_createTimer((function(){k=null,_flushImpl(R.shift(),m)}),0):(k=null,_scheduleTimer())}))}function _waitForIdleManager(d){y.isCompletelyIdle()?d():k=_createTimer((function(){k=null,_waitForIdleManager(d)}),.25)}function _initializeProfiles(){(te={})[q]=[2,1,0],te[Y]=[6,3,0],te[z]=[18,9,0]}function _requeueEvents(m,g){var v=[],y=pe;he&&(y=me),(0,U.tO)(m,(function(m){m&&m.count()>0&&(0,U.tO)(m.events(),(function(m){m&&(m.sync&&(m.latency=4,m.sync=!1),m.sendAttempt<y?((0,L.if)(m,d.identifier),_addEventToQueues(m,!1)):v.push(m))}))})),v.length>0&&_notifyEvents(Oe,v,B.h.NonRetryableStatus),he&&_releaseAllQueues(2,2)}function _callNotification(m,g){var v=d._notificationManager||{},y=v[m];if(y)try{y.apply(v,g)}catch(g){(0,V.kP)(d.diagLog(),1,74,m+" notification failed: "+g)}}function _notifyEvents(d,m){for(var g=[],v=2;v<arguments.length;v++)g[v-2]=arguments[v];m&&m.length>0&&_callNotification(d,[m].concat(g))}function _notifyBatchEvents(d,m){for(var g=[],v=2;v<arguments.length;v++)g[v-2]=arguments[v];m&&m.length>0&&(0,U.tO)(m,(function(m){m&&m.count()>0&&_callNotification(d,[m.events()].concat(g))}))}function _sendingEvent(d,m,g){d&&d.length>0&&_callNotification("eventsSendRequest",[m>=1e3&&m<=1999?m-1e3:0,!0!==g])}function _eventsSentEvent(d,m){_notifyBatchEvents("eventsSent",d,m),_scheduleTimer()}function _eventsDropped(d,m){_notifyBatchEvents(Oe,d,m>=8e3&&m<=8999?m-8e3:B.h.Unknown)}function _eventsResponseFail(d){_notifyBatchEvents(Oe,d,B.h.NonRetryableStatus),_scheduleTimer()}function _otherEvent(d,m){_notifyBatchEvents(Oe,d,B.h.Unknown),_scheduleTimer()}function _setAutoLimits(){_=m&&m.disableAutoBatchFlushLimit?0:Math.max(1500,X/6)}_initDefaults(),d._getDbgPlgTargets=function(){return[y]},d.initialize=function(_,T,P){(0,I.Lm)(T,(function(){return"PostChannel:initialize"}),(function(){var R=T;g.initialize(_,T,P);try{T.addUnloadCb;b=(0,O.jU)((0,x.J)(d.identifier),T.evtNamespace&&T.evtNamespace());var k=d._getTelCtx();_.extensionConfig[d.identifier]=_.extensionConfig[d.identifier]||{},m=k.getExtCfg(d.identifier),A=createTimeoutWrapper(m.setTimeoutOverride,m.clearTimeoutOverride),de=!m.disableOptimizeObj&&(0,L.mJ)(),function _hookWParam(d){var g=d.getWParam;d.getWParam=function(){var d=0;return m.ignoreMc1Ms0CookieProcessing&&(d|=2),d|g()}}(R),m.eventsLimitInMem>0&&(X=m.eventsLimitInMem),m.immediateEventLimit>0&&(G=m.immediateEventLimit),m.autoFlushEventsLimit>0&&(C=m.autoFlushEventsLimit),(0,U.hj)(m.maxEventRetryAttempts)&&(pe=m.maxEventRetryAttempts),(0,U.hj)(m.maxUnloadEventRetryAttempts)&&(me=m.maxUnloadEventRetryAttempts),_setAutoLimits(),m.httpXHROverride&&m.httpXHROverride.sendPOST&&(v=m.httpXHROverride),(0,L.Sn)(_.anonCookieName)&&y.addQueryStringParameter("anoncknm",_.anonCookieName),y.sendHook=m.payloadPreprocessor,y.sendListener=m.payloadListener;var M=m.overrideEndpointUrl?m.overrideEndpointUrl:_.endpointUrl;d._notificationManager=_.extensionConfig.NotificationManager,y.initialize(M,d.core,d,v,m);var I=_.disablePageUnloadEvents||[];(0,O.c9)(_handleUnloadEvents,I,b),(0,O.TJ)(_handleUnloadEvents,I,b),(0,O.nD)(_handleShowEvents,_.disablePageShowEvents,b)}catch(m){throw d.setInitialized(!1),m}}),(function(){return{coreConfig:_,core:T,extensions:P}}))},d.processTelemetry=function(g,v){(0,L.if)(g,d.identifier);var y=(v=d._getTelCtx(v)).getExtCfg(d.identifier),C=!!m.disableTelemetry;y&&(C=C||!!y.disableTelemetry);var _=g;C||P||(m.overrideInstrumentationKey&&(_.iKey=m.overrideInstrumentationKey),y&&y.overrideInstrumentationKey&&(_.iKey=y.overrideInstrumentationKey),_addEventToQueues(_,!0),he?_releaseAllQueues(2,2):_scheduleTimer()),d.processNext(_,v)},d._doTeardown=function(d,m){_releaseAllQueues(2,2),P=!0,y.teardown(),(0,O.JA)(null,b),(0,O.C9)(null,b),(0,O.Yl)(null,b),_initDefaults()},d.setEventQueueLimits=function(d,m){X=d>0?d:1e4,C=m>0?m:0,_setAutoLimits();var g=J>d;if(!g&&_>0)for(var v=1;!g&&v<=3;v++){var y=ce[v];y&&y.batches&&(0,U.tO)(y.batches,(function(d){d&&d.count()>=_&&(g=!0)}))}_performAutoFlush(!0,g)},d.pause=function(){_clearScheduledTimer(),M=!0,y.pause()},d.resume=function(){M=!1,y.resume(),_scheduleTimer()},d.addResponseHandler=function(d){y._responseHandlers.push(d)},d._loadTransmitProfiles=function(d){!function _resetTransmitProfiles(){_clearScheduledTimer(),_initializeProfiles(),re=q,_scheduleTimer()}(),(0,U.rW)(d,(function(d,m){var g=m.length;if(g>=2){var v=g>2?m[2]:0;if(m.splice(0,g-2),m[1]<0&&(m[0]=-1),m[1]>0&&m[0]>0){var y=m[0]/m[1];m[0]=Math.ceil(y)*m[1]}v>=0&&m[1]>=0&&v>m[1]&&(v=m[1]),m.push(v),te[d]=m}}))},d.flush=function(d,m,g){if(void 0===d&&(d=!0),!M)if(g=g||1,d)null==k?(_clearScheduledTimer(),_queueBatches(1,0,g),k=_createTimer((function(){k=null,_flushImpl(m,g)}),0)):R.push(m);else{var v=_clearScheduledTimer();_sendEventsForLatencyAndAbove(1,1,g),null!=m&&m(),v&&_scheduleTimer()}},d.setMsaAuthTicket=function(d){y.addHeader(fe,d)},d.hasEvents=_hasEvents,d._setTransmitProfile=function(d){re!==d&&void 0!==te[d]&&(_clearScheduledTimer(),re=d,_scheduleTimer())},d._backOffTransmission=function(){oe<4&&(oe++,_clearScheduledTimer(),_scheduleTimer())},d._clearBackOff=function(){oe&&(oe=0,_clearScheduledTimer(),_scheduleTimer())},(0,U.l_)(d,"_setTimeoutOverride",(function(){return A.set}),(function(d){A=createTimeoutWrapper(d,A.clear)})),(0,U.l_)(d,"_clearTimeoutOverride",(function(){return A.clear}),(function(d){A=createTimeoutWrapper(A.set,d)}))})),g}return(0,v.ne)(PostChannel,d),PostChannel}($.i)},32589:(d,m,g)=>{"use strict";g.d(m,{CY:()=>M,Pw:()=>b,RJ:()=>k,V4:()=>A,bO:()=>T,cb:()=>v,fK:()=>y,hB:()=>_,jA:()=>C,rl:()=>P,yu:()=>R});var v="function",y="object",C="undefined",_="prototype",T="hasOwnProperty",b=Object,A=b[_],P=b.assign,R=b.create,k=b.defineProperty,M=A[T]},28785:(d,m,g)=>{"use strict";g.d(m,{Rd:()=>getGlobal,ZU:()=>throwTypeError,pu:()=>objCreateFn});var v=g(32589),y=null;function getGlobal(d){return void 0===d&&(d=!0),y&&d||(typeof globalThis!==v.jA&&globalThis&&(y=globalThis),typeof self!==v.jA&&self&&(y=self),typeof window!==v.jA&&window&&(y=window),typeof global!==v.jA&&global&&(y=global)),y}function throwTypeError(d){throw new TypeError(d)}function objCreateFn(d){var m=v.yu;if(m)return m(d);if(null==d)return{};var g=typeof d;function tmpFunc(){}return g!==v.fK&&g!==v.cb&&throwTypeError("Object prototype may only be an Object:"+d),tmpFunc[v.hB]=d,new tmpFunc}},43298:(d,m,g)=>{"use strict";g.d(m,{$h:()=>__spreadArrayFn,ne:()=>__extendsFn,uc:()=>C});var v=g(32589),y=g(28785),C=(((0,y.Rd)()||{}).Symbol,((0,y.Rd)()||{}).Reflect,v.rl||function(d){for(var m,g=1,y=arguments.length;g<y;g++)for(var C in m=arguments[g])v.V4[v.bO].call(m,C)&&(d[C]=m[C]);return d}),extendStaticsFn=function(d,m){return extendStaticsFn=v.Pw.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var g in m)m[v.bO](g)&&(d[g]=m[g])},extendStaticsFn(d,m)};function __extendsFn(d,m){function __(){this.constructor=d}typeof m!==v.cb&&null!==m&&(0,y.ZU)("Class extends value "+String(m)+" is not a constructor or null"),extendStaticsFn(d,m),d[v.hB]=null===m?(0,y.pu)(m):(__[v.hB]=m[v.hB],new __)}function __spreadArrayFn(d,m){for(var g=0,v=m.length,y=d.length;g<v;g++,y++)d[y]=m[g];return d}},55715:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.ConnectionStatus=void 0,function(d){d.None="none",d.Connecting="connecting",d.RefreshingTunnelAccessToken="refreshingTunnelAccessToken",d.Connected="connected",d.Disconnected="disconnected"}(m.ConnectionStatus||(m.ConnectionStatus={}))},61179:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.ConnectionStatusChangedEventArgs=void 0;m.ConnectionStatusChangedEventArgs=class ConnectionStatusChangedEventArgs{constructor(d,m,g){this.previousStatus=d,this.status=m,this.disconnectError=g}}},8020:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.DefaultTunnelRelayStreamFactory=void 0;const v=g(43447);m.DefaultTunnelRelayStreamFactory=class DefaultTunnelRelayStreamFactory{async createRelayStream(d,m,g,y){if((0,v.isNode)()){return await v.SshHelpers.openConnection(d,[m],Object.assign({},g&&{Authorization:`tunnel ${g}`}),y)}{const y=[m];g&&y.push(g);return await v.SshHelpers.openConnection(d,y)}}}},67594:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.ForwardedPortConnectingEventArgs=void 0;m.ForwardedPortConnectingEventArgs=class ForwardedPortConnectingEventArgs{constructor(d,m){this.port=d,this.stream=m}}},76370:function(d,m,g){"use strict";var v=this&&this.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),y=this&&this.__exportStar||function(d,m){for(var g in d)"default"===g||Object.prototype.hasOwnProperty.call(m,g)||v(m,d,g)};Object.defineProperty(m,"__esModule",{value:!0}),y(g(7271),m),y(g(13775),m),y(g(1862),m),y(g(83221),m),y(g(36181),m),y(g(68015),m),y(g(49200),m),y(g(43447),m),y(g(7271),m),y(g(6821),m),y(g(13775),m),y(g(3068),m),y(g(41721),m),y(g(8020),m),y(g(4799),m),y(g(29678),m),y(g(93463),m),y(g(95583),m),y(g(55715),m),y(g(61179),m),y(g(67594),m),y(g(40707),m),y(g(16),m),y(g(55552),m)},1862:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.MultiModeTunnelClient=void 0;const v=g(97582),y=g(95583);class MultiModeTunnelClient extends y.TunnelConnectionBase{constructor(){super(v.TunnelAccessScopes.Connect),this.clients=[],this.connectionModes=this.clients?[...new Set(...this.clients.map((d=>d.connectionModes)))]:[]}get acceptLocalConnectionsForForwardedPorts(){return!!this.clients.find((d=>d.acceptLocalConnectionsForForwardedPorts))}set acceptLocalConnectionsForForwardedPorts(d){this.clients.forEach((m=>m.acceptLocalConnectionsForForwardedPorts=d))}get localForwardingHostAddress(){var d;return null===(d=this.clients[0])||void 0===d?void 0:d.localForwardingHostAddress}set localForwardingHostAddress(d){this.clients.forEach((m=>m.localForwardingHostAddress=d))}connect(d,m){if(!d)throw new Error("Tunnel cannot be null");return new Promise((d=>{}))}connectToForwardedPort(d,m){throw new Error("Method not implemented.")}waitForForwardedPort(d,m){throw new Error("Method not implemented.")}async refreshPorts(){throw new Error("Method not implemented.")}async dispose(){await super.dispose(),await Promise.all(this.clients.map((d=>d.dispose())))}}m.MultiModeTunnelClient=MultiModeTunnelClient},83221:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.MultiModeTunnelHost=void 0;const v=g(97582),y=g(98022),C=g(95583);class MultiModeTunnelHost extends C.TunnelConnectionBase{constructor(){super(v.TunnelAccessScopes.Host),this.hosts=[]}async start(d){let m=[];this.hosts.forEach((g=>{m.push(g.start(d))})),await Promise.all(m)}async refreshPorts(){let d=[];this.hosts.forEach((m=>{d.push(m.refreshPorts())})),await Promise.all(d)}async dispose(){await Promise.all(this.hosts.map((d=>d.dispose()))),await super.dispose()}}m.MultiModeTunnelHost=MultiModeTunnelHost,MultiModeTunnelHost.hostId=(0,y.v4)()},23138:function(d,m,g){"use strict";var v=this&&this.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),y=this&&this.__exportStar||function(d,m){for(var g in d)"default"===g||Object.prototype.hasOwnProperty.call(m,g)||v(m,d,g)};Object.defineProperty(m,"__esModule",{value:!0}),y(g(14931),m),y(g(96454),m),y(g(88636),m),y(g(39957),m)},39957:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.TunnelAccessTokenProperties=void 0;class TunnelAccessTokenProperties{toString(){let d="";if(this.tunnelId&&(d+="tunnel=",d+=this.tunnelId,this.clusterId&&(d+=".",d+=this.clusterId)),"number"==typeof this.tunnelPort&&(d.length>0&&(d+=", "),d+="port=",d+=this.tunnelPort),this.scp){d.length>0&&(d+=", ");d+=`scopes=[${this.scp.split(" ").join(", ")}]`}if(this.iss&&(d.length>0&&(d+=", "),d+="issuer=",d+=this.iss),this.exp){d.length>0&&(d+=", ");d+="expiration=",d+=new Date(1e3*this.exp).toString().replace(".000Z","Z")}return d}static validateTokenExpiration(d){const m=TunnelAccessTokenProperties.tryParse(d);if("number"==typeof(null==m?void 0:m.exp)){if(new Date(1e3*m.exp)<new Date)throw new Error("The access token is expired: "+m)}}static tryParse(d){if("string"!=typeof d)throw new TypeError("Token string expected.");const m=d.split(".");if(3!==m.length)return null;const g=TunnelAccessTokenProperties.base64UrlDecode(m[1]);if(!g)return null;try{const d=new TunnelAccessTokenProperties;return Object.assign(d,JSON.parse(g)),d}catch(d){return null}}static getTokenTrace(d){var m,g;return d?null!==(g=null===(m=TunnelAccessTokenProperties.tryParse(d))||void 0===m?void 0:m.toString())&&void 0!==g?g:"token":"none"}static getTunnelAccessToken(d,m){if((null==d?void 0:d.accessTokens)&&m){Array.isArray(m)||(m=[m]);for(let g of m)for(let[m,v]of Object.entries(d.accessTokens))if(v&&m.split(" ").includes(g))return TunnelAccessTokenProperties.validateTokenExpiration(v),v}}static base64UrlDecode(d){for(d=d.replace("-","+");d.length%4!=0;)d+="=";try{return atob(d)}catch(d){return null}}}m.TunnelAccessTokenProperties=TunnelAccessTokenProperties},96454:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.TunnelAuthenticationSchemes=void 0;class TunnelAuthenticationSchemes{}m.TunnelAuthenticationSchemes=TunnelAuthenticationSchemes,TunnelAuthenticationSchemes.aad="aad",TunnelAuthenticationSchemes.github="github",TunnelAuthenticationSchemes.tunnel="tunnel"},14931:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.TunnelManagementHttpClient=void 0;const v=g(97582),y=g(96454),C=g(39957),_=g(57134),T=g(89644),b="/api/v1/tunnels",A="/ports",P="Authorization";function comparePorts(d,m){var g,v;return(null!==(g=d.portNumber)&&void 0!==g?g:Number.MAX_SAFE_INTEGER)-(null!==(v=m.portNumber)&&void 0!==v?v:Number.MAX_SAFE_INTEGER)}function parseDate(d){return"string"==typeof d?new Date(Date.parse(d)):d}function parseTunnelDates(d){d&&(d.created=parseDate(d.created),d.status&&(d.status.lastHostConnectionTime=parseDate(d.status.lastHostConnectionTime),d.status.lastClientConnectionTime=parseDate(d.status.lastClientConnectionTime)))}function parseTunnelPortDates(d){d&&d.status&&(d.status.lastClientConnectionTime=parseDate(d.status.lastClientConnectionTime))}const R=[v.TunnelAccessScopes.Manage],k=[v.TunnelAccessScopes.Host],M=[v.TunnelAccessScopes.Manage,v.TunnelAccessScopes.ManagePorts,v.TunnelAccessScopes.Host],I=[v.TunnelAccessScopes.Manage,v.TunnelAccessScopes.ManagePorts,v.TunnelAccessScopes.Host,v.TunnelAccessScopes.Connect];class TunnelManagementHttpClient{constructor(d,m,g,y){var C;if(this.httpsAgent=y,this.trace=d=>{},!d)throw new TypeError("User agent must be provided.");if(Array.isArray(d)){if(0===d.length)throw new TypeError("User agents cannot be empty.");let m="";d.forEach((d=>{var g;if("string"!=typeof d){if(!d.name)throw new TypeError("Invalid user agent. The name must be provided.");if("string"!=typeof d.name)throw new TypeError("Invalid user agent. The name must be a string.");if(d.version&&"string"!=typeof d.version)throw new TypeError("Invalid user agent. The version must be a string.");m=`${m}${d.name}/${null!==(g=d.version)&&void 0!==g?g:"unknown"} `}else m=`${m}${d} `})),this.userAgents=m.trim()}else if("string"!=typeof d){if(!d.name)throw new TypeError("Invalid user agent. The name must be provided.");if("string"!=typeof d.name)throw new TypeError("Invalid user agent. The name must be a string.");if(d.version&&"string"!=typeof d.version)throw new TypeError("Invalid user agent. The version must be a string.");this.userAgents=`${d.name}/${null!==(C=d.version)&&void 0!==C?C:"unknown"}`}else this.userAgents=d;this.userTokenCallback=null!=m?m:()=>Promise.resolve(null),g||(g=v.TunnelServiceProperties.production.serviceUri);const _=new URL(g);if(!_||"/"!==_.pathname)throw new TypeError(`Invalid tunnel service URI: ${g}`);this.baseAddress=g}async listTunnels(d,m,g){const v=[d?null:"global=true",m?`domain=${m}`:null].filter((d=>!!d)).join("&"),y=await this.sendRequest("GET",d,b,v,g);return y.forEach(parseTunnelDates),y}async getTunnel(d,m){const g=await this.sendTunnelRequest("GET",d,I,void 0,void 0,m);return parseTunnelDates(g),g}async createTunnel(d,m){if(d.tunnelId)throw new Error("An ID may not be specified when creating a tunnel.");d=this.convertTunnelForRequest(d);const g=await this.sendRequest("POST",d.clusterId,b,void 0,m,d);return parseTunnelDates(g),g}async updateTunnel(d,m){const g=await this.sendTunnelRequest("PUT",d,R,void 0,void 0,m,this.convertTunnelForRequest(d));return(null==m?void 0:m.tokenScopes)||(g.accessTokens=d.accessTokens),parseTunnelDates(g),g}async deleteTunnel(d,m){return await this.sendTunnelRequest("DELETE",d,R,void 0,void 0,m,void 0,!0)}async updateTunnelEndpoint(d,m,g){const v=`/endpoints/${m.hostId}/${m.connectionMode}`,y=await this.sendTunnelRequest("PUT",d,k,v,void 0,g,m);return d.endpoints&&(d.endpoints=d.endpoints.filter((d=>d.hostId!==m.hostId||d.connectionMode!==m.connectionMode)).concat(y)),y}async deleteTunnelEndpoints(d,m,g,v){const y=null==g?`/endpoints/${m}`:`/endpoints/${m}/${g}`,C=await this.sendTunnelRequest("DELETE",d,k,y,void 0,v,void 0,!0);return C&&d.endpoints&&(d.endpoints=d.endpoints.filter((d=>d.hostId!==m||d.connectionMode!==g))),C}async listTunnelPorts(d,m){const g=await this.sendTunnelRequest("GET",d,I,A,void 0,m);return g.forEach(parseTunnelPortDates),g}async getTunnelPort(d,m,g){const v=`/ports/${m}`,y=await this.sendTunnelRequest("GET",d,I,v,void 0,g);return parseTunnelPortDates(y),y}async createTunnelPort(d,m,g){m=this.convertTunnelPortForRequest(d,m);const v=await this.sendTunnelRequest("POST",d,M,A,void 0,g,m);return d.ports&&(d.ports=d.ports.filter((d=>d.portNumber!==m.portNumber)).concat(v).sort(comparePorts)),parseTunnelPortDates(v),v}async updateTunnelPort(d,m,g){if(m.clusterId&&d.clusterId&&m.clusterId!==d.clusterId)throw new Error("Tunnel port cluster ID is not consistent.");const v=`/ports/${m.portNumber}`;m=this.convertTunnelPortForRequest(d,m);const y=await this.sendTunnelRequest("PUT",d,M,v,void 0,g,m);return d.ports&&(d.ports=d.ports.filter((d=>d.portNumber!==m.portNumber)).concat(y).sort(comparePorts)),(null==g?void 0:g.tokenScopes)||(y.accessTokens=m.accessTokens),parseTunnelPortDates(y),y}async deleteTunnelPort(d,m,g){const v=`/ports/${m}`,y=await this.sendTunnelRequest("DELETE",d,M,v,void 0,g,void 0,!0);return y&&d.ports&&(d.ports=d.ports.filter((d=>d.portNumber!==m)).sort(comparePorts)),y}async listClusters(){return await this.sendRequest("GET",void 0,"/api/v1/clusters",void 0,void 0,void 0,!1)}async sendTunnelRequest(d,m,g,v,y,C,_,T){const b=this.buildUriForTunnel(m,v,y,C),A=await this.getAxiosRequestConfig(m,C,g);return await this.request(d,b,_,A,T)}async sendRequest(d,m,g,v,y,C,_){const T=this.buildUri(m,g,v,y),b=await this.getAxiosRequestConfig(void 0,y);return await this.request(d,T,C,b,_)}async checkNameAvailablility(d){d=encodeURI(d);const m=this.buildUri(void 0,`/api/v1/tunnels/${d}/checkAvailability`);let g={httpsAgent:this.httpsAgent};return await this.request("GET",m,void 0,g)}getResponseErrorMessage(d){var m,g,v,y;let C="";if(null===(m=d.response)||void 0===m?void 0:m.data){let m=d.response.data;(m.title||m.detail)&&(C=`Tunnel service error: ${m.title}`,m.detail&&(C+=" "+m.detail),m.errors&&(C+=JSON.stringify(m.errors)))}C||(C=(null==d?void 0:d.response)?`Tunnel service returned status code: ${d.response.status} ${d.response.statusText}`:null!==(v=null!==(g=null==d?void 0:d.message)&&void 0!==g?g:d)&&void 0!==v?v:"Unknown tunnel service request error.");const _="VsSaaS-Request-Id";return(null===(y=d.response)||void 0===y?void 0:y.headers)&&d.response.headers[_]&&(C+=`\nRequest ID: ${d.response.headers[_]}`),C}buildUri(d,m,g,v){let y=this.baseAddress;if(d){const m=new URL(y),g=parseInt(m.port,10);if("localhost"===m.hostname||m.hostname.startsWith(`${d}.`)){if("https:"===m.protocol&&d.startsWith("localhost")&&g%10>0){const v=parseInt(d.substring("localhost".length),10);v>0&&v<10&&(m.port=(g-g%10+v).toString(),y=m.toString())}}else m.hostname=`${d}.${m.hostname}`.replace("global.",""),y=m.toString()}y=`${y.replace(/\/$/,"")}${m}`;let C=this.tunnelRequestOptionsToQueryString(v,g);return C&&(y+=`?${C}`),y}buildUriForTunnel(d,m,g,v){let y="";if(d.clusterId&&d.tunnelId)y=`/api/v1/tunnels/${d.tunnelId}`;else{if(!d.name)throw new Error("Tunnel object must include either a name or tunnel ID and cluster ID.");y=`/api/v1/tunnels/${d.name}`}if(null==v?void 0:v.additionalQueryParameters)for(let[d,m]of Object.entries(v.additionalQueryParameters))g?g+=`&${d}=${m}`:g=`${d}=${m}`;return this.buildUri(d.clusterId,y+(m||""),g,v)}async getAxiosRequestConfig(d,m,g){let v={};if(m&&m.accessToken&&(C.TunnelAccessTokenProperties.validateTokenExpiration(m.accessToken),v.Authorization=`${y.TunnelAuthenticationSchemes.tunnel} ${m.accessToken}`),!(P in v)&&this.userTokenCallback){let d=await this.userTokenCallback();d&&(v.Authorization=d)}if(!(P in v)){const m=C.TunnelAccessTokenProperties.getTunnelAccessToken(d,g);m&&(v.Authorization=`${y.TunnelAuthenticationSchemes.tunnel} ${m}`)}const copyAdditionalHeaders=d=>{if(d)for(let[m,g]of Object.entries(d))v[m]=g};copyAdditionalHeaders(this.additionalRequestHeaders),copyAdditionalHeaders(null==m?void 0:m.additionalHeaders);const T=v["User-Agent"]?v["User-Agent"]+" ":"";v["User-Agent"]=`${T}${this.userAgents} ${_.tunnelSdkUserAgent}`;let b=Object.assign({headers:v},this.httpsAgent&&{httpsAgent:this.httpsAgent});return!1===(null==m?void 0:m.followRedirects)&&(b.maxRedirects=0),b}convertTunnelForRequest(d){var m;return{name:d.name,domain:d.domain,description:d.description,tags:d.tags,options:d.options,accessControl:d.accessControl?{entries:d.accessControl.entries.filter((d=>!d.isInherited))}:void 0,endpoints:d.endpoints,ports:null===(m=d.ports)||void 0===m?void 0:m.map((m=>this.convertTunnelPortForRequest(d,m)))}}convertTunnelPortForRequest(d,m){if(m.clusterId&&d.clusterId&&m.clusterId!==d.clusterId)throw new Error("Tunnel port cluster ID does not match tunnel.");if(m.tunnelId&&d.tunnelId&&m.tunnelId!==d.tunnelId)throw new Error("Tunnel port tunnel ID does not match tunnel.");return{portNumber:m.portNumber,protocol:m.protocol,isDefault:m.isDefault,description:m.description,tags:m.tags,sshUser:m.sshUser,options:m.options,accessControl:m.accessControl?{entries:m.accessControl.entries.filter((d=>!d.isInherited))}:void 0}}tunnelRequestOptionsToQueryString(d,m){let g={};const y=[];d&&(d.includePorts&&(g.includePorts=["true"]),d.includeAccessControl&&(g.includeAccessControl=["true"]),d.tokenScopes&&(v.TunnelAccessControl.validateScopes(d.tokenScopes,void 0,!0),g.tokenScopes=d.tokenScopes),d.forceRename&&(g.forceRename=["true"]),d.tags&&(g.tags=d.tags,d.requireAllTags&&(g.allTags=["true"])),d.limit&&(g.limit=[d.limit.toString()]),y.push(...Object.keys(g).map((d=>`${d}=${g[d].map(encodeURIComponent).join(",")}`)))),m&&y.push(m);return y.join("&")}async request(d,m,g,v,y){this.trace(`${d} ${m}`),this.traceHeaders(v.headers),this.traceContent(g);const traceResponse=d=>{this.trace(`${d.status} ${d.statusText}`),this.traceHeaders(d.headers),this.traceContent(d.data)};try{v.url=m,v.method=d,v.data=g;let y=await T.default.request(v);return traceResponse(y),"DELETE"===d||y.data}catch(m){if(!(m instanceof Error&&m.isAxiosError))throw m;const g=m;if(g.response&&(traceResponse(g.response),y&&404===g.response.status))return"DELETE"!==d&&null;throw g.message=this.getResponseErrorMessage(g),delete g.request,g.response&&(delete g.config.httpAgent,delete g.config.httpsAgent,delete g.response.request),g}}traceHeaders(d){for(let[m,g]of Object.entries(d)){if("Authorization"===m)return void this.traceAuthorizationHeader(m,g);this.trace(`${m}: ${null!=g?g:""}`)}}traceAuthorizationHeader(d,m){if("string"!=typeof m)return;const g=m.indexOf(" ");if(g<0)return void this.trace(`${d}: [${m.length}]`);const v=m.substring(0,g),_=m.substring(g+1);if(v.toLowerCase()===y.TunnelAuthenticationSchemes.tunnel.toLowerCase()){const m=C.TunnelAccessTokenProperties.tryParse(_);if(m)return void this.trace(`${d}: ${v} <${m}>`)}this.trace(`${d}: ${v} <token>`)}traceContent(d){"object"==typeof d&&(d=JSON.stringify(d,void 0,"  ")),"string"==typeof d&&this.trace(TunnelManagementHttpClient.replaceTokensInContent(d))}static replaceTokensInContent(d){var m;const g=/"(eyJ[a-zA-z0-9\-_]+\.[a-zA-z0-9\-_]+\.[a-zA-z0-9\-_]+)"/;let v=g.exec(d);for(;v;){let y=v[1];const _=C.TunnelAccessTokenProperties.tryParse(y);y=null!==(m=null==_?void 0:_.toString())&&void 0!==m?m:"token",d=d.substring(0,v.index+1)+"<"+y+">"+d.substring(v.index+v[0].length-1),v=g.exec(d)}return d}}m.TunnelManagementHttpClient=TunnelManagementHttpClient},88636:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0})},57134:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.tunnelSdkUserAgent=void 0;const v=g(70564).version;m.tunnelSdkUserAgent=`Visual-Studio-Tunnel-Service-SDK/${v}`},40707:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.RefreshingTunnelAccessTokenEventArgs=void 0;m.RefreshingTunnelAccessTokenEventArgs=class RefreshingTunnelAccessTokenEventArgs{constructor(d,m){this.tunnelAccessScope=d,this.cancellation=m}}},56452:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.RelayTunnelConnector=void 0;const v=g(52097),y=g(74149),C=g(43447),_=g(16);m.RelayTunnelConnector=class RelayTunnelConnector{constructor(d){this.tunnelSession=d}get trace(){return this.tunnelSession.trace}async connectSession(d,m){var g;let b,A;function throwIfCancellation(d){if(d instanceof v.CancellationError&&m.isCancellationRequested)throw A=void 0,b=v.SshDisconnectReason.byApplication,d}function throwError(d){throw A?A.message=d:A=new Error(d),A}let P,R=0,k=0,M=100,I=!1,O=!0;for(;;){if(m.isCancellationRequested)throw new v.CancellationError;if(R>0){if(A){const d=new _.RetryingTunnelConnectionEventArgs(A,M);if(this.tunnelSession.onRetrying(d),!d.retry)throw A;d.delayMs>=100?M=d.delayMs:O=!1}const d=O?" in "+(M<1e3?`0.${M/100}s`:M/1e3+"s"):"";this.trace(v.TraceLevel.Verbose,0,`Error connecting to tunnel SSH session, retrying${d}${P?`: ${P}`:""}`),O&&(await(0,y.delay)(M,m),M<13e3&&(M<<=1))}let x;R++,O=!0,P=void 0,b=v.SshDisconnectReason.connectionLost,A=void 0;try{return x=await this.tunnelSession.createSessionStream(m),await this.tunnelSession.configureSession(x,d,m),x=void 0,void(b=void 0)}catch(_){if(_ instanceof Error||throwError(`Failed to connect to the tunnel service and start tunnel SSH session: ${_}`),throwIfCancellation(_),A=_,P=A.message,_ instanceof C.BrowserWebSocketRelayError){if(k++>=5)throw _;continue}if(_ instanceof v.SshReconnectError){b=v.SshDisconnectReason.protocolError,O=!1,d=!1;continue}if(_ instanceof v.SshConnectionError){const d=_.reason;if(d===v.SshDisconnectReason.connectionLost)continue;b=d||v.SshDisconnectReason.byApplication,throwError(`Failed to start tunnel SSH session: ${P}`)}if(_ instanceof C.RelayConnectionError){const d=null===(g=_.errorContext)||void 0===g?void 0:g.statusCode,v=d?` (${d})`:"";switch(P){case"error.relayClientUnauthorized":const d="Not authorized"+v;I&&throwError(`${d}. Refreshed tunnel access token also does not work.`);try{I=await this.tunnelSession.refreshTunnelAccessToken(m)}catch(m){throwIfCancellation(m),throwError(`${d}. Refreshing tunnel access token failed with error ${(0,y.getErrorMessage)(m)}`)}I||throwError(`${d}. Provide a fresh tunnel access token with '${this.tunnelSession.tunnelAccessScope}' scope.`),O=!1,P="The tunnel access token was no longer valid and had just been refreshed.";continue;case"error.relayClientForbidden":throwError(`Forbidden${v}. Provide a fresh tunnel access token with '${this.tunnelSession.tunnelAccessScope}' scope.`);break;case"error.tunnelPortNotFound":throwError(`The tunnel or port is not found${v}`);break;case"error.serviceUnavailable":P=`Service temporarily unavailable${v}`;continue;case"error.tooManyRequests":P=`Rate limit exceeded${v}. Too many requests in a given amount of time.`,R>4&&throwError(P),M<13e3&&(M<<=1);break;default:if(null==P?void 0:P.startsWith("error.relayConnectionError ")){const d=T.find((d=>P.includes(d)));if(d){P=`Failed to connect to Relay server: ${d}`;continue}}}}throw _}finally{A&&b&&!A.reason&&(A.reason=b),b&&await this.tunnelSession.closeSession(A),x&&await x.close(A)}}}};const T=["ECONNRESET","ENOTFOUND","ESOCKETTIMEDOUT","ETIMEDOUT","ECONNREFUSED","EHOSTUNREACH","EPIPE","EAI_AGAIN","EBUSY"]},36181:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.RetryTcpListenerFactory=void 0;const v=g(41808);m.RetryTcpListenerFactory=class RetryTcpListenerFactory{constructor(d){this.localAddress=d}async createTcpListener(d,m,g,y){d.indexOf(":")>=0?"0.0.0.0"===this.localAddress?d="::":"127.0.0.1"===this.localAddress&&(d="::1"):d=this.localAddress;let C=v.createServer();for(let g=0;;g++){let y=10===g?0:m+g;try{return await new Promise(((m,g)=>{C.listen({host:d,port:y,ipv6Only:v.isIPv6(d)}),C.on("listening",(()=>{m(C)})),C.on("error",(d=>{g(d)}))}))}catch(d){console.log("Listening on port "+y+" failed: "+d),console.log("Incrementing port and trying again");continue}}}}},16:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.RetryingTunnelConnectionEventArgs=void 0;m.RetryingTunnelConnectionEventArgs=class RetryingTunnelConnectionEventArgs{constructor(d,m){this.error=d,this.delayMs=m,this.retry=!0}}},68015:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SessionPortKey=void 0;m.SessionPortKey=class SessionPortKey{constructor(d,m){this.sessionId=d,this.port=m}equals(d){return this.port===d.port&&this.sessionId===d.sessionId}toString(){return this.port+"_"+this.sessionId.toString("base64")}}},49200:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SshChannelForwarder=void 0;const v=g(52097),y=g(45773);m.SshChannelForwarder=class SshChannelForwarder{constructor(d,m){this.receiveQueue=new v.Queue,this.receiveSemaphore=new y.Semaphore(0),this.channel=d,this.client=m,this.stream=m.getStream(),this.init()}async init(){await this.forwardFromStreamToChannel(new Buffer(4096)),await this.forwardFromChannelToStream()}onChannelDataReceived(d,m){let g=new Buffer(m.length);m.copy(g),this.receiveQueue.enqueue(g);try{this.receiveSemaphore.acquire()}catch(d){}this.channel.adjustWindow(m.length)}onChannelClosed(d,m){this.channelClosedEvent=m;try{this.receiveSemaphore.acquire()}catch(d){}}async forwardFromChannelToStream(){try{let d;do{d=await this.forwardFromChannelToStreamAsync()}while(d)}catch(d){console.log(`Unexpected error reading channel stream: ${d}`)}}async forwardFromChannelToStreamAsync(){var d,m;try{await this.receiveSemaphore.acquire()}catch(d){return this.closeStream(!0),!1}let g=this.receiveQueue.dequeue();if(!g){if(null!=this.channelClosedEvent){let g=null!==(d=this.channelClosedEvent.errorMessage)&&void 0!==d?d:null===(m=this.channelClosedEvent.error)||void 0===m?void 0:m.message,v=g?`Forwarder channel ${this.channel.channelId} closed with error: ${g}`:`Forwarder channel ${this.channel.channelId} closed.`;console.log(v),this.closeStream(!!g)}return!1}try{return await this.stream.write(g),!0}catch(d){return this.closeStream(!0),!1}}closeStream(d){try{if(d){this.client.Client.close()}else this.stream.close()}catch(d){return void console.log(`PortForwardingService unexpected error closing connection: ${d}`)}console.log(`Channel forwarder ${d?"aborted":"closed"} connection.`)}async forwardFromStreamToChannel(d){try{let m;do{m=await this.forwardFromStreamToChannelAsync(d)}while(m)}catch(d){console.log(`Unexpected error reading channel stream: ${d}`)}}async forwardFromStreamToChannelAsync(d){let m,g=null;try{const g=await this.stream.read(d.byteLength);m=null==g?void 0:g.byteLength}catch(d){g=d,m=0}if(m&&m>0)return await this.channel.send(d.slice(0,m)),!0;if(g){const d=`Channel forwarder stream read error: ${g}`;console.log(d),await this.channel.close("SIGABRT",g.toString())}else{const d="Channel forwarder reached end of stream.";console.log(d),await this.channel.send(new Buffer("")),await this.channel.close()}return!1}}},43447:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.RelayConnectionError=m.RelayErrorType=m.isNode=m.SshHelpers=m.BrowserWebSocketRelayError=void 0;const v=g(52097),y=g(98117);class BrowserWebSocketRelayError extends Error{constructor(d){super(d)}}m.BrowserWebSocketRelayError=BrowserWebSocketRelayError;class SshHelpers{static openConnection(d,g,v,y){return(0,m.isNode)()?SshHelpers.nodeSshStreamFactory(d,g,v,y):SshHelpers.webSshStreamFactory(new WebSocket(d,g))}static createSshClientSession(d){return SshHelpers.createSshSession((m=>(d&&d(m),new v.SshClientSession(m))))}static createSshServerSession(d,m){return SshHelpers.createSshSession((g=>(m&&m(g),new v.SshServerSession(g,d))))}static createWebSocketStreamAdapter(d){return new v.WebSocketStream(new WebsocketStreamAdapter(d))}static webSshStreamFactory(d){return d.binaryType="arraybuffer",new Promise(((m,g)=>{d.onopen=()=>{m(new v.WebSocketStream(d))},d.onerror=d=>{g(new BrowserWebSocketRelayError("Failed to connect to relay url"))}}))}static createSshSession(d){const m=new v.SshSessionConfiguration;return m.keyExchangeAlgorithms.splice(0),m.keyExchangeAlgorithms.push(v.SshAlgorithms.keyExchange.ecdhNistp384Sha384),m.keyExchangeAlgorithms.push(v.SshAlgorithms.keyExchange.ecdhNistp256Sha256),m.keyExchangeAlgorithms.push(v.SshAlgorithms.keyExchange.dhGroup14Sha256),m.protocolExtensions.push(v.SshProtocolExtensionNames.sessionReconnect),m.protocolExtensions.push(v.SshProtocolExtensionNames.sessionLatency),d(m)}static nodeSshStreamFactory(d,m,g,T){const b=new y.client(T);return new Promise(((y,T)=>{b.on("connect",(d=>{y(new v.WebSocketStream(new WebsocketStreamAdapter(d)))})),b.on("httpResponse",(({statusCode:d,statusMessage:m})=>{var g;const v=null!==(g=_.find((m=>m.statusCode===d)))&&void 0!==g?g:{statusCode:d,errorType:C.ServerError,error:`relayConnectionError Server responded with a non-101 status: ${d} ${m}`};T(new RelayConnectionError(`error.${v.error}`,v))})),b.on("connectFailed",(({message:d})=>{var m;d&&d.startsWith("Error: ")&&(d=d.substr(7));const g=null!==(m=_.find((m=>m.regex&&m.regex.test(d))))&&void 0!==m?m:{errorType:C.ServerError,error:`relayConnectionError ${d}`};T(new RelayConnectionError(`error.${g.error}`,g))})),b.connect(d,m,void 0,g)}))}}m.SshHelpers=SshHelpers;class WebsocketStreamAdapter{constructor(d){this.connection=d}set onmessage(d){d&&this.connection.on("message",(m=>{d({data:m.binaryData})}))}set onclose(d){d&&this.connection.on("close",((m,g)=>{d({code:m,reason:g,wasClean:!(m||g)})}))}send(d){Buffer.isBuffer(d)?this.connection.sendBytes(d):this.connection.sendBytes(Buffer.from(d))}close(d,m){d||m?this.connection.drop(d,m):this.connection.close()}}var C;m.isNode=()=>"undefined"!=typeof process&&void 0!==process.release&&"node"===process.release.name,function(d){d[d.ConnectionError=1]="ConnectionError",d[d.Unauthorized=2]="Unauthorized",d[d.EndpointNotFound=3]="EndpointNotFound",d[d.ListenerOffline=4]="ListenerOffline",d[d.ServerError=5]="ServerError",d[d.TunnelPortNotFound=6]="TunnelPortNotFound",d[d.TooManyRequests=7]="TooManyRequests",d[d.ServiceUnavailable=8]="ServiceUnavailable"}(C=m.RelayErrorType||(m.RelayErrorType={}));class RelayConnectionError extends Error{constructor(d,m){super(d),this.errorContext=m}}m.RelayConnectionError=RelayConnectionError;const _=[{regex:/status: 401/,statusCode:401,error:"relayClientUnauthorized",errorType:C.Unauthorized},{regex:/status: 403/,statusCode:403,error:"relayClientForbidden",errorType:C.Unauthorized},{regex:/status: 404/,statusCode:404,error:"tunnelPortNotFound",errorType:C.TunnelPortNotFound},{regex:/status: 429/,statusCode:429,error:"tooManyRequests",errorType:C.TooManyRequests},{regex:/status: 500/,statusCode:500,error:"relayServerError",errorType:C.ServerError},{regex:/status: 503/,statusCode:503,error:"serviceUnavailable",errorType:C.ServiceUnavailable}]},7271:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0})},6821:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.TunnelClientBase=void 0;const v=g(97582),y=g(52097),C=g(48739),_=g(36181),T=g(43447),b=g(74149),A=g(87091),P=g(4908),R=g(92170);class TunnelClientBase extends((0,R.tunnelSshSessionClass)(P.TunnelConnectionSession)){constructor(d,m){super(v.TunnelAccessScopes.Connect,d,m),this.sshSessionClosedEmitter=new A.Emitter,this.acceptLocalConnectionsForForwardedPortsValue=(0,T.isNode)(),this.localForwardingHostAddressValue="127.0.0.1",this.connectionModes=[],this.sshSessionClosed=this.sshSessionClosedEmitter.event}get isSshSessionActive(){var d;return!!(null===(d=this.sshSession)||void 0===d?void 0:d.isConnected)}hasForwardedChannels(d){var m;if(!this.isSshSessionActive)return!1;const g=null===(m=this.sshSession)||void 0===m?void 0:m.activateService(C.PortForwardingService),v=null==g?void 0:g.remoteForwardedPorts,y=null==v?void 0:v.find((m=>m.remotePort===d));return!!y&&v.getChannels(y).length>0}get acceptLocalConnectionsForForwardedPorts(){return this.acceptLocalConnectionsForForwardedPortsValue}set acceptLocalConnectionsForForwardedPorts(d){if(d!==this.acceptLocalConnectionsForForwardedPortsValue){if(d&&!(0,T.isNode)())throw new Error("Cannot accept local connections for forwarded ports on this platform.");this.acceptLocalConnectionsForForwardedPortsValue=d,this.configurePortForwardingService()}}get localForwardingHostAddress(){return this.localForwardingHostAddressValue}set localForwardingHostAddress(d){d!==this.localForwardingHostAddressValue&&(this.localForwardingHostAddressValue=d,this.configurePortForwardingService())}get forwardedPorts(){var d;let m=null===(d=this.sshSession)||void 0===d?void 0:d.activateService(C.PortForwardingService);return null==m?void 0:m.remoteForwardedPorts}async connectClient(d,m){this.endpoints=m,await this.connectTunnelSession(d)}async connect(d,m){const g=TunnelClientBase.getEndpoints(d,m);await this.connectClient(d,g)}async onConnectingToTunnel(d){this.endpoints||(this.endpoints=TunnelClientBase.getEndpoints(d)),await super.onConnectingToTunnel(d)}static getEndpoints(d,m){if(!d)throw new Error("Tunnel must be defined.");if(!d.endpoints)throw new Error("Tunnel endpoints cannot be null");if(0===d.endpoints.length)throw new Error("No hosts are currently accepting connections for the tunnel.");let g,v=b.List.groupBy(d.endpoints,(d=>d.hostId));if(m){if(g=v.get(m),!g)throw new Error("The specified host is not currently accepting connections to the tunnel.")}else{if(v.size>1)throw new Error("There are multiple hosts for the tunnel. Specify a host ID to connect to.");g=v.entries().next().value[1]}return g}onRequest(d){d.request.requestType!==C.PortForwardingService.portForwardRequestType&&d.request.requestType!==C.PortForwardingService.cancelPortForwardRequestType||(d.isAuthorized=!0)}startSshSession(d,m){return this.connectSession((async()=>{this.sshSession=T.SshHelpers.createSshClientSession((d=>{d.addService(C.PortForwardingService)})),this.sshSession.trace=this.trace,this.sshSession.onClosed((d=>this.onSshSessionClosed(d))),this.sshSession.onAuthenticating((d=>this.onSshServerAuthenticating(d))),this.sshSession.onDisconnected((d=>this.onSshSessionDisconnected()));try{this.configurePortForwardingService(),this.sshSession.onRequest((d=>this.onRequest(d))),await this.sshSession.connect(d,m);let g={username:"tunnel",password:void 0};await this.sshSession.authenticate(g,m)}catch(d){const m=(0,b.getError)(d,"Error starting tunnel client SSH session: ");throw await this.closeSession(m),m}}))}configurePortForwardingService(){if(!this.sshSession)return;const d=this.sshSession.activateService(C.PortForwardingService);this.acceptLocalConnectionsForForwardedPortsValue&&(0,T.isNode)()?d.tcpListenerFactory=new _.RetryTcpListenerFactory(this.localForwardingHostAddressValue):d.acceptLocalConnectionsForForwardedPorts=!1}async connectToForwardedPort(d,m){const g=this.getSshSessionPfs();if(!g)throw new Error("Failed to connect to remote port. Ensure that the client has connected by calling connectClient.");return g.connectToForwardedPort(d,m)}async waitForForwardedPort(d,m){const g=this.getSshSessionPfs();if(!g)throw new Error("Port forwarding has not been started. Ensure that the client has connected by calling connectClient.");return g.waitForForwardedPort(d,m)}getSshSessionPfs(){var d,m;return null!==(m=null===(d=this.sshSession)||void 0===d?void 0:d.getService(C.PortForwardingService))&&void 0!==m?m:void 0}onSshServerAuthenticating(d){d.authenticationPromise=Promise.resolve({})}async refreshPorts(){if(!this.sshSession||this.sshSession.isClosed)throw new Error("Not connected.");const d=new y.SessionRequestMessage;d.requestType="RefreshPorts",d.wantReply=!0,await this.sshSession.request(d)}onSshSessionClosed(d){this.sshSessionClosedEmitter.fire(this),d.reason===y.SshDisconnectReason.connectionLost&&this.startReconnectingIfNotDisposed()}onSshSessionDisconnected(){this.startReconnectingIfNotDisposed()}}m.TunnelClientBase=TunnelClientBase},93463:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0})},95583:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.TunnelConnectionBase=void 0;const v=g(52097),y=g(87091),C=g(55715),_=g(61179),T=g(40707),b=g(23138);m.TunnelConnectionBase=class TunnelConnectionBase{constructor(d){this.tunnelAccessScope=d,this.disposeCts=new y.CancellationTokenSource,this.status=C.ConnectionStatus.None,this.isRefreshingTunnelAccessTokenEventHandled=!1,this.refreshingTunnelAccessTokenEmitter=new y.Emitter({onFirstListenerAdd:()=>this.isRefreshingTunnelAccessTokenEventHandled=!0,onLastListenerRemove:()=>this.isRefreshingTunnelAccessTokenEventHandled=!1}),this.connectionStatusChangedEmitter=new y.Emitter,this.retryingTunnelConnectionEmitter=new y.Emitter,this.refreshingTunnelAccessToken=this.refreshingTunnelAccessTokenEmitter.event,this.connectionStatusChanged=this.connectionStatusChangedEmitter.event,this.retryingTunnelConnection=this.retryingTunnelConnectionEmitter.event}get isDisposed(){return this.disposeCts.token.isCancellationRequested}get disposeToken(){return this.disposeCts.token}get connectionStatus(){return this.status}set connectionStatus(d){if(this.isDisposed&&d!==C.ConnectionStatus.Disconnected&&this.throwIfDisposed(),d!==this.status){const m=this.connectionStatus;this.status=d,d===C.ConnectionStatus.Connected&&(this.error=void 0),this.onConnectionStatusChanged(m,d)}}get disconnectError(){return this.error}set disconnectError(d){this.error=d}dispose(){return this.disposeCts.cancel(),this.connectionStatus=C.ConnectionStatus.Disconnected,Promise.resolve()}onRetrying(d){this.retryingTunnelConnectionEmitter.fire(d)}async getFreshTunnelAccessToken(d){const m=new T.RefreshingTunnelAccessTokenEventArgs(this.tunnelAccessScope,d);this.refreshingTunnelAccessTokenEmitter.fire(m);const g=m.tunnelAccessToken?await m.tunnelAccessToken:void 0;return g&&b.TunnelAccessTokenProperties.validateTokenExpiration(g),g}onConnectionStatusChanged(d,m){const g=new _.ConnectionStatusChangedEventArgs(d,m,this.disconnectError);this.connectionStatusChangedEmitter.fire(g)}throwIfDisposed(){if(this.isDisposed)throw new v.CancellationError("The tunnel connection is disposed.")}}},4908:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.TunnelConnectionSession=void 0;const v=g(97582),y=g(23138),C=g(52097),_=g(55715),T=g(56452),b=g(74149),A=g(95583);class TunnelConnectionSession extends A.TunnelConnectionBase{constructor(d,m,g){super(d),this.managementClient=g,this.connectedTunnel=null,this.trace=null!=m?m:()=>{}}get tunnel(){return this.connectedTunnel}set tunnel(d){this.connectedTunnel=d}get isReconnectable(){return!!this.connector}createSessionStream(d){throw new Error("Not implemented")}configureSession(d,m,g){throw new Error("Not implemented")}closeSession(d){return this.disconnectError=d,Promise.resolve()}async refreshTunnelAccessToken(d){if(this.isDisposed)return!1;const m=this.connectionStatus;this.connectionStatus=_.ConnectionStatus.RefreshingTunnelAccessToken;try{this.traceInfo(`Refreshing tunnel access token. Current token: ${y.TunnelAccessTokenProperties.getTokenTrace(this.accessToken)}`);const g=await this.getFreshTunnelAccessToken(d);if(g)return y.TunnelAccessTokenProperties.validateTokenExpiration(g),this.traceInfo(`Refreshed tunnel access token. New token: ${y.TunnelAccessTokenProperties.getTokenTrace(g)}`),this.accessToken=g,!0}finally{this.connectionStatus=m}return!1}async getFreshTunnelAccessToken(d){var m;if(!this.isRefreshingTunnelAccessTokenEventHandled){if(!this.tunnel||!this.managementClient)return;const g={tokenScopes:[this.tunnelAccessScope]};if(this.tunnel=await(0,b.withCancellation)(this.managementClient.getTunnel(this.tunnel,g),d),!(null===(m=this.tunnel)||void 0===m?void 0:m.accessTokens))return;return y.TunnelAccessTokenProperties.getTunnelAccessToken(this.tunnel,this.tunnelAccessScope)}return await super.getFreshTunnelAccessToken(d)}createTunnelConnector(){return new T.RelayTunnelConnector(this)}traceInfo(d){this.trace(C.TraceLevel.Info,0,d)}traceVerbose(d){this.trace(C.TraceLevel.Verbose,0,d)}traceError(d,m){this.trace(C.TraceLevel.Error,0,d,m)}startReconnectingIfNotDisposed(){this.isDisposed||this.reconnectPromise||(this.reconnectPromise=(async()=>{try{await this.connectTunnelSession()}catch(d){}this.reconnectPromise=void 0})())}async connectSession(d){this.connectionStatus=_.ConnectionStatus.Connecting;try{await d(),this.connectionStatus=_.ConnectionStatus.Connected}catch(d){if(!(d instanceof C.CancellationError)){const m=this.tunnelAccessScope===v.TunnelAccessScopes.Connect?"client":"host";if(d instanceof Error)this.traceError(`Error connecting ${m} tunnel session: ${d.message}`,d),this.disconnectError=d;else{const g=`Error connecting ${m} tunnel session: ${d}`;this.traceError(g),this.disconnectError=new Error(g)}}throw this.connectionStatus=_.ConnectionStatus.Disconnected,d}}async connectTunnelSession(d){if(d&&this.tunnel)throw new Error("Already connected to a tunnel. Use separate instances to connect to multiple tunnels.");await this.connectSession((async()=>{const m=this.isReconnectable&&!d;await this.onConnectingToTunnel(d),d&&(this.tunnel=d,this.accessToken=y.TunnelAccessTokenProperties.getTunnelAccessToken(d,this.tunnelAccessScope)),this.connector||(this.connector=this.createTunnelConnector()),await this.connector.connectSession(m,this.disposeToken)}))}onConnectingToTunnel(d){return Promise.resolve()}validateAccessToken(){if(this.accessToken)return y.TunnelAccessTokenProperties.validateTokenExpiration(this.accessToken),this.accessToken}}m.TunnelConnectionSession=TunnelConnectionSession},55552:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0})},13775:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0})},3068:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.TunnelHostBase=void 0;const v=g(97582),y=g(52097),C=g(48739),_=g(68015),T=g(4908),b=g(92170),A=g(43447),P=g(87091),R=g(67594);class TunnelHostBase extends((0,b.tunnelSshSessionClass)(T.TunnelConnectionSession)){constructor(d,m){super(v.TunnelAccessScopes.Host,m,d),this.sshSessions=[],this.remoteForwarders={},this.loopbackIp="127.0.0.1",this.forwardConnectionsToLocalPortsValue=(0,A.isNode)(),this.forwardedPortConnectingEmitter=new P.Emitter,this.forwardedPortConnecting=this.forwardedPortConnectingEmitter.event;const g=y.SshAlgorithms.publicKey.ecdsaSha2Nistp384;g&&(this.hostPrivateKeyPromise=g.generateKeyPair())}get forwardConnectionsToLocalPorts(){return this.forwardConnectionsToLocalPortsValue}set forwardConnectionsToLocalPorts(d){if(d!==this.forwardConnectionsToLocalPortsValue){if(d&&!(0,A.isNode)())throw new Error("Cannot forward connections to local TCP sockets on this platform.");this.forwardConnectionsToLocalPortsValue=d}}async start(d){await this.connectTunnelSession(d)}async refreshPorts(){var d;if(!this.tunnel||!this.managementClient)return;const m=await this.managementClient.getTunnel(this.tunnel,void 0),g=null!==(d=null==m?void 0:m.ports)&&void 0!==d?d:[];this.tunnel.ports=g;const v=[];for(let d of g)for(let m of this.sshSessions.filter((d=>d.isConnected&&d.sessionId))){const g=new _.SessionPortKey(m.sessionId,Number(d.portNumber));if(!this.remoteForwarders[g.toString()]){const g=m.getService(C.PortForwardingService);v.push(this.forwardPort(g,d))}}for(let[d,m]of Object.entries(this.remoteForwarders))g.some((d=>d.portNumber===m.localPort))||(delete this.remoteForwarders[d],m.dispose());await Promise.all(v)}onForwardedPortConnecting(d,m){const g=new R.ForwardedPortConnectingEventArgs(d,new y.SshStream(m));this.forwardedPortConnectingEmitter.fire(g)}async forwardPort(d,m){let g=d.session.sessionId;if(!g)throw new Error("No session id");const v=Number(m.portNumber);if(d.localForwardedPorts.find((d=>d.localPort===v)))return;const y=await d.forwardFromRemotePort(this.loopbackIp,v,this.loopbackIp,v);if(!y)return;const C=new _.SessionPortKey(g,Number(y.localPort));this.remoteForwarders[C.toString()]=y}async onConnectingToTunnel(d){if(this.hostPrivateKey&&this.hostPublicKeys)return;if(!d)throw new Error("Tunnel is required");if(!this.hostPrivateKeyPromise)throw new Error("Cannot create host keys");this.hostPrivateKey=await this.hostPrivateKeyPromise;const m=await this.hostPrivateKey.getPublicKeyBytes(this.hostPrivateKey.keyAlgorithmName);if(!m)throw new Error("Host private key public key bytes is not initialized");this.hostPublicKeys=[m.toString("base64")]}}m.TunnelHostBase=TunnelHostBase},94912:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.tunnelRelaySessionClass=void 0;const v=g(97582),y=g(23138),C=g(52097),_=g(76370);m.tunnelRelaySessionClass=function tunnelRelaySessionClass(d,m){var g;return g=class TunnelRelaySession extends d{constructor(){super(...arguments),this.streamFactory=new _.DefaultTunnelRelayStreamFactory}async createSessionStream(d){if(!this.relayUri)throw new Error("Cannot create tunnel session stream. Tunnel relay endpoint URI is missing");const g=this.tunnelAccessScope===v.TunnelAccessScopes.Connect?"client":"host",_=this.validateAccessToken();if(this.trace(C.TraceLevel.Info,0,`Connecting to ${g} tunnel relay ${this.relayUri}`),this.trace(C.TraceLevel.Verbose,0,`Sec-WebSocket-Protocol: ${m}`),_){const d=y.TunnelAccessTokenProperties.getTokenTrace(_);this.trace(C.TraceLevel.Verbose,0,`Authorization: tunnel <${d}>`)}return await this.streamFactory.createRelayStream(this.relayUri,m,_)}async connectTunnelSession(d){try{await super.connectTunnelSession(d)}catch(d){throw new Error("Failed to connect to tunnel relay. "+d)}}async onConnectingToTunnel(d){if(await super.onConnectingToTunnel(d),!this.relayUri&&(this.relayUri=await this.getTunnelRelayUri(d),!this.relayUri))throw new Error("The tunnel relay endpoint URI is missing.")}async getTunnelRelayUri(d){throw new Error("getTunnelRelayUri() is not implemented")}},g.webSocketSubProtocol=m,g}},41721:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0})},4799:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.TunnelRelayTunnelClient=void 0;const v=g(97582),y=g(6821),C=g(94912);class TunnelRelayTunnelClient extends((0,C.tunnelRelaySessionClass)(y.TunnelClientBase,"tunnel-relay-client")){constructor(d,m){super(d,m),this.connectionModes=[]}async getTunnelRelayUri(d){if(!this.endpoints||0===this.endpoints.length)throw new Error("No hosts are currently accepting connections for the tunnel.");const m=this.endpoints.filter((d=>d.connectionMode===v.TunnelConnectionMode.TunnelRelay));if(0===m.length)throw new Error("The host is not currently accepting Tunnel relay connections.");return m[0].clientRelayUri}async connectClientToRelayServer(d,m){if(!d)throw new Error("Client relay URI must be a non-empty string");this.relayUri=d,this.accessToken=m,await this.connectTunnelSession()}async configureSession(d,m,g){m&&this.sshSession&&!this.sshSession.isClosed?await this.sshSession.reconnect(d,g):await this.startSshSession(d,g)}}m.TunnelRelayTunnelClient=TunnelRelayTunnelClient},29678:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.TunnelRelayTunnelHost=void 0;const v=g(97582),y=g(52097),C=g(48739),_=g(43447),T=g(83221),b=g(3068),A=g(94912);class TunnelRelayTunnelHost extends((0,A.tunnelRelaySessionClass)(b.TunnelHostBase,"tunnel-relay-host")){constructor(d,m){super(d,m),this.clientSessionPromises=[],this.reconnectableSessions=[],this.hostId=T.MultiModeTunnelHost.hostId}async configureSession(d,m,g){this.sshSession=new y.MultiChannelStream(d),this.sshSession.channelMaxWindowSize=5*y.SshChannel.defaultMaxWindowSize;const v=this.sshSession.onChannelOpening((d=>{this.hostSession_ChannelOpening(this.sshSession,d)})),C=this.sshSession.onClosed((d=>{this.hostSession_Closed(d,v,C)}));await this.sshSession.connect()}async getTunnelRelayUri(d){if(!d)throw new Error("Tunnel is required");let m,g={hostId:this.hostId,hostPublicKeys:this.hostPublicKeys,connectionMode:v.TunnelConnectionMode.TunnelRelay};return null!=d.ports&&d.ports.find((d=>d.protocol===v.TunnelProtocol.Ssh))&&(m={includeSshGatewayPublicKey:"true"}),g=await this.managementClient.updateTunnelEndpoint(d,g,{additionalQueryParameters:m}),g.hostRelayUri}hostSession_ChannelOpening(d,m){if(!m.isRemoteRequest)return;if(m.channel.channelType!==TunnelRelayTunnelHost.clientStreamChannelType)return m.failureDescription=`Unexpected channel type. Only ${TunnelRelayTunnelHost.clientStreamChannelType} is supported.`,void(m.failureReason=y.SshChannelOpenFailureReason.unknownChannelType);if(this.isDisposed)return m.failureDescription="The host is disconnecting.",void(m.failureReason=y.SshChannelOpenFailureReason.connectFailed);const g=this.acceptClientSession(d,this.disposeToken);this.clientSessionPromises.push(g),g.then((()=>{const d=this.clientSessionPromises.indexOf(g);this.clientSessionPromises.splice(d,1)}))}async acceptClientSession(d,m){try{let g=await d.acceptStream(TunnelRelayTunnelHost.clientStreamChannelType,m);await this.connectAndRunClientSession(g,m)}catch(d){d instanceof y.CancellationError&&m.isCancellationRequested||this.trace(y.TraceLevel.Error,0,`Error running client SSH session: ${d}`)}}async connectAndRunClientSession(d,m){if(m.isCancellationRequested)throw d.destroy(),new y.CancellationError;let g=_.SshHelpers.createSshServerSession(this.reconnectableSessions,(d=>{d.addService(C.PortForwardingService)}));g.trace=this.trace,g.credentials={publicKeys:[this.hostPrivateKey]};let v=new y.PromiseCompletionSource;m.onCancellationRequested((d=>{v.reject(new y.CancellationError)}));const T=g.onAuthenticating((d=>{this.onSshClientAuthenticating(d)}));g.onClientAuthenticated((()=>{this.onSshClientAuthenticated(g)}));const b=g.onRequest((d=>{this.onSshSessionRequest(d,g)})),A=g.onChannelOpening((d=>{this.onSshChannelOpening(d,g)})),P=g.onClosed((d=>{this.session_Closed(g,d,m),v.resolve()}));try{const m=new y.NodeStream(d);await g.connect(m),this.sshSessions.push(g),await v.promise}finally{T.dispose(),b.dispose(),A.dispose(),P.dispose(),await g.close(y.SshDisconnectReason.byApplication),g.dispose()}}onSshClientAuthenticating(d){d.authenticationType===y.SshAuthenticationType.clientNone&&(d.authenticationPromise=Promise.resolve({}))}onSshClientAuthenticated(d){var m,g;let v=d.activateService(C.PortForwardingService);v.forwardConnectionsToLocalPorts=this.forwardConnectionsToLocalPorts,(null!==(g=null===(m=this.tunnel)||void 0===m?void 0:m.ports)&&void 0!==g?g:[]).forEach((async d=>{try{await this.forwardPort(v,d)}catch(m){this.traceError(`Error forwarding port ${d.portNumber}: ${m}`)}}))}onSshSessionRequest(d,m){"RefreshPorts"===d.requestType&&(d.responsePromise=(async()=>(await this.refreshPorts(),new y.SessionRequestSuccessMessage))())}onSshChannelOpening(d,m){if(!(d.request instanceof C.PortForwardChannelOpenMessage)){if(d.request.channelType===y.SshChannel.sessionChannelType)return;return this.trace(y.TraceLevel.Warning,0,"Rejecting request to open non-portforwarding channel."),void(d.failureReason=y.SshChannelOpenFailureReason.administrativelyProhibited)}let g=d.request;"direct-tcpip"===g.channelType?this.tunnel.ports.some((d=>d.portNumber===g.port))||(this.trace(y.TraceLevel.Warning,0,"Rejecting request to connect to non-forwarded port:"+g.port),d.failureReason=y.SshChannelOpenFailureReason.administrativelyProhibited):"forwarded-tcpip"===g.channelType?this.onForwardedPortConnecting(g.port,d.channel):(this.trace(y.TraceLevel.Warning,0,"Nonrecognized channel type "+g.channelType),d.failureReason=y.SshChannelOpenFailureReason.unknownChannelType)}session_Closed(d,m,g){m.reason===y.SshDisconnectReason.byApplication?this.traceInfo("Client ssh session closed."):g.isCancellationRequested?this.traceInfo("Client ssh session cancelled."):this.traceError(`Client ssh session closed unexpectely due to ${m.reason}, "${m.message}"\n${m.error}`);for(const m of Object.keys(this.remoteForwarders)){const g=this.remoteForwarders[m];g.session===d&&(g.dispose(),delete this.remoteForwarders[m])}const v=this.sshSessions.indexOf(d);v>=0&&this.sshSessions.splice(v,1)}hostSession_Closed(d,m,g){g.dispose(),m.dispose(),this.sshSession=void 0,this.traceInfo("Connection to host tunnel relay closed."+(this.isDisposed?"":" Reconnecting.")),d.reason===y.SshDisconnectReason.connectionLost&&this.startReconnectingIfNotDisposed()}async dispose(){await super.dispose();let d=Object.assign([],this.clientSessionPromises);if(this.clientSessionPromises.length=0,this.tunnel){const m=this.managementClient.deleteTunnelEndpoints(this.tunnel,this.hostId,v.TunnelConnectionMode.TunnelRelay);d.push(m)}for(const d of Object.keys(this.remoteForwarders))this.remoteForwarders[d].dispose();await Promise.all(d)}}m.TunnelRelayTunnelHost=TunnelRelayTunnelHost,TunnelRelayTunnelHost.clientStreamChannelType="client-ssh-session-stream"},92170:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.tunnelSshSessionClass=void 0;const v=g(52097);m.tunnelSshSessionClass=function tunnelSshSessionClass(d){return class SshTunnelSession extends d{async closeSession(d){var m;if(await super.closeSession(d),this.sshSession){if(!this.sshSession.isClosed){let g=v.SshDisconnectReason.byApplication;d&&(g=d instanceof v.SshConnectionError?null!==(m=d.reason)&&void 0!==m?m:v.SshDisconnectReason.connectionLost:d instanceof v.SshReconnectError||d instanceof v.SshChannelError?v.SshDisconnectReason.protocolError:v.SshDisconnectReason.connectionLost),await this.sshSession.close(g,void 0,d)}this.sshSession&&(this.sshSession.dispose(),this.sshSession=void 0)}}async dispose(){await super.dispose();try{await this.closeSession(this.disconnectError)}catch(d){if(!(d instanceof v.ObjectDisposedError))throw d}}}}},74149:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.withCancellation=m.getError=m.getErrorMessage=m.delay=m.List=void 0;const v=g(52097);m.List=class List{static groupBy(d,m){const g=new Map;return d.forEach((d=>{const v=m(d),y=g.get(v);y?y.push(d):g.set(v,[d])})),g}},m.delay=function delay(d,m){return new Promise(((g,y)=>{let C,_;if(m){if(m.isCancellationRequested)return void y(new v.CancellationError);C=m.onCancellationRequested((()=>{_&&clearTimeout(_),null==C||C.dispose(),y(new v.CancellationError)}))}_=setTimeout((()=>{null==C||C.dispose(),g()}),d)}))},m.getErrorMessage=function getErrorMessage(d){var m;return String(null!==(m=null==d?void 0:d.message)&&void 0!==m?m:d)},m.getError=function getError(d,m){return d instanceof Error?d:new Error(`${null!=m?m:""}${d}`)},m.withCancellation=function withCancellation(d,m){return m?Promise.race([d,new Promise(((d,g)=>{m.isCancellationRequested?g(new v.CancellationError):m.onCancellationRequested((()=>{g(new v.CancellationError)}))}))]):d}},97582:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.TunnelServiceProperties=m.TunnelProtocol=m.TunnelHeaderNames=m.TunnelEndpoint=m.TunnelConnectionMode=m.TunnelAccessScopes=m.TunnelAccessControlEntryType=m.TunnelAccessControl=void 0;var v=g(23258);Object.defineProperty(m,"TunnelAccessControl",{enumerable:!0,get:function(){return v.TunnelAccessControl}});var y=g(42411);Object.defineProperty(m,"TunnelAccessControlEntryType",{enumerable:!0,get:function(){return y.TunnelAccessControlEntryType}});var C=g(21566);Object.defineProperty(m,"TunnelAccessScopes",{enumerable:!0,get:function(){return C.TunnelAccessScopes}});var _=g(94513);Object.defineProperty(m,"TunnelConnectionMode",{enumerable:!0,get:function(){return _.TunnelConnectionMode}});var T=g(84132);Object.defineProperty(m,"TunnelEndpoint",{enumerable:!0,get:function(){return T.TunnelEndpoint}});var b=g(21351);Object.defineProperty(m,"TunnelHeaderNames",{enumerable:!0,get:function(){return b.TunnelHeaderNames}});var A=g(5413);Object.defineProperty(m,"TunnelProtocol",{enumerable:!0,get:function(){return A.TunnelProtocol}});var P=g(69377);Object.defineProperty(m,"TunnelServiceProperties",{enumerable:!0,get:function(){return P.TunnelServiceProperties}})},23258:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.TunnelAccessControl=void 0;const v=g(8638);m.TunnelAccessControl={validateScopes:v.validateScopes}},42411:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.TunnelAccessControlEntryType=void 0,function(d){d.None="None",d.Anonymous="Anonymous",d.Users="Users",d.Groups="Groups",d.Organizations="Organizations",d.Repositories="Repositories",d.PublicKeys="PublicKeys",d.IPAddressRanges="IPAddressRanges"}(m.TunnelAccessControlEntryType||(m.TunnelAccessControlEntryType={}))},8638:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.validateScopes=void 0;const v=g(21566),y=[v.TunnelAccessScopes.Manage,v.TunnelAccessScopes.ManagePorts,v.TunnelAccessScopes.Host,v.TunnelAccessScopes.Inspect,v.TunnelAccessScopes.Connect];m.validateScopes=function validateScopes(d,m,g){if(!Array.isArray(d))throw new TypeError("A scopes array was expected.");g&&(d=d.map((d=>d.split(" "))).reduce(((d,m)=>d.concat(m)),[])),d.forEach((d=>{if(!d)throw new Error("Tunnel access scopes include a null/empty item.");if(!y.includes(d))throw new Error("Invalid tunnel access scope: "+d)})),Array.isArray(m)&&d.forEach((d=>{if(!m.includes(d))throw new Error("Tunnel access scope is invalid for current request: scope")}))}},21566:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.TunnelAccessScopes=void 0,function(d){d.Create="create",d.Manage="manage",d.ManagePorts="manage:ports",d.Host="host",d.Inspect="inspect",d.Connect="connect"}(m.TunnelAccessScopes||(m.TunnelAccessScopes={}))},94513:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.TunnelConnectionMode=void 0,function(d){d.LocalNetwork="LocalNetwork",d.TunnelRelay="TunnelRelay"}(m.TunnelConnectionMode||(m.TunnelConnectionMode={}))},84132:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.TunnelEndpoint=m.portToken=void 0,m.portToken="{port}";const v=g(53710);m.TunnelEndpoint={portToken:m.portToken,getPortUri:v.getPortUri,getPortSshCommand:v.getPortSshCommand}},53710:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.getPortSshCommand=m.getPortUri=void 0;const v=g(84132);m.getPortUri=function getPortUri(d,m){if(!d)throw new TypeError("A tunnel endpoint is required.");return"number"==typeof m||d.tunnelUri?"number"==typeof m&&d.portUriFormat?d.portUriFormat.replace(v.portToken,m.toString()):void 0:d.tunnelUri},m.getPortSshCommand=function getPortSshCommand(d,m){if(!d)throw new TypeError("A tunnel endpoint is required.");return"number"==typeof m||d.tunnelSshCommand?"number"==typeof m&&d.portSshCommandFormat?d.portSshCommandFormat.replace(v.portToken,m.toString()):void 0:d.tunnelSshCommand}},21351:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.TunnelHeaderNames=void 0,function(d){d.XTunnelAuthorization="X-Tunnel-Authorization",d.XRequestID="X-Request-ID",d.XGithubSshKey="X-Github-Ssh-Key",d.XTunnelSkipAntiPhishingPage="X-Tunnel-Skip-AntiPhishing-Page"}(m.TunnelHeaderNames||(m.TunnelHeaderNames={}))},5413:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.TunnelProtocol=void 0,function(d){d.Auto="auto",d.Tcp="tcp",d.Udp="udp",d.Ssh="ssh",d.Rdp="rdp",d.Http="http",d.Https="https"}(m.TunnelProtocol||(m.TunnelProtocol={}))},69377:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.TunnelServiceProperties=m.nonProdGitHubAppClientId=m.prodGitHubAppClientId=m.devThirdPartyAppId=m.ppeThirdPartyAppId=m.prodThirdPartyAppId=m.nonProdFirstPartyAppId=m.prodFirstPartyAppId=m.devDnsName=m.ppeDnsName=m.prodDnsName=void 0,m.prodDnsName="global.rel.tunnels.api.visualstudio.com",m.ppeDnsName="global.rel.tunnels.ppe.api.visualstudio.com",m.devDnsName="global.ci.tunnels.dev.api.visualstudio.com",m.prodFirstPartyAppId="46da2f7e-b5ef-422a-88d4-2a7f9de6a0b2",m.nonProdFirstPartyAppId="54c45752-bacd-424a-b928-652f3eca2b18",m.prodThirdPartyAppId="ce65d243-a913-4cae-a7dd-cb52e9f77647",m.ppeThirdPartyAppId="544167a6-f431-4518-aac6-2fd50071928e",m.devThirdPartyAppId="a118c979-0249-44bb-8f95-eb0457127aeb",m.prodGitHubAppClientId="Iv1.e7b89e013f801f03",m.nonProdGitHubAppClientId="Iv1.b231c327f1eaa229";const v=g(35100);m.TunnelServiceProperties={production:v.production,staging:v.staging,development:v.development,environment:v.environment}},35100:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.environment=m.development=m.staging=m.production=void 0;const v=g(69377);m.production={serviceUri:`https://${v.prodDnsName}/`,serviceAppId:v.prodFirstPartyAppId,serviceInternalAppId:v.prodThirdPartyAppId,gitHubAppClientId:v.prodGitHubAppClientId},m.staging={serviceUri:`https://${v.ppeDnsName}/`,serviceAppId:v.nonProdFirstPartyAppId,serviceInternalAppId:v.ppeThirdPartyAppId,gitHubAppClientId:v.nonProdGitHubAppClientId},m.development={serviceUri:`https://${v.devDnsName}/`,serviceAppId:v.nonProdFirstPartyAppId,serviceInternalAppId:v.devThirdPartyAppId,gitHubAppClientId:v.nonProdGitHubAppClientId},m.environment=function environment(d){if(!d)throw new Error(`Invalid argument: ${d}`);switch(d.toLowerCase()){case"prod":case"production":return m.production;case"ppe":case"preprod":return m.staging;case"dev":case"development":return m.development;default:throw new Error(`Invalid service environment: ${d}`)}}},63891:function(d,m,g){"use strict";var v=this&&this.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),y=this&&this.__exportStar||function(d,m){for(var g in d)"default"===g||Object.prototype.hasOwnProperty.call(m,g)||v(m,d,g)};Object.defineProperty(m,"__esModule",{value:!0}),y(g(99800),m),y(g(45631),m),y(g(28292),m),y(g(39060),m)},39060:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.TunnelAccessTokenProperties=void 0;class TunnelAccessTokenProperties{constructor(d,m,g,v,y,C){this.clusterId=d,this.tunnelId=m,this.tunnelPorts=g,this.scopes=v,this.issuer=y,this.expiration=C}toString(){let d="";return this.tunnelId&&(d+="tunnel=",d+=this.tunnelId,this.clusterId&&(d+=".",d+=this.clusterId)),this.tunnelPorts&&this.tunnelPorts.length>0&&(d.length>0&&(d+=", "),1===this.tunnelPorts.length?d+=`port=${this.tunnelPorts[0]}`:d+=`ports=[${this.tunnelPorts.join(", ")}]`),this.scopes&&(d.length>0&&(d+=", "),d+=`scopes=[${this.scopes.join(", ")}]`),this.issuer&&(d.length>0&&(d+=", "),d+="issuer=",d+=this.issuer),this.expiration&&(d.length>0&&(d+=", "),d+=`expiration=${this.expiration.toString().replace(".000Z","Z")}`),d}static validateTokenExpiration(d){const m=TunnelAccessTokenProperties.tryParse(d);if((null==m?void 0:m.expiration)&&m.expiration<new Date)throw new Error("The access token is expired: "+m)}static tryParse(d){if("string"!=typeof d)throw new TypeError("Token string expected.");const m=d.split(".");if(3!==m.length)return null;const g=TunnelAccessTokenProperties.base64UrlDecode(m[1]);if(!g)return null;try{const d=JSON.parse(g),m=d.clusterId,v=d.tunnelId,y=d.tunnelPorts,C=d.scp,_=d.iss,T=d.exp;return new TunnelAccessTokenProperties(m,v,"number"==typeof y?[y]:y,null==C?void 0:C.split(" "),_,"number"==typeof T?new Date(1e3*T):void 0)}catch(d){return null}}static getTokenTrace(d){var m,g;return d?null!==(g=null===(m=TunnelAccessTokenProperties.tryParse(d))||void 0===m?void 0:m.toString())&&void 0!==g?g:"token":"none"}static getTunnelAccessToken(d,m){if((null==d?void 0:d.accessTokens)&&m){Array.isArray(m)||(m=[m]);for(let g of m)for(let[m,v]of Object.entries(d.accessTokens))if(v&&m.split(" ").includes(g))return TunnelAccessTokenProperties.validateTokenExpiration(v),v}}static base64UrlDecode(d){for(d=d.replace("-","+");d.length%4!=0;)d+="=";try{return atob(d)}catch(d){return null}}}m.TunnelAccessTokenProperties=TunnelAccessTokenProperties},45631:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.TunnelAuthenticationSchemes=void 0;class TunnelAuthenticationSchemes{}m.TunnelAuthenticationSchemes=TunnelAuthenticationSchemes,TunnelAuthenticationSchemes.aad="aad",TunnelAuthenticationSchemes.github="github",TunnelAuthenticationSchemes.tunnel="tunnel"},99800:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.TunnelManagementHttpClient=void 0;const v=g(97582),y=g(45631),C=g(39060),_=g(30276),T=g(89644),b="/api/v1/tunnels",A="/ports",P="Authorization";function comparePorts(d,m){var g,v;return(null!==(g=d.portNumber)&&void 0!==g?g:Number.MAX_SAFE_INTEGER)-(null!==(v=m.portNumber)&&void 0!==v?v:Number.MAX_SAFE_INTEGER)}function parseDate(d){return"string"==typeof d?new Date(Date.parse(d)):d}function parseTunnelDates(d){d&&(d.created=parseDate(d.created),d.status&&(d.status.lastHostConnectionTime=parseDate(d.status.lastHostConnectionTime),d.status.lastClientConnectionTime=parseDate(d.status.lastClientConnectionTime)))}function parseTunnelPortDates(d){d&&d.status&&(d.status.lastClientConnectionTime=parseDate(d.status.lastClientConnectionTime))}const R=[v.TunnelAccessScopes.Manage],k=[v.TunnelAccessScopes.Host],M=[v.TunnelAccessScopes.Manage,v.TunnelAccessScopes.ManagePorts,v.TunnelAccessScopes.Host],I=[v.TunnelAccessScopes.Manage,v.TunnelAccessScopes.ManagePorts,v.TunnelAccessScopes.Host,v.TunnelAccessScopes.Connect];class TunnelManagementHttpClient{constructor(d,m,g,y){var C;if(this.httpsAgent=y,this.trace=d=>{},!d)throw new TypeError("User agent must be provided.");if(Array.isArray(d)){if(0===d.length)throw new TypeError("User agents cannot be empty.");let m="";d.forEach((d=>{var g;if("string"!=typeof d){if(!d.name)throw new TypeError("Invalid user agent. The name must be provided.");if("string"!=typeof d.name)throw new TypeError("Invalid user agent. The name must be a string.");if(d.version&&"string"!=typeof d.version)throw new TypeError("Invalid user agent. The version must be a string.");m=`${m}${d.name}/${null!==(g=d.version)&&void 0!==g?g:"unknown"} `}else m=`${m}${d} `})),this.userAgents=m.trim()}else if("string"!=typeof d){if(!d.name)throw new TypeError("Invalid user agent. The name must be provided.");if("string"!=typeof d.name)throw new TypeError("Invalid user agent. The name must be a string.");if(d.version&&"string"!=typeof d.version)throw new TypeError("Invalid user agent. The version must be a string.");this.userAgents=`${d.name}/${null!==(C=d.version)&&void 0!==C?C:"unknown"}`}else this.userAgents=d;this.userTokenCallback=null!=m?m:()=>Promise.resolve(null),g||(g=v.TunnelServiceProperties.production.serviceUri);const _=new URL(g);if(!_||"/"!==_.pathname)throw new TypeError(`Invalid tunnel service URI: ${g}`);this.baseAddress=g}async listTunnels(d,m,g){const v=[d?null:"global=true",m?`domain=${m}`:null].filter((d=>!!d)).join("&"),y=await this.sendRequest("GET",d,b,v,g);return y.forEach(parseTunnelDates),y}async getTunnel(d,m){const g=await this.sendTunnelRequest("GET",d,I,void 0,void 0,m);return parseTunnelDates(g),g}async createTunnel(d,m){if(d.tunnelId)throw new Error("An ID may not be specified when creating a tunnel.");d=this.convertTunnelForRequest(d);const g=await this.sendRequest("POST",d.clusterId,b,void 0,m,d);return parseTunnelDates(g),g}async updateTunnel(d,m){const g=await this.sendTunnelRequest("PUT",d,R,void 0,void 0,m,this.convertTunnelForRequest(d));return(null==m?void 0:m.tokenScopes)||(g.accessTokens=d.accessTokens),parseTunnelDates(g),g}async deleteTunnel(d,m){return await this.sendTunnelRequest("DELETE",d,R,void 0,void 0,m,void 0,!0)}async updateTunnelEndpoint(d,m,g){const v=`/endpoints/${m.hostId}/${m.connectionMode}`,y=await this.sendTunnelRequest("PUT",d,k,v,void 0,g,m);return d.endpoints&&(d.endpoints=d.endpoints.filter((d=>d.hostId!==m.hostId||d.connectionMode!==m.connectionMode)).concat(y)),y}async deleteTunnelEndpoints(d,m,g,v){const y=null==g?`/endpoints/${m}`:`/endpoints/${m}/${g}`,C=await this.sendTunnelRequest("DELETE",d,k,y,void 0,v,void 0,!0);return C&&d.endpoints&&(d.endpoints=d.endpoints.filter((d=>d.hostId!==m||d.connectionMode!==g))),C}async listTunnelPorts(d,m){const g=await this.sendTunnelRequest("GET",d,I,A,void 0,m);return g.forEach(parseTunnelPortDates),g}async getTunnelPort(d,m,g){const v=`/ports/${m}`,y=await this.sendTunnelRequest("GET",d,I,v,void 0,g);return parseTunnelPortDates(y),y}async createTunnelPort(d,m,g){m=this.convertTunnelPortForRequest(d,m);const v=await this.sendTunnelRequest("POST",d,M,A,void 0,g,m);return d.ports&&(d.ports=d.ports.filter((d=>d.portNumber!==m.portNumber)).concat(v).sort(comparePorts)),parseTunnelPortDates(v),v}async updateTunnelPort(d,m,g){if(m.clusterId&&d.clusterId&&m.clusterId!==d.clusterId)throw new Error("Tunnel port cluster ID is not consistent.");const v=`/ports/${m.portNumber}`;m=this.convertTunnelPortForRequest(d,m);const y=await this.sendTunnelRequest("PUT",d,M,v,void 0,g,m);return d.ports&&(d.ports=d.ports.filter((d=>d.portNumber!==m.portNumber)).concat(y).sort(comparePorts)),(null==g?void 0:g.tokenScopes)||(y.accessTokens=m.accessTokens),parseTunnelPortDates(y),y}async deleteTunnelPort(d,m,g){const v=`/ports/${m}`,y=await this.sendTunnelRequest("DELETE",d,M,v,void 0,g,void 0,!0);return y&&d.ports&&(d.ports=d.ports.filter((d=>d.portNumber!==m)).sort(comparePorts)),y}async listClusters(){return await this.sendRequest("GET",void 0,"/api/v1/clusters",void 0,void 0,void 0,!1)}async sendTunnelRequest(d,m,g,v,y,C,_,T){const b=this.buildUriForTunnel(m,v,y,C),A=await this.getAxiosRequestConfig(m,C,g);return await this.request(d,b,_,A,T)}async sendRequest(d,m,g,v,y,C,_){const T=this.buildUri(m,g,v,y),b=await this.getAxiosRequestConfig(void 0,y);return await this.request(d,T,C,b,_)}async checkNameAvailablility(d){d=encodeURI(d);const m=this.buildUri(void 0,`/api/v1/tunnels/${d}/checkAvailability`);let g={httpsAgent:this.httpsAgent};return await this.request("GET",m,void 0,g)}getResponseErrorMessage(d){var m,g,v,y;let C="";if(null===(m=d.response)||void 0===m?void 0:m.data){let m=d.response.data;(m.title||m.detail)&&(C=`Tunnel service error: ${m.title}`,m.detail&&(C+=" "+m.detail),m.errors&&(C+=JSON.stringify(m.errors)))}C||(C=(null==d?void 0:d.response)?`Tunnel service returned status code: ${d.response.status} ${d.response.statusText}`:null!==(v=null!==(g=null==d?void 0:d.message)&&void 0!==g?g:d)&&void 0!==v?v:"Unknown tunnel service request error.");const _="VsSaaS-Request-Id";return(null===(y=d.response)||void 0===y?void 0:y.headers)&&d.response.headers[_]&&(C+=`\nRequest ID: ${d.response.headers[_]}`),C}buildUri(d,m,g,v){let y=this.baseAddress;if(d){const m=new URL(y),g=parseInt(m.port,10);if("localhost"===m.hostname||m.hostname.startsWith(`${d}.`)){if("https:"===m.protocol&&d.startsWith("localhost")&&g%10>0){const v=parseInt(d.substring("localhost".length),10);v>0&&v<10&&(m.port=(g-g%10+v).toString(),y=m.toString())}}else m.hostname=`${d}.${m.hostname}`.replace("global.",""),y=m.toString()}y=`${y.replace(/\/$/,"")}${m}`;let C=this.tunnelRequestOptionsToQueryString(v,g);return C&&(y+=`?${C}`),y}buildUriForTunnel(d,m,g,v){let y="";if(d.clusterId&&d.tunnelId)y=`/api/v1/tunnels/${d.tunnelId}`;else{if(!d.name)throw new Error("Tunnel object must include either a name or tunnel ID and cluster ID.");y=`/api/v1/tunnels/${d.name}`}if(null==v?void 0:v.additionalQueryParameters)for(let[d,m]of Object.entries(v.additionalQueryParameters))g?g+=`&${d}=${m}`:g=`${d}=${m}`;return this.buildUri(d.clusterId,y+(m||""),g,v)}async getAxiosRequestConfig(d,m,g){let v={};if(m&&m.accessToken&&(C.TunnelAccessTokenProperties.validateTokenExpiration(m.accessToken),v.Authorization=`${y.TunnelAuthenticationSchemes.tunnel} ${m.accessToken}`),!(P in v)&&this.userTokenCallback){let d=await this.userTokenCallback();d&&(v.Authorization=d)}if(!(P in v)){const m=C.TunnelAccessTokenProperties.getTunnelAccessToken(d,g);m&&(v.Authorization=`${y.TunnelAuthenticationSchemes.tunnel} ${m}`)}const copyAdditionalHeaders=d=>{if(d)for(let[m,g]of Object.entries(d))v[m]=g};copyAdditionalHeaders(this.additionalRequestHeaders),copyAdditionalHeaders(null==m?void 0:m.additionalHeaders);const T=v["User-Agent"]?v["User-Agent"]+" ":"";v["User-Agent"]=`${T}${this.userAgents} ${_.tunnelSdkUserAgent}`;let b=Object.assign({headers:v},this.httpsAgent&&{httpsAgent:this.httpsAgent});return!1===(null==m?void 0:m.followRedirects)&&(b.maxRedirects=0),b}convertTunnelForRequest(d){var m;return{name:d.name,domain:d.domain,description:d.description,tags:d.tags,options:d.options,accessControl:d.accessControl?{entries:d.accessControl.entries.filter((d=>!d.isInherited))}:void 0,endpoints:d.endpoints,ports:null===(m=d.ports)||void 0===m?void 0:m.map((m=>this.convertTunnelPortForRequest(d,m)))}}convertTunnelPortForRequest(d,m){if(m.clusterId&&d.clusterId&&m.clusterId!==d.clusterId)throw new Error("Tunnel port cluster ID does not match tunnel.");if(m.tunnelId&&d.tunnelId&&m.tunnelId!==d.tunnelId)throw new Error("Tunnel port tunnel ID does not match tunnel.");return{portNumber:m.portNumber,protocol:m.protocol,isDefault:m.isDefault,description:m.description,tags:m.tags,sshUser:m.sshUser,options:m.options,accessControl:m.accessControl?{entries:m.accessControl.entries.filter((d=>!d.isInherited))}:void 0}}tunnelRequestOptionsToQueryString(d,m){let g={};const y=[];d&&(d.includePorts&&(g.includePorts=["true"]),d.includeAccessControl&&(g.includeAccessControl=["true"]),d.tokenScopes&&(v.TunnelAccessControl.validateScopes(d.tokenScopes,void 0,!0),g.tokenScopes=d.tokenScopes),d.forceRename&&(g.forceRename=["true"]),d.tags&&(g.tags=d.tags,d.requireAllTags&&(g.allTags=["true"])),d.limit&&(g.limit=[d.limit.toString()]),y.push(...Object.keys(g).map((d=>`${d}=${g[d].map(encodeURIComponent).join(",")}`)))),m&&y.push(m);return y.join("&")}async request(d,m,g,v,y){this.trace(`${d} ${m}`),this.traceHeaders(v.headers),this.traceContent(g);const traceResponse=d=>{this.trace(`${d.status} ${d.statusText}`),this.traceHeaders(d.headers),this.traceContent(d.data)};try{v.url=m,v.method=d,v.data=g;let y=await T.default.request(v);return traceResponse(y),"DELETE"===d||y.data}catch(m){if(!(m instanceof Error&&m.isAxiosError))throw m;const g=m;if(g.response&&(traceResponse(g.response),y&&404===g.response.status))return"DELETE"!==d&&null;throw g.message=this.getResponseErrorMessage(g),delete g.request,g.response&&(delete g.config.httpAgent,delete g.config.httpsAgent,delete g.response.request),g}}traceHeaders(d){for(let[m,g]of Object.entries(d)){if("Authorization"===m)return void this.traceAuthorizationHeader(m,g);this.trace(`${m}: ${null!=g?g:""}`)}}traceAuthorizationHeader(d,m){if("string"!=typeof m)return;const g=m.indexOf(" ");if(g<0)return void this.trace(`${d}: [${m.length}]`);const v=m.substring(0,g),_=m.substring(g+1);if(v.toLowerCase()===y.TunnelAuthenticationSchemes.tunnel.toLowerCase()){const m=C.TunnelAccessTokenProperties.tryParse(_);if(m)return void this.trace(`${d}: ${v} <${m}>`)}this.trace(`${d}: ${v} <token>`)}traceContent(d){"object"==typeof d&&(d=JSON.stringify(d,void 0,"  ")),"string"==typeof d&&this.trace(TunnelManagementHttpClient.replaceTokensInContent(d))}static replaceTokensInContent(d){var m;const g=/"(eyJ[a-zA-z0-9\-_]+\.[a-zA-z0-9\-_]+\.[a-zA-z0-9\-_]+)"/;let v=g.exec(d);for(;v;){let y=v[1];const _=C.TunnelAccessTokenProperties.tryParse(y);y=null!==(m=null==_?void 0:_.toString())&&void 0!==m?m:"token",d=d.substring(0,v.index+1)+"<"+y+">"+d.substring(v.index+v[0].length-1),v=g.exec(d)}return d}}m.TunnelManagementHttpClient=TunnelManagementHttpClient},28292:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0})},30276:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.tunnelSdkUserAgent=void 0;const v=g(73416).version;m.tunnelSdkUserAgent=`Visual-Studio-Tunnel-Service-SDK/${v}`},80090:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.ForwardedPort=void 0;m.ForwardedPort=class ForwardedPort{constructor(d,m,g){if(null===d&&null===m)throw new TypeError("Local and remote ports cannot both be null.");if(!g&&null===m)throw new TypeError("The report port number must not be null for locally forwarded ports.");if(null!==d&&("number"!=typeof d||d<=0))throw new TypeError("Local port must be a positive integer.");if(null!==m&&("number"!=typeof m||m<=0))throw new TypeError("Remote port must be a positive integer: "+m);this.localPort=d,this.remotePort=m;const v=g?"->":"<-";null===this.localPort?this.str=`${v}${this.remotePort}`:null==this.remotePort?this.str=`${this.localPort}${v}`:this.str=`${this.localPort}${v}${this.remotePort}`}toString(){return this.str}}},39824:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.ForwardedPortChannelEventArgs=m.ForwardedPortEventArgs=void 0;class ForwardedPortEventArgs{constructor(d){this.port=d}toString(){return this.port.toString()}}m.ForwardedPortEventArgs=ForwardedPortEventArgs;m.ForwardedPortChannelEventArgs=class ForwardedPortChannelEventArgs extends ForwardedPortEventArgs{constructor(d,m){super(d),this.port=d,this.channel=m}toString(){return`${this.port} ${this.channel}`}}},59454:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.ForwardedPortsCollection=void 0;const v=g(87091),y=g(39824);class ForwardedPortsCollection{constructor(){this.portChannelMap=new Map,this.portAddedEmitter=new v.Emitter,this.onPortAdded=this.portAddedEmitter.event,this.portRemovedEmitter=new v.Emitter,this.onPortRemoved=this.portRemovedEmitter.event,this.portChannelAddedEmitter=new v.Emitter,this.onPortChannelAdded=this.portChannelAddedEmitter.event,this.portChannelRemovedEmitter=new v.Emitter,this.onPortChannelRemoved=this.portChannelRemovedEmitter.event}get size(){return this.portChannelMap.size}has(d){return this.portChannelMap.has(d.toString())}*values(){for(const[d,m]of this.portChannelMap.values())yield d}[Symbol.iterator](){return this.values()}*entries(){for(const[d,m]of this.portChannelMap.values())yield[d,d]}keys(){return this.values()}forEach(d,m){for(const[g,v]of this.portChannelMap.values())d.apply(m,[g,g,this])}getChannels(d){const m=this.portChannelMap.get(d.toString());if(!m)throw new Error(`Port ${d} is not in the collection.`);return m[1]}find(d){for(const m of this.values())if(d(m))return m}addPort(d){if(this.has(d))throw new Error(`Port ${d} is already in the collection.`);this.portChannelMap.set(d.toString(),[d,[]]),this.portAddedEmitter.fire(new y.ForwardedPortEventArgs(d))}removePort(d){if(!this.has(d))throw new Error(`Port ${d} is not in the collection.`);this.portChannelMap.delete(d.toString()),this.portRemovedEmitter.fire(new y.ForwardedPortEventArgs(d))}addChannel(d,m){const g=this.portChannelMap.get(d.toString());if(!g)throw new Error(`Port ${d} is not in the collection.`);const v=g[1];if(v.find((d=>d.channelId===m.channelId)))throw new Error(`Channel ${m.channelId} is already in the collection for port ${d}`);v.push(m),m.onClosed((()=>this.tryRemoveChannel(d,m))),this.portChannelAddedEmitter.fire(new y.ForwardedPortChannelEventArgs(d,m))}tryRemoveChannel(d,m){const g=this.portChannelMap.get(d.toString());if(g){const v=g[1],C=v.findIndex((d=>d.channelId===m.channelId));C>=0&&(v.splice(C,1),this.portChannelRemovedEmitter.fire(new y.ForwardedPortChannelEventArgs(d,m)))}}toString(){return[...this].join(", ")}}m.ForwardedPortsCollection=ForwardedPortsCollection},48739:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.ForwardedPortChannelEventArgs=m.ForwardedPortEventArgs=m.ForwardedPortsCollection=m.ForwardedPort=m.PortForwardChannelOpenMessage=m.PortForwardSuccessMessage=m.PortForwardRequestMessage=m.RemotePortStreamer=m.RemotePortForwarder=m.LocalPortForwarder=m.PortForwardingService=m.SshServer=m.SshClient=void 0;var v=g(41850);Object.defineProperty(m,"SshClient",{enumerable:!0,get:function(){return v.SshClient}});var y=g(59054);Object.defineProperty(m,"SshServer",{enumerable:!0,get:function(){return y.SshServer}});var C=g(97736);Object.defineProperty(m,"PortForwardingService",{enumerable:!0,get:function(){return C.PortForwardingService}});var _=g(4350);Object.defineProperty(m,"LocalPortForwarder",{enumerable:!0,get:function(){return _.LocalPortForwarder}});var T=g(77860);Object.defineProperty(m,"RemotePortForwarder",{enumerable:!0,get:function(){return T.RemotePortForwarder}});var b=g(6301);Object.defineProperty(m,"RemotePortStreamer",{enumerable:!0,get:function(){return b.RemotePortStreamer}});var A=g(18444);Object.defineProperty(m,"PortForwardRequestMessage",{enumerable:!0,get:function(){return A.PortForwardRequestMessage}});var P=g(65288);Object.defineProperty(m,"PortForwardSuccessMessage",{enumerable:!0,get:function(){return P.PortForwardSuccessMessage}});var R=g(46190);Object.defineProperty(m,"PortForwardChannelOpenMessage",{enumerable:!0,get:function(){return R.PortForwardChannelOpenMessage}});var k=g(80090);Object.defineProperty(m,"ForwardedPort",{enumerable:!0,get:function(){return k.ForwardedPort}});var M=g(59454);Object.defineProperty(m,"ForwardedPortsCollection",{enumerable:!0,get:function(){return M.ForwardedPortsCollection}});var I=g(39824);Object.defineProperty(m,"ForwardedPortEventArgs",{enumerable:!0,get:function(){return I.ForwardedPortEventArgs}}),Object.defineProperty(m,"ForwardedPortChannelEventArgs",{enumerable:!0,get:function(){return I.ForwardedPortChannelEventArgs}})},34243:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.IPAddressConversions=void 0;m.IPAddressConversions=class IPAddressConversions{static fromSshAddress(d){return d?"localhost"===d?"127.0.0.1":d:"0.0.0.0"}static toSshAddress(d){return d?"0.0.0.0"===d?"":"127.0.0.1"===d?"localhost":d:null}}},46190:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.PortForwardChannelOpenMessage=void 0;const v=g(52097);class PortForwardChannelOpenMessage extends v.ChannelOpenMessage{constructor(){super(...arguments),this.host="",this.port=0,this.originatorIPAddress="",this.originatorPort=0}onRead(d){super.onRead(d),this.host=d.readString("ascii"),this.port=d.readUInt32(),this.originatorIPAddress=d.readString("ascii"),this.originatorPort=d.readUInt32()}onWrite(d){super.onWrite(d),d.writeString(this.validateField(this.host,"host"),"ascii"),d.writeUInt32(this.validateField(this.port,"port")),d.writeString(this.originatorIPAddress||"","ascii"),d.writeUInt32(this.originatorPort||0)}toString(){return`${super.toString()} (host=${this.host} port=${this.port})`}}m.PortForwardChannelOpenMessage=PortForwardChannelOpenMessage},18444:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.PortForwardRequestMessage=void 0;const v=g(52097),y=g(97736);class PortForwardRequestMessage extends v.SessionRequestMessage{constructor(){super(),this.addressToBind="",this.port=0,this.requestType=y.PortForwardingService.portForwardRequestType,this.wantReply=!0}onRead(d){super.onRead(d),this.addressToBind=d.readString("ascii"),this.port=d.readUInt32()}onWrite(d){super.onWrite(d),d.writeString(this.validateField(this.addressToBind,"address"),"ascii"),d.writeUInt32(this.validateField(this.port,"port"))}toString(){return`${super.toString()} (addressToBind=${this.addressToBind} port=${this.port})`}}m.PortForwardRequestMessage=PortForwardRequestMessage},65288:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.PortForwardSuccessMessage=void 0;const v=g(52097);class PortForwardSuccessMessage extends v.SessionRequestSuccessMessage{constructor(){super(...arguments),this.port=0}onRead(d){super.onRead(d),d.available>=4&&(this.port=d.readUInt32())}onWrite(d){super.onWrite(d),d.writeUInt32(this.validateField(this.port,"port"))}toString(){return`${super.toString()} (port=${this.port})`}}m.PortForwardSuccessMessage=PortForwardSuccessMessage},92904:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.DefaultPortForwardMessageFactory=void 0;const v=g(46190),y=g(18444),C=g(65288);m.DefaultPortForwardMessageFactory=class DefaultPortForwardMessageFactory{createRequestMessageAsync(d){return Promise.resolve(new y.PortForwardRequestMessage)}createSuccessMessageAsync(d){return Promise.resolve(new C.PortForwardSuccessMessage)}createChannelOpenMessageAsync(d){return Promise.resolve(new v.PortForwardChannelOpenMessage)}}},15382:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.ChannelForwarder=void 0;const v=g(52097),y=g(87091);m.ChannelForwarder=class ChannelForwarder{constructor(d,m,g){this.pfs=d,this.channel=m,this.socket=g,this.disposeCancellationSource=new y.CancellationTokenSource,g.on("data",this.onSocketDataReceived.bind(this)),g.on("error",this.onSocketError.bind(this)),g.on("close",this.onSocketClosed.bind(this)),m.onDataReceived(this.onChannelDataReceived.bind(this)),m.onClosed(this.onChannelClosed.bind(this))}get trace(){return this.channel.session.trace}onSocketDataReceived(d){this.socket.pause(),this.channel.send(d,this.disposeCancellationSource.token).then(this.socket.resume.bind(this.socket),(d=>{this.trace(v.TraceLevel.Warning,v.SshTraceEventIds.portForwardConnectionFailed,`Forwarder error sending channel data: ${d.message}`,d)}))}onSocketClosed(d){(d?this.channel.close("SIGABRT","Socket closed with error."):this.channel.close()).catch((d=>{this.trace(v.TraceLevel.Error,v.SshTraceEventIds.portForwardConnectionFailed,`Forwarder channel close failed with error: ${d.message}`,d)}))}onSocketError(d){this.trace(v.TraceLevel.Info,v.SshTraceEventIds.portForwardChannelClosed,`Forwarder socket closed with error: ${d.message}`),this.channel.close("SIGABRT",d.message).catch((d=>{this.trace(v.TraceLevel.Error,v.SshTraceEventIds.portForwardConnectionFailed,`Forwarder channel close failed with error: ${d.message}`,d)}))}onChannelDataReceived(d){this.socket.write(d,(m=>{m?this.trace(v.TraceLevel.Error,v.SshTraceEventIds.portForwardConnectionFailed,`Forwarder failed to write to socket: ${m.message}`,m):this.channel.adjustWindow(d.length)}))}onChannelClosed(d){d.errorMessage?(this.trace(v.TraceLevel.Info,v.SshTraceEventIds.portForwardConnectionClosed,`Forwarder channel ${this.channel.channelId} closed with error: ${d.errorMessage}`),this.socket.destroy()):(this.trace(v.TraceLevel.Info,v.SshTraceEventIds.portForwardConnectionClosed,`Forwarder channel ${this.channel.channelId} closed.`),this.socket.end());const m=this.pfs.channelForwarders.indexOf(this);m>=0&&this.pfs.channelForwarders.splice(m,1),this.dispose()}dispose(){this.disposeCancellationSource.dispose(),this.socket.destroy()}}},4350:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.LocalPortForwarder=void 0;const v=g(52097),y=g(15382);class LocalPortForwarder extends v.SshService{constructor(d,m,g,v,y,C,_){super(m),this.pfs=d,this.channelType=g,this.localIPAddress=v,this.port=y,this.remoteHost=C,this.remotePort=null!=_?_:0!==y?y:void 0}get localPort(){return this.port}async startForwarding(d){var m;let g=this.localIPAddress;try{this.tcpListener=await this.pfs.tcpListenerFactory.createTcpListener(g,this.port,!0);const d=this.tcpListener.address();if(!(d.port>0))throw this.tcpListener.close(),new Error("Could not get server port.");if(this.port=d.port,"127.0.0.1"===this.localIPAddress||"0.0.0.0"===this.localIPAddress){g="0.0.0.0"===this.localIPAddress?"::":"::1";try{this.tcpListener2=await this.pfs.tcpListenerFactory.createTcpListener(g,this.port,!1)}catch(d){if(!(d instanceof Error)||"EADDRNOTAVAIL"!==d.code)throw d;this.trace(v.TraceLevel.Warning,v.SshTraceEventIds.portForwardServerListenFailed,`PortForwardingService failed to listen on ${g}:{this.port}: ${d.message}`,d)}}}catch(d){if(!(d instanceof Error))throw d;throw this.trace(v.TraceLevel.Error,v.SshTraceEventIds.portForwardServerListenFailed,`PortForwardingService failed to listen on ${g}:${this.port}: ${d.message}`,d),d}this.tcpListener.on("connection",this.acceptConnection.bind(this)),null===(m=this.tcpListener2)||void 0===m||m.on("connection",this.acceptConnection.bind(this)),this.trace(v.TraceLevel.Info,v.SshTraceEventIds.portForwardServerListening,`PortForwardingService listening on ${this.localIPAddress}:${this.port}.`),this.tcpListener2&&this.trace(v.TraceLevel.Info,v.SshTraceEventIds.portForwardServerListening,`PortForwardingService also listening on ${g}:${this.port}.`)}async acceptConnection(d){var m,g,C,_;let T;this.trace(v.TraceLevel.Info,v.SshTraceEventIds.portForwardConnectionAccepted,`PortForwardingService accepted connection from: ${d.remoteAddress} on port ${this.port}`);try{T=await this.pfs.openChannel(this.session,this.channelType,null!==(m=d.remoteAddress)&&void 0!==m?m:null,null!==(g=d.remotePort)&&void 0!==g?g:null,null!==(C=this.remoteHost)&&void 0!==C?C:this.localIPAddress,null!==(_=this.remotePort)&&void 0!==_?_:this.localPort)}catch(m){if(!(m instanceof Error))throw m;return void d.destroy()}const b=new y.ChannelForwarder(this.pfs,T,d);this.pfs.channelForwarders.push(b)}dispose(){var d,m;null===(d=this.tcpListener)||void 0===d||d.close(),null===(m=this.tcpListener2)||void 0===m||m.close(),this.trace(v.TraceLevel.Info,v.SshTraceEventIds.portForwardServerListening,`PortForwardingService stopped listening on ${this.localIPAddress}:${this.port}.`),super.dispose()}}m.LocalPortForwarder=LocalPortForwarder},97736:function(d,m,g){"use strict";var v,y=this&&this.__decorate||function(d,m,g,v){var y,C=arguments.length,_=C<3?m:null===v?v=Object.getOwnPropertyDescriptor(m,g):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_=Reflect.decorate(d,m,g,v);else for(var T=d.length-1;T>=0;T--)(y=d[T])&&(_=(C<3?y(_):C>3?y(m,g,_):y(m,g))||_);return C>3&&_&&Object.defineProperty(m,g,_),_};Object.defineProperty(m,"__esModule",{value:!0}),m.PortForwardingService=void 0;const C=g(52097),_=g(80090),T=g(59454),b=g(34243),A=g(46190),P=g(18444),R=g(65288),k=g(92080),M=g(92904),I=g(4350),O=g(77860),x=g(6301);let L=v=class PortForwardingService extends C.SshService{constructor(d){super(d),this.localForwarders=new Map,this.remoteConnectors=new Map,this.channelForwarders=[],this.acceptLocalConnectionsForForwardedPorts=!0,this.forwardConnectionsToLocalPorts=!0,this.acceptRemoteConnectionsForNonForwardedPorts=!0,this.localForwardedPorts=new T.ForwardedPortsCollection,this.remoteForwardedPorts=new T.ForwardedPortsCollection,this.tcpListenerFactory=new k.DefaultTcpListenerFactory,this.messageFactory=new M.DefaultPortForwardMessageFactory}async forwardFromRemotePort(d,m,g,v,y){const C="string"==typeof g?g:"127.0.0.1";if(void 0===v&&(v=m),!d)throw new TypeError("Remote IP address is required.");if(!Number.isInteger(m)||m<0)throw new TypeError("Remote port must be a non-negative integer.");if(!C)throw new TypeError("Local host is required.");if(!Number.isInteger(v)||v<=0)throw new TypeError("Local port must be a positive integer.");if(this.localForwardedPorts.find((d=>d.localPort===v)))throw new Error(`Local port ${v} is already forwarded.`);if(m>0&&this.localForwardedPorts.find((d=>d.remotePort===m)))throw new Error(`Remote port ${m} is already forwarded.`);const T=new O.RemotePortForwarder(this,this.session,d,m,C,v),b=await this.messageFactory.createRequestMessageAsync(m);if(!await T.request(b,y))return T.dispose(),null;m=T.remotePort,this.remoteConnectors.set(m,T);const A=new _.ForwardedPort(v,m,!1);return this.localForwardedPorts.addPort(A),T.onDisposed((()=>{this.localForwardedPorts.removePort(A),this.remoteConnectors.delete(m)})),T}async forwardToRemotePort(d,m,g,y,C){const _="string"==typeof g?g:"127.0.0.1";if(void 0===y&&(y=m),!d)throw new TypeError("Local IP address is required.");if(!Number.isInteger(m)||m<0)throw new TypeError("Local port must be a non-negative integer.");if(!_)throw new TypeError("Remote host is required.");if(!Number.isInteger(y)||y<=0)throw new TypeError("Remote port must be a positive integer.");if(this.localForwarders.has(y))throw new Error(`Port ${y} is already forwarded.`);const T=new I.LocalPortForwarder(this,this.session,v.reversePortForwardChannelType,d,m,_,y);return await T.startForwarding(C),this.localForwarders.set(y,T),T.onDisposed((()=>{this.localForwarders.delete(y)})),T}async streamFromRemotePort(d,m,g){if(!d)throw new TypeError("Remote IP address is required.");if(!Number.isInteger(m)||m<0)throw new TypeError("Remote port must be a non-negative integer.");const v=new x.RemotePortStreamer(this.session,d,m),y=await this.messageFactory.createRequestMessageAsync(m);if(!await v.request(y,g))return v.dispose(),null;m=v.remotePort,this.remoteConnectors.set(m,v);const C=new _.ForwardedPort(null,m,!1);return this.localForwardedPorts.addPort(C),v.onDisposed((()=>{this.localForwardedPorts.removePort(C),this.remoteConnectors.delete(m)})),v}async streamToRemotePort(d,m,g){if(!d)throw new TypeError("Remote host is required.");if(!Number.isInteger(m)||m<=0)throw new TypeError("Remote port must be a positive integer.");const y=await this.openChannel(this.session,v.reversePortForwardChannelType,null,null,d,m,g);return new C.SshStream(y)}async connectToForwardedPort(d,m){if(!Number.isInteger(d)||d<=0)throw new TypeError("Forwarded port must be a positive integer.");const g=await this.openChannel(this.session,v.portForwardChannelType,null,null,"127.0.0.1",d,m);return new C.SshStream(g)}async waitForForwardedPort(d,m){if(this.remoteForwardedPorts.find((m=>m.remotePort===d)))return;const g=new C.PromiseCompletionSource;let v,y,_;m&&(v=m.onCancellationRequested((()=>g.reject(new C.CancellationError))));try{y=this.remoteForwardedPorts.onPortAdded((m=>{m.port.remotePort===d&&g.resolve()})),_=this.session.onClosed((()=>{g.reject(new C.ObjectDisposedError("The session was closed."))})),await g.promise}finally{null==y||y.dispose(),null==_||_.dispose(),null==v||v.dispose()}}async onSessionRequest(d,m){if(!d)throw new TypeError("Request is required.");if(d.requestType!==v.portForwardRequestType&&d.requestType!==v.cancelPortForwardRequestType)throw new Error(`Unexpected request type: ${d.requestType}`);const g=d.request.convertTo(new P.PortForwardRequestMessage),y=b.IPAddressConversions.fromSshAddress(g.addressToBind);if(d.requestType===v.portForwardRequestType&&0!==g.port&&this.localForwarders.has(g.port)){const m=`PortForwardingService blocking attempt to re-forward already-forwarded port ${g.port}.`;return this.session.trace(C.TraceLevel.Warning,C.SshTraceEventIds.portForwardRequestInvalid,m),void(d.isAuthorized=!1)}const T=new C.SshRequestEventArgs(d.requestType,g,this.session.principal);let A;await super.onSessionRequest(T,m);let k=null;if(T.isAuthorized)if(d.requestType===v.portForwardRequestType){try{k=await this.startForwarding(y,g.port,m)}catch(d){}if(null!==k){const d=0===g.port?k:g.port,m=await this.messageFactory.createSuccessMessageAsync(d);m.port=d,A=m}}else d.requestType===v.cancelPortForwardRequestType&&await this.cancelForwarding(g.port,m)&&(A=new C.SessionRequestSuccessMessage);if(d.responsePromise=Promise.resolve(null!=A?A:new C.SessionRequestFailureMessage),A instanceof R.PortForwardSuccessMessage){const d=new _.ForwardedPort(null!=k?k:A.port,A.port,!0);this.remoteForwardedPorts.addPort(d)}}async startForwarding(d,m,g){if("number"!=typeof m)throw new TypeError("Remote port must be an integer.");if(this.acceptLocalConnectionsForForwardedPorts){let y=m;const C=new I.LocalPortForwarder(this,this.session,v.portForwardChannelType,d,y,void 0,0===m?void 0:m);return await C.startForwarding(g),y=C.localPort,0===m&&(m=y),this.localForwarders.has(m)?(C.dispose(),null):(this.localForwarders.set(m,C),y=C.localPort,C.onDisposed((()=>{const d=new _.ForwardedPort(y,m,!0);this.remoteForwardedPorts.removePort(d),this.localForwarders.delete(m)})),y)}return 0!==m?m:null}async cancelForwarding(d,m){const g=this.localForwarders.get(d);return!!g&&(this.localForwarders.delete(d),g.dispose(),!0)}async onChannelOpening(d,m){var g;if(!d)throw new TypeError("Request is required.");const y=d.request.channelType;if(y!==v.portForwardChannelType&&y!==v.reversePortForwardChannelType)return void(d.failureReason=C.SshChannelOpenFailureReason.unknownChannelType);let T=null;const P=d.request instanceof A.PortForwardChannelOpenMessage?d.request:d.request.convertTo(new A.PortForwardChannelOpenMessage);if(d.isRemoteRequest)if(y===v.portForwardChannelType){const m=`${b.IPAddressConversions.fromSshAddress(P.host)}:${P.port}`;if(T=null!==(g=this.remoteConnectors.get(P.port))&&void 0!==g?g:null,!T)return this.trace(C.TraceLevel.Error,C.SshTraceEventIds.portForwardRequestInvalid,`PortForwardingService received forwarding channel for ${m} that was not requested.`),d.failureReason=C.SshChannelOpenFailureReason.connectFailed,void(d.failureDescription="Forwarding channel was not requested.")}else if(!this.acceptRemoteConnectionsForNonForwardedPorts){const m="The session has disabled connections to non-forwarded ports.";return this.session.trace(C.TraceLevel.Warning,C.SshTraceEventIds.portForwardChannelOpenFailed,m),d.failureDescription=m,void(d.failureReason=C.SshChannelOpenFailureReason.administrativelyProhibited)}const R=new C.SshChannelOpeningEventArgs(P,d.channel,d.isRemoteRequest);if(await super.onChannelOpening(R,m),d.failureReason=R.failureReason,d.failureDescription=R.failureDescription,d.failureReason===C.SshChannelOpenFailureReason.none&&d.isRemoteRequest&&this.forwardConnectionsToLocalPorts)if(T){await T.onChannelOpening(d,m);const g=T instanceof O.RemotePortForwarder?T.localPort:null,v=T instanceof O.RemotePortForwarder?T.remotePort:P.port,y=new _.ForwardedPort(g,v,!1);this.localForwardedPorts.addChannel(y,d.channel)}else await O.RemotePortForwarder.forwardChannel(this,d,P.host,P.port,this.trace,m)}async openChannel(d,m,g,y,_,T,b){let A;if(m===v.portForwardChannelType&&(A=this.remoteForwardedPorts.find((d=>d.remotePort===T||null===d.remotePort&&d.localPort===T)),!A))throw new Error(`Port ${T} is not being forwarded.`);const P=await this.messageFactory.createChannelOpenMessageAsync(T);P.channelType=m,P.originatorIPAddress=null!=g?g:"",P.originatorPort=null!=y?y:0,P.host=_,P.port=T;const R=this.session.trace;let k;try{k=await d.openChannel(P,null,b),R(C.TraceLevel.Info,C.SshTraceEventIds.portForwardChannelOpened,`PortForwardingService opened ${m} channel #${k.channelId} for ${_}:${T}.`)}catch(d){if(!(d instanceof Error))throw d;throw R(C.TraceLevel.Error,C.SshTraceEventIds.portForwardChannelOpenFailed,`PortForwardingService failed to open ${m} channel for ${_}:${T}: ${d.message}`,d),d}return m===v.portForwardChannelType&&this.remoteForwardedPorts.addChannel(A,k),k}dispose(){const d=[...this.channelForwarders,...this.localForwarders.values(),...this.remoteConnectors.values()];this.channelForwarders.splice(0,this.channelForwarders.length),this.localForwarders.clear(),this.remoteConnectors.clear();for(const m of d)m.dispose();super.dispose()}};L.portForwardRequestType="tcpip-forward",L.cancelPortForwardRequestType="cancel-tcpip-forward",L.portForwardChannelType="forwarded-tcpip",L.reversePortForwardChannelType="direct-tcpip",L=v=y([(0,C.serviceActivation)({sessionRequest:v.portForwardRequestType}),(0,C.serviceActivation)({sessionRequest:v.cancelPortForwardRequestType}),(0,C.serviceActivation)({channelType:v.portForwardChannelType}),(0,C.serviceActivation)({channelType:v.reversePortForwardChannelType})],L),m.PortForwardingService=L},52645:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.RemotePortConnector=void 0;const v=g(52097),y=g(18444),C=g(65288),_=g(97736);class RemotePortConnector extends v.SshService{constructor(d,m,g){super(d),this.forwarding=!1,this.remoteIPAddress=m,this.port=g}get remotePort(){return this.port}async request(d,m){if(this.forwarding)throw new Error("Already forwarding.");d.addressToBind=this.remoteIPAddress,d.port=this.remotePort,d.wantReply=!0;const g=await this.session.requestResponse(d,C.PortForwardSuccessMessage,v.SessionRequestFailureMessage,m);let y=!1;return g instanceof C.PortForwardSuccessMessage&&(0!==g.port&&(this.port=g.port),y=!0),this.forwarding=y,y}dispose(){if(this.forwarding){this.forwarding=!1;const d=new y.PortForwardRequestMessage;d.requestType=_.PortForwardingService.cancelPortForwardRequestType,d.addressToBind=this.remoteIPAddress,d.port=this.remotePort,d.wantReply=!1;try{this.session.request(d).catch((d=>{}))}catch(d){}}super.dispose()}}m.RemotePortConnector=RemotePortConnector},77860:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.RemotePortForwarder=void 0;const v=g(41808),y=g(52097),C=g(15382),_=g(52645);class RemotePortForwarder extends _.RemotePortConnector{constructor(d,m,g,v,y,C){super(m,g,v),this.pfs=d,this.localHost=y,this.localPort=C}async onChannelOpening(d,m){await RemotePortForwarder.forwardChannel(this.pfs,d,this.localHost,this.localPort,this.trace,m)}static async forwardChannel(d,m,g,_,T,b){const A=m.channel,P=v.createConnection({host:g,port:_}),R=new y.PromiseCompletionSource,k=b?b.onCancellationRequested((()=>P.destroy(new Error("Cancelled.")))):null;try{P.once("connect",(()=>{R.resolve()})),P.once("error",(d=>{R.reject(d)})),await R.promise}catch(d){if(!(d instanceof Error)||(null==b?void 0:b.isCancellationRequested))throw d;T(y.TraceLevel.Error,y.SshTraceEventIds.portForwardConnectionFailed,`${A.session} PortForwardingService forwarded channel #${A.channelId} connection to ${g}:${_} failed: ${d.message}`,d),m.failureReason=y.SshChannelOpenFailureReason.connectFailed,m.failureDescription=d.message}finally{null==k||k.dispose()}const M=new C.ChannelForwarder(d,A,P);T(y.TraceLevel.Info,y.SshTraceEventIds.portForwardConnectionOpened,`${A.session} PortForwardingService forwarded channel #${A.channelId} connection to ${g}:${_}.`),d.channelForwarders.push(M)}}m.RemotePortForwarder=RemotePortForwarder},6301:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.RemotePortStreamer=void 0;const v=g(87091),y=g(52097),C=g(52645);class RemotePortStreamer extends C.RemotePortConnector{constructor(d,m,g){super(d,m,g),this.streamOpenedEmitter=new v.Emitter,this.onStreamOpened=this.streamOpenedEmitter.event}async onChannelOpening(d,m){const g=new y.SshStream(d.channel);this.streamOpenedEmitter.fire(g)}}m.RemotePortStreamer=RemotePortStreamer},41850:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SshClient=void 0;const v=g(41808),y=g(52097);class SshClient{constructor(d){if(this.config=d,this.sessions=[],this.trace=(d,m,g,v)=>{},!d)throw new TypeError("SshSessionConfiguration is required.")}async openSession(d,m,g){if(!d)throw new TypeError("Server host is reqiured.");const v=await this.openConnection(d,m,g),C=new y.SshClientSession(this.config);return C.trace=this.trace,await C.connect(v,g),this.sessions.push(C),C}async openConnection(d,m,g){const C=new v.Socket;return await new Promise(((v,_)=>{if(C.on("connect",v),C.on("error",_),g){if(g.isCancellationRequested)return void _(new y.CancellationError);g.onCancellationRequested(_)}C.connect(m||SshClient.defaultServerPort,d)})),new y.NodeStream(C)}async reconnectSession(d,m,g,v){const y=await this.openConnection(m,g,v);await d.reconnect(y,v)}dispose(){for(;this.sessions.length>0;){this.sessions.shift().dispose()}}}m.SshClient=SshClient,SshClient.defaultServerPort=22},59054:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SshServer=void 0;const v=g(87091),y=g(52097),C=g(92080);m.SshServer=class SshServer{constructor(d){if(this.config=d,this.sessions=[],this.trace=(d,m,g,v)=>{},this.errorEmitter=new v.Emitter,this.onError=this.errorEmitter.event,this.sessionOpenedEmitter=new v.Emitter,this.onSessionOpened=this.sessionOpenedEmitter.event,this.credentials={publicKeys:[]},this.tcpListenerFactory=new C.DefaultTcpListenerFactory,!d)throw new TypeError("SshSessionConfiguration is required.");d.protocolExtensions.includes(y.SshProtocolExtensionNames.sessionReconnect)&&(this.reconnectableSessions=[])}async acceptSessions(d,m){m||(m="0.0.0.0");const g="0.0.0.0"===m?"port ":m+":";try{this.tcpListener=await this.tcpListenerFactory.createTcpListener(m,d,!1)}catch(m){if(!(m instanceof Error))throw m;throw this.trace(y.TraceLevel.Error,y.SshTraceEventIds.serverListenFailed,`SshServer failed to listen on ${g}${d}: ${m.message}`,m),m}this.tcpListener.addListener("connection",this.acceptSession.bind(this)),this.trace(y.TraceLevel.Info,y.SshTraceEventIds.serverListening,`SshServer listening on ${g}${d}.`)}async acceptConnection(d){return d.setNoDelay(!0),new y.NodeStream(d)}async acceptSession(d){this.trace(y.TraceLevel.Info,y.SshTraceEventIds.serverClientConnected,"SshServer client connected.");const m=await this.acceptConnection(d),g=new y.SshServerSession(this.config,this.reconnectableSessions);g.trace=this.trace,g.credentials=this.credentials,this.sessions.push(g),g.onClosed((d=>{const m=this.sessions.indexOf(g);m>=0&&this.sessions.splice(m,1)})),this.sessionOpenedEmitter.fire(g);try{await g.connect(m)}catch(d){if(!(d instanceof Error))throw d;d instanceof y.SshConnectionError?await g.close(d.reason||y.SshDisconnectReason.connectionLost,d.message,d):await g.close(y.SshDisconnectReason.protocolError,d.message,d),this.errorEmitter.fire(d)}}dispose(){var d;null===(d=this.tcpListener)||void 0===d||d.close()}}},92080:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.DefaultTcpListenerFactory=void 0;const v=g(41808);m.DefaultTcpListenerFactory=class DefaultTcpListenerFactory{async createTcpListener(d,m,g,y){if(!d)throw new TypeError("Local IP address is required.");if(!Number.isInteger(m)||m<0)throw new TypeError("Local port must be a non-negative integer.");const C=v.createServer();return await new Promise(((g,y)=>{C.listen({host:d,port:m,ipv6Only:v.isIPv6(d),exclusive:!1}),C.on("listening",g),C.on("error",y)})),C}}},27874:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.curves=void 0,m.curves=[{shortName:"P-256",name:"nistp256",oid:"1.2.840.10045.3.1.7",keySize:256},{shortName:"P-384",name:"nistp384",oid:"1.3.132.0.34",keySize:384},{shortName:"P-521",name:"nistp521",oid:"1.3.132.0.35",keySize:521}]},37842:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.EncryptionAlgorithm=void 0;m.EncryptionAlgorithm=class EncryptionAlgorithm{constructor(d){this.name=d}}},38087:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.HmacAlgorithm=void 0;m.HmacAlgorithm=class HmacAlgorithm{constructor(d,m,g,v){this.name=d,this.algorithmName=m,this.keyLength=g,this.digestLength=v}}},51406:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.KeyExchangeAlgorithm=void 0;m.KeyExchangeAlgorithm=class KeyExchangeAlgorithm{constructor(d,m,g,v){this.name=d,this.keySizeInBits=m,this.hashAlgorithmName=g,this.hashDigestLength=v}}},2586:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.Sec1KeyFormatter=m.Pkcs1KeyFormatter=m.parsePem=m.formatPem=void 0;const v=g(41075),y=g(76671),C=g(27874);m.formatPem=function formatPem(d,m){return`-----BEGIN ${m}-----\n`+d.toString("base64").match(/.{1,64}/g).join("\n")+"\n"+`-----END ${m}-----\n`},m.parsePem=function parsePem(d){const m=d.replace(/-+[^-\n]+KEY-+/g,"").replace(/\s/g,"");return Buffer.from(m,"base64")};m.Pkcs1KeyFormatter=class Pkcs1KeyFormatter{static formatRsaPublic(d){const m=new y.DerWriter(Buffer.alloc(1024));return m.writeInteger(d.modulus),m.writeInteger(d.exponent),m.toBuffer()}static formatRsaPrivate(d){if(!(d.d&&d.p&&d.q&&d.dp&&d.dq&&d.qi))throw new Error("Missing private key parameters.");const m=new y.DerWriter(Buffer.alloc(2048));return m.writeInteger(v.BigInt.fromInt32(0)),m.writeInteger(d.modulus),m.writeInteger(d.exponent),m.writeInteger(d.d),m.writeInteger(d.p),m.writeInteger(d.q),m.writeInteger(d.dp),m.writeInteger(d.dq),m.writeInteger(d.qi),m.toBuffer()}static parseRsaPublic(d){const m=new y.DerReader(d);return{modulus:m.readInteger(),exponent:m.readInteger()}}static parseRsaPrivate(d){const m=new y.DerReader(d);m.readInteger();return{modulus:m.readInteger(),exponent:m.readInteger(),d:m.readInteger(),p:m.readInteger(),q:m.readInteger(),dp:m.readInteger(),dq:m.readInteger(),qi:m.readInteger()}}};class Sec1KeyFormatter{static formatECPublic(d){const m=C.curves.find((m=>m.oid===d.curve.oid)),g=Math.ceil(m.keySize/8),v=new y.DerWriter(Buffer.alloc(512)),_=new y.DerWriter(Buffer.alloc(100));_.writeObjectIdentifier(Sec1KeyFormatter.ecPublicKeyOid),_.writeObjectIdentifier(d.curve.oid),v.writeSequence(_);const T=d.x.toBytes({unsigned:!0,length:g}),b=d.y.toBytes({unsigned:!0,length:g}),A=Buffer.alloc(1+T.length+b.length);return A[0]=4,T.copy(A,1),b.copy(A,1+T.length),v.writeBitString(A),v.toBuffer()}static formatECPrivate(d){const m=C.curves.find((m=>m.oid===d.curve.oid)),g=Math.ceil(m.keySize/8),_=new y.DerWriter(Buffer.alloc(512));_.writeInteger(v.BigInt.fromInt32(1)),_.writeOctetString(d.d.toBytes({unsigned:!0,length:g}));const T=new y.DerWriter(Buffer.alloc(100));T.writeObjectIdentifier(d.curve.oid),_.writeTagged(0,T);const b=d.x.toBytes({unsigned:!0,length:g}),A=d.y.toBytes({unsigned:!0,length:g}),P=Buffer.alloc(1+b.length+A.length);P[0]=4,b.copy(P,1),A.copy(P,1+b.length);const R=new y.DerWriter(Buffer.alloc(512));return R.writeBitString(P),_.writeTagged(1,R),_.toBuffer()}static parseECPublic(d){var m;const g=new y.DerReader(d),_=g.readSequence(),T=_.readObjectIdentifier();if(T!==Sec1KeyFormatter.ecPublicKeyOid)throw new Error(`Unexpected key type OID: ${T}`);const b=_.readObjectIdentifier(),A=null===(m=C.curves.find((d=>d.oid===b)))||void 0===m?void 0:m.name,P=g.readBitString();if(P.length%2!=1)throw new Error(`Unexpected key data length: ${P.length}`);const R=v.BigInt.fromBytes(P.slice(1,1+(P.length-1)/2),{unsigned:!0}),k=v.BigInt.fromBytes(P.slice(1+(P.length-1)/2),{unsigned:!0});return{curve:{name:A,oid:b},x:R,y:k}}static parseECPrivate(d){var m;const g=new y.DerReader(d),_=g.readInteger().toInt32();if(1!==_)throw new Error(`Unsupported SEC1 format version: ${_}`);const T=v.BigInt.fromBytes(g.readOctetString(),{unsigned:!0}),b=g.tryReadTagged(0);if(!b)throw new Error("SEC1 curve info not found.");const A=b.readObjectIdentifier(),P=null===(m=C.curves.find((d=>d.oid===A)))||void 0===m?void 0:m.name,R=g.tryReadTagged(1);if(!R)throw new Error("SEC1 public key data not found.");const k=R.readBitString();if(k.length%2!=1)throw new Error(`Unexpected key data length: ${k.length}`);const M=v.BigInt.fromBytes(k.slice(1,1+(k.length-1)/2),{unsigned:!0}),I=v.BigInt.fromBytes(k.slice(1+(k.length-1)/2),{unsigned:!0});return{curve:{name:P,oid:A},x:M,y:I,d:T}}}m.Sec1KeyFormatter=Sec1KeyFormatter,Sec1KeyFormatter.ecPublicKeyOid="1.2.840.10045.2.1"},86144:(d,m,g)=>{"use strict";m.b=void 0;const v=g(6113),y=g(14300),C=g(41540),_=g(27874),T=g(41075),b=g(76671),A=g(74837),P=g(2586),R=process.versions.node.split(".").map((d=>parseInt(d,10))),k=R[0]>10||10===R[0]&&R[1]>=12,M=R[0]>11||11===R[0]&&R[1]>=6;class NodeECDsaKeyPair{constructor(d){this.comment=null,d&&(this.algorithmName=d)}get hasPublicKey(){return!!this.publicKey}get hasPrivateKey(){return!!this.privateKey}get keyAlgorithmName(){return this.algorithmName}get algorithmName(){return this.algorithm}set algorithmName(d){const m=d.split("-")[2];if(this.curve=_.curves.find((d=>d.name===m)),!this.curve)throw new Error("Invalid or unsupported ECDSA algorithm: "+d);this.algorithm=d}generate(){return k&&M?this.generateNodeKeyPairObjects():k?this.generateNodeKeyPairBuffers():this.generateExternalKeyPair()}async generateNodeKeyPairObjects(){[this.publicKey,this.privateKey]=await new Promise(((d,m)=>{const g={namedCurve:this.curve.shortName};try{v.generateKeyPair("ec",g,((g,v,y)=>{g?m(g):d([v,y])}))}catch(d){m(d)}}))}async generateNodeKeyPairBuffers(){[this.publicKey,this.privateKey]=await new Promise(((d,m)=>{const g={namedCurve:this.curve.shortName,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"sec1",format:"pem",cipher:void 0,passphrase:void 0}};try{v.generateKeyPair("ec",g,((g,v,y)=>{g?m(g):d([v,y])}))}catch(d){m(d)}}))}async generateExternalKeyPair(){throw new Error("This version of node does not support generating key pairs. Use node >= 10.12.")}async setPublicKeyBytes(d,m){if(!d)throw new TypeError("Buffer is required.");const g=new A.SshDataReader(d),y=g.readString("ascii");this.algorithmName=m||y;const C=g.readString("ascii");this.algorithmName=`ecdsa-sha2-${C}`;const _=g.readBinary(),b=T.BigInt.fromBytes(_.slice(1,1+(_.length-1)/2),{unsigned:!0}),R=T.BigInt.fromBytes(_.slice(1+(_.length-1)/2),{unsigned:!0}),k=P.Sec1KeyFormatter.formatECPublic({curve:{name:this.curve.name,oid:this.curve.oid},x:b,y:R});this.publicKey=M?v.createPublicKey({key:k,type:"spki",format:"der"}):(0,P.formatPem)(k,"PUBLIC KEY")}async getPublicKeyBytes(d){if(!this.publicKey)return null;let m;m="string"==typeof this.publicKey?(0,P.parsePem)(this.publicKey):this.publicKey.export({type:"spki",format:"der"});const g=P.Sec1KeyFormatter.parseECPublic(m);d=d||this.algorithmName||this.keyAlgorithmName;const v=new A.SshDataWriter(y.Buffer.alloc(512));v.writeString(d,"ascii"),v.writeString(this.curve.name,"ascii");const C=Math.ceil(this.curve.keySize/8),_=g.x.toBytes({unsigned:!0,length:C}),T=g.y.toBytes({unsigned:!0,length:C});v.writeUInt32(1+_.length+T.length),v.writeByte(4),v.write(_),v.write(T);return v.toBuffer()}async importParameters(d){if(!d.curve)throw new TypeError("A curve is required.");let m;if(d.curve.oid){if(m=_.curves.find((m=>m.oid===d.curve.oid)),!m)throw new Error(`Unsupported curve OID: ${d.curve.oid}`)}else{if(!d.curve.name)throw new TypeError("A curve OID or name is required.");if(m=_.curves.find((m=>m.name===d.curve.name)),!m)throw new Error(`Unsupported curve: ${d.curve.name}`)}this.algorithmName="ecdsa-sha2-"+m.name;const g=P.Sec1KeyFormatter.formatECPublic(d);if(this.publicKey=M?v.createPublicKey({key:g,type:"spki",format:"der"}):(0,P.formatPem)(g,"EC PUBLIC KEY"),d.d){const m=P.Sec1KeyFormatter.formatECPrivate(d);this.privateKey=M?v.createPrivateKey({key:m,type:"sec1",format:"der"}):(0,P.formatPem)(m,"EC PRIVATE KEY")}else this.privateKey=void 0}async exportParameters(){var d,m;if(!this.publicKey)throw new Error("Key is not present.");let g;return g="string"==typeof this.publicKey?(0,P.parsePem)(null!==(d=this.privateKey)&&void 0!==d?d:this.publicKey):(null!==(m=this.privateKey)&&void 0!==m?m:this.publicKey).export({type:this.privateKey?"sec1":"spki",format:"der"}),this.privateKey?P.Sec1KeyFormatter.parseECPrivate(g):P.Sec1KeyFormatter.parseECPublic(g)}dispose(){}}class NodeECDsa extends C.PublicKeyAlgorithm{constructor(d,m){super(d,d,m)}createKeyPair(){return new NodeECDsaKeyPair(this.name)}async generateKeyPair(){const d=new NodeECDsaKeyPair(this.name);return await d.generate(),d}createSigner(d){if(!(d instanceof NodeECDsaKeyPair))throw new TypeError("ECDSA key pair object expected.");return new NodeECDsaSignerVerifier(d,NodeECDsa.convertHashAlgorithmName(this.hashAlgorithmName))}createVerifier(d){if(!(d instanceof NodeECDsaKeyPair))throw new TypeError("ECDSA key pair object expected.");return new NodeECDsaSignerVerifier(d,NodeECDsa.convertHashAlgorithmName(this.hashAlgorithmName))}static convertHashAlgorithmName(d){return d.replace("SHA2-","SHA")}static getSignatureLength(d){return 2*(5+Math.ceil(d/8))}}m.b=NodeECDsa,NodeECDsa.ecdsaSha2Nistp256="ecdsa-sha2-nistp256",NodeECDsa.ecdsaSha2Nistp384="ecdsa-sha2-nistp384",NodeECDsa.ecdsaSha2Nistp521="ecdsa-sha2-nistp521",NodeECDsa.curves=_.curves,NodeECDsa.KeyPair=NodeECDsaKeyPair;class NodeECDsaSignerVerifier{constructor(d,m){this.keyPair=d,this.hashAlgorithmName=m}get digestLength(){const d=this.keyPair.curve;return d?NodeECDsa.getSignatureLength(d.keySize):0}async sign(d){if(!this.keyPair.privateKey)throw new Error("Private key not set.");const m=v.createSign(this.hashAlgorithmName);m.update(d);let g=m.sign(this.keyPair.privateKey);const C=new b.DerReader(g),_=C.readInteger(),T=C.readInteger(),P=Math.ceil(this.keyPair.curve.keySize/8),R=new A.SshDataWriter(y.Buffer.alloc(this.digestLength));return R.writeBinary(_.toBytes({unsigned:!0,length:P+1})),R.writeBinary(T.toBytes({unsigned:!0,length:P+1})),g=R.toBuffer(),g}async verify(d,m){if(!this.keyPair.publicKey)throw new Error("Public key not set.");const g=new A.SshDataReader(m),C=g.readBigInt(),_=g.readBigInt(),T=new b.DerWriter(y.Buffer.alloc(m.length));T.writeInteger(C),T.writeInteger(_),m=T.toBuffer();const P=v.createVerify(this.hashAlgorithmName);P.update(d);return P.verify(this.keyPair.publicKey,m)}dispose(){}}},21459:(d,m,g)=>{"use strict";m.r=void 0;const v=g(6113),y=g(14300),C=g(37842);class NodeEncryption extends C.EncryptionAlgorithm{constructor(d,m,g,v){if(super(d),this.algorithmName=m,this.cipherMode=g,this.keySizeInBits=v,"AES"!==m)throw new Error(`Unsupported encryption algorithm: ${m}`);this.blockSizeInBits=NodeEncryption.getBlockSize(m)}get keyLength(){return this.keySizeInBits/8}get blockLength(){return this.blockSizeInBits/8}async createCipher(d,m,g){let v;if("CTR"===this.cipherMode||"CBC"===this.cipherMode)v=new NodeAesCipher(d,this.keySizeInBits,this.blockSizeInBits,m,g,this.cipherMode);else{if("GCM"!==this.cipherMode)throw new Error(`Unsupported cipher mode: ${this.cipherMode}`);v=new NodeAesGcmCipher(d,this.keySizeInBits,this.blockSizeInBits,m,g)}return v}static getBlockSize(d){if("AES"===d)return 128;throw new Error(`Unsupported encryption algorithm: ${d}`)}}m.r=NodeEncryption;class NodeAesCipher{constructor(d,m,g,y,C,_){this.isEncryption=d,this.keySizeInBits=m,this.blockSizeInBits=g;const T=`AES-${this.keySizeInBits}-${_}`;this.cipher=this.isEncryption?v.createCipheriv(T,y,C):v.createDecipheriv(T,y,C),this.cipher.setAutoPadding(!1)}get blockLength(){return this.blockSizeInBits/8}transform(d){const m=this.cipher.update(d);if(m.length!==d.length){const g=`Result from encrypt/decrypt has invalid length ${m.length}, expected ${d.length}.`;throw new Error(g)}return Promise.resolve(m)}dispose(){}}class NodeAesGcmCipher{constructor(d,m,g,v,C){this.isEncryption=d,this.keySizeInBits=m,this.blockSizeInBits=g,this.tag=null,this.algorithmName=`aes-${this.keySizeInBits}-gcm`,this.key=y.Buffer.alloc(v.length),v.copy(this.key),this.nonce=y.Buffer.alloc(12),C.copy(this.nonce,0,0,12),this.associatedData=y.Buffer.alloc(4)}get blockLength(){return this.blockSizeInBits/8}get digestLength(){return 16}get authenticatedEncryption(){return!0}transform(d){if(d.length%this.blockLength!=0){const m=`Encrypt/decrypt input has invalid length ${d.length}, not a multiple of block size ${this.blockLength}.`;throw new Error(m)}const m=this.isEncryption?v.createCipheriv(this.algorithmName,this.key,this.nonce):v.createDecipheriv(this.algorithmName,this.key,this.nonce),g=d.length;if(this.associatedData[0]=g>>>24,this.associatedData[1]=g>>>16,this.associatedData[2]=g>>>8,this.associatedData[3]=g,m.setAAD(this.associatedData),!this.isEncryption){if(!this.tag)throw new Error("AES-GCM tag was not set before decrypting.");m.setAuthTag(this.tag)}const y=m.update(d);if(y.length!==d.length){const m=`Result from encrypt/decrypt has invalid length ${y.length}, expected ${d.length}.`;throw new Error(m)}m.final(),this.isEncryption?this.tag=m.getAuthTag():this.tag=null;let C=12;for(;--C>=4&&(this.nonce[C]++,0===this.nonce[C]););return Promise.resolve(y)}async sign(d){if(!this.tag)throw new Error("AES-GCM tag was not obtained by encrypting.");return this.tag}async verify(d,m){if(m.length!==this.digestLength)throw new Error("Incorrect AES-GCM tag length.");return this.tag=m,!0}dispose(){}}},3551:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.NodeHmac=void 0;const v=g(6113),y=g(14300),C=g(38087);class NodeHmac extends C.HmacAlgorithm{constructor(d,m,g=!1){super(d,m,NodeHmac.getHashKeyLength(m),NodeHmac.getHashDigestLength(m)),this.encryptThenMac=g}async createSigner(d){return new NodeSignerVerifier(NodeHmac.getNodeHashAlgorithmName(this.algorithmName),this.digestLength,this.encryptThenMac,d)}async createVerifier(d){return new NodeSignerVerifier(NodeHmac.getNodeHashAlgorithmName(this.algorithmName),this.digestLength,this.encryptThenMac,d)}static getHashKeyLength(d){if("SHA2-512"===d)return 64;if("SHA2-384"===d)return 48;if("SHA2-256"===d)return 32;throw new Error(`Unsupported hash algorithm: ${d}`)}static getHashDigestLength(d){return this.getHashKeyLength(d)}static getNodeHashAlgorithmName(d){if("SHA2-512"===d)return"sha512";if("SHA2-384"===d)return"sha384";if("SHA2-256"===d)return"sha256";throw new Error(`Unsupported hash algorithm: ${d}`)}}m.NodeHmac=NodeHmac;class NodeSignerVerifier{constructor(d,m,g,C){this.algorithmName=d,this.digestLength=m,this.encryptThenMac=g,this.key=v.createSecretKey?v.createSecretKey(C):y.Buffer.from(C)}async sign(d){const m=v.createHmac(this.algorithmName,this.key);m.update(d);return m.digest()}async verify(d,m){const g=v.createHmac(this.algorithmName,this.key);g.update(d);return g.digest().equals(m)}dispose(){}}},32987:(d,m,g)=>{"use strict";m.th=m.yk=void 0;const v=g(6113),y=g(14300),C=g(51406),_=g(3551),T=g(41075);class NodeDiffieHellman extends C.KeyExchangeAlgorithm{constructor(d,m,g){super(d,m,g,_.NodeHmac.getHashDigestLength(g))}createKeyExchange(){return new NodeDiffieHellmanKex(this.keySizeInBits,_.NodeHmac.getNodeHashAlgorithmName(this.hashAlgorithmName),this.hashDigestLength)}}m.yk=NodeDiffieHellman;class NodeDiffieHellmanKex{constructor(d,m,g){switch(this.hashAlgorithmName=m,this.digestLength=g,d){case 1024:this.dh=v.getDiffieHellman("modp2");break;case 2048:this.dh=v.getDiffieHellman("modp14");break;case 4096:this.dh=v.getDiffieHellman("modp16");break;default:throw new Error("Invalid DH bit length.")}}startKeyExchange(){const d=this.dh.generateKeys(),m=T.BigInt.fromBytes(d,{unsigned:!0}).toBytes();return Promise.resolve(m)}decryptKeyExchange(d){const m=this.dh.computeSecret(d),g=T.BigInt.fromBytes(m,{unsigned:!0}).toBytes();return Promise.resolve(g)}async sign(d){const m=v.createHash(this.hashAlgorithmName);return m.update(d),y.Buffer.from(m.digest())}dispose(){}}class NodeECDiffieHellman extends C.KeyExchangeAlgorithm{constructor(d,m,g){super(d,m,g,_.NodeHmac.getHashDigestLength(g))}createKeyExchange(){return new NodeECDiffieHellmanKex(this.keySizeInBits,_.NodeHmac.getNodeHashAlgorithmName(this.hashAlgorithmName),this.hashDigestLength)}}m.th=NodeECDiffieHellman;class NodeECDiffieHellmanKex{constructor(d,m,g){switch(this.hashAlgorithmName=m,this.digestLength=g,d){case 256:this.ecdh=v.createECDH("prime256v1");break;case 384:this.ecdh=v.createECDH("secp384r1");break;case 521:this.ecdh=v.createECDH("secp521r1");break;default:throw new Error("Invalid ECDH bit length.")}}startKeyExchange(){const d=this.ecdh.generateKeys();return Promise.resolve(d)}decryptKeyExchange(d){const m=this.ecdh.computeSecret(d),g=T.BigInt.fromBytes(m,{unsigned:!0}).toBytes();return Promise.resolve(g)}async sign(d){const m=v.createHash(this.hashAlgorithmName);return m.update(d),y.Buffer.from(m.digest())}dispose(){}}},84409:(d,m,g)=>{"use strict";m.e=void 0;const v=g(6113);m.e=class NodeRandom{getBytes(d){v.randomBytes(d.length).copy(d)}}},8698:(d,m,g)=>{"use strict";m.G=void 0;const v=g(6113),y=g(14300),C=g(41540),_=g(74837),T=g(3551),b=g(2586),A=process.versions.node.split(".").map((d=>parseInt(d,10))),P=A[0]>10||10===A[0]&&A[1]>=12,R=A[0]>11||11===A[0]&&A[1]>=6;class NodeRsaKeyPair{constructor(){this.comment=null}get hasPublicKey(){return!!this.publicKey}get hasPrivateKey(){return!!this.privateKey}get keyAlgorithmName(){return NodeRsa.keyAlgorithmName}generate(d){return d=null!=d?d:NodeRsaKeyPair.defaultKeySize,P&&R?this.generateNodeKeyPairObjects(d):P?this.generateNodeKeyPairBuffers(d):this.generateExternalKeyPair(d)}async generateNodeKeyPairObjects(d){[this.publicKey,this.privateKey]=await new Promise(((m,g)=>{const y={modulusLength:d};try{v.generateKeyPair("rsa",y,((d,v,y)=>{d?g(d):m([v,y])}))}catch(d){g(d)}}))}async generateNodeKeyPairBuffers(d){[this.publicKey,this.privateKey]=await new Promise(((m,g)=>{const y={modulusLength:d,publicKeyEncoding:{type:"pkcs1",format:"pem"},privateKeyEncoding:{type:"pkcs1",format:"pem",cipher:void 0,passphrase:void 0}};try{v.generateKeyPair("rsa",y,((d,v,y)=>{d?g(d):m([v,y])}))}catch(d){g(d)}}))}async generateExternalKeyPair(d){const m=new(await Promise.resolve().then((()=>g(22305))))({b:d});this.publicKey=m.exportKey("pkcs1-public-pem"),this.privateKey=m.exportKey("pkcs1-private-pem"),this.publicKey.endsWith("\n")||(this.publicKey+="\n"),this.privateKey.endsWith("\n")||(this.privateKey+="\n")}async setPublicKeyBytes(d){if(!d)throw new TypeError("Buffer is required.");const m=new _.SshDataReader(d),g=m.readString("ascii");if(g!==this.keyAlgorithmName&&g!==NodeRsa.rsaWithSha256&&g!==NodeRsa.rsaWithSha512)throw new Error(`Invalid RSA key algorithm: ${g}`);const y=m.readBigInt(),C=m.readBigInt();d=b.Pkcs1KeyFormatter.formatRsaPublic({modulus:C,exponent:y}),this.publicKey=R?v.createPublicKey({key:d,type:"pkcs1",format:"der"}):(0,b.formatPem)(d,"RSA PUBLIC KEY")}async getPublicKeyBytes(d){if(!this.publicKey)return null;let m;d||(d=this.keyAlgorithmName),m="string"==typeof this.publicKey?(0,b.parsePem)(this.publicKey):this.publicKey.export({type:"pkcs1",format:"der"});const g=b.Pkcs1KeyFormatter.parseRsaPublic(m),v=y.Buffer.alloc(512),C=new _.SshDataWriter(v);return C.writeString(d,"ascii"),C.writeBigInt(g.exponent),C.writeBigInt(g.modulus),m=C.toBuffer(),m}async importParameters(d){if(R)this.publicKey=v.createPublicKey({key:b.Pkcs1KeyFormatter.formatRsaPublic(d),format:"der",type:"pkcs1"}),d.d?this.privateKey=v.createPrivateKey({key:b.Pkcs1KeyFormatter.formatRsaPrivate(d),format:"der",type:"pkcs1"}):this.privateKey=void 0;else{const m=b.Pkcs1KeyFormatter.formatRsaPublic(d);if(this.publicKey=(0,b.formatPem)(m,"RSA PUBLIC KEY"),d.d){const m=b.Pkcs1KeyFormatter.formatRsaPrivate(d);this.privateKey=(0,b.formatPem)(m,"RSA PRIVATE KEY")}}}async exportParameters(){var d,m;if(!this.publicKey)throw new Error("Public key not set.");let g;return g=R?(null!==(d=this.privateKey)&&void 0!==d?d:this.publicKey).export({format:"der",type:"pkcs1"}):(0,b.parsePem)(null!==(m=this.privateKey)&&void 0!==m?m:this.publicKey),this.privateKey?b.Pkcs1KeyFormatter.parseRsaPrivate(g):b.Pkcs1KeyFormatter.parseRsaPublic(g)}dispose(){this.publicKey=void 0,this.privateKey=void 0}}NodeRsaKeyPair.defaultKeySize=2048;class NodeRsa extends C.PublicKeyAlgorithm{constructor(d,m){super(d,NodeRsa.keyAlgorithmName,m)}createKeyPair(){return new NodeRsaKeyPair}async generateKeyPair(d){const m=new NodeRsaKeyPair;return await m.generate(d),m}createSigner(d){if(!(d instanceof NodeRsaKeyPair))throw new TypeError("RSA key pair object expected.");return new NodeRsaSignerVerifier(d,NodeRsa.convertHashAlgorithmName(this.hashAlgorithmName),T.NodeHmac.getHashDigestLength(this.hashAlgorithmName))}createVerifier(d){if(!(d instanceof NodeRsaKeyPair))throw new TypeError("RSA key pair object expected.");return new NodeRsaSignerVerifier(d,NodeRsa.convertHashAlgorithmName(this.hashAlgorithmName),T.NodeHmac.getHashDigestLength(this.hashAlgorithmName))}static convertHashAlgorithmName(d){return d.replace("SHA2-","SHA")}}m.G=NodeRsa,NodeRsa.keyAlgorithmName="ssh-rsa",NodeRsa.rsaWithSha256="rsa-sha2-256",NodeRsa.rsaWithSha512="rsa-sha2-512",NodeRsa.KeyPair=NodeRsaKeyPair;class NodeRsaSignerVerifier{constructor(d,m,g){this.keyPair=d,this.hashAlgorithmName=m,this.digestLength=g}async sign(d){if(!this.keyPair.privateKey)throw new Error("Private key not set.");const m=v.createSign(this.hashAlgorithmName);m.update(d);return m.sign(this.keyPair.privateKey)}async verify(d,m){if(!this.keyPair.publicKey)throw new Error("Public key not set.");const g=v.createVerify(this.hashAlgorithmName);g.update(d);return g.verify(this.keyPair.publicKey,m)}dispose(){}}},41540:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.PublicKeyAlgorithm=void 0;const v=g(14300),y=g(74837);m.PublicKeyAlgorithm=class PublicKeyAlgorithm{constructor(d,m,g){this.name=d,this.keyAlgorithmName=m,this.hashAlgorithmName=g}readSignatureData(d){const m=new y.SshDataReader(d),g=m.readString("ascii");if(g!==this.name)throw new Error(`Mismatched public key algorithm: got '${g}', expected '${this.name}'.`);return m.readBinary()}createSignatureData(d){const m=new y.SshDataWriter(v.Buffer.alloc(this.name.length+d.length+20));return m.writeString(this.name,"ascii"),m.writeBinary(d),m.toBuffer()}}},3120:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.algorithmNames=m.SshAlgorithms=m.Encryption=m.ECDsa=m.Rsa=m.HmacAlgorithm=m.EncryptionAlgorithm=m.PublicKeyAlgorithm=m.KeyExchangeAlgorithm=void 0;const v=g(51406);Object.defineProperty(m,"KeyExchangeAlgorithm",{enumerable:!0,get:function(){return v.KeyExchangeAlgorithm}});const y=g(41540);Object.defineProperty(m,"PublicKeyAlgorithm",{enumerable:!0,get:function(){return y.PublicKeyAlgorithm}});const C=g(37842);Object.defineProperty(m,"EncryptionAlgorithm",{enumerable:!0,get:function(){return C.EncryptionAlgorithm}});const _=g(38087);Object.defineProperty(m,"HmacAlgorithm",{enumerable:!0,get:function(){return _.HmacAlgorithm}});const T=!("object"!=typeof crypto||!crypto.subtle),b=g(84478),A=g(85187),P=g(2887),R=g(71488),k=g(74900),M=g(25023),I=T?b.WebDiffieHellman:g(32987).yk,O=T?b.WebECDiffieHellman:g(32987).th,x=T?A.WebRsa:g(8698).G;m.Rsa=x;const L=T?P.WebECDsa:g(86144).b;m.ECDsa=L;const U=T?R.WebEncryption:g(21459).r;m.Encryption=U;const j=T?k.WebHmac:g(3551).NodeHmac,B=T?M.WebRandom:g(84409).e;class SshAlgorithms{}m.SshAlgorithms=SshAlgorithms,SshAlgorithms.keyExchange={none:null,dhGroup14Sha256:new I("diffie-hellman-group14-sha256",2048,"SHA2-256"),dhGroup16Sha512:new I("diffie-hellman-group16-sha512",4096,"SHA2-512"),ecdhNistp256Sha256:new O("ecdh-sha2-nistp256",256,"SHA2-256"),ecdhNistp384Sha384:new O("ecdh-sha2-nistp384",384,"SHA2-384"),ecdhNistp521Sha512:new O("ecdh-sha2-nistp521",521,"SHA2-512")},SshAlgorithms.publicKey={none:null,rsaWithSha256:new x("rsa-sha2-256","SHA2-256"),rsaWithSha512:new x("rsa-sha2-512","SHA2-512"),ecdsaSha2Nistp256:new L("ecdsa-sha2-nistp256","SHA2-256"),ecdsaSha2Nistp384:new L("ecdsa-sha2-nistp384","SHA2-384"),ecdsaSha2Nistp521:new L("ecdsa-sha2-nistp521","SHA2-512")},SshAlgorithms.encryption={none:null,aes256Ctr:new U("aes256-ctr","AES","CTR",256),aes256Gcm:new U("aes256-gcm@openssh.com","AES","GCM",256)},SshAlgorithms.hmac={none:null,hmacSha256:new j("hmac-sha2-256","SHA2-256"),hmacSha512:new j("hmac-sha2-512","SHA2-512"),hmacSha256Etm:new j("hmac-sha2-256-etm@openssh.com","SHA2-256",!0),hmacSha512Etm:new j("hmac-sha2-512-etm@openssh.com","SHA2-512",!0)},SshAlgorithms.compression={none:null},SshAlgorithms.random=new B,m.algorithmNames=function algorithmNames(d){return d.map((d=>d?d.name:"none"))}},40391:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.JsonWebKeyFormatter=void 0;const v=g(41075),y=g(27874);class JsonWebKeyFormatter{static formatRsa(d,m){const g=JsonWebKeyFormatter.formatBigInt;let v;if(!1!==m&&d.d&&d.p&&d.q&&d.dp&&d.dq&&d.qi)v={kty:"RSA",n:g(d.modulus),e:g(d.exponent),d:g(d.d),p:g(d.p),q:g(d.q),dp:g(d.dp),dq:g(d.dq),qi:g(d.qi)};else{if(m)throw new Error("Missing private key parameters.");v={kty:"RSA",n:g(d.modulus),e:g(d.exponent)}}return v}static parseRsa(d,m){if("RSA"!==(null==d?void 0:d.kty)||!d.n||!d.e)throw new Error("Invalid RSA JWK.");const g=JsonWebKeyFormatter.parseBigInt;let v;return v=!1!==m&&d.d&&d.p&&d.q&&d.dp&&d.dq&&d.qi?{modulus:g(d.n),exponent:g(d.e),d:g(d.d),p:g(d.p),q:g(d.q),dp:g(d.dp),dq:g(d.dq),qi:g(d.qi)}:{modulus:g(d.n),exponent:g(d.e)},v}static formatEC(d,m){const g=JsonWebKeyFormatter.formatBigInt,v=y.curves.find((m=>m.oid===d.curve.oid||m.name===d.curve.name||m.shortName===d.curve.name)),C=Math.ceil(v.keySize/8),_={kty:"EC",crv:d.curve.name,x:g(d.x,C),y:g(d.y,C)};if(!1!==m&&d.d)_.d=g(d.d,C);else if(m)throw new Error("Missing private key parameters.");return _}static parseEC(d,m){if("EC"!==(null==d?void 0:d.kty)||!(d.crv&&d.x&&d.y))throw new Error("Invalid EC JWK.");const g=JsonWebKeyFormatter.parseBigInt,v={curve:{name:d.crv},x:g(d.x),y:g(d.y)};return!1!==m&&d.d&&(v.d=g(d.d)),v}static formatBigInt(d,m){return JsonWebKeyFormatter.base64UrlEncode(d.toBytes({unsigned:!0,length:m}))}static parseBigInt(d){return v.BigInt.fromBytes(Buffer.from(d,"base64"),{unsigned:!0})}static base64UrlEncode(d){return d.toString("base64").replace(/=+$/g,"").replace(/\+/g,"-").replace(/\//g,"_")}}m.JsonWebKeyFormatter=JsonWebKeyFormatter},2887:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.WebECDsa=void 0;const v=g(14300),y=g(41540),C=g(74837),_=g(27874),T=g(41075),b=g(40391);class WebECDsaKeyPair{constructor(d){this.comment=null,d&&(this.algorithmName=d)}get hasPublicKey(){return!!this.publicKey}get hasPrivateKey(){return!!this.privateKey}get keyAlgorithmName(){return this.algorithmName}get algorithmName(){return this.algorithm}set algorithmName(d){const m=d.split("-")[2];if(this.curve=_.curves.find((d=>d.name===m)),!this.curve)throw new Error("Invalid or unsupported ECDSA algorithm: "+d);this.algorithm=d}async generate(){try{const d={name:"ECDSA",namedCurve:this.curve.shortName},m=await crypto.subtle.generateKey(d,!0,["sign","verify"]);this.publicKey=m.publicKey,this.privateKey=m.privateKey}catch(d){throw new Error("Failed to generate RSA key pair: "+d)}}async setPublicKeyBytes(d,m){if(!d)throw new TypeError("Buffer is required.");const g=new C.SshDataReader(d),v=g.readString("ascii");this.algorithmName=m||v;if(g.readString("ascii")!==this.curve.name)throw new Error("EC curve name does not match.");const y=g.readBinary(),_=Math.ceil(this.curve.keySize/8),A=T.BigInt.fromBytes(y.slice(1,1+_),{unsigned:!0}),P=T.BigInt.fromBytes(y.slice(1+_,y.length),{unsigned:!0}),R=b.JsonWebKeyFormatter.formatEC({curve:{name:this.curve.shortName,oid:this.curve.oid},x:A,y:P});try{const d={name:"ECDSA",namedCurve:this.curve.shortName};this.publicKey=await crypto.subtle.importKey("jwk",R,d,!0,["verify"])}catch(d){throw new Error("Failed to import EC public key: "+d)}}async getPublicKeyBytes(d){if(!this.publicKey)return null;let m;try{m=await crypto.subtle.exportKey("jwk",this.publicKey)}catch(d){throw new Error("Failed to export ECDSA public key: "+d)}const g=v.Buffer.from(m.x,"base64"),y=v.Buffer.from(m.y,"base64"),_=Math.ceil(this.curve.keySize/8);if(g.length!==_||y.length!==_)throw new Error("Unexpected key length.");d=d||this.algorithmName||this.keyAlgorithmName;const T=v.Buffer.alloc(d.length+g.length+y.length+10),b=new C.SshDataWriter(T);b.writeString(d,"ascii"),b.writeString(this.curve.name,"ascii"),b.writeUInt32(1+g.length+y.length),b.writeByte(4),b.write(g),b.write(y);return b.toBuffer()}async importParameters(d){if(!d.curve)throw new TypeError("A curve is required.");let m;if(d.curve.oid){if(m=_.curves.find((m=>m.oid===d.curve.oid)),!m)throw new Error(`Unsupported curve OID: ${d.curve.oid}`)}else{if(!d.curve.name)throw new TypeError("A curve OID or name is required.");if(m=_.curves.find((m=>m.name===d.curve.name)),!m)throw new Error(`Unsupported curve: ${d.curve.name}`)}this.algorithmName="ecdsa-sha2-"+m.name;const g={name:"ECDSA",namedCurve:this.curve.shortName},v=b.JsonWebKeyFormatter.formatEC(d);v.crv=this.curve.shortName;try{v.d?(this.privateKey=await crypto.subtle.importKey("jwk",v,g,!0,["sign"]),v.d=void 0):this.privateKey=void 0,this.publicKey=await crypto.subtle.importKey("jwk",v,g,!0,["verify"])}catch(d){throw new Error("Failed to import ECDSA key pair: "+d)}}async exportParameters(){var d;const m=null!==(d=this.privateKey)&&void 0!==d?d:this.publicKey;if(!m)throw new Error("Key not present.");let g;try{g=await crypto.subtle.exportKey("jwk",m)}catch(d){throw new Error("Failed to export ECDSA key pair: "+d)}const v=b.JsonWebKeyFormatter.parseEC(g);return v.curve={name:this.curve.name,oid:this.curve.oid},v}dispose(){}}class WebECDsa extends y.PublicKeyAlgorithm{constructor(d,m){super(d,d,m)}createKeyPair(){return new WebECDsaKeyPair(this.name)}async generateKeyPair(){const d=new WebECDsaKeyPair(this.name);return await d.generate(),d}createSigner(d){if(!(d instanceof WebECDsaKeyPair))throw new TypeError("ECDSA key pair object expected.");const m=WebECDsa.convertHashAlgorithmName(this.hashAlgorithmName);return new WebECDsaSignerVerifier(d,m)}createVerifier(d){if(!(d instanceof WebECDsaKeyPair))throw new TypeError("ECDSA key pair object expected.");const m=WebECDsa.convertHashAlgorithmName(this.hashAlgorithmName);return new WebECDsaSignerVerifier(d,m)}static convertHashAlgorithmName(d){return d.replace("SHA2-","SHA-")}static getSignatureLength(d){return 2*(5+Math.ceil(d/8))}}m.WebECDsa=WebECDsa,WebECDsa.ecdsaSha2Nistp256="ecdsa-sha2-nistp256",WebECDsa.ecdsaSha2Nistp384="ecdsa-sha2-nistp384",WebECDsa.ecdsaSha2Nistp521="ecdsa-sha2-nistp521",WebECDsa.curves=_.curves,WebECDsa.KeyPair=WebECDsaKeyPair;class WebECDsaSignerVerifier{constructor(d,m){this.keyPair=d,this.hashAlgorithm=m}get digestLength(){const d=this.keyPair.curve;return d?WebECDsa.getSignatureLength(d.keySize):0}async sign(d){if(!this.keyPair.privateKey)throw new Error("Private key not set.");let m=v.Buffer.from(await crypto.subtle.sign({name:"ECDSA",hash:{name:this.hashAlgorithm}},this.keyPair.privateKey,d));const g=Math.ceil(this.keyPair.curve.keySize/8);if(m.length!==2*g)throw new Error(`Unexpected signature length: ${m.length}`);const y=T.BigInt.fromBytes(m.slice(0,g),{unsigned:!0}),_=T.BigInt.fromBytes(m.slice(g,m.length),{unsigned:!0}),b=new C.SshDataWriter(v.Buffer.alloc(this.digestLength));return b.writeBinary(y.toBytes({unsigned:!0,length:g+1})),b.writeBinary(_.toBytes({unsigned:!0,length:g+1})),m=b.toBuffer(),m}async verify(d,m){if(!this.keyPair.publicKey)throw new Error("Public key not set.");const g=new C.SshDataReader(m),y=g.readBigInt(),_=g.readBigInt(),T=Math.ceil(this.keyPair.curve.keySize/8);m=v.Buffer.alloc(2*T),y.toBytes({unsigned:!0,length:T}).copy(m,0),_.toBytes({unsigned:!0,length:T}).copy(m,T);return await crypto.subtle.verify({name:"ECDSA",hash:{name:this.hashAlgorithm}},this.keyPair.publicKey,m,d)}dispose(){}}},71488:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.WebEncryption=void 0;const v=g(14300),y=g(37842);class WebEncryption extends y.EncryptionAlgorithm{constructor(d,m,g,v){super(d),this.algorithmName=m,this.cipherMode=g,this.keySizeInBits=v,this.blockSizeInBits=WebEncryption.getBlockSize(m)}get keyLength(){return this.keySizeInBits/8}get blockLength(){return this.blockSizeInBits/8}async createCipher(d,m,g){const v=new WebCipher(d,this.algorithmName,this.cipherMode,this.keySizeInBits,this.blockSizeInBits);return await v.init(m,g),v}static getBlockSize(d){if("AES"===d)return 128;throw new Error(`Unsupported encryption algorithm: ${d}`)}}m.WebEncryption=WebEncryption;class WebCipher{get blockLength(){return this.blockSizeInBits/8}constructor(d,m,g,y,C){if(this.isEncryption=d,this.algorithmName=m,this.cipherMode=g,this.keySizeInBits=y,this.blockSizeInBits=C,this.tag=null,"AES"===this.algorithmName&&"CTR"===this.cipherMode)this.transform=this.aesCtr.bind(this,d);else if("AES"===this.algorithmName&&"CBC"===this.cipherMode)this.transform=this.aesCbc.bind(this,d);else{if("AES"!==this.algorithmName||"GCM"!==this.cipherMode)throw new Error(`Unsupported encryption algorithm: ${this.algorithmName}-${this.cipherMode}`);this.transform=this.aesGcm.bind(this,d),this.associatedData=v.Buffer.alloc(4),this.decryptBuffer=v.Buffer.alloc(4*this.blockLength)}}async init(d,m){try{const m=`${this.algorithmName}-${this.cipherMode}`;this.key=await crypto.subtle.importKey("raw",d,{name:m,length:this.keySizeInBits},!1,this.isEncryption?["encrypt"]:["decrypt"])}catch(d){throw new Error("Failed to initialize AES: "+d)}"GCM"===this.cipherMode?this.iv=v.Buffer.from(m.slice(0,12)):this.iv=v.Buffer.from(m)}async aesCtr(d,m){if(m.length%this.blockLength!=0){const d=`Encrypt/decrypt input has invalid length ${m.length}, not a multiple of block size ${this.blockLength}.`;throw new Error(d)}let g;if(g=d?v.Buffer.from(await crypto.subtle.encrypt({name:"AES-CTR",counter:this.iv,length:this.blockSizeInBits},this.key,m)):v.Buffer.from(await crypto.subtle.decrypt({name:"AES-CTR",counter:this.iv,length:this.blockSizeInBits},this.key,m)),g.length!==m.length){const d=`Result from encrypt/decrypt has invalid length ${g.length}, expected ${m.length}.`;throw new Error(d)}const y=m.length/this.blockLength;for(let d=0;d<y;d++)for(let d=this.iv.length-1;d>=0&&(this.iv[d]=this.iv[d]+1,!this.iv[d]);d--);return g}async aesCbc(d,m){if(d){let d=v.Buffer.from(await crypto.subtle.encrypt({name:"AES-CBC",iv:this.iv},this.key,m));return d=d.slice(0,m.length),d}return v.Buffer.from(await crypto.subtle.decrypt({name:"AES-CBC",iv:this.iv},this.key,m))}async aesGcm(d,m){if(m.length%this.blockLength!=0){const d=`Encrypt/decrypt input has invalid length ${m.length}, not a multiple of block size ${this.blockLength}.`;throw new Error(d)}const g=m.length;let y;if(this.associatedData[0]=g>>>24,this.associatedData[1]=g>>>16,this.associatedData[2]=g>>>8,this.associatedData[3]=g,d)y=v.Buffer.from(await crypto.subtle.encrypt({name:"AES-GCM",iv:this.iv,additionalData:this.associatedData,tagLength:8*this.digestLength},this.key,m)),this.tag=y.slice(y.length-this.digestLength),y=y.slice(0,y.length-this.digestLength);else{if(!this.tag)throw new Error("AES-GCM tag was not set before decrypting.");const d=m.length+this.digestLength;if(this.decryptBuffer.length<d){let m=2*this.decryptBuffer.length;for(;m<d;)m*=2;this.decryptBuffer=v.Buffer.alloc(m)}const g=this.decryptBuffer.slice(0,d);m.copy(g,0),this.tag.copy(g,m.length),y=v.Buffer.from(await crypto.subtle.decrypt({name:"AES-GCM",iv:this.iv,additionalData:this.associatedData,tagLength:8*this.digestLength},this.key,g))}if(y.length!==m.length){const d=`Result from encrypt/decrypt has invalid length ${y.length}, expected ${m.length}.`;throw new Error(d)}let C=12;for(;--C>=4&&(this.iv[C]++,0===this.iv[C]););return y}get digestLength(){return 16}get authenticatedEncryption(){return"GCM"===this.cipherMode}async sign(d){if(!this.tag)throw new Error("AES-GCM tag was not obtained by encrypting.");return this.tag}async verify(d,m){if(m.length!==this.digestLength)throw new Error("Incorrect AES-GCM tag length.");return this.tag=m,!0}dispose(){}}},74900:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.WebHmac=void 0;const v=g(14300),y=g(38087);class WebHmac extends y.HmacAlgorithm{constructor(d,m,g=!1){super(d,m,WebHmac.getHashKeyLength(m),WebHmac.getHashDigestLength(m)),this.encryptThenMac=g}async createSigner(d){const m=new WebSignerVerifier(this.algorithmName,!0,this.digestLength,this.encryptThenMac);return await m.init(d),m}async createVerifier(d){const m=new WebSignerVerifier(this.algorithmName,!1,this.digestLength,this.encryptThenMac);return await m.init(d),m}static getHashKeyLength(d){if("SHA2-512"===d)return 64;if("SHA2-384"===d)return 48;if("SHA2-256"===d)return 32;throw new Error(`Unsupported hash algorithm: ${d}`)}static getHashDigestLength(d){return this.getHashKeyLength(d)}static getWebHashAlgorithmName(d){if("SHA2-512"===d)return"SHA-512";if("SHA2-384"===d)return"SHA-384";if("SHA2-256"===d)return"SHA-256";throw new Error(`Unsupported hash algorithm: ${d}`)}}m.WebHmac=WebHmac;class WebSignerVerifier{constructor(d,m,g,v){this.algorithmName=d,this.isSigning=m,this.digestLength=g,this.encryptThenMac=v}async init(d){try{const m=this.algorithmName.replace("SHA2-","SHA-");this.key=await crypto.subtle.importKey("raw",d,{name:"HMAC",hash:{name:m}},!1,this.isSigning?["sign"]:["verify"])}catch(d){throw new Error("Failed to initialize HMAC: "+d)}}async sign(d){return v.Buffer.from(await crypto.subtle.sign({name:"HMAC",hash:{name:this.algorithmName}},this.key,d))}async verify(d,m){return await crypto.subtle.verify({name:"HMAC",hash:{name:this.algorithmName}},this.key,m,d)}dispose(){}}},84478:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.WebECDiffieHellman=m.WebDiffieHellman=void 0;const v=g(14300),y=g(69338),C=g(51406),_=g(74900),T=g(41075),b=g(40391);class WebDiffieHellman extends C.KeyExchangeAlgorithm{constructor(d,m,g){super(d,m,g,_.WebHmac.getHashDigestLength(g))}createKeyExchange(){return new WebDiffieHellmanKex(this.keySizeInBits,_.WebHmac.getWebHashAlgorithmName(this.hashAlgorithmName),this.hashDigestLength)}}m.WebDiffieHellman=WebDiffieHellman;class WebDiffieHellmanKex{constructor(d,m,g){switch(this.hashAlgorithmName=m,this.digestLength=g,d){case 1024:this.dh=(0,y.getDiffieHellman)("modp2");break;case 2048:this.dh=(0,y.getDiffieHellman)("modp14");break;case 4096:this.dh=(0,y.getDiffieHellman)("modp16");break;default:throw new Error("Invalid DH bit length.")}}startKeyExchange(){const d=this.dh.generateKeys(),m=T.BigInt.fromBytes(d,{unsigned:!0}).toBytes();return Promise.resolve(m)}decryptKeyExchange(d){const m=this.dh.computeSecret(d),g=T.BigInt.fromBytes(m,{unsigned:!0}).toBytes();return Promise.resolve(g)}async sign(d){const m=await crypto.subtle.digest(this.hashAlgorithmName,d);return v.Buffer.from(m)}dispose(){}}class WebECDiffieHellman extends C.KeyExchangeAlgorithm{constructor(d,m,g){super(d,m,g,_.WebHmac.getHashDigestLength(g))}createKeyExchange(){return new WebECDiffieHellmanKex(this.keySizeInBits,_.WebHmac.getWebHashAlgorithmName(this.hashAlgorithmName),this.hashDigestLength)}}m.WebECDiffieHellman=WebECDiffieHellman;class WebECDiffieHellmanKex{constructor(d,m,g){this.bitLength=d,this.hashAlgorithmName=m,this.digestLength=g,this.algorithm={name:"ECDH",namedCurve:"P-"+d}}async startKeyExchange(){this.keyPair||(this.keyPair=await crypto.subtle.generateKey(this.algorithm,!0,["deriveBits"]));const d=await crypto.subtle.exportKey("jwk",this.keyPair.publicKey),m=b.JsonWebKeyFormatter.parseEC(d),g=Math.ceil(this.bitLength/8),y=v.Buffer.alloc(1+2*g);return y[0]=4,m.x.toBytes({unsigned:!0,length:g}).copy(y,1),m.y.toBytes({unsigned:!0,length:g}).copy(y,1+g),v.Buffer.from(y)}async decryptKeyExchange(d){if(!this.keyPair)throw new Error("Key exchange not started.");const m=d,g=b.JsonWebKeyFormatter.formatEC({curve:{name:this.algorithm.namedCurve},x:T.BigInt.fromBytes(m.slice(1,1+(m.length-1)/2),{unsigned:!0}),y:T.BigInt.fromBytes(m.slice(1+(m.length-1)/2),{unsigned:!0})}),y=await crypto.subtle.importKey("jwk",g,this.algorithm,!1,[]),C=v.Buffer.from(await crypto.subtle.deriveBits(Object.assign(Object.assign({},this.algorithm),{public:y}),this.keyPair.privateKey,8*Math.ceil(this.bitLength/8)));return T.BigInt.fromBytes(C,{unsigned:!0}).toBytes()}async sign(d){const m=await crypto.subtle.digest(this.hashAlgorithmName,d);return v.Buffer.from(m)}dispose(){}}},25023:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.WebRandom=void 0;m.WebRandom=class WebRandom{getBytes(d){crypto.getRandomValues(d)}}},85187:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.WebRsa=void 0;const v=g(14300),y=g(41540),C=g(74900),_=g(74837),T=g(40391);class WebRsaKeyPair{constructor(d){this.hashAlgorithm=d,this.comment=null}get hasPublicKey(){return!!this.publicKey}get hasPrivateKey(){return!!this.privateKey}get keyAlgorithmName(){return WebRsa.keyAlgorithmName}async generate(d){d=null!=d?d:WebRsaKeyPair.defaultKeySize;try{const m={name:"RSASSA-PKCS1-v1_5",modulusLength:d,publicExponent:new Uint8Array([1,0,1]),hash:{name:this.hashAlgorithm}},g=await crypto.subtle.generateKey(m,!0,["sign","verify"]);this.publicKey=g.publicKey,this.privateKey=g.privateKey}catch(d){throw new Error("Failed to generate RSA key pair: "+d)}}async setPublicKeyBytes(d){if(!d)throw new TypeError("Buffer is required.");const m=new _.SshDataReader(d),g=m.readString("ascii");if(g!==this.keyAlgorithmName&&g!==WebRsa.rsaWithSha256&&g!==WebRsa.rsaWithSha512)throw new Error(`Invalid RSA key algorithm: ${g}`);const v=m.readBigInt(),y=m.readBigInt(),C=T.JsonWebKeyFormatter.formatRsa({modulus:y,exponent:v},!1);C.alg="RS"+this.hashAlgorithm.replace("SHA-",""),C.key_ops=["verify"];try{const d={name:"RSASSA-PKCS1-v1_5",hash:{name:this.hashAlgorithm}};this.publicKey=await crypto.subtle.importKey("jwk",C,d,!0,["verify"])}catch(d){throw new Error("Failed to import RSA public key: "+d)}}async getPublicKeyBytes(d){if(!this.publicKey)return null;let m;d||(d=this.keyAlgorithmName);try{m=await crypto.subtle.exportKey("jwk",this.publicKey)}catch(d){throw new Error("Failed to export RSA public key: "+d)}const{modulus:g,exponent:y}=T.JsonWebKeyFormatter.parseRsa(m,!1),C=v.Buffer.alloc(512),b=new _.SshDataWriter(C);b.writeString(d,"ascii"),b.writeBigInt(y),b.writeBigInt(g);return b.toBuffer()}async importParameters(d){const m=d.d?T.JsonWebKeyFormatter.formatRsa(d,!0):null,g=T.JsonWebKeyFormatter.formatRsa(d,!1),v={name:"RSASSA-PKCS1-v1_5",hash:{name:this.hashAlgorithm}};try{this.publicKey=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]),this.privateKey=m?await crypto.subtle.importKey("jwk",m,v,!0,["sign"]):void 0}catch(d){if(!(d instanceof Error))throw d;throw new Error("Failed to import RSA key pair: "+d.message)}}async exportParameters(){var d;if(!this.publicKey)throw new Error("Public key not set.");let m;try{m=await crypto.subtle.exportKey("jwk",null!==(d=this.privateKey)&&void 0!==d?d:this.publicKey)}catch(d){if(!(d instanceof Error))throw d;throw new Error("Failed to export RSA public key: "+d.message)}return T.JsonWebKeyFormatter.parseRsa(m,!!this.privateKey)}dispose(){}}WebRsaKeyPair.defaultKeySize=2048;class WebRsa extends y.PublicKeyAlgorithm{constructor(d,m){super(d,WebRsa.keyAlgorithmName,m)}createKeyPair(){const d=WebRsa.convertHashAlgorithmName(this.hashAlgorithmName);return new WebRsaKeyPair(d)}async generateKeyPair(d){const m=WebRsa.convertHashAlgorithmName(this.hashAlgorithmName),g=new WebRsaKeyPair(m);return await g.generate(d),g}createSigner(d){if(!(d instanceof WebRsaKeyPair))throw new TypeError("RSA key pair object expected.");const m=WebRsa.convertHashAlgorithmName(this.hashAlgorithmName);return new WebRsaSignerVerifier(d,m,C.WebHmac.getHashDigestLength(this.hashAlgorithmName))}createVerifier(d){if(!(d instanceof WebRsaKeyPair))throw new TypeError("RSA key pair object expected.");const m=WebRsa.convertHashAlgorithmName(this.hashAlgorithmName);return new WebRsaSignerVerifier(d,m,C.WebHmac.getHashDigestLength(this.hashAlgorithmName))}static convertHashAlgorithmName(d){return d.replace("SHA2-","SHA-")}}m.WebRsa=WebRsa,WebRsa.keyAlgorithmName="ssh-rsa",WebRsa.rsaWithSha256="rsa-sha2-256",WebRsa.rsaWithSha512="rsa-sha2-512",WebRsa.KeyPair=WebRsaKeyPair;class WebRsaSignerVerifier{constructor(d,m,g){this.keyPair=d,this.hashAlgorithm=m,this.digestLength=g}async sign(d){if(!this.keyPair.privateKey)throw new Error("Private key not set.");await this.convertKeyHashAlgorithm();return v.Buffer.from(await crypto.subtle.sign("RSASSA-PKCS1-v1_5",this.keyPair.privateKey,d))}async verify(d,m){if(!this.keyPair.publicKey)throw new Error("Public key not set.");await this.convertKeyHashAlgorithm();return await crypto.subtle.verify("RSASSA-PKCS1-v1_5",this.keyPair.publicKey,m,d)}async convertKeyHashAlgorithm(){if(this.keyPair.hashAlgorithm!==this.hashAlgorithm){const d=await this.keyPair.exportParameters();this.keyPair=new WebRsaKeyPair(this.hashAlgorithm),await this.keyPair.importParameters(d)}}dispose(){}}},46252:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.ObjectDisposedError=m.SshChannelError=m.SshReconnectError=m.SshConnectionError=void 0;class SshConnectionError extends Error{constructor(d,m){super(d),this.reason=m}}m.SshConnectionError=SshConnectionError;class SshReconnectError extends Error{constructor(d,m){super(d),this.reason=m}}m.SshReconnectError=SshReconnectError;class SshChannelError extends Error{constructor(d,m){super(d),this.reason=m}}m.SshChannelError=SshChannelError;class ObjectDisposedError extends Error{constructor(d){var m,g;let v;v="string"==typeof d?d:"function"==typeof d?d.name+" disposed.":(null!==(g=null===(m=null==d?void 0:d.constructor)||void 0===m?void 0:m.name)&&void 0!==g?g:"Object ")+" disposed.",super(v)}}m.ObjectDisposedError=ObjectDisposedError},92981:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SshAuthenticatingEventArgs=m.SshAuthenticationType=void 0;const v=g(87091);var y;!function(d){d[d.clientNone=0]="clientNone",d[d.clientHostBased=1]="clientHostBased",d[d.clientPassword=2]="clientPassword",d[d.clientPublicKeyQuery=3]="clientPublicKeyQuery",d[d.clientPublicKey=4]="clientPublicKey",d[d.serverPublicKey=10]="serverPublicKey"}(y=m.SshAuthenticationType||(m.SshAuthenticationType={}));m.SshAuthenticatingEventArgs=class SshAuthenticatingEventArgs{constructor(d,{username:m,password:g,publicKey:C,clientHostname:_,clientUsername:T},b){this.authenticationType=d;const validate=({usernameRequired:d,passwordRequired:v,publicKeyRequired:y,clientHostnameRequired:b,clientUsernameRequired:A})=>"string"==typeof m==!!d&&("string"==typeof g==!!v&&(!!C==!!y&&("string"==typeof _==!!b&&"string"==typeof T==!!A)));let A;switch(d){case y.clientNone:A=validate({usernameRequired:!0});break;case y.clientHostBased:A=validate({usernameRequired:!0,publicKeyRequired:!0,clientHostnameRequired:!0,clientUsernameRequired:!0});break;case y.clientPassword:A=validate({usernameRequired:!0,passwordRequired:!0});break;case y.clientPublicKeyQuery:case y.clientPublicKey:A=validate({usernameRequired:!0,publicKeyRequired:!0});break;case y.serverPublicKey:A=validate({publicKeyRequired:!0});break;default:throw new Error(`Invalid authentication type: ${d}`)}if(!A)throw new Error(`Invalid arguments for authentication type: ${d}`);this.username=null!=m?m:null,this.password=null!=g?g:null,this.publicKey=null!=C?C:null,this.clientHostname=null!=_?_:null,this.clientUsername=null!=T?T:null,this.cancellationValue=null!=b?b:v.CancellationToken.None}get cancellation(){return this.cancellationValue}set cancellation(d){this.cancellationValue=d}toString(){return this.password?(this.username?'"'+this.username+'" ':"")+"[password]":this.publicKey?`${this.username?'"'+this.username+'" ':""}[${this.publicKey.keyAlgorithmName}]`:`"${this.username}"`}}},78723:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SshChannelClosedEventArgs=void 0;m.SshChannelClosedEventArgs=class SshChannelClosedEventArgs{constructor(d,m){"number"==typeof d?this.exitStatus=d:"string"==typeof d?(this.exitSignal=d,this.errorMessage=m):d instanceof Error&&(this.error=d)}}},43522:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SshChannelOpeningEventArgs=void 0;const v=g(83069),y=g(87091);m.SshChannelOpeningEventArgs=class SshChannelOpeningEventArgs{constructor(d,m,g,C){if(this.request=d,this.channel=m,this.isRemoteRequest=g,this.failureReason=v.SshChannelOpenFailureReason.none,this.failureDescription=null,!d)throw new TypeError("A channel open message is required.");if(!m)throw new TypeError("A channel is required.");this.cancellationValue=null!=C?C:y.CancellationToken.None}get cancellation(){return this.cancellationValue}set cancellation(d){this.cancellationValue=d}toString(){return`${this.channel.toString()}${this.failureReason?" "+v.SshChannelOpenFailureReason[this.failureReason]:""}`}}},7892:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SshRequestEventArgs=void 0;const v=g(87091);m.SshRequestEventArgs=class SshRequestEventArgs{constructor(d,m,g,y){this.requestType=d,this.request=m,this.principal=g,this.cancellationValue=null!=y?y:v.CancellationToken.None}get cancellation(){return this.cancellationValue}set cancellation(d){this.cancellationValue=d}toString(){return`RequestType: ${this.requestType}`+this.request?` Request: ${this.request}`:""}}},47898:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SshSessionClosedEventArgs=void 0;const v=g(99301);m.SshSessionClosedEventArgs=class SshSessionClosedEventArgs{constructor(d,m,g){if(this.reason=d,this.message=m,this.error=g,!m)throw new TypeError("A disconnect message is required.")}toString(){return`${v.SshDisconnectReason[this.reason]}: ${this.message}`}}},52097:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.ObjectDisposedError=m.SshReconnectError=m.SshConnectionError=m.SshChannelError=m.BigInt=m.DerWriter=m.DerReader=m.formatBuffer=m.SshDataWriter=m.SshDataReader=m.ECDsa=m.Rsa=m.Encryption=m.HmacAlgorithm=m.EncryptionAlgorithm=m.PublicKeyAlgorithm=m.KeyExchangeAlgorithm=m.SshAlgorithms=m.CommandRequestMessage=m.ChannelRequestType=m.ChannelRequestMessage=m.ChannelOpenMessage=m.SshChannelOpenFailureReason=m.SshReconnectFailureReason=m.SshDisconnectReason=m.SessionRequestFailureMessage=m.SessionRequestSuccessMessage=m.DebugMessage=m.SessionRequestMessage=m.SshMessage=m.SshChannelClosedEventArgs=m.SshSessionClosedEventArgs=m.SshChannelOpeningEventArgs=m.SshRequestEventArgs=m.SshAuthenticatingEventArgs=m.SshAuthenticationType=m.serviceActivation=m.SshService=m.SshRpcMessageStream=m.WebSocketStream=m.NodeStream=m.BaseStream=m.SshStream=m.SshChannel=m.SshServerSession=m.SshClientSession=m.SshSession=m.SshVersionInfo=m.SshProtocolExtensionNames=m.SshSessionConfiguration=void 0,m.SshTraceEventIds=m.TraceLevel=m.SecureStream=m.MultiChannelStream=m.SessionContour=m.ChannelMetrics=m.SessionMetrics=m.Queue=m.Semaphore=m.PromiseCompletionSource=m.CancellationError=m.CancellationTokenSource=m.CancellationToken=void 0;var v=g(20409);Object.defineProperty(m,"SshSessionConfiguration",{enumerable:!0,get:function(){return v.SshSessionConfiguration}}),Object.defineProperty(m,"SshProtocolExtensionNames",{enumerable:!0,get:function(){return v.SshProtocolExtensionNames}});var y=g(55944);Object.defineProperty(m,"SshVersionInfo",{enumerable:!0,get:function(){return y.SshVersionInfo}});var C=g(63716);Object.defineProperty(m,"SshSession",{enumerable:!0,get:function(){return C.SshSession}});var _=g(67848);Object.defineProperty(m,"SshClientSession",{enumerable:!0,get:function(){return _.SshClientSession}});var T=g(23699);Object.defineProperty(m,"SshServerSession",{enumerable:!0,get:function(){return T.SshServerSession}});var b=g(13843);Object.defineProperty(m,"SshChannel",{enumerable:!0,get:function(){return b.SshChannel}});var A=g(32377);Object.defineProperty(m,"SshStream",{enumerable:!0,get:function(){return A.SshStream}});var P=g(93926);Object.defineProperty(m,"BaseStream",{enumerable:!0,get:function(){return P.BaseStream}}),Object.defineProperty(m,"NodeStream",{enumerable:!0,get:function(){return P.NodeStream}}),Object.defineProperty(m,"WebSocketStream",{enumerable:!0,get:function(){return P.WebSocketStream}});var R=g(18339);Object.defineProperty(m,"SshRpcMessageStream",{enumerable:!0,get:function(){return R.SshRpcMessageStream}});var k=g(1721);Object.defineProperty(m,"SshService",{enumerable:!0,get:function(){return k.SshService}});var M=g(68977);Object.defineProperty(m,"serviceActivation",{enumerable:!0,get:function(){return M.serviceActivation}});var I=g(92981);Object.defineProperty(m,"SshAuthenticationType",{enumerable:!0,get:function(){return I.SshAuthenticationType}}),Object.defineProperty(m,"SshAuthenticatingEventArgs",{enumerable:!0,get:function(){return I.SshAuthenticatingEventArgs}});var O=g(7892);Object.defineProperty(m,"SshRequestEventArgs",{enumerable:!0,get:function(){return O.SshRequestEventArgs}});var x=g(43522);Object.defineProperty(m,"SshChannelOpeningEventArgs",{enumerable:!0,get:function(){return x.SshChannelOpeningEventArgs}});var L=g(47898);Object.defineProperty(m,"SshSessionClosedEventArgs",{enumerable:!0,get:function(){return L.SshSessionClosedEventArgs}});var U=g(78723);Object.defineProperty(m,"SshChannelClosedEventArgs",{enumerable:!0,get:function(){return U.SshChannelClosedEventArgs}});var j=g(23683);Object.defineProperty(m,"SshMessage",{enumerable:!0,get:function(){return j.SshMessage}});var B=g(99301);Object.defineProperty(m,"SessionRequestMessage",{enumerable:!0,get:function(){return B.SessionRequestMessage}}),Object.defineProperty(m,"DebugMessage",{enumerable:!0,get:function(){return B.DebugMessage}}),Object.defineProperty(m,"SessionRequestSuccessMessage",{enumerable:!0,get:function(){return B.SessionRequestSuccessMessage}}),Object.defineProperty(m,"SessionRequestFailureMessage",{enumerable:!0,get:function(){return B.SessionRequestFailureMessage}}),Object.defineProperty(m,"SshDisconnectReason",{enumerable:!0,get:function(){return B.SshDisconnectReason}}),Object.defineProperty(m,"SshReconnectFailureReason",{enumerable:!0,get:function(){return B.SshReconnectFailureReason}});var V=g(83069);Object.defineProperty(m,"SshChannelOpenFailureReason",{enumerable:!0,get:function(){return V.SshChannelOpenFailureReason}}),Object.defineProperty(m,"ChannelOpenMessage",{enumerable:!0,get:function(){return V.ChannelOpenMessage}}),Object.defineProperty(m,"ChannelRequestMessage",{enumerable:!0,get:function(){return V.ChannelRequestMessage}}),Object.defineProperty(m,"ChannelRequestType",{enumerable:!0,get:function(){return V.ChannelRequestType}}),Object.defineProperty(m,"CommandRequestMessage",{enumerable:!0,get:function(){return V.CommandRequestMessage}});var $=g(3120);Object.defineProperty(m,"SshAlgorithms",{enumerable:!0,get:function(){return $.SshAlgorithms}}),Object.defineProperty(m,"KeyExchangeAlgorithm",{enumerable:!0,get:function(){return $.KeyExchangeAlgorithm}}),Object.defineProperty(m,"PublicKeyAlgorithm",{enumerable:!0,get:function(){return $.PublicKeyAlgorithm}}),Object.defineProperty(m,"EncryptionAlgorithm",{enumerable:!0,get:function(){return $.EncryptionAlgorithm}}),Object.defineProperty(m,"HmacAlgorithm",{enumerable:!0,get:function(){return $.HmacAlgorithm}}),Object.defineProperty(m,"Encryption",{enumerable:!0,get:function(){return $.Encryption}}),Object.defineProperty(m,"Rsa",{enumerable:!0,get:function(){return $.Rsa}}),Object.defineProperty(m,"ECDsa",{enumerable:!0,get:function(){return $.ECDsa}});var q=g(74837);Object.defineProperty(m,"SshDataReader",{enumerable:!0,get:function(){return q.SshDataReader}}),Object.defineProperty(m,"SshDataWriter",{enumerable:!0,get:function(){return q.SshDataWriter}}),Object.defineProperty(m,"formatBuffer",{enumerable:!0,get:function(){return q.formatBuffer}});var Y=g(76671);Object.defineProperty(m,"DerReader",{enumerable:!0,get:function(){return Y.DerReader}}),Object.defineProperty(m,"DerWriter",{enumerable:!0,get:function(){return Y.DerWriter}});var z=g(41075);Object.defineProperty(m,"BigInt",{enumerable:!0,get:function(){return z.BigInt}});var G=g(46252);Object.defineProperty(m,"SshChannelError",{enumerable:!0,get:function(){return G.SshChannelError}}),Object.defineProperty(m,"SshConnectionError",{enumerable:!0,get:function(){return G.SshConnectionError}}),Object.defineProperty(m,"SshReconnectError",{enumerable:!0,get:function(){return G.SshReconnectError}}),Object.defineProperty(m,"ObjectDisposedError",{enumerable:!0,get:function(){return G.ObjectDisposedError}});var J=g(35865);Object.defineProperty(m,"CancellationToken",{enumerable:!0,get:function(){return J.CancellationToken}}),Object.defineProperty(m,"CancellationTokenSource",{enumerable:!0,get:function(){return J.CancellationTokenSource}}),Object.defineProperty(m,"CancellationError",{enumerable:!0,get:function(){return J.CancellationError}});var X=g(93745);Object.defineProperty(m,"PromiseCompletionSource",{enumerable:!0,get:function(){return X.PromiseCompletionSource}});var te=g(94945);Object.defineProperty(m,"Semaphore",{enumerable:!0,get:function(){return te.Semaphore}});var re=g(66491);Object.defineProperty(m,"Queue",{enumerable:!0,get:function(){return re.Queue}});var ie=g(70105);Object.defineProperty(m,"SessionMetrics",{enumerable:!0,get:function(){return ie.SessionMetrics}});var se=g(23775);Object.defineProperty(m,"ChannelMetrics",{enumerable:!0,get:function(){return se.ChannelMetrics}});var oe=g(45291);Object.defineProperty(m,"SessionContour",{enumerable:!0,get:function(){return oe.SessionContour}});var ae=g(80117);Object.defineProperty(m,"MultiChannelStream",{enumerable:!0,get:function(){return ae.MultiChannelStream}});var ce=g(66033);Object.defineProperty(m,"SecureStream",{enumerable:!0,get:function(){return ce.SecureStream}});var le=g(75947);Object.defineProperty(m,"TraceLevel",{enumerable:!0,get:function(){return le.TraceLevel}}),Object.defineProperty(m,"SshTraceEventIds",{enumerable:!0,get:function(){return le.SshTraceEventIds}})},41075:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.BigInt=void 0;const v=g(14300),y=g(74837);class BigInt{constructor(d){if(this.buffer=d,0===d.length)throw new Error("BigInt buffer length must be greater than zero.")}get sign(){const d=this.buffer[0];return 0===d?this.buffer.length>1?1:0:0==(128&d)?1:-1}static fromInt32(d){if(0===d)return BigInt.zero;let m=!1;d<0&&(m=!0,d=-d);const g=[];for(let m=24;m>=0;m-=8)(d>=1<<m||g.length>0)&&(g.push(d>>m),d&=~((1<<m)-1));return m&&(0==(128&g[0])?g[0]|=128:g.splice(0,0,128)),new BigInt(v.Buffer.from(new Uint8Array(g)))}toInt32(){if(this.buffer.length>4)throw new TypeError("BigInt value cannot be converted to a 32-bit signed integer.");let d=this.buffer[0];this.sign<0&&(d&=127);for(let m=1;m<this.buffer.length;m++)d=(d<<8)+this.buffer[m];return this.sign<0&&(d=-d),d}static fromBytes(d,m){if(!v.Buffer.isBuffer(d))throw new TypeError("Buffer expected.");if(0===d.length)throw new Error("BigInt buffer length must be greater than zero.");m=null!=m?m:{};const g=0!=(128&d[0]),y=m.unsigned&&g?1:0;let C=0;for(let m=0;m<d.length-1&&0===d[m];m++)0==(128&d[m+1])&&C++;const _=v.Buffer.alloc(d.length+y-C);return d.copy(_,y,C,d.length),new BigInt(_)}toBytes(d){d=null!=d?d:{};let m=this.buffer;if(d.unsigned){if(this.sign<0)throw new TypeError("Cannot format a negative BigInt as unsigned.");if(0===m[0]&&m.length>1&&(m=m.slice(1,m.length)),void 0!==d.length){if(m.length>d.length)throw new Error(`BigInt (${m.length} bytes) is too large for length ${d.length}.`);if(m.length<d.length){const g=v.Buffer.alloc(d.length);return m.copy(g,d.length-m.length),g}}}const g=v.Buffer.alloc(m.length);return m.copy(g,0,0,m.length),g}copyTo(d,m=0){this.buffer.copy(d,m,0,this.buffer.length)}equals(d){return d instanceof BigInt&&this.buffer.equals(d.buffer)}toString(d){return(0,y.formatBuffer)(this.buffer,null!=d?d:"BigInt")}}m.BigInt=BigInt,BigInt.zero=new BigInt(v.Buffer.alloc(1))},76671:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.DerWriter=m.DerReader=void 0;const v=g(14300),y=g(41075);class DerReader{constructor(d,m=48){this.buffer=d,this.position=0,this.readType(m);const g=this.readLength();if(g>this.buffer.length-this.position)throw new Error("Read out of bounds.");this.buffer=this.buffer.slice(0,this.position+g)}get available(){return this.buffer.length-this.position}readNull(){if(this.readType(5),0!==this.readByte())throw new Error("Expected a 0 after Null type.")}readInteger(){this.readType(2);const d=this.readLength(),m=this.readBytes(d);return new y.BigInt(m)}readOctetString(){this.readType(4);const d=this.readLength();return this.readBytes(d)}readBitString(){this.readType(3);const d=this.readLength();if(0!==this.readByte())throw new Error("Padded bit strings are not supported.");return this.readBytes(d-1)}readObjectIdentifier(d){this.readType(6);const m=this.readLength(),g=this.position+m,v=[],y=this.readByte();v.push(Math.trunc(y/40)),v.push(y%40);let C=0;for(;this.position<g;){const d=this.readByte();0!=(128&d)?C=128*C+(127&d):(C=128*C+d,v.push(C),C=0)}if(0!==C)throw new Error("Invalid OID format.");const _=v.join(".");if(d&&_!==d)throw new Error(`Expected OID ${d}, found: ${_}`);return _}readSequence(){const d=this.position;this.readType(48);const m=this.readLength();return this.position+=m,new DerReader(this.buffer.slice(d,this.position))}tryReadTagged(d){if(this.position>=this.buffer.length)return null;const m=this.buffer[this.position];if(0==(160&m)||(-161&m)!==d)return null;const g=this.position;this.position++;const v=this.readLength();this.position+=v;return new DerReader(this.buffer.slice(g,this.position),m)}peek(){if(this.position>=this.buffer.length)throw new Error("Read out of bounds.");return this.buffer[this.position]}readLength(){let d=this.readByte();if(128===d)throw new Error("Indefinite-length encoding is not supported.");if(d>127){const m=127&d;if(m>4)throw new Error(`DER length size is ${m} and cannot be more than 4 bytes.`);d=0;for(let g=0;g<m;g++){d=(d<<8)+this.readByte()}if(d<0)throw new Error("Corrupted data - negative length found")}return d}readByte(){if(this.position>=this.buffer.length)throw new Error("Read out of bounds.");return this.buffer[this.position++]}readBytes(d){if(this.position+d>this.buffer.length)throw new Error("Read out of bounds.");const m=this.buffer.slice(this.position,this.position+d);return this.position+=d,m}readType(d){const m=this.readByte();if(m!==d)throw new Error(`Expected ${d} data type, found : ${m}`)}}m.DerReader=DerReader;class DerWriter{constructor(d,m=48){this.buffer=d,this.dataType=m,this.position=0,this.buffer=d}toBuffer(){const d=this.position,m=DerWriter.getLength(d);this.ensureCapacity(1+m.length+d);const g=this.buffer.slice(0,1+m.length+d);return this.buffer.copy(g,1+m.length),g[0]=this.dataType,m.copy(g,1,0),this.buffer=this.buffer.slice(1+m.length,g.length),this.position=d,g}writeSequence(d){this.writeBytes(d.toBuffer())}writeTagged(d,m){if(d>15)throw new Error("Invalid DER tag.");this.writeByte(160|d);const g=DerWriter.getLength(m.position);this.writeBytes(g),this.writeBytes(m.buffer.slice(0,m.position))}writeNull(){this.writeByte(5),this.writeByte(0)}writeInteger(d){this.writeByte(2);const m=d.toBytes(),g=DerWriter.getLength(m.length);this.writeBytes(g),this.writeBytes(m)}writeOctetString(d){this.writeByte(4);const m=DerWriter.getLength(d.length);this.writeBytes(m),this.writeBytes(d)}writeBitString(d){this.writeByte(3);const m=DerWriter.getLength(1+d.length);this.writeBytes(m),this.writeByte(0),this.writeBytes(d)}writeObjectIdentifier(d){if(!d)throw new TypeError("OID value is null or empty.");const m=d.split(".").map(Number);if(m.length<2||m[0]>3||m[1]>=40)throw new Error(`Invalid OID: ${d}`);this.writeByte(6);let g=m.length-1;for(let d=2;d<m.length;d++){let v=m[d];for(;v>128;)g++,v/=128}const v=DerWriter.getLength(g);this.writeBytes(v),this.writeByte(40*m[0]+m[1]);for(let d=2;d<m.length;d++){let g=m[d];if(g>=128){const d=[];for(d.push(127&g);g>=128;)g/=128,d.push(128|127&g);for(;d.length>0;)this.writeByte(d.pop())}else this.writeByte(g)}}static getLength(d){if(d>127){let m=1;for(let g=d>>8;0!==g;g>>=8)m++;const g=DerWriter.lengthBuffer.slice(0,m+1);g[0]=128|m;for(let v=8*(m-1),y=1;v>=0;v-=8,y++)g[y]=d>>v;return g}{const m=DerWriter.lengthBuffer.slice(0,1);return m[0]=d,m}}writeByte(d){this.ensureCapacity(this.position+1),this.buffer[this.position++]=d}writeBytes(d){this.ensureCapacity(this.position+d.length),d.copy(this.buffer,this.position),this.position+=d.length}ensureCapacity(d){if(this.buffer.length<d){let m=Math.max(512,2*this.buffer.length);for(;m<d;)m*=2;const g=v.Buffer.alloc(m);this.buffer.copy(g,0,0,this.position),this.buffer=g}}}m.DerWriter=DerWriter,DerWriter.lengthBuffer=v.Buffer.alloc(10)},74837:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.formatBuffer=m.SshDataWriter=m.SshDataReader=void 0;const v=g(14300),y=g(3120),C=g(41075);class SshDataReader{constructor(d){this.buffer=d,this.position=0}get available(){return this.buffer.length-this.position}read(d){if(this.available<d)throw new Error("Attempted to read past end of buffer.");const m=this.buffer.slice(this.position,this.position+d);return this.position+=d,m}readByte(){if(0===this.available)throw new Error("Attempted to read past end of buffer.");const d=this.buffer[this.position];return this.position++,d}readBinary(){const d=this.readUInt32();if(this.available<d)throw new Error("Attempted to read past end of buffer.");const m=this.buffer.slice(this.position,this.position+d);return this.position+=d,m}readString(d){return this.readBinary().toString()}readList(d){const m=this.readString(d);return 0===m.length?[]:m.split(",")}readBoolean(){return 0!==this.readByte()}readUInt32(){if(this.available<4)throw new Error("Attempted to read past end of buffer.");const d=this.buffer[this.position+0],m=this.buffer[this.position+1],g=this.buffer[this.position+2],v=this.buffer[this.position+3];this.position+=4;return(d<<24|m<<16|g<<8|v)>>>0}readUInt64(){if(this.available<8)throw new Error("Attempted to read past end of buffer.");const d=this.buffer[this.position+0],m=this.buffer[this.position+1],g=this.buffer[this.position+2],v=this.buffer[this.position+3],y=this.buffer[this.position+4],C=this.buffer[this.position+5],_=this.buffer[this.position+6],T=this.buffer[this.position+7];this.position+=8;return 4294967296*((d<<24|m<<16|g<<8|v)>>>0)+((y<<24|C<<16|_<<8|T)>>>0)}readBigInt(){const d=this.readBinary();return 0===d.length?C.BigInt.zero:C.BigInt.fromBytes(d)}}m.SshDataReader=SshDataReader,SshDataReader.mpintZero=v.Buffer.alloc(1);let _;m.SshDataWriter=class SshDataWriter{constructor(d){this.buffer=d,this.position=0}write(d){this.ensureCapacity(this.position+d.length),d.copy(this.buffer,this.position),this.position+=d.length}writeByte(d){this.ensureCapacity(this.position+1),this.buffer[this.position]=d,this.position++}writeBinary(d){this.ensureCapacity(this.position+4+d.length),this.writeUInt32(d.length),d.copy(this.buffer,this.position),this.position+=d.length}writeString(d,m){this.writeBinary(v.Buffer.from(d))}writeList(d,m){this.writeString(d?d.join(","):"",m)}writeBoolean(d){this.writeByte(d?1:0)}writeUInt32(d){this.ensureCapacity(this.position+4),this.buffer[this.position+0]=d>>>24,this.buffer[this.position+1]=d>>>16,this.buffer[this.position+2]=d>>>8,this.buffer[this.position+3]=d>>>0,this.position+=4}static writeUInt32(d,m,g){d[m+0]=g>>>24,d[m+1]=g>>>16,d[m+2]=g>>>8,d[m+3]=g>>>0}writeUInt64(d){this.ensureCapacity(this.position+8);const m=4294967295&d,g=(d-m)/4294967296;this.buffer[this.position+0]=g>>>24,this.buffer[this.position+1]=g>>>16,this.buffer[this.position+2]=g>>>8,this.buffer[this.position+3]=g>>>0,this.buffer[this.position+4]=m>>>24,this.buffer[this.position+5]=m>>>16,this.buffer[this.position+6]=m>>>8,this.buffer[this.position+7]=m>>>0,this.position+=8}writeBigInt(d){const m=d.toBytes();1===m.length&&0===m[0]?this.writeUInt32(0):this.writeBinary(m)}writeRandom(d){this.ensureCapacity(this.position+d);const m=this.buffer.slice(this.position,this.position+d);y.SshAlgorithms.random.getBytes(m),this.position+=d}skip(d){this.ensureCapacity(this.position+d),this.position+=d}ensureCapacity(d){if(this.buffer.length<d){let m=Math.max(512,2*this.buffer.length);for(;m<d;)m*=2;const g=v.Buffer.alloc(m);this.buffer.copy(g,0,0,this.position),this.buffer=g}}toBuffer(){return this.buffer.slice(0,this.position)}},m.formatBuffer=function formatBuffer(d,m,g){let v=`${void 0===m?"Buffer":m}[${d.length}] (${function crc32(d){_||(_=function makeCrcTable(){let d;const m=[];for(let g=0;g<256;g++){d=g;for(let m=0;m<8;m++)d=1&d?3988292384^d>>>1:d>>>1;m[g]=d}return m}());let m=-1;for(let g=0;g<d.length;g++)m=m>>>8^_[255&(m^d[g])];return(4294967296+((-1^m)>>>0)).toString(16).substr(-8).toUpperCase()}(d)})\n`;if(!1===g)return v;const y=Math.min(2048,d.length);for(let m=0;m<y;m+=16){m<1e3&&(v+="0"),m<100&&(v+="0"),m<10&&(v+="0"),v+=m+":";for(let g=m;g<m+16;g++)v+=g<y?" "+d.slice(g,g+1).toString("hex"):"   ";v+="  ";for(let g=m;g<m+16;g++)if(g<y){const m=d[g];v+=m>32&&m<=127?d.slice(g,g+1).toString():"."}else v+=" ";v+="\n"}return y<d.length&&(v+="...\n"),v}},56419:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SshProtocol=void 0;const v=g(14300),y=g(66491),C=g(94945),_=g(23683),T=g(74837),b=g(99301),A=g(36891),P=g(83069),R=g(46252),k=g(75947);class SequencedMessage{constructor(d,m){this.sequence=d,this.message=m}}class SshProtocol{constructor(d,m,g,_){this.config=m,this.metrics=g,this.trace=_,this.sessionSemaphore=new C.Semaphore(1),this.inboundPacketSequence=0,this.outboundPacketSequence=0,this.inboundFlow=0,this.outboundFlow=0,this.recentSentMessages=new y.Queue,this.sendWriter=new T.SshDataWriter(v.Buffer.alloc(1024)),this.receiveWriter=new T.SshDataWriter(v.Buffer.alloc(1024)),this.traceChannelData=!1,this.extensions=null,this.kexService=null,this.algorithms=null,this.outgoingMessagesHaveLatencyInfo=!1,this.incomingMessagesHaveLatencyInfo=!1,this.outgoingMessagesHaveReconnectInfo=!1,this.incomingMessagesHaveReconnectInfo=!1,this.stream=d}get lastIncomingSequence(){return this.inboundPacketSequence-1}getSentMessages(d){if(d===this.outboundPacketSequence+1)return[];if(this.recentSentMessages.size>0&&d<this.recentSentMessages.peek().sequence)return null;const m=new Array;for(const g of this.recentSentMessages)if(g.sequence>=d){const d=g.message;d instanceof A.KeyExchangeMessage||d instanceof b.DisconnectMessage||m.push(d)}return m}async writeProtocolVersion(d,m){const g=this.stream;if(!g)throw new Error("SSH session disconnected.");const y=v.Buffer.from(d+"\r\n");return await g.write(y,m),this.metrics.addMessageSent(y.length),Promise.resolve()}async readProtocolVersion(d){const m=this.stream;if(!m)throw new Error("SSH session disconnected.");const g=v.Buffer.alloc(255);let y=0;for(let v=0;v<g.length;v++){const C=await m.read(1,d);if(!C)break;g[v]=C[0];const _=13,T=10;if(v>0&&g[v-1]===_&&g[v]===T){const d=g.toString("utf8",0,v-1);if(d.startsWith("SSH-"))return this.metrics.addMessageReceived(v+1),d;if(y>20)break;y++,v=-1}}throw new R.SshConnectionError("Failed to read the protocol version",b.SshDisconnectReason.protocolError)}async handleNewKeys(d){try{await this.sessionSemaphore.wait(d),this.inboundFlow=0,this.outboundFlow=0,this.algorithms=this.kexService.finishKeyExchange()}finally{this.sessionSemaphore.release()}}async read(d,m){const g=this.stream;if(!g)return!1;let v=0;do{let y;try{y=await g.read(d.length-v,m)}catch(d){if(!(d instanceof Error))throw d;if(g.isDisposed)return!1;throw g.dispose(),this.stream=null,this.trace(k.TraceLevel.Error,k.SshTraceEventIds.streamReadError,`Error reading from stream: ${d.message}`,d),new R.SshConnectionError("Error reading from stream: "+d.message,b.SshDisconnectReason.connectionLost)}if(!y)return!1;y.copy(d,v),v+=y.length}while(v<d.length);return!0}async write(d,m){const g=this.stream;if(!g)return!1;try{await g.write(d,m)}catch(d){if(!(d instanceof Error))throw d;if(g.isDisposed)return!1;throw g.dispose(),this.stream=null,this.trace(k.TraceLevel.Error,k.SshTraceEventIds.streamWriteError,`Error writing to stream: ${d.message}`,d),new R.SshConnectionError("Error writing to stream: "+d.message,b.SshDisconnectReason.connectionLost)}return!0}async considerReExchange(d,m){const g=this.kexService;if(!g)return;let v=null,y=null;!g.exchanging&&(d||this.inboundFlow+this.outboundFlow>this.config.keyRotationThreshold)&&([v,y]=await g.startKeyExchange(d)),v&&(await this.sendMessage(v,m),y&&await this.sendMessage(y,m))}async computeHmac(d,m,g){const y=new T.SshDataWriter(v.Buffer.alloc(4+m.length));y.writeUInt32(g),y.write(m);return await d.sign(y.toBuffer())}async verifyHmac(d,m,g,y){const C=new T.SshDataWriter(v.Buffer.alloc(4+m.length));C.writeUInt32(g),C.write(m);return await d.verify(C.toBuffer(),y)}async readAndVerifyHmac(d,m,g,v){if(!await this.read(g,v))return!1;if(!await this.verifyHmac(d,m,this.inboundPacketSequence,g))throw new R.SshConnectionError("Invalid MAC",b.SshDisconnectReason.macError);return!0}async sendMessage(d,m){var g;const y=this.algorithms,C=null==y?void 0:y.compressor,_=null==y?void 0:y.cipher,T=null==y?void 0:y.messageSigner;let b;await this.sessionSemaphore.wait(m);try{const y=_?Math.max(8,_.blockLength):8,A=SshProtocol.packetLengthSize+SshProtocol.paddingLengthSize;if(this.sendWriter.position=A,d.write(this.sendWriter),this.outgoingMessagesHaveReconnectInfo&&(this.sendWriter.writeUInt64(this.lastIncomingSequence),this.outgoingMessagesHaveLatencyInfo)){const d=Math.min(4294967295,Math.round(1e3*(this.metrics.time-this.lastIncomingTimestamp)));this.sendWriter.writeUInt32(d)}let R=this.sendWriter.toBuffer().slice(A);null!=C&&(R=C.compress(R));let M=y-((!((null==T?void 0:T.encryptThenMac)||(null==T?void 0:T.authenticatedEncryption))?SshProtocol.packetLengthSize:0)+SshProtocol.paddingLengthSize+R.length)%y;M<4&&(M+=y);const I=SshProtocol.paddingLengthSize+R.length+M;this.sendWriter.position=0,this.sendWriter.writeUInt32(I),this.sendWriter.writeByte(M),null!=C?this.sendWriter.write(R):this.sendWriter.position+=R.length,this.sendWriter.writeRandom(M),R=this.sendWriter.toBuffer();let O=null;if((null==T?void 0:T.encryptThenMac)&&_){const d=R.slice(SshProtocol.packetLengthSize,R.length);(await _.transform(d)).copy(d),O=await this.computeHmac(T,R,this.outboundPacketSequence)}else if(null==T?void 0:T.authenticatedEncryption){const d=R.slice(SshProtocol.packetLengthSize,R.length);(await _.transform(d)).copy(d),O=await T.sign(d)}else T&&(O=await this.computeHmac(T,R,this.outboundPacketSequence)),_&&(R=await _.transform(R));if(d instanceof P.ChannelDataMessage?this.traceChannelData&&this.trace(k.TraceLevel.Verbose,k.SshTraceEventIds.sendingChannelData,`Sending #${this.outboundPacketSequence} ${d}`):this.trace(k.TraceLevel.Verbose,k.SshTraceEventIds.sendingMessage,`Sending #${this.outboundPacketSequence} ${d}`),this.incomingMessagesHaveReconnectInfo){const m=new SequencedMessage(this.outboundPacketSequence,d);m.sentTime=this.metrics.time,this.recentSentMessages.enqueue(m)}if(this.outboundPacketSequence++,this.outboundFlow+=I,O){const d=v.Buffer.concat([R,O],R.length+O.length);b=await this.write(d,m)}else b=await this.write(R,m);this.metrics.addMessageSent(SshProtocol.packetLengthSize+I+(null!==(g=null==T?void 0:T.digestLength)&&void 0!==g?g:0))}finally{this.sessionSemaphore.release()}return await this.considerReExchange(!1,m),b}async receiveMessage(d){var m;const g=this.algorithms,v=null==g?void 0:g.decipher,y=null==g?void 0:g.messageVerifier,C=null==g?void 0:g.decompressor,A=!((null==y?void 0:y.encryptThenMac)||(null==y?void 0:y.authenticatedEncryption)),M=A?v?Math.max(8,v.blockLength):8:SshProtocol.packetLengthSize;this.receiveWriter.position=M;let I=this.receiveWriter.toBuffer();if(!await this.read(I,d))return null;this.lastIncomingTimestamp=this.metrics.time,v&&A&&(I=await v.transform(I),this.receiveWriter.position=0,this.receiveWriter.write(I));const O=new T.SshDataReader(I).readUInt32();if(O>SshProtocol.maxPacketLength)throw new R.SshConnectionError("Invalid packet length.",b.SshDisconnectReason.protocolError);const x=SshProtocol.packetLengthSize+O;x>M&&this.receiveWriter.skip(x-M),y&&this.receiveWriter.skip(y.digestLength);const L=this.receiveWriter.toBuffer(),U=L.slice(0,x),j=L.slice(x);let B=U.slice(M,x);if(B.length>0){if(!await this.read(B,d))return null;if((null==y?void 0:y.encryptThenMac)&&!await this.readAndVerifyHmac(y,U,j,d))return null;if(v){if(null==y?void 0:y.authenticatedEncryption){if(!await this.read(j,d))return null;await y.verify(B,j)}try{B=await v.transform(B)}catch(d){throw(null==y?void 0:y.authenticatedEncryption)?new R.SshConnectionError("Invalid MAC",b.SshDisconnectReason.macError):d}this.receiveWriter.position=M,this.receiveWriter.write(B)}}if(y&&!y.encryptThenMac&&!y.authenticatedEncryption&&!await this.readAndVerifyHmac(y,U,j,d))return null;const V=U[SshProtocol.packetLengthSize];let $=U.slice(SshProtocol.packetLengthSize+SshProtocol.paddingLengthSize,SshProtocol.packetLengthSize+(O-V));if(C&&($=C.decompress($)),this.incomingMessagesHaveReconnectInfo){let d,m;if(this.incomingMessagesHaveLatencyInfo){const g=new T.SshDataReader($.slice($.length-12,$.length));d=g.readUInt64(),m=g.readUInt32()/1e3,$=$.slice(0,$.length-12)}else{d=new T.SshDataReader($.slice($.length-8,$.length)).readUInt64(),m=0,$=$.slice(0,$.length-8)}for(;this.recentSentMessages.size>0;){const g=this.recentSentMessages.peek();if(g.sequence>d)break;if(this.stream&&this.incomingMessagesHaveLatencyInfo&&g.sequence===d){const d=this.lastIncomingTimestamp-g.sentTime-m;this.metrics.updateLatency(d)}this.recentSentMessages.dequeue()}}const q=$[0];let Y=_.SshMessage.create(this.config,q,$);if(!Y){const d=new b.UnimplementedMessage;d.sequenceNumber=this.inboundPacketSequence,d.unimplementedMessageType=q,Y=d}return Y instanceof P.ChannelDataMessage?this.traceChannelData&&this.trace(k.TraceLevel.Verbose,k.SshTraceEventIds.receivingChannelData,`Receiving #${this.inboundPacketSequence} ${Y}`):this.trace(k.TraceLevel.Verbose,k.SshTraceEventIds.receivingMessage,`Receiving #${this.inboundPacketSequence} ${Y}`),await this.sessionSemaphore.wait(d),this.inboundPacketSequence++,this.inboundFlow+=O,this.sessionSemaphore.release(),this.metrics.addMessageReceived(SshProtocol.packetLengthSize+O+(null!==(m=null==y?void 0:y.digestLength)&&void 0!==m?m:0)),await this.considerReExchange(!1,d),Y}dispose(){try{this.stream&&this.stream.close().catch((d=>{this.trace(k.TraceLevel.Error,k.SshTraceEventIds.streamCloseError,`Error closing stream: ${d.message}`,d)}))}catch(d){if(!(d instanceof Error))throw d;this.trace(k.TraceLevel.Error,k.SshTraceEventIds.streamCloseError,`Error closing stream: ${d.message}`,d)}this.stream=null,this.metrics.updateLatency(0),this.algorithms&&this.algorithms.dispose()}}m.SshProtocol=SshProtocol,SshProtocol.maxPacketLength=1048576,SshProtocol.packetLengthSize=4,SshProtocol.paddingLengthSize=1},97151:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.AuthenticationSuccessMessage=m.AuthenticationFailureMessage=m.PasswordRequestMessage=m.PublicKeyOKMessage=m.PublicKeyRequestMessage=m.AuthenticationRequestMessage=m.AuthenticationMessage=void 0;const v=g(23683);class AuthenticationMessage extends v.SshMessage{}m.AuthenticationMessage=AuthenticationMessage;class AuthenticationRequestMessage extends AuthenticationMessage{get messageType(){return 50}onRead(d){this.username=d.readString("utf8"),this.serviceName=d.readString("ascii"),this.methodName=d.readString("ascii")}onWrite(d){d.writeString(this.username||"","utf8"),d.writeString(this.serviceName||"","ascii"),d.writeString(this.validateField(this.methodName,"method name"),"ascii")}}m.AuthenticationRequestMessage=AuthenticationRequestMessage;m.PublicKeyRequestMessage=class PublicKeyRequestMessage extends AuthenticationRequestMessage{constructor(){super(),this.methodName="publickey"}get hasSignature(){return!!(this.signature&&this.signature.length>0)}onRead(d){super.onRead(d);const m=d.readBoolean();this.keyAlgorithmName=d.readString("ascii"),this.publicKey=d.readBinary(),m?(this.signature=d.readBinary(),this.payloadWithoutSignature=this.rawBytes.slice(0,this.rawBytes.length-this.signature.length-4)):this.signature=void 0}onWrite(d){var m,g;if(super.onWrite(d),!this.keyAlgorithmName)throw new Error("Key algorithm name not set.");if("hostbased"===this.methodName){if(d.writeString(this.keyAlgorithmName,"ascii"),d.writeBinary(this.publicKey||Buffer.alloc(0)),d.writeString(null!==(m=this.clientHostname)&&void 0!==m?m:"","ascii"),d.writeString(null!==(g=this.clientUsername)&&void 0!==g?g:"","ascii"),!this.hasSignature)throw new Error("A signature is required for a host-based authentcation request.");d.writeBinary(this.signature)}else d.writeBoolean(this.hasSignature),d.writeString(this.keyAlgorithmName,"ascii"),d.writeBinary(this.publicKey||Buffer.alloc(0)),this.hasSignature&&d.writeBinary(this.signature)}};m.PublicKeyOKMessage=class PublicKeyOKMessage extends AuthenticationMessage{get messageType(){return 60}onRead(d){this.keyAlgorithmName=d.readString("ascii"),this.publicKey=d.readBinary()}onWrite(d){if(!this.keyAlgorithmName)throw new Error("Key algorithm name not set.");if(!this.publicKey)throw new Error("Public key not set.");d.writeString(this.keyAlgorithmName,"ascii"),d.writeBinary(this.publicKey)}};m.PasswordRequestMessage=class PasswordRequestMessage extends AuthenticationRequestMessage{constructor(){super(),this.methodName="password"}onRead(d){super.onRead(d),d.readBoolean(),this.password=d.readString("utf8")}onWrite(d){super.onWrite(d),d.writeBoolean(!1),d.writeString(this.password||"","utf8")}};class AuthenticationFailureMessage extends AuthenticationMessage{constructor(){super(...arguments),this.partialSuccess=!1}get messageType(){return 51}onRead(d){this.methodNames=d.readList("ascii"),this.partialSuccess=d.readBoolean()}onWrite(d){d.writeList(this.methodNames||[],"ascii"),d.writeBoolean(this.partialSuccess)}}m.AuthenticationFailureMessage=AuthenticationFailureMessage;class AuthenticationSuccessMessage extends AuthenticationMessage{get messageType(){return 52}onRead(d){}onWrite(d){}}m.AuthenticationSuccessMessage=AuthenticationSuccessMessage,v.SshMessage.index.set(50,AuthenticationRequestMessage),v.SshMessage.index.set(51,AuthenticationFailureMessage),v.SshMessage.index.set(52,AuthenticationSuccessMessage)},83069:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.ChannelFailureMessage=m.ChannelSuccessMessage=m.ChannelSignalMessage=m.CommandRequestMessage=m.ChannelRequestMessage=m.ChannelRequestType=m.ChannelCloseMessage=m.ChannelEofMessage=m.ChannelDataMessage=m.ChannelWindowAdjustMessage=m.ChannelOpenFailureMessage=m.SshChannelOpenFailureReason=m.ChannelOpenConfirmationMessage=m.ChannelOpenMessage=m.ChannelMessage=m.ConnectionMessage=void 0;const v=g(23683),y=g(74837);class ConnectionMessage extends v.SshMessage{}m.ConnectionMessage=ConnectionMessage;class ChannelMessage extends ConnectionMessage{get recipientChannel(){return this.recipientChannelValue}set recipientChannel(d){d!==this.recipientChannelValue&&(this.recipientChannelValue=d,this.rawBytes&&y.SshDataWriter.writeUInt32(this.rawBytes,1,null!=d?d:0))}onRead(d){this.recipientChannel=d.readUInt32()}onWrite(d){d.writeUInt32(this.validateField(this.recipientChannel,"recipient channel"))}toString(){return`${super.toString()} (recipientChannel=${this.recipientChannel})`}}m.ChannelMessage=ChannelMessage;class ChannelOpenMessage extends ConnectionMessage{get messageType(){return 90}get senderChannel(){return this.senderChannelValue}set senderChannel(d){d!==this.senderChannelValue&&(this.senderChannelValue=d,this.rawBytes&&this.channelType&&y.SshDataWriter.writeUInt32(this.rawBytes,5+this.channelType.length,null!=d?d:0))}onRead(d){this.channelType=d.readString("ascii"),this.senderChannel=d.readUInt32(),this.maxWindowSize=d.readUInt32(),this.maxPacketSize=d.readUInt32()}onWrite(d){d.writeString(this.validateField(this.channelType,"channel type"),"ascii"),d.writeUInt32(this.validateField(this.senderChannel,"sender channel")),d.writeUInt32(this.maxWindowSize||ChannelOpenMessage.defaultMaxWindowSize),d.writeUInt32(this.maxPacketSize||ChannelOpenMessage.defaultMaxPacketSize)}toString(){return`${super.toString()}(channelType=${this.channelType}, senderChannel=${this.senderChannel})`}}m.ChannelOpenMessage=ChannelOpenMessage,ChannelOpenMessage.defaultMaxPacketSize=32768,ChannelOpenMessage.defaultMaxWindowSize=1048576;class ChannelOpenConfirmationMessage extends ChannelMessage{get messageType(){return 91}onRead(d){super.onRead(d),this.senderChannel=d.readUInt32(),this.maxWindowSize=d.readUInt32(),this.maxPacketSize=d.readUInt32()}onWrite(d){super.onWrite(d),d.writeUInt32(this.validateField(this.senderChannel,"sender channel")),d.writeUInt32(this.validateField(this.maxWindowSize,"max window size")),d.writeUInt32(this.validateField(this.maxPacketSize,"max packet size"))}toString(){return`${super.toString()}(senderChannel=${this.senderChannel})`}}var C,_;m.ChannelOpenConfirmationMessage=ChannelOpenConfirmationMessage,function(d){d[d.none=0]="none",d[d.administrativelyProhibited=1]="administrativelyProhibited",d[d.connectFailed=2]="connectFailed",d[d.unknownChannelType=3]="unknownChannelType",d[d.resourceShortage=4]="resourceShortage"}(C=m.SshChannelOpenFailureReason||(m.SshChannelOpenFailureReason={}));class ChannelOpenFailureMessage extends ChannelMessage{get messageType(){return 92}onRead(d){super.onRead(d),this.reasonCode=d.readUInt32(),this.description=d.readString("utf8"),this.language=d.readString("ascii")}onWrite(d){super.onWrite(d),d.writeUInt32(this.validateField(this.reasonCode,"reason code")),d.writeString(this.description||"","utf8"),d.writeString(this.language||"en","ascii")}toString(){return`${super.toString()} (${C[this.reasonCode||0]}: ${this.description})`}}m.ChannelOpenFailureMessage=ChannelOpenFailureMessage;class ChannelWindowAdjustMessage extends ChannelMessage{get messageType(){return 93}onRead(d){super.onRead(d),this.bytesToAdd=d.readUInt32()}onWrite(d){super.onWrite(d),d.writeUInt32(this.validateField(this.bytesToAdd,"bytes to add"))}toString(){return`${super.toString()} (bytesToAdd=${this.bytesToAdd})`}}m.ChannelWindowAdjustMessage=ChannelWindowAdjustMessage;class ChannelDataMessage extends ChannelMessage{get messageType(){return 94}onRead(d){super.onRead(d),this.data=d.readBinary()}onWrite(d){super.onWrite(d),d.writeBinary(this.validateField(this.data,"data"))}toString(){return this.data?(0,y.formatBuffer)(this.data,""):"[0]"}}m.ChannelDataMessage=ChannelDataMessage;class ChannelEofMessage extends ChannelMessage{get messageType(){return 96}}m.ChannelEofMessage=ChannelEofMessage;class ChannelCloseMessage extends ChannelMessage{get messageType(){return 97}}m.ChannelCloseMessage=ChannelCloseMessage,function(d){d.command="exec",d.shell="shell",d.terminal="pty-req",d.signal="signal",d.exitSignal="exit-signal",d.exitStatus="exit-status"}(_=m.ChannelRequestType||(m.ChannelRequestType={}));class ChannelRequestMessage extends ChannelMessage{constructor(d,m){super(),this.requestType=d,this.wantReply=null!=m&&m}get messageType(){return 98}onRead(d){super.onRead(d),this.requestType=d.readString("ascii"),this.wantReply=d.readBoolean()}onWrite(d){void 0===this.recipientChannel&&(this.recipientChannel=0),super.onWrite(d),d.writeString(this.validateField(this.requestType,"request type"),"ascii"),d.writeBoolean(this.wantReply)}}m.ChannelRequestMessage=ChannelRequestMessage;m.CommandRequestMessage=class CommandRequestMessage extends ChannelRequestMessage{constructor(){super(),this.requestType=_.command}onRead(d){super.onRead(d),this.command=d.readString("utf8")}onWrite(d){super.onWrite(d),d.writeString(this.validateField(this.command,"command"),"utf8")}toString(){return`${super.toString()} (requestType=${this.requestType})`}};m.ChannelSignalMessage=class ChannelSignalMessage extends ChannelRequestMessage{constructor(){super()}get signal(){return this.signalValue}set signal(d){this.requestType=_.signal,this.signalValue=d}get exitSignal(){return this.signalValue}set exitSignal(d){this.requestType=_.exitSignal,this.signalValue=d}get errorMessage(){return this.errorMessageValue}set errorMessage(d){if(this.requestType!==_.exitSignal)throw new Error(`Error message property is only valid for ${_.exitSignal} messages.`);this.errorMessageValue=d}get exitStatus(){return this.statusValue}set exitStatus(d){this.requestType=_.exitStatus,this.statusValue=d}onRead(d){switch(super.onRead(d),this.requestType){case _.exitStatus:this.exitStatus=d.readUInt32();break;case _.signal:this.signal=d.readString("ascii");break;case _.exitSignal:this.exitSignal=d.readString("ascii"),d.readBoolean(),this.errorMessage=d.readString("utf8"),d.readString("ascii")}}onWrite(d){if(!this.requestType)throw new Error("Signal message request type not set.");switch(this.wantReply=!1,super.onWrite(d),this.requestType){case _.exitStatus:d.writeUInt32(this.validateField(this.exitStatus,"exit status"));break;case _.signal:d.writeString(this.validateField(this.signal,"signal"),"ascii");break;case _.exitSignal:d.writeString(this.validateField(this.exitSignal,"exit signal"),"ascii"),d.writeBoolean(!1),d.writeString(this.errorMessage||"","utf8"),d.writeString("","ascii");break;default:throw new Error(`Unknown signal message request type: ${this.requestType}`)}}};class ChannelSuccessMessage extends ChannelMessage{get messageType(){return 99}}m.ChannelSuccessMessage=ChannelSuccessMessage;class ChannelFailureMessage extends ChannelMessage{get messageType(){return 100}}m.ChannelFailureMessage=ChannelFailureMessage,v.SshMessage.index.set(90,ChannelOpenMessage),v.SshMessage.index.set(91,ChannelOpenConfirmationMessage),v.SshMessage.index.set(92,ChannelOpenFailureMessage),v.SshMessage.index.set(93,ChannelWindowAdjustMessage),v.SshMessage.index.set(94,ChannelDataMessage),v.SshMessage.index.set(96,ChannelEofMessage),v.SshMessage.index.set(97,ChannelCloseMessage),v.SshMessage.index.set(98,ChannelRequestMessage),v.SshMessage.index.set(99,ChannelSuccessMessage),v.SshMessage.index.set(100,ChannelFailureMessage)},36891:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.NewKeysMessage=m.KeyExchangeDhReplyMessage=m.KeyExchangeDhInitMessage=m.KeyExchangeInitMessage=m.KeyExchangeMessage=void 0;const v=g(14300),y=g(23683),C=g(3120);class KeyExchangeMessage extends y.SshMessage{}m.KeyExchangeMessage=KeyExchangeMessage;class KeyExchangeInitMessage extends KeyExchangeMessage{get messageType(){return 20}onRead(d){this.cookie=d.read(16),this.keyExchangeAlgorithms=d.readList("ascii"),this.serverHostKeyAlgorithms=d.readList("ascii"),this.encryptionAlgorithmsClientToServer=d.readList("ascii"),this.encryptionAlgorithmsServerToClient=d.readList("ascii"),this.macAlgorithmsClientToServer=d.readList("ascii"),this.macAlgorithmsServerToClient=d.readList("ascii"),this.compressionAlgorithmsClientToServer=d.readList("ascii"),this.compressionAlgorithmsServerToClient=d.readList("ascii"),this.languagesClientToServer=d.readList("ascii"),this.languagesServerToClient=d.readList("ascii"),this.firstKexPacketFollows=d.readBoolean(),this.reserved=d.readUInt32()}onWrite(d){var m;this.cookie||(this.cookie=v.Buffer.alloc(16),C.SshAlgorithms.random.getBytes(this.cookie)),d.write(this.cookie),d.writeList(this.keyExchangeAlgorithms||[],"ascii"),d.writeList(this.serverHostKeyAlgorithms||[],"ascii"),d.writeList(this.encryptionAlgorithmsClientToServer||[],"ascii"),d.writeList(this.encryptionAlgorithmsServerToClient||[],"ascii"),d.writeList(this.macAlgorithmsClientToServer||[],"ascii"),d.writeList(this.macAlgorithmsServerToClient||[],"ascii"),d.writeList(this.compressionAlgorithmsClientToServer||[],"ascii"),d.writeList(this.compressionAlgorithmsServerToClient||[],"ascii"),d.writeList(this.languagesClientToServer||[],"ascii"),d.writeList(this.languagesServerToClient||[],"ascii"),d.writeBoolean(null!==(m=this.firstKexPacketFollows)&&void 0!==m&&m),d.writeUInt32(this.reserved||0)}static CreateNone(){const d=["none"],m=[""],g=new KeyExchangeInitMessage;return g.cookie=v.Buffer.alloc(16),g.keyExchangeAlgorithms=d,g.serverHostKeyAlgorithms=d,g.encryptionAlgorithmsClientToServer=d,g.encryptionAlgorithmsServerToClient=d,g.macAlgorithmsClientToServer=d,g.macAlgorithmsServerToClient=d,g.compressionAlgorithmsClientToServer=d,g.compressionAlgorithmsServerToClient=d,g.languagesClientToServer=m,g.languagesServerToClient=m,g.rawBytes=g.toBuffer(),g}get allowsNone(){const includesNone=d=>!0===(null==d?void 0:d.includes("none"));return includesNone(this.keyExchangeAlgorithms)&&includesNone(this.serverHostKeyAlgorithms)&&includesNone(this.encryptionAlgorithmsClientToServer)&&includesNone(this.encryptionAlgorithmsServerToClient)&&includesNone(this.macAlgorithmsClientToServer)&&includesNone(this.macAlgorithmsServerToClient)&&includesNone(this.compressionAlgorithmsClientToServer)&&includesNone(this.compressionAlgorithmsServerToClient)&&!0!==this.firstKexPacketFollows}}m.KeyExchangeInitMessage=KeyExchangeInitMessage,KeyExchangeInitMessage.none=KeyExchangeInitMessage.CreateNone();class KeyExchangeDhInitMessage extends KeyExchangeMessage{get messageType(){return 30}onRead(d){this.e=d.readBinary()}onWrite(d){d.writeBinary(this.validateField(this.e,"E"))}}m.KeyExchangeDhInitMessage=KeyExchangeDhInitMessage;class KeyExchangeDhReplyMessage extends KeyExchangeMessage{get messageType(){return 31}onRead(d){this.hostKey=d.readBinary(),this.f=d.readBinary(),this.signature=d.readBinary()}onWrite(d){d.writeBinary(this.validateField(this.hostKey,"host key")),d.writeBinary(this.validateField(this.f,"F")),d.writeBinary(this.validateField(this.signature,"signature"))}}m.KeyExchangeDhReplyMessage=KeyExchangeDhReplyMessage;class NewKeysMessage extends KeyExchangeMessage{get messageType(){return 21}onRead(d){}onWrite(d){}}m.NewKeysMessage=NewKeysMessage,y.SshMessage.index.set(20,KeyExchangeInitMessage),y.SshMessage.index.set(30,KeyExchangeDhInitMessage),y.SshMessage.index.set(31,KeyExchangeDhReplyMessage),y.SshMessage.index.set(21,NewKeysMessage)},23683:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SshMessage=void 0;const v=g(14300),y=g(74837);class SshMessage{get messageType(){return 0}toBuffer(){const d=new y.SshDataWriter(v.Buffer.alloc(16));return this.write(d),d.toBuffer()}read(d){this.rawBytes=d.buffer;const m=d.readByte();if(m!==this.messageType)throw new Error(`Message type ${m} is not valid.`);this.onRead(d)}write(d){this.rawBytes?d.write(this.rawBytes):(d.writeByte(this.messageType),this.onWrite(d))}onRead(d){throw new Error("Not supported.")}onWrite(d){throw new Error("Not supported.")}validateField(d,m){if(void 0===d)throw new Error(`${this.constructor.name} ${m} is required.`);return d}toString(){return this.constructor.name}static create(d,m,g){const v=d.messages.get(m);if(v){const d=new v;return d.read(new y.SshDataReader(g)),d}return null}convertTo(d,m=!1){const g=new y.SshDataReader(m?v.Buffer.from(this.rawBytes):this.rawBytes);return d.read(g),d}}m.SshMessage=SshMessage,SshMessage.index=new Map},99301:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SessionReconnectFailureMessage=m.SshReconnectFailureReason=m.SessionReconnectResponseMessage=m.SessionReconnectRequestMessage=m.SessionChannelRequestMessage=m.ExtensionInfoMessage=m.SessionRequestFailureMessage=m.SessionRequestSuccessMessage=m.SessionRequestMessage=m.ServiceAcceptMessage=m.ServiceRequestMessage=m.DebugMessage=m.UnimplementedMessage=m.IgnoreMessage=m.DisconnectMessage=m.SshDisconnectReason=void 0;const v=g(23683),y=g(83069);var C,_;!function(d){d[d.none=0]="none",d[d.hostNotAllowedToConnect=1]="hostNotAllowedToConnect",d[d.protocolError=2]="protocolError",d[d.keyExchangeFailed=3]="keyExchangeFailed",d[d.reserved=4]="reserved",d[d.macError=5]="macError",d[d.compressionError=6]="compressionError",d[d.serviceNotAvailable=7]="serviceNotAvailable",d[d.protocolVersionNotSupported=8]="protocolVersionNotSupported",d[d.hostKeyNotVerifiable=9]="hostKeyNotVerifiable",d[d.connectionLost=10]="connectionLost",d[d.byApplication=11]="byApplication",d[d.tooManyConnections=12]="tooManyConnections",d[d.authCancelledByUser=13]="authCancelledByUser",d[d.noMoreAuthMethodsAvailable=14]="noMoreAuthMethodsAvailable",d[d.illegalUserName=15]="illegalUserName"}(C=m.SshDisconnectReason||(m.SshDisconnectReason={}));class DisconnectMessage extends v.SshMessage{get messageType(){return 1}onRead(d){this.reasonCode=d.readUInt32(),this.description=d.readString("utf8"),d.available>=4?this.language=d.readString("ascii"):this.language=null}onWrite(d){d.writeUInt32(this.validateField(this.reasonCode,"reason code")),d.writeString(this.description||"","utf8"),this.language&&d.writeString(this.language,"ascii")}toString(){return`${super.toString()} (${C[this.reasonCode||0]}: ${this.description})`}}m.DisconnectMessage=DisconnectMessage;class IgnoreMessage extends v.SshMessage{get messageType(){return 2}onRead(d){}onWrite(d){}}m.IgnoreMessage=IgnoreMessage;class UnimplementedMessage extends v.SshMessage{get messageType(){return 3}onRead(d){this.sequenceNumber=d.readUInt32()}onWrite(d){d.writeUInt32(this.validateField(this.sequenceNumber,"sequence number"))}toString(){return this.unimplementedMessageType?`${super.toString()} (messageType=${this.unimplementedMessageType})`:`${super.toString()} (sequenceNumber=${this.sequenceNumber})`}}m.UnimplementedMessage=UnimplementedMessage;class DebugMessage extends v.SshMessage{constructor(d){super(),this.alwaysDisplay=!1,this.message=d}get messageType(){return 4}onRead(d){this.alwaysDisplay=d.readBoolean(),this.message=d.readString("utf8"),this.language=d.readString("ascii")}onWrite(d){var m,g;d.writeBoolean(this.alwaysDisplay),d.writeString(null!==(m=this.message)&&void 0!==m?m:"","utf8"),d.writeString(null!==(g=this.language)&&void 0!==g?g:"","ascii")}toString(){return`${super.toString()}: ${this.message}`}}m.DebugMessage=DebugMessage;class ServiceRequestMessage extends v.SshMessage{get messageType(){return 5}onRead(d){this.serviceName=d.readString("ascii")}onWrite(d){d.writeString(this.validateField(this.serviceName,"service name"),"ascii")}}m.ServiceRequestMessage=ServiceRequestMessage;class ServiceAcceptMessage extends v.SshMessage{get messageType(){return 6}onRead(d){this.serviceName=d.readString("ascii")}onWrite(d){d.writeString(this.validateField(this.serviceName,"service name"),"ascii")}}m.ServiceAcceptMessage=ServiceAcceptMessage;class SessionRequestMessage extends v.SshMessage{constructor(d,m){super(),this.requestType=d,this.wantReply=null!=m&&m}get messageType(){return 80}onRead(d){this.requestType=d.readString("ascii"),this.wantReply=d.readBoolean()}onWrite(d){d.writeString(this.validateField(this.requestType,"request type"),"ascii"),d.writeBoolean(this.wantReply)}toString(){return`${super.toString()} (requestType=${this.requestType})`}}m.SessionRequestMessage=SessionRequestMessage;class SessionRequestSuccessMessage extends v.SshMessage{get messageType(){return 81}onRead(d){}onWrite(d){}}m.SessionRequestSuccessMessage=SessionRequestSuccessMessage;class SessionRequestFailureMessage extends v.SshMessage{get messageType(){return 82}onRead(d){}onWrite(d){}}m.SessionRequestFailureMessage=SessionRequestFailureMessage;class ExtensionInfoMessage extends v.SshMessage{constructor(){super(...arguments),this.extensionInfo={}}get messageType(){return 7}onRead(d){const m=d.readUInt32();this.extensionInfo={};for(let g=0;g<m;g++){const m=d.readString("ascii"),g=d.readString("utf8");this.extensionInfo[m]=g}}onWrite(d){const m=Object.keys(this.extensionInfo);d.writeUInt32(m.length);for(const g of m)d.writeString(g,"ascii"),d.writeString(this.extensionInfo[g]||"","utf8")}toString(){let d="";for(const[m,g]of Object.entries(this.extensionInfo))d&&(d+="; "),d+=m,g&&(d+="="+g);return`${super.toString()} (${d})`}}m.ExtensionInfoMessage=ExtensionInfoMessage,ExtensionInfoMessage.serverIndicator="ext-info-c",ExtensionInfoMessage.clientIndicator="ext-info-c";m.SessionChannelRequestMessage=class SessionChannelRequestMessage extends SessionRequestMessage{onRead(d){super.onRead(d),this.senderChannel=d.readUInt32();const m=new y.ChannelRequestMessage;m.read(d),this.request=m}onWrite(d){super.onWrite(d),d.writeUInt32(this.validateField(this.senderChannel,"sender channel")),this.validateField(this.request,"request message").write(d)}};m.SessionReconnectRequestMessage=class SessionReconnectRequestMessage extends SessionRequestMessage{onRead(d){super.onRead(d),this.clientReconnectToken=d.readBinary(),this.lastReceivedSequenceNumber=d.readUInt64()}onWrite(d){super.onWrite(d),d.writeBinary(this.validateField(this.clientReconnectToken,"clientReconnectToken")),d.writeUInt64(this.validateField(this.lastReceivedSequenceNumber,"lastReceivedSequenceNumber"))}};m.SessionReconnectResponseMessage=class SessionReconnectResponseMessage extends SessionRequestSuccessMessage{onRead(d){super.onRead(d),this.serverReconnectToken=d.readBinary(),this.lastReceivedSequenceNumber=d.readUInt64()}onWrite(d){super.onWrite(d),d.writeBinary(this.validateField(this.serverReconnectToken,"serverReconnectToken")),d.writeUInt64(this.validateField(this.lastReceivedSequenceNumber,"lastReceivedSequenceNumber"))}},function(d){d[d.none=0]="none",d[d.unknownServerFailure=1]="unknownServerFailure",d[d.sessionNotFound=2]="sessionNotFound",d[d.invalidClientReconnectToken=3]="invalidClientReconnectToken",d[d.serverDroppedMessages=4]="serverDroppedMessages",d[d.unknownClientFailure=101]="unknownClientFailure",d[d.differentServerHostKey=102]="differentServerHostKey",d[d.invalidServerReconnectToken=103]="invalidServerReconnectToken",d[d.clientDroppedMessages=104]="clientDroppedMessages"}(_=m.SshReconnectFailureReason||(m.SshReconnectFailureReason={}));m.SessionReconnectFailureMessage=class SessionReconnectFailureMessage extends SessionRequestFailureMessage{onRead(d){d.available>0&&(this.reasonCode=d.readUInt32(),this.description=d.readString("utf8"),this.language=d.readString("ascii"))}onWrite(d){d.writeUInt32(this.validateField(this.reasonCode,"reason code")),d.writeString(this.description||"","utf8"),d.writeString(this.language||"en","ascii")}toString(){return`${super.toString()} (${_[this.reasonCode||0]}: ${this.description})`}},v.SshMessage.index.set(1,DisconnectMessage),v.SshMessage.index.set(2,IgnoreMessage),v.SshMessage.index.set(3,UnimplementedMessage),v.SshMessage.index.set(5,ServiceRequestMessage),v.SshMessage.index.set(6,ServiceAcceptMessage),v.SshMessage.index.set(7,ExtensionInfoMessage),v.SshMessage.index.set(80,SessionRequestMessage),v.SshMessage.index.set(81,SessionRequestSuccessMessage),v.SshMessage.index.set(82,SessionRequestFailureMessage)},23775:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.ChannelMetrics=void 0;m.ChannelMetrics=class ChannelMetrics{constructor(){this.bytesSentSum=0,this.bytesReceivedSum=0}get bytesSent(){return this.bytesSentSum}get bytesReceived(){return this.bytesReceivedSum}addBytesSent(d){this.bytesSentSum+=d}addBytesReceived(d){this.bytesReceivedSum+=d}toString(){return`Bytes S/R: ${this.bytesSent} / ${this.bytesReceived}; `}}},45291:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SessionContour=void 0;const v=g(46252),y=g(66491),C=g(94945);class SessionContour{constructor(d=256){if(this.intervalMs=SessionContour.initialInterval,this.count=0,this.updateQueue=new y.Queue,this.updateSemaphore=new C.Semaphore(0),this.disposed=!1,d<2||0!=(d&d-1))throw new Error("Contour intervals must be a power of two.");this.maxIntervals=d,this.intervalBytesSent=new Array(d),this.intervalBytesReceived=new Array(d),this.intervalLatencyMin=new Array(d),this.intervalLatencyMax=new Array(d),this.intervalLatencySum=new Array(d),this.intervalLatencyCount=new Array(d),this.intervalLatencyAvg=new Array(d),this.intervalBytesSent.fill(0),this.intervalBytesReceived.fill(0),this.intervalLatencyMin.fill(0),this.intervalLatencyMax.fill(0),this.intervalLatencySum.fill(0),this.intervalLatencyCount.fill(0),this.intervalLatencyAvg.fill(0)}get intervalCount(){return this.count}get interval(){return this.intervalMs}get bytesSent(){return this.intervalBytesSent.slice(0,this.count)}get bytesReceived(){return this.intervalBytesReceived.slice(0,this.count)}get latencyMinMs(){return this.intervalLatencyMin.slice(0,this.count)}get latencyMaxMs(){return this.intervalLatencyMax.slice(0,this.count)}get latencyAverageMs(){return this.intervalLatencyAvg.slice(0,this.count)}onMessageSent(d){this.updateQueue.enqueue({time:d.time,bytesSent:d.size}),this.updateSemaphore.tryRelease()}onMessageReceived(d){this.updateQueue.enqueue({time:d.time,bytesReceived:d.size}),this.updateSemaphore.tryRelease()}onLatencyUpdated(d){this.updateQueue.enqueue(d),this.updateSemaphore.tryRelease()}onSessionClosed(){this.updateSemaphore.tryRelease()}async collectMetrics(d,m){if(!d)throw new TypeError("A session metrics object is required.");if(this.disposed)throw new v.ObjectDisposedError(this);const g=[];g.push(d.onMessageSent(this.onMessageSent.bind(this))),g.push(d.onMessageReceived(this.onMessageReceived.bind(this))),g.push(d.onLatencyUpdated(this.onLatencyUpdated.bind(this))),g.push(d.onSessionClosed(this.onSessionClosed.bind(this)));try{for(;!(null==m?void 0:m.isCancellationRequested);){try{await this.updateSemaphore.wait(m)}catch(d){break}const d=this.updateQueue.dequeue();if(!d)break;const g=this.updateInterval(d.time);d.bytesSent&&(this.intervalBytesSent[g]+=d.bytesSent),d.bytesReceived&&(this.intervalBytesReceived[g]+=d.bytesReceived);const v=d.latency;v&&((!this.intervalLatencyMin[g]||v<this.intervalLatencyMin[g])&&(this.intervalLatencyMin[g]=v),(!this.intervalLatencyMax[g]||v>this.intervalLatencyMax[g])&&(this.intervalLatencyMax[g]=v),this.intervalLatencySum[g]+=v,this.intervalLatencyCount[g]++,this.intervalLatencyAvg[g]=this.intervalLatencySum[g]/this.intervalLatencyCount[g])}this.disposed&&this.updateSemaphore.dispose()}finally{for(const d of g)d.dispose()}}updateInterval(d){let m=Math.floor(d/this.intervalMs);if(m>=this.intervalCount){for(;m>=this.maxIntervals;)this.expandIntervals(),m=Math.floor(d/this.intervalMs);this.count=m+1}return m}expandIntervals(){const combineLatency=(d,m,g)=>0===d?m:0===m?d:g(d,m),d=this.maxIntervals/2;for(let m=0;m<d;m++){const d=2*m,g=2*m+1;this.intervalBytesSent[m]=this.intervalBytesSent[d]+this.intervalBytesSent[g],this.intervalBytesReceived[m]=this.intervalBytesReceived[d]+this.intervalBytesReceived[g],this.intervalLatencyMin[m]=combineLatency(this.intervalLatencyMin[d],this.intervalLatencyMin[g],Math.min),this.intervalLatencyMax[m]=combineLatency(this.intervalLatencyMax[d],this.intervalLatencyMax[g],Math.max),this.intervalLatencySum[m]=this.intervalLatencySum[d]+this.intervalLatencySum[g];const v=this.intervalLatencyCount[d]+this.intervalLatencyCount[g];this.intervalLatencyCount[m]=v,this.intervalLatencyAvg[m]=0===v?0:this.intervalLatencySum[m]/this.intervalLatencyCount[m]}this.intervalBytesSent.fill(0,d,this.maxIntervals),this.intervalBytesReceived.fill(0,d,this.maxIntervals),this.intervalLatencyMin.fill(0,d,this.maxIntervals),this.intervalLatencyMax.fill(0,d,this.maxIntervals),this.intervalLatencySum.fill(0,d,this.maxIntervals),this.intervalLatencyCount.fill(0,d,this.maxIntervals),this.intervalLatencyAvg.fill(0,d,this.maxIntervals),this.intervalMs*=2}dispose(){this.disposed=!0,this.updateSemaphore.tryRelease()}export(){const getScale=d=>Math.max(0,Math.ceil(Math.log2(Math.max(...d)/255))),applyReverseScale=(d,m)=>Math.round(d/Math.pow(2,m)),d=Buffer.alloc(3+5*(2+this.intervalCount)),m=Math.log2(this.interval/SessionContour.initialInterval);d[0]=1,d[1]=5,d[2]=m,d[3]=getScale(this.latencyMinMs),d[4]=getScale(this.latencyMaxMs),d[5]=getScale(this.latencyAverageMs),d[6]=getScale(this.bytesSent),d[7]=getScale(this.bytesReceived),d[8]=_.latencyMin,d[9]=_.latencyMax,d[10]=_.latencyAverage,d[11]=_.bytesSent,d[12]=_.bytesReceived;for(let m=0;m<this.intervalCount;m++){const g=13+5*m;d[g+0]=applyReverseScale(this.intervalLatencyMin[m],d[3]),d[g+1]=applyReverseScale(this.intervalLatencyMax[m],d[4]),d[g+2]=applyReverseScale(this.intervalLatencyAvg[m],d[5]),d[g+3]=applyReverseScale(this.intervalBytesSent[m],d[6]),d[g+4]=applyReverseScale(this.intervalBytesReceived[m],d[7])}return d.toString("base64")}static import(d){const m=Buffer.from(d,"base64");if(m.length<3)throw new Error("Invalid session contour string.");const g=m[0],v=m[1],y=m[2];if(1!==g)throw new Error(`Unsupported session contour version: ${g}`);const C=(m.length-3)/v-2;if(C<1||m.length!==3+v*(C+2))throw new Error("Incomplete session contour string.");const T=Math.pow(2,Math.ceil(Math.log2(C))),b=new SessionContour(T);b.intervalMs=Math.pow(2,y)*SessionContour.initialInterval,b.count=C;const A=new Array(v);for(let d=0;d<v;d++)A[d]=Math.pow(2,m[3+d]);const P=new Array(v);for(let d=0;d<v;d++)P[d]=m[3+v+d];for(let d=0;d<C;d++){const g=3+(2+d)*v;for(let y=0;y<v;y++)switch(P[y]){case _.latencyMin:b.intervalLatencyMin[d]=m[g+y]*A[y];break;case _.latencyMax:b.intervalLatencyMax[d]=m[g+y]*A[y];break;case _.latencyAverage:b.intervalLatencyAvg[d]=b.intervalLatencySum[d]=m[g+y]*A[y],b.intervalLatencyCount[d]=0===m[g+y]?0:1;break;case _.bytesSent:b.intervalBytesSent[d]=m[g+y]*A[y];break;case _.bytesReceived:b.intervalBytesReceived[d]=m[g+y]*A[y]}}return b}}var _;m.SessionContour=SessionContour,SessionContour.initialInterval=1e3,function(d){d[d.none=0]="none",d[d.latencyMin=1]="latencyMin",d[d.latencyMax=2]="latencyMax",d[d.latencyAverage=3]="latencyAverage",d[d.bytesSent=11]="bytesSent",d[d.bytesReceived=12]="bytesReceived"}(_||(_={}))},70105:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SessionMetrics=void 0;const v=g(87091);m.SessionMetrics=class SessionMetrics{constructor(){this.startTime=0,this.messagesSentCount=0,this.messagesReceivedCount=0,this.bytesSentSum=0,this.bytesReceivedSum=0,this.reconnectionsCount=0,this.currentLatency=0,this.minLatency=0,this.maxLatency=0,this.latencySum=0,this.latencyCount=0,this.messageSentEmitter=new v.Emitter,this.onMessageSent=this.messageSentEmitter.event,this.messageReceivedEmitter=new v.Emitter,this.onMessageReceived=this.messageReceivedEmitter.event,this.latencyUpdatedEmitter=new v.Emitter,this.onLatencyUpdated=this.latencyUpdatedEmitter.event,this.sessionClosedEmitter=new v.Emitter,this.onSessionClosed=this.sessionClosedEmitter.event,"object"==typeof performance&&"function"==typeof performance.now?Object.defineProperty(this,"time",{get:this.browserTime}):"object"==typeof process&&"function"==typeof process.hrtime&&Object.defineProperty(this,"time",{get:this.nodejsTime}),this.startTime=this.time}get time(){return Date.now()-this.startTime}browserTime(){return performance.now()-this.startTime}nodejsTime(){const[d,m]=process.hrtime();return 1e3*d+m/1e6-this.startTime}get messagesSent(){return this.messagesSentCount}get messagesReceived(){return this.messagesReceivedCount}get bytesSent(){return this.bytesSentSum}get bytesReceived(){return this.bytesReceivedSum}get reconnections(){return this.reconnectionsCount}get latencyAverageMs(){return 0===this.latencyCount?0:this.latencySum/this.latencyCount}get latencyMinMs(){return this.minLatency}get latencyMaxMs(){return this.maxLatency}get latencyCurrentMs(){return this.currentLatency}addMessageSent(d){this.messagesSentCount++,this.bytesSentSum+=d,this.messageSentEmitter.fire({time:this.time,size:d})}addMessageReceived(d){this.messagesReceivedCount++,this.bytesReceivedSum+=d,this.messageReceivedEmitter.fire({time:this.time,size:d})}addReconnection(){this.reconnectionsCount++}updateLatency(d){if(d<0)throw new Error("Measured latency cannot be negative.");this.currentLatency=d,0!==d&&((0===this.minLatency||d<this.minLatency)&&(this.minLatency=d),(0===this.maxLatency||d>this.maxLatency)&&(this.maxLatency=d),this.latencySum+=d,this.latencyCount++,this.latencyUpdatedEmitter.fire({time:this.time,latency:d}))}close(){this.currentLatency=0,this.sessionClosedEmitter.fire()}toString(){let d=`Messages S/R: ${this.messagesSent} / ${this.messagesReceived}; Bytes S/R: ${this.bytesSent} / ${this.bytesReceived}; Reconnections: ${this.reconnections}; `;const m=this.minLatency>=10?1:this.minLatency>=1?10:100;if(this.maxLatency>0){d+=`Latency Min-Avg-Max: ${Math.round(this.minLatency*m)/m} - ${Math.round(this.latencySum/this.latencyCount*m)/m} - ${Math.round(this.maxLatency*m)/m} ms; `}if(this.currentLatency>0){d+=`Current Latency: ${Math.round(this.currentLatency*m)/m} ms; `}return d}}},80117:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.MultiChannelStream=void 0;const v=g(87091),y=g(13843),C=g(32377),_=g(63716),T=g(20409),b=g(99301),A=g(75947),P=g(83069);m.MultiChannelStream=class MultiChannelStream{constructor(d){if(this.transportStream=d,this.disposed=!1,this.disposables=[],this.channelMaxWindowSize=y.SshChannel.defaultMaxWindowSize,this.closedEmitter=new v.Emitter,this.onClosed=this.closedEmitter.event,this.channelOpeningEmitter=new v.Emitter,this.onChannelOpening=this.channelOpeningEmitter.event,!d)throw new TypeError("transportStream is required.");const m=new T.SshSessionConfiguration(!1);this.session=new _.SshSession(m),this.session.onClosed(this.onSessionClosed,this,this.disposables),this.session.onChannelOpening(this.onSessionChannelOpening,this,this.disposables)}get trace(){return this.session.trace}set trace(d){this.session.trace=d}get isClosed(){return this.disposed||this.session.isClosed}async connect(d){await this.session.connect(this.transportStream,d)}async acceptChannel(d,m){await this.session.connect(this.transportStream,m);return await this.session.acceptChannel(d,m)}async acceptStream(d,m){return this.createStream(await this.acceptChannel(d,m))}async openChannel(d,m){await this.session.connect(this.transportStream,m);const g=new P.ChannelOpenMessage;g.channelType=null!=d?d:y.SshChannel.sessionChannelType,g.maxWindowSize=this.channelMaxWindowSize;return await this.session.openChannel(g,null,m)}async openStream(d,m){return this.createStream(await this.openChannel(d,m))}createStream(d){return new C.SshStream(d)}async connectAndRunUntilClosed(d){const m=[],g=new Promise(((g,v)=>{null==d||d.onCancellationRequested(v,null,m),this.session.onClosed(g,null,m)}));try{await this.connect(d),await g}finally{m.forEach((d=>d.dispose())),await this.close()}}dispose(){if(!this.disposed){this.disposed=!0,this.session.dispose(),this.unsubscribe();try{this.transportStream&&this.transportStream.close().catch((d=>{this.trace(A.TraceLevel.Error,A.SshTraceEventIds.streamCloseError,`Error closing transport stream: ${d.message}`,d)}))}catch(d){if(!(d instanceof Error))throw d;this.trace(A.TraceLevel.Error,A.SshTraceEventIds.streamCloseError,`Error closing transport stream: ${d.message}`,d)}}}async close(){this.disposed||(this.disposed=!0,await this.session.close(b.SshDisconnectReason.none,"SshSession disposed"),this.session.dispose(),this.unsubscribe(),await this.transportStream.close())}onSessionClosed(d){this.unsubscribe(),this.closedEmitter.fire(d)}onSessionChannelOpening(d){d.isRemoteRequest&&(d.channel.maxWindowSize=this.channelMaxWindowSize),this.channelOpeningEmitter.fire(d)}unsubscribe(){this.disposables.forEach((d=>d.dispose())),this.disposables=[]}}},27665:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.PipeExtensions=void 0;const v=g(87091),y=g(99301),C=g(83069),_=g(93745),T=g(46252);class PipeExtensions{static async pipeSession(d,m){if(!d)throw new TypeError("Session is required.");if(!m)throw new TypeError("Target session is required");const g=new _.PromiseCompletionSource;d.onRequest((d=>{d.responsePromise=PipeExtensions.forwardSessionRequest(d,m,d.cancellation)})),m.onRequest((m=>{m.responsePromise=PipeExtensions.forwardSessionRequest(m,d,m.cancellation)})),d.onChannelOpening((d=>{d.isRemoteRequest&&(d.openingPromise=PipeExtensions.forwardChannel(d,m,d.cancellation))})),m.onChannelOpening((m=>{m.isRemoteRequest&&(m.openingPromise=PipeExtensions.forwardChannel(m,d,m.cancellation))})),d.onClosed((d=>{g.resolve(PipeExtensions.forwardSessionClose(m,d))})),m.onClosed((m=>{g.resolve(PipeExtensions.forwardSessionClose(d,m))}));const v=await g.promise;await v}static async pipeChannel(d,m){if(!d)throw new TypeError("Channel is required.");if(!m)throw new TypeError("Target channel is required");const g=new _.PromiseCompletionSource;let v=!1;d.onRequest((d=>{d.responsePromise=PipeExtensions.forwardChannelRequest(d,m,d.cancellation)})),m.onRequest((m=>{m.responsePromise=PipeExtensions.forwardChannelRequest(m,d,m.cancellation)})),d.onDataReceived((g=>{PipeExtensions.forwardData(d,m,g).catch()})),m.onDataReceived((g=>{PipeExtensions.forwardData(m,d,g).catch()})),d.onClosed((d=>{v||(v=!0,g.resolve(PipeExtensions.forwardChannelClose(m,d)))})),m.onClosed((m=>{v||(v=!0,g.resolve(PipeExtensions.forwardChannelClose(d,m)))}));const y=await g.promise;await y}static async forwardSessionRequest(d,m,g){return await m.requestResponse(d.request,y.SessionRequestSuccessMessage,y.SessionRequestFailureMessage,g)}static async forwardChannel(d,m,g){var v;try{const v=await m.openChannel(d.request,null,g);PipeExtensions.pipeChannel(d.channel,v).catch()}catch(m){if(!(m instanceof Error))throw m;m instanceof T.SshChannelError?d.failureReason=null!==(v=m.reason)&&void 0!==v?v:C.SshChannelOpenFailureReason.connectFailed:d.failureReason=C.SshChannelOpenFailureReason.connectFailed,d.failureDescription=m.message}}static async forwardChannelRequest(d,m,g){d.request.recipientChannel=m.remoteChannelId;return await m.request(d.request,g)?new C.ChannelSuccessMessage:new C.ChannelFailureMessage}static async forwardSessionClose(d,m){var g;return d.close(m.reason,m.message,null!==(g=m.error)&&void 0!==g?g:void 0)}static async forwardData(d,m,g){await m.send(g,v.CancellationToken.None),d.adjustWindow(g.length)}static async forwardChannelClose(d,m){return m.error?(d.close(m.error),Promise.resolve()):m.exitSignal?d.close(m.exitSignal,m.errorMessage):"number"==typeof m.exitStatus?d.close(m.exitStatus):d.close()}}m.PipeExtensions=PipeExtensions},66033:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SecureStream=void 0;const v=g(87091),y=g(32377),C=g(20409),_=g(99301),T=g(75947),b=g(67848),A=g(23699),P=g(46252),R=g(12781);class SecureStream extends R.Duplex{constructor(d,m){if(super({write(d,m,g){return this.connectedStream._write(d,m,g)},writev(d,m){return this.connectedStream._writev(d,m)},final(d){return this.connectedStream._final(d)},read(d){return this.connectedStream._read(d)}}),this.transportStream=d,this.clientCredentials=null,this.serverCredentials=null,this.disposed=!1,this.disposables=[],this.closedEmitter=new v.Emitter,this.onClosed=this.closedEmitter.event,!d)throw new TypeError("A transport stream is required.");if(!m)throw new TypeError("Client or server credentials are required.");const g=new C.SshSessionConfiguration(!0);if("username"in m)this.clientCredentials=m,this.session=new b.SshClientSession(g);else{if(!m.publicKeys)throw new TypeError("Client or server credentials are required.");this.serverCredentials=m,this.session=new A.SshServerSession(g)}this.session.onClosed(this.onSessionClosed,this,this.disposables)}get connectedStream(){if(!this.stream)throw new Error("Stream is not connected.");return this.stream}get trace(){return this.session.trace}set trace(d){this.session.trace=d}get isClosed(){return this.disposed||this.session.isClosed}onAuthenticating(d,m,g){return this.session.onAuthenticating(d,m,g)}async connect(d){if(this.serverCredentials){this.session.credentials=this.serverCredentials}await this.session.connect(this.transportStream,d);let m=null;if(this.clientCredentials){let g=null;const v=this.session;if(await v.authenticateServer(d)||(g=new P.SshConnectionError("Server authentication failed.",_.SshDisconnectReason.hostKeyNotVerifiable)),g||await v.authenticateClient(this.clientCredentials,d)||(g=new P.SshConnectionError("Client authentication failed.",_.SshDisconnectReason.noMoreAuthMethodsAvailable)),g)throw await this.session.close(g.reason,g.message,g),g;m=await this.session.openChannel(d)}else m=await this.session.acceptChannel(d);this.stream=this.createStream(m),this.stream.on("data",(d=>this.emit("data",d))),this.stream.on("end",(()=>this.emit("end"))),this.stream.on("close",(()=>this.emit("close"))),this.stream.on("error",(()=>this.emit("error"))),m.onClosed((()=>this.dispose()))}createStream(d){return new y.SshStream(d)}dispose(){if(!this.disposed){this.disposed=!0,this.session.dispose(),this.unsubscribe();try{this.transportStream&&this.transportStream.close().catch((d=>{this.trace(T.TraceLevel.Error,T.SshTraceEventIds.streamCloseError,`Error closing transport stream: ${d.message}`,d)}))}catch(d){if(!(d instanceof Error))throw d;this.trace(T.TraceLevel.Error,T.SshTraceEventIds.streamCloseError,`Error closing transport stream: ${d.message}`,d)}}}async close(){this.disposed||(this.disposed=!0,await this.session.close(_.SshDisconnectReason.none,"SshSession disposed"),this.session.dispose(),this.unsubscribe(),await this.transportStream.close())}onSessionClosed(d){this.unsubscribe(),this.closedEmitter.fire(d)}unsubscribe(){this.disposables.forEach((d=>d.dispose())),this.disposables=[]}}m.SecureStream=SecureStream},95943:function(d,m,g){"use strict";var v,y=this&&this.__decorate||function(d,m,g,v){var y,C=arguments.length,_=C<3?m:null===v?v=Object.getOwnPropertyDescriptor(m,g):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_=Reflect.decorate(d,m,g,v);else for(var T=d.length-1;T>=0;T--)(y=d[T])&&(_=(C<3?y(_):C>3?y(m,g,_):y(m,g))||_);return C>3&&_&&Object.defineProperty(m,g,_),_};Object.defineProperty(m,"__esModule",{value:!0}),m.AuthenticationService=void 0;const C=g(1721),_=g(97151),T=g(87091),b=g(74837),A=g(99301),P=g(92981),R=g(85558),k=g(68977),M=g(66491),I=g(75947);let O=v=class AuthenticationService extends C.SshService{constructor(d){var m;super(d),this.authenticationFailureCount=0,this.disposeCancellationSource=new T.CancellationTokenSource;const g=null===(m=d.algorithms)||void 0===m?void 0:m.publicKeyAlgorithmName;if(!g)throw new Error("Algorithms not initialized.");this.publicKeyAlgorithmName=g}handleMessage(d,m){if(d instanceof _.AuthenticationSuccessMessage)return this.handleSuccessMessage(d);if(d instanceof _.AuthenticationFailureMessage)return this.handleFailureMessage(d);if(d instanceof _.AuthenticationRequestMessage)return this.handleAuthenticationRequestMessage(d,m);throw new Error(`Message not implemented: ${d}`)}async handleAuthenticationRequestMessage(d,m){if(this.trace(I.TraceLevel.Info,I.SshTraceEventIds.sessionAuthenticating,`Authentication request: ${d.methodName}`),"publickey"===d.methodName||"hostbased"===d.methodName)return this.handlePublicKeyRequestMessage(d.convertTo(new _.PublicKeyRequestMessage),m);if("password"===d.methodName)return this.handlePasswordRequestMessage(d.convertTo(new _.PasswordRequestMessage),m);if("none"===d.methodName)return this.handleAuthenticating(d,new P.SshAuthenticatingEventArgs(P.SshAuthenticationType.clientNone,{username:d.username},m));{const d=new _.AuthenticationFailureMessage;d.methodNames=["publickey","password","hostbased"],await this.session.sendMessage(d,m)}}async handlePublicKeyRequestMessage(d,m){var g,v,y;const C=this.session.config.getPublicKeyAlgorithm(d.keyAlgorithmName);if(!C){const d=new _.AuthenticationFailureMessage;return d.methodNames=["publickey","password"],void await this.session.sendMessage(d,m)}const T=C.createKeyPair();let A;if(await T.setPublicKeyBytes(d.publicKey),"hostbased"===d.methodName)A=new P.SshAuthenticatingEventArgs(P.SshAuthenticationType.clientHostBased,{username:null!==(g=d.username)&&void 0!==g?g:"",publicKey:T,clientHostname:d.clientHostname,clientUsername:d.clientUsername});else if(d.hasSignature){const g=C.readSignatureData(d.signature),v=this.session.sessionId;if(null==v)throw new Error("Session ID not initialized.");const _=new b.SshDataWriter(Buffer.alloc(v.length+d.payloadWithoutSignature.length+20));_.writeBinary(v),_.write(d.payloadWithoutSignature);const R=_.toBuffer(),k=C.createVerifier(T);await k.verify(R,g)||await this.handleAuthenticationFailure("Public key authentication failed: invalid signature.",m),A=new P.SshAuthenticatingEventArgs(P.SshAuthenticationType.clientPublicKey,{username:null!==(y=d.username)&&void 0!==y?y:"",publicKey:T})}else A=new P.SshAuthenticatingEventArgs(P.SshAuthenticationType.clientPublicKeyQuery,{username:null!==(v=d.username)&&void 0!==v?v:"",publicKey:T});await this.handleAuthenticating(d,A,m)}async handlePasswordRequestMessage(d,m){var g,v;const y=new P.SshAuthenticatingEventArgs(P.SshAuthenticationType.clientPassword,{username:null!==(g=d.username)&&void 0!==g?g:"",password:null!==(v=d.password)&&void 0!==v?v:""});await this.handleAuthenticating(d,y,m)}async handleAuthenticating(d,m,g){var v;m.cancellation=this.disposeCancellationSource.token;let y=null;try{y=await this.session.raiseAuthenticatingEvent(m)}catch(d){if(!(d instanceof Error))throw d;this.trace(I.TraceLevel.Error,I.SshTraceEventIds.authenticationError,`Error while authenticating client: ${d.message}`,d),y=null}if(y)if(m.authenticationType===P.SshAuthenticationType.clientPublicKeyQuery){const m=d,v=new _.PublicKeyOKMessage;v.keyAlgorithmName=m.keyAlgorithmName,v.publicKey=m.publicKey,await this.session.sendMessage(v,g)}else this.session.principal=y,d.serviceName&&this.session.activateService(d.serviceName),this.trace(I.TraceLevel.Info,I.SshTraceEventIds.sessionAuthenticated,`${P.SshAuthenticationType[m.authenticationType]} authentication succeeded.`),await this.session.sendMessage(new _.AuthenticationSuccessMessage,g),null===(v=this.session)||void 0===v||v.handleClientAuthenticated();else await this.handleAuthenticationFailure(`${P.SshAuthenticationType[m.authenticationType]} authentication failed.`)}async handleAuthenticationFailure(d,m){this.authenticationFailureCount++,this.trace(I.TraceLevel.Warning,I.SshTraceEventIds.clientAuthenticationFailed,d);const g=new _.AuthenticationFailureMessage;g.methodNames=["publickey","password","hostbased"],await this.session.sendMessage(g,m),this.authenticationFailureCount>=this.session.config.maxClientAuthenticationAttempts&&await this.session.close(A.SshDisconnectReason.noMoreAuthMethodsAvailable,"Authentication failed.")}async authenticateClient(d,m){var g,v,y,C;this.clientAuthenticationMethods=new M.Queue;for(const m of null!==(g=d.publicKeys)&&void 0!==g?g:[]){if(!m)continue;const g=null!==(v=d.username)&&void 0!==v?v:"";let y=m;const C=d.privateKeyProvider;this.clientAuthenticationMethods.enqueue((async d=>{if(!y.hasPrivateKey){if(null==C)throw new Error("A private key provider is required.");y=await C(m,null!=d?d:T.CancellationToken.None)}y?await this.requestPublicKeyAuthentication(g,y,d):await this.session.close(A.SshDisconnectReason.authCancelledByUser)}))}const _=d.passwordProvider;if(_)this.clientAuthenticationMethods.enqueue((async d=>{var m;const g=_(null!=d?d:T.CancellationToken.None),v=g?await g:null;v?await this.requestPasswordAuthentication(null!==(m=v[0])&&void 0!==m?m:"",v[1],d):await this.session.close(A.SshDisconnectReason.authCancelledByUser)}));else if(d.password){const m=null!==(y=d.username)&&void 0!==y?y:"",g=d.password;this.clientAuthenticationMethods.enqueue((async d=>{await this.requestPasswordAuthentication(m,g,d)}))}if(0===this.clientAuthenticationMethods.size){const m=null!==(C=d.username)&&void 0!==C?C:"";this.clientAuthenticationMethods.enqueue((async d=>{await this.requestUsernameAuthentication(m,d)}))}const b=this.clientAuthenticationMethods.dequeue();await b(m)}async requestUsernameAuthentication(d,m){const g=new _.AuthenticationRequestMessage;g.serviceName=R.ConnectionService.serviceName,g.methodName="none",g.username=d,await this.session.sendMessage(g,m),this.session.activateService(R.ConnectionService)}async requestPublicKeyAuthentication(d,m,g){const v=this.session.config.publicKeyAlgorithms.find((d=>(null==d?void 0:d.keyAlgorithmName)===m.keyAlgorithmName));if(!v)throw new Error(`Public key algorithm '${m.keyAlgorithmName}' is not in session config.`);const y=new _.PublicKeyRequestMessage;y.serviceName=R.ConnectionService.serviceName,y.username=d,y.keyAlgorithmName=v.name,y.publicKey=await m.getPublicKeyBytes(v.name),y.signature=await this.createAuthenticationSignature(y,v,m),await this.session.sendMessage(y,g),0===this.clientAuthenticationMethods.size&&this.session.activateService(R.ConnectionService)}async requestPasswordAuthentication(d,m,g){const v=new _.PasswordRequestMessage;v.serviceName=R.ConnectionService.serviceName,v.username=d,v.password=m,await this.session.sendMessage(v,g),this.session.activateService(R.ConnectionService)}handleFailureMessage(d){this.session.onAuthenticationComplete(!1)}handleSuccessMessage(d){this.session.activateService(R.ConnectionService),this.session.onAuthenticationComplete(!0)}async createAuthenticationSignature(d,m,g){const v=this.session.sessionId;if(null==v)throw new Error("Session ID not initialized.");const y=new b.SshDataWriter(Buffer.alloc(d.publicKey.length+(d.username||"").length+400));y.writeBinary(v),y.writeByte(d.messageType),y.writeString(d.username||"","utf8"),y.writeString(d.serviceName||"","ascii"),y.writeString("publickey","ascii"),y.writeBoolean(!0),y.writeString(d.keyAlgorithmName,"ascii"),y.writeBinary(d.publicKey);const C=m.createSigner(g),_=await C.sign(y.toBuffer());return m.createSignatureData(_)}dispose(){try{this.disposeCancellationSource.cancel(),this.disposeCancellationSource.dispose()}catch(d){}super.dispose()}};O.serviceName="ssh-userauth",O=v=y([(0,k.serviceActivation)({serviceRequest:v.serviceName})],O),m.AuthenticationService=O},85558:function(d,m,g){"use strict";var v,y=this&&this.__decorate||function(d,m,g,v){var y,C=arguments.length,_=C<3?m:null===v?v=Object.getOwnPropertyDescriptor(m,g):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_=Reflect.decorate(d,m,g,v);else for(var T=d.length-1;T>=0;T--)(y=d[T])&&(_=(C<3?y(_):C>3?y(m,g,_):y(m,g))||_);return C>3&&_&&Object.defineProperty(m,g,_),_};Object.defineProperty(m,"__esModule",{value:!0}),m.ConnectionService=void 0;const C=g(1721),_=g(83069),T=g(93745),b=g(13843),A=g(35865),P=g(46252),R=g(43522),k=g(68977),M=g(75947);let I=v=class ConnectionService extends C.SshService{constructor(d){super(d),this.channelCounter=0,this.channelMap=new Map,this.nonAcceptedChannels=new Map,this.pendingChannels=new Map,this.pendingAcceptChannels=new Map}get channels(){return Array.from(this.channelMap.values())}close(d){let m=[...this.pendingChannels.values()].map((d=>d.completionSource));this.pendingAcceptChannels.size>0&&(m=m.concat([...this.pendingAcceptChannels.values()].reduce(((d,m)=>d.concat(m)))));for(const m of this.channelMap.values())m.close(d);for(const g of m)g.reject(d)}dispose(){const d=[...this.channelMap.values()];let m=[...this.pendingChannels.values()].map((d=>d.completionSource));this.pendingAcceptChannels.size>0&&(m=m.concat([...this.pendingAcceptChannels.values()].reduce(((d,m)=>d.concat(m)))));for(const m of d)m.dispose();for(const d of m)d.reject(new P.SshConnectionError("Session closed."));super.dispose()}async acceptChannel(d,m){const g=new T.PromiseCompletionSource;let v;if(m){if(m.isCancellationRequested)throw new A.CancellationError;v=m.onCancellationRequested((()=>{const m=this.pendingAcceptChannels.get(d);if(m){const d=m.findIndex((d=>Object.is(d,g)));d>=0&&m.splice(d,1)}g.reject(new A.CancellationError)}))}let y=null;if(y=Array.from(this.nonAcceptedChannels.values()).find((m=>m.channelType===d))||null,y)this.nonAcceptedChannels.delete(y.channelId);else{let m=this.pendingAcceptChannels.get(d);m||(m=[],this.pendingAcceptChannels.set(d,m)),m.push(g)}try{return y||await g.promise}finally{v&&v.dispose()}}async openChannel(d,m,g){const v=++this.channelCounter;d.senderChannel=v;let y=null;if(g){if(g.isCancellationRequested)throw new A.CancellationError;y=g.onCancellationRequested((()=>{this.pendingChannels.delete(v)&&m.reject(new A.CancellationError)}))}return this.pendingChannels.set(v,{openMessage:d,completionSource:m,cancellationRegistration:y}),await this.session.sendMessage(d),v}handleMessage(d,m){if(d instanceof _.ChannelDataMessage)return this.handleDataMessage(d);if(d instanceof _.ChannelWindowAdjustMessage)return this.handleAdjustWindowMessage(d);if(d instanceof _.ChannelEofMessage)return this.handleEofMessage(d);if(d instanceof _.ChannelOpenMessage)return this.handleOpenMessage(d,m);if(d instanceof _.ChannelCloseMessage)return this.handleCloseMessage(d);if(d instanceof _.ChannelOpenConfirmationMessage)return this.handleOpenConfirmationMessage(d,m);if(d instanceof _.ChannelOpenFailureMessage)return this.handleOpenFailureMessage(d);if(d instanceof _.ChannelRequestMessage)return this.handleRequestMessage(d,m);if(d instanceof _.ChannelSuccessMessage)return this.handleSuccessMessage(d);if(d instanceof _.ChannelFailureMessage)return this.handleFailureMessage(d);throw new Error(`Message not implemented: ${d}`)}async handleOpenMessage(d,m){const g=d.senderChannel;if(!this.session.canAcceptRequests){this.trace(M.TraceLevel.Warning,M.SshTraceEventIds.channelOpenFailed,"Channel open request blocked because the session is not yet authenticated.");const d=new _.ChannelOpenFailureMessage;return d.recipientChannel=g,d.reasonCode=_.SshChannelOpenFailureReason.administrativelyProhibited,d.description="Authenticate before opening channels.",void await this.session.sendMessage(d,m)}if(!d.channelType){const d=new _.ChannelOpenFailureMessage;return d.recipientChannel=g,d.reasonCode=_.SshChannelOpenFailureReason.unknownChannelType,d.description="Channel type not specified.",void await this.session.sendMessage(d,m)}const v=++this.channelCounter,y=new b.SshChannel(this,d.channelType,v,g,d.maxWindowSize,d.maxPacketSize),C=new R.SshChannelOpeningEventArgs(d,y,!0);try{await this.session.handleChannelOpening(C,m)}catch(d){throw y.dispose(),d}if(C.failureReason!==_.SshChannelOpenFailureReason.none){const d=new _.ChannelOpenFailureMessage;d.recipientChannel=g,d.reasonCode=C.failureReason,d.description=C.failureDescription||void 0;try{await this.session.sendMessage(d,m)}finally{y.dispose()}return}if(this.session.isClosed)return void y.dispose();y.isMaxWindowSizeLocked=!0,this.channelMap.set(y.channelId,y);const T=new _.ChannelOpenConfirmationMessage;T.recipientChannel=y.remoteChannelId,T.senderChannel=y.channelId,T.maxWindowSize=y.maxWindowSize,T.maxPacketSize=y.maxPacketSize,await this.session.sendMessage(T,m);let A=!1;const P=this.pendingAcceptChannels.get(y.channelType);for(;P&&P.length>0;){P.shift().resolve(y),A=!0;break}A||this.nonAcceptedChannels.set(y.channelId,y),this.onChannelOpenCompleted(y.channelId,y),y.enableSending()}handleCloseMessage(d){const m=this.findChannelById(d.recipientChannel);m&&m.handleClose()}async handleOpenConfirmationMessage(d,m){var g;let v,y=null;const C=this.pendingChannels.get(d.recipientChannel);if(!C)throw this.channelMap.has(d.recipientChannel)?new Error("Duplicate channel ID."):new Error("Channel confirmation was not requested.");v=C.openMessage,y=C.completionSource,C.cancellationRegistration&&C.cancellationRegistration.dispose(),this.pendingChannels.delete(d.recipientChannel);const T=new b.SshChannel(this,v.channelType||b.SshChannel.sessionChannelType,d.recipientChannel,d.senderChannel,d.maxWindowSize,d.maxPacketSize);"number"==typeof v.maxWindowSize&&(T.maxWindowSize=v.maxWindowSize),T.isMaxWindowSizeLocked=!0,this.channelMap.set(T.channelId,T);const A=new R.SshChannelOpeningEventArgs(v,T,!1);if(await this.session.handleChannelOpening(A,m),y){if(A.failureReason!==_.SshChannelOpenFailureReason.none)return void y.reject(new P.SshChannelError(null!==(g=A.failureDescription)&&void 0!==g?g:"Channel open failure.",A.failureReason));y.resolve(T)}else this.onChannelOpenCompleted(T.channelId,T);T.enableSending()}handleOpenFailureMessage(d){let m=null;const g=this.pendingChannels.get(d.recipientChannel);g&&(m=g.completionSource,g.cancellationRegistration&&g.cancellationRegistration.dispose(),this.pendingChannels.delete(d.recipientChannel)),null!=m?m.reject(new P.SshChannelError(d.description||"Channel open rejected.",d.reasonCode)):this.onChannelOpenCompleted(d.recipientChannel,null)}async handleRequestMessage(d,m){const g=this.findChannelById(d.recipientChannel);g?await g.handleRequest(d,m):this.trace(M.TraceLevel.Warning,M.SshTraceEventIds.channelRequestFailed,`Invalid channel ID ${d.recipientChannel} in channel request message.`)}handleSuccessMessage(d){const m=this.findChannelById(d.recipientChannel);m?m.handleResponse(!0):this.trace(M.TraceLevel.Warning,M.SshTraceEventIds.channelRequestFailed,`Invalid channel ID ${d.recipientChannel} in channel success message.`)}handleFailureMessage(d){const m=this.findChannelById(d.recipientChannel);m?m.handleResponse(!1):this.trace(M.TraceLevel.Warning,M.SshTraceEventIds.channelRequestFailed,`Invalid channel ID ${d.recipientChannel} in channel failure message.`)}handleDataMessage(d){const m=this.findChannelById(d.recipientChannel);if(m)return m.handleDataReceived(d.data)}handleAdjustWindowMessage(d){const m=this.findChannelById(d.recipientChannel);m&&m.adjustRemoteWindow(d.bytesToAdd)}handleEofMessage(d){const m=this.findChannelById(d.recipientChannel);m&&m.handleEof()}onChannelOpenCompleted(d,m){m?this.trace(M.TraceLevel.Info,M.SshTraceEventIds.channelOpened,`${this.session} ChannelOpenCompleted(${m})`):this.trace(M.TraceLevel.Warning,M.SshTraceEventIds.channelOpenFailed,`${this.session} ChannelOpenCompleted(${d} failed)`)}findChannelById(d){var m;return null!==(m=this.channelMap.get(d))&&void 0!==m?m:null}removeChannel(d){this.channelMap.delete(d.channelId),this.pendingChannels.delete(d.channelId)}};I.serviceName="ssh-connection",I=v=y([(0,k.serviceActivation)({serviceRequest:v.serviceName})],I),m.ConnectionService=I},24511:function(d,m,g){"use strict";var v,y=this&&this.__decorate||function(d,m,g,v){var y,C=arguments.length,_=C<3?m:null===v?v=Object.getOwnPropertyDescriptor(m,g):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_=Reflect.decorate(d,m,g,v);else for(var T=d.length-1;T>=0;T--)(y=d[T])&&(_=(C<3?y(_):C>3?y(m,g,_):y(m,g))||_);return C>3&&_&&Object.defineProperty(m,g,_),_};Object.defineProperty(m,"__esModule",{value:!0}),m.KeyExchangeService=void 0;const C=g(14300),_=g(63716),T=g(1721),b=g(41075),A=g(36891),P=g(3120),R=g(74837),k=g(46252),M=g(99301),I=g(4150),O=g(87091),x=g(85558),L=g(68977),U=g(75947);class ExchangeContext{}const j="ext-info-s",B="ext-info-c";let V=v=class KeyExchangeService extends T.SshService{constructor(d,m){super(d),this.isClientSession=m,this.isInitialExchange=!1,this.exchangeContext=null}get exchanging(){return!!this.exchangeContext}async startKeyExchange(d){this.isInitialExchange=d,this.exchangeContext=new ExchangeContext;const m=this.createKeyExchangeInitMessage();let g=null;return this.isClientSession?(d&&this.session.config.enableKeyExchangeGuess&&(g=await this.createKeyExchangeGuessMessage(),m.firstKexPacketFollows=!!g),this.exchangeContext.clientKexInitPayload=m.toBuffer()):this.exchangeContext.serverKexInitPayload=m.toBuffer(),[m,g]}finishKeyExchange(){const d=this.exchangeContext.newAlgorithms;return this.exchangeContext=null,d}abortKeyExchange(){this.exchangeContext=null}createKeyExchangeInitMessage(){const d=this.isClientSession?B:j,m=this.session.config,g=new A.KeyExchangeInitMessage;return g.keyExchangeAlgorithms=(0,P.algorithmNames)(m.keyExchangeAlgorithms).concat(d),g.serverHostKeyAlgorithms=this.getPublicKeyAlgorithms(),g.encryptionAlgorithmsClientToServer=g.encryptionAlgorithmsServerToClient=(0,P.algorithmNames)(m.encryptionAlgorithms),g.macAlgorithmsClientToServer=g.macAlgorithmsServerToClient=(0,P.algorithmNames)(m.hmacAlgorithms),g.compressionAlgorithmsClientToServer=g.compressionAlgorithmsServerToClient=(0,P.algorithmNames)(m.compressionAlgorithms),g.languagesClientToServer=[""],g.languagesServerToClient=[""],g.firstKexPacketFollows=!1,g.reserved=0,g}getPublicKeyAlgorithms(){var d,m;let g=[...this.session.config.publicKeyAlgorithms];if(g.length>1&&!this.isClientSession){const v=null===(m=null===(d=this.session.credentials)||void 0===d?void 0:d.publicKeys)||void 0===m?void 0:m.map((d=>d.keyAlgorithmName));v&&(g=g.filter((d=>d&&v.includes(d.keyAlgorithmName))))}return(0,P.algorithmNames)(g)}async createKeyExchangeGuessMessage(){if(!this.exchangeContext)throw new Error("Key exchange was not started.");const d=this.session.config.keyExchangeAlgorithms[0];if(!d)return null;this.exchangeContext.keyExchange=d.name,this.exchangeContext.exchange=d.createKeyExchange(),this.exchangeContext.exchangeValue=await this.exchangeContext.exchange.startKeyExchange();const m=new A.KeyExchangeDhInitMessage;return m.e=this.exchangeContext.exchangeValue,m}handleMessage(d,m){if(d instanceof A.KeyExchangeInitMessage)return this.handleInitMessage(d,m);if(d instanceof A.KeyExchangeDhInitMessage)return this.handleDhInitMessage(d,m);if(d instanceof A.KeyExchangeDhReplyMessage)return this.handleDhReplyMessage(d,m);throw new Error(`Message not implemented: ${d}`)}async handleInitMessage(d,m){var g,v;if(!this.exchangeContext)throw new Error("Key exchange was not started.");const y=this.session.config;if(this.exchangeContext.keyExchange=this.chooseAlgorithm("KeyExchange",(0,P.algorithmNames)(y.keyExchangeAlgorithms),d.keyExchangeAlgorithms),"none"===this.exchangeContext.keyExchange)return this.trace(U.TraceLevel.Info,U.SshTraceEventIds.algorithmNegotiation,"Client and server negotiated no security. Cancelling key-exchange."),this.session.activateService(x.ConnectionService),this.exchangeContext.newAlgorithms=new I.SshSessionAlgorithms,void await this.session.handleNewKeysMessage(new A.NewKeysMessage,m);let C;if(this.exchangeContext.publicKey=this.chooseAlgorithm("PublicKey",this.getPublicKeyAlgorithms(),d.serverHostKeyAlgorithms),this.exchangeContext.clientEncryption=this.chooseAlgorithm("ClientEncryption",(0,P.algorithmNames)(y.encryptionAlgorithms),d.encryptionAlgorithmsClientToServer),this.exchangeContext.serverEncryption=this.chooseAlgorithm("ServerEncryption",(0,P.algorithmNames)(y.encryptionAlgorithms),d.encryptionAlgorithmsServerToClient),this.exchangeContext.clientHmac=this.chooseAlgorithm("ClientHmac",(0,P.algorithmNames)(y.hmacAlgorithms),d.macAlgorithmsClientToServer),this.exchangeContext.serverHmac=this.chooseAlgorithm("ServerHmac",(0,P.algorithmNames)(y.hmacAlgorithms),d.macAlgorithmsServerToClient),this.exchangeContext.clientCompression=this.chooseAlgorithm("ClientCompression",(0,P.algorithmNames)(y.compressionAlgorithms),d.compressionAlgorithmsClientToServer),this.exchangeContext.serverCompression=this.chooseAlgorithm("ServerCompression",(0,P.algorithmNames)(y.compressionAlgorithms),d.compressionAlgorithmsServerToClient),this.isClientSession){this.exchangeContext.serverKexInitPayload=d.toBuffer();const v=!!this.exchangeContext.exchangeValue,_=this.exchangeContext.keyExchange===(null===(g=y.keyExchangeAlgorithms[0])||void 0===g?void 0:g.name);if(!v||!_){const d=y.getKeyExchangeAlgorithm(this.exchangeContext.keyExchange);this.exchangeContext.exchange=d.createKeyExchange(),this.exchangeContext.exchangeValue=await this.exchangeContext.exchange.startKeyExchange();const g=new A.KeyExchangeDhInitMessage;g.e=this.exchangeContext.exchangeValue,await this.session.sendMessage(g,m)}C=j}else{if(d.firstKexPacketFollows){const m=this.exchangeContext.keyExchange===(null===(v=d.keyExchangeAlgorithms)||void 0===v?void 0:v[0]),g=m?"correct":"incorrect";this.trace(U.TraceLevel.Verbose,U.SshTraceEventIds.algorithmNegotiation,`Client's KeyExchange guess was ${g}.`),this.exchangeContext.discardGuessedInit=!m}this.exchangeContext.clientKexInitPayload=d.toBuffer(),C=B}this.isInitialExchange&&d.keyExchangeAlgorithms.includes(C)&&await this.session.sendExtensionInfo(m)}async handleDhInitMessage(d,m){var g,v,y,_,T;if(this.isClientSession)return;const b=this.session;if(!this.exchangeContext||!this.exchangeContext.keyExchange||!this.exchangeContext.publicKey)throw new k.SshConnectionError("Key exchange not started.",M.SshDisconnectReason.protocolError);if(this.exchangeContext.discardGuessedInit)return void(this.exchangeContext.discardGuessedInit=!1);const P=this.session.config.getKeyExchangeAlgorithm(this.exchangeContext.keyExchange);if(!P)throw new k.SshConnectionError("Key exchange not supported for algorithm: "+this.exchangeContext.keyExchange,M.SshDisconnectReason.keyExchangeFailed);const R=this.session.config.getPublicKeyAlgorithm(this.exchangeContext.publicKey);if(!R)throw new k.SshConnectionError("Public key algorithm not supported: "+this.exchangeContext.publicKey,M.SshDisconnectReason.keyExchangeFailed);let x=null;if(null===(g=b.credentials)||void 0===g?void 0:g.publicKeys){const d=b.credentials.publicKeys.find((d=>d.keyAlgorithmName===R.keyAlgorithmName));if(x=null!=d?d:null,!1===(null==x?void 0:x.hasPrivateKey)){if(!b.credentials.privateKeyProvider)throw new Error("A private key provider is required.");x=await b.credentials.privateKeyProvider(d,null!=m?m:O.CancellationToken.None)}}if(null==x)throw new k.SshConnectionError("Private key not found for algorithm: "+this.exchangeContext.publicKey,M.SshDisconnectReason.keyExchangeFailed);const L=this.session.config.getEncryptionAlgorithm(this.exchangeContext.clientEncryption),U=this.session.config.getEncryptionAlgorithm(this.exchangeContext.serverEncryption),j=this.session.config.getHmacAlgorithm(this.exchangeContext.serverHmac),B=this.session.config.getHmacAlgorithm(this.exchangeContext.clientHmac),V=P.createKeyExchange(),$=d.e||C.Buffer.alloc(0),q=await V.startKeyExchange(),Y=await V.decryptKeyExchange($),z=await x.getPublicKeyBytes(R.name);if(!z)throw new k.SshConnectionError("Public key not set.",M.SshDisconnectReason.keyExchangeFailed);const G=await this.computeExchangeHash(V,z,$,q,Y);this.session.sessionId||(this.session.sessionId=G);const[J,X,te,re,ie,se]=await this.computeKeys(V,Y,G,L,U,B,j),oe=null!==(v=await(null==U?void 0:U.createCipher(!0,re,X)))&&void 0!==v?v:null,ae=null!==(y=await(null==L?void 0:L.createCipher(!1,te,J)))&&void 0!==y?y:null,ce=null!==(_=await(null==j?void 0:j.createSigner(se)))&&void 0!==_?_:null,le=null!==(T=await(null==B?void 0:B.createVerifier(ie)))&&void 0!==T?T:null,de=new I.SshSessionAlgorithms;de.publicKeyAlgorithmName=this.exchangeContext.publicKey,de.cipher=oe,de.decipher=ae,de.signer=ce,de.verifier=le,de.messageSigner=(null==oe?void 0:oe.authenticatedEncryption)?oe:ce,de.messageVerifier=(null==ae?void 0:ae.authenticatedEncryption)?ae:le,de.compressor=this.session.config.getCompressionAlgorithm(this.exchangeContext.serverCompression),de.decompressor=this.session.config.getCompressionAlgorithm(this.exchangeContext.clientCompression),this.exchangeContext.newAlgorithms=de,J&&J.fill(0),te&&te.fill(0),ie&&ie.fill(0),X&&X.fill(0),re&&re.fill(0),se&&se.fill(0);const he=R.createSigner(x);let pe=await he.sign(G);pe=R.createSignatureData(pe);const me=new A.KeyExchangeDhReplyMessage;me.hostKey=z,me.f=q,me.signature=pe,await this.session.sendMessage(me,m),await this.session.sendMessage(new A.NewKeysMessage,m)}async handleDhReplyMessage(d,m){var g,v,y,C;if(!this.isClientSession)return;if(!this.exchangeContext)throw new k.SshConnectionError("Key exchange was not started.",M.SshDisconnectReason.protocolError);const _=this.session.config,T=this.exchangeContext.exchange,b=this.exchangeContext.publicKey,P=_.getPublicKeyAlgorithm(b),R=_.getEncryptionAlgorithm(this.exchangeContext.clientEncryption),O=_.getEncryptionAlgorithm(this.exchangeContext.serverEncryption),x=_.getHmacAlgorithm(this.exchangeContext.serverHmac),L=_.getHmacAlgorithm(this.exchangeContext.clientHmac),j=this.exchangeContext.exchangeValue,B=d.f;if(!T||!j)throw new k.SshConnectionError("Failed to initialize crypto after key exchange.",M.SshDisconnectReason.keyExchangeFailed);this.hostKey=P.createKeyPair(),await this.hostKey.setPublicKeyBytes(d.hostKey);const V=await T.decryptKeyExchange(B),$=d.hostKey,q=await this.computeExchangeHash(T,$,j,B,V),Y=P.readSignatureData(d.signature),z=P.createVerifier(this.hostKey);let G;try{G=await z.verify(q,Y)}catch(d){if(!(d instanceof Error))throw d;throw this.trace(U.TraceLevel.Error,U.SshTraceEventIds.serverAuthenticationFailed,`Server public key verification error: ${d.message}`,d),new k.SshConnectionError(`Server public key verification failed: ${d.message}`,M.SshDisconnectReason.hostKeyNotVerifiable)}if(!G)throw this.trace(U.TraceLevel.Warning,U.SshTraceEventIds.serverAuthenticationFailed,"Server public key verification failed."),new k.SshConnectionError("Server public key verification failed.",M.SshDisconnectReason.hostKeyNotVerifiable);this.trace(U.TraceLevel.Verbose,U.SshTraceEventIds.sessionAuthenticated,"Server public key verification succeeded."),null==this.session.sessionId&&(this.session.sessionId=q);const[J,X,te,re,ie,se]=await this.computeKeys(T,V,q,R,O,L,x),oe=null!==(g=await(null==R?void 0:R.createCipher(!0,te,J)))&&void 0!==g?g:null,ae=null!==(v=await(null==O?void 0:O.createCipher(!1,re,X)))&&void 0!==v?v:null,ce=null!==(y=await(null==L?void 0:L.createSigner(ie)))&&void 0!==y?y:null,le=null!==(C=await(null==x?void 0:x.createVerifier(se)))&&void 0!==C?C:null,de=new I.SshSessionAlgorithms;de.publicKeyAlgorithmName=b,de.cipher=oe,de.decipher=ae,de.signer=ce,de.verifier=le,de.messageSigner=(null==oe?void 0:oe.authenticatedEncryption)?oe:ce,de.messageVerifier=(null==ae?void 0:ae.authenticatedEncryption)?ae:le,de.compressor=_.getCompressionAlgorithm(this.exchangeContext.clientCompression),de.decompressor=_.getCompressionAlgorithm(this.exchangeContext.serverCompression),this.exchangeContext.newAlgorithms=de,J&&J.fill(0),te&&te.fill(0),ie&&ie.fill(0),X&&X.fill(0),re&&re.fill(0),se&&se.fill(0),await this.session.sendMessage(new A.NewKeysMessage,m)}chooseAlgorithm(d,m,g){let v,y;this.isClientSession?(v=g||[],y=m):(v=m,y=g||[]);const C=`${d} negotiation: Server (${v.join(", ")}) Client (${y.join(", ")})`;for(const d of y)for(const m of v)if(m===d){const d=m;return this.trace(U.TraceLevel.Info,U.SshTraceEventIds.algorithmNegotiation,`${C} => ${d}`),d}throw new Error(`Failed ${C}`)}async computeExchangeHash(d,m,g,v,y){if(!this.session.remoteVersion)throw new Error("Key exchange not completed.");const T=new R.SshDataWriter(C.Buffer.alloc(2048));this.isClientSession?(T.writeString(_.SshSession.localVersion.toString(),"ascii"),T.writeString(this.session.remoteVersion.toString(),"ascii")):(T.writeString(this.session.remoteVersion.toString(),"ascii"),T.writeString(_.SshSession.localVersion.toString(),"ascii")),T.writeBinary(this.exchangeContext.clientKexInitPayload),T.writeBinary(this.exchangeContext.serverKexInitPayload),T.writeBinary(m),T.writeBigInt(b.BigInt.fromBytes(g,{unsigned:!0})),T.writeBigInt(b.BigInt.fromBytes(v,{unsigned:!0})),T.writeBigInt(b.BigInt.fromBytes(y,{unsigned:!0}));return await d.sign(T.toBuffer())}async computeKeys(d,m,g,v,y,_,T){var b,A;const P=new R.SshDataWriter(C.Buffer.alloc(4+m.length+g.length+Math.max(1+(null!==(A=null===(b=this.session.sessionId)||void 0===b?void 0:b.length)&&void 0!==A?A:0),d.digestLength)));P.writeBinary(m),P.write(g);const k=P.position;return[v&&await this.computeKey(d,P,k,v.blockLength,"A"),y&&await this.computeKey(d,P,k,y.blockLength,"B"),v&&await this.computeKey(d,P,k,v.keyLength,"C"),y&&await this.computeKey(d,P,k,y.keyLength,"D"),_&&await this.computeKey(d,P,k,_.keyLength,"E"),T&&await this.computeKey(d,P,k,T.keyLength,"F")]}async computeKey(d,m,g,v,y){const _=C.Buffer.alloc(v);let T=0,b=0,A=null;if(!this.session.sessionId)throw new Error("Session ID not set.");for(;T<v;)m.position=g,A?m.write(A):(m.writeByte(y.charCodeAt(0)),m.write(this.session.sessionId)),A=await d.sign(m.toBuffer()),b=Math.min(A.length,v-T),A.copy(_,T),T+=b;return A&&A.fill(0),_}};V.serviceName="ssh-keyexchange",V=v=y([(0,L.serviceActivation)({serviceRequest:v.serviceName})],V),m.KeyExchangeService=V},68977:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.findService=m.serviceActivation=void 0,m.serviceActivation=function serviceActivation(d){return m=>{m.activations||(m.activations=[]),m.activations.push(d)}},m.findService=function findService(d,m){for(const g of d.keys()){const d=g.activations;let v=!1;for(const y of d)if(v=!0,m(y))return g;if(!v)throw new Error(`SSH service type '${g.name}' must have one or more 'serviceActivation' decorators.`)}return null}},1721:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SshService=void 0;const v=g(87091),y=g(63716);m.SshService=class SshService{constructor(d){if(this.session=d,this.disposed=!1,this.disposedEmitter=new v.Emitter,this.onDisposed=this.disposedEmitter.event,!(d instanceof y.SshSession))throw new TypeError("Session is not an instance of SshSession. (This may be due to a version mismatch between SSH packages.)")}get trace(){return this.session.trace}dispose(){this.disposed||(this.disposed=!0,this.disposedEmitter.fire())}async onSessionRequest(d,m){this.session.raiseSessionRequest(d)}async onChannelOpening(d,m){if(!d)throw new TypeError("Request is required.");return this.session.handleChannelOpening(d,m,!1)}async onChannelRequest(d,m,g){}async sendMessage(d,m){await this.session.sendMessage(d,m)}}},13843:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SshChannel=void 0;const v=g(87091),y=g(68977),C=g(83069),_=g(99301),T=g(23775),b=g(93745),A=g(46252),P=g(7892),R=g(78723),k=g(35865),M=g(94945),I=g(75947),O=g(27665);class SshChannel{constructor(d,m,g,y,C,_){this.connectionService=d,this.channelType=m,this.channelId=g,this.remoteChannelId=y,this.remoteClosed=!1,this.localClosed=!1,this.sentEof=!1,this.disposed=!1,this.openSendingWindowCompletionSource=null,this.requestCompletionSource=null,this.sendSemaphore=new M.Semaphore(0),this.metrics=new T.ChannelMetrics,this.dataReceivedEmitter=new v.Emitter,this.onDataReceived=this.dataReceivedEmitter.event,this.eofEmitter=new v.Emitter,this.onEof=this.eofEmitter.event,this.closedEmitter=new v.Emitter,this.onClosed=this.closedEmitter.event,this.requestEmitter=new v.Emitter,this.onRequest=this.requestEmitter.event,this.isMaxWindowSizeLocked=!1,this.remoteWindowSize=C,this.maxWindowSizeValue=SshChannel.defaultMaxWindowSize,this.windowSize=this.maxWindowSizeValue,this.maxPacketSize=Math.min(_,SshChannel.defaultMaxPacketSize)}get session(){return this.connectionService.session}get isClosed(){return this.localClosed||this.remoteClosed}get maxWindowSize(){return this.maxWindowSizeValue}set maxWindowSize(d){if(this.isMaxWindowSizeLocked)throw new Error("Cannot change the max window size after opening the channel.");if(d<this.maxPacketSize)throw new Error("Maximum window size cannot be less than maximum packet size.");this.maxWindowSizeValue=d}async request(d,m){if(!d)throw new TypeError("Request is required.");if(this.disposed)throw new A.ObjectDisposedError(this);if(d.recipientChannel=this.remoteChannelId,!d.wantReply)return await this.session.sendMessage(d,m),!0;if(null!=this.requestCompletionSource)throw new Error("Another request is already pending.");const g=new b.PromiseCompletionSource;if(this.requestCompletionSource=g,m){if(m.isCancellationRequested)throw new k.CancellationError;m.onCancellationRequested((()=>{g.reject(new k.CancellationError)}))}return await this.session.sendMessage(d,m),await g.promise}async send(d,m){if(this.disposed)throw new A.ObjectDisposedError(this);if(0!==d.length){if(this.sentEof)throw new Error("Cannot send more data after EOF.");await this.sendSemaphore.wait(m);try{let g=0,v=d.length;for(;v>0;){let y=Math.min(Math.min(this.remoteWindowSize,this.maxPacketSize),v);for(;0===y;)this.openSendingWindowCompletionSource||(this.openSendingWindowCompletionSource=new b.PromiseCompletionSource),this.session.trace(I.TraceLevel.Warning,I.SshTraceEventIds.channelWaitForWindowAdjust,`${this} send window is full. Waiting for window adjustment before sending.`),await(0,k.withCancellation)(this.openSendingWindowCompletionSource.promise,m),this.openSendingWindowCompletionSource=null,y=Math.min(Math.min(this.remoteWindowSize,this.maxPacketSize),v);const _=new C.ChannelDataMessage;_.recipientChannel=this.remoteChannelId,_.data=Buffer.from(d.slice(g,g+y)),await this.session.sendMessage(_,m),this.remoteWindowSize-=y,v-=y,g+=y,this.metrics.addBytesSent(y)}}finally{this.sendSemaphore.tryRelease()}}else await this.sendEof()}enableSending(){this.sendSemaphore.tryRelease()}async sendEof(d){if(!this.sentEof){await this.sendSemaphore.wait(d);try{this.sentEof=!0;const m=new C.ChannelEofMessage;m.recipientChannel=this.remoteChannelId,await this.session.sendMessage(m,d)}finally{this.sendSemaphore.tryRelease()}}}async handleRequest(d,m){if(!d.requestType)throw new A.SshConnectionError("Channel request type not specified.",_.SshDisconnectReason.protocolError);if(d.requestType===C.ChannelRequestType.exitStatus){const m=new C.ChannelSignalMessage;return d.convertTo(m),this.exitStatus=m.exitStatus,!0}if(d.requestType===C.ChannelRequestType.exitSignal){const m=new C.ChannelSignalMessage;return d.convertTo(m),this.exitSignal=m.exitSignal,this.exitErrorMessage=m.errorMessage,!0}if(d.requestType===C.ChannelRequestType.signal){const m=new C.ChannelSignalMessage;d.convertTo(m)}const g=new P.SshRequestEventArgs(d.requestType,d,this.session.principal,m),v=(0,y.findService)(this.session.config.services,(m=>(!m.channelType||m.channelType===this.channelType)&&m.channelRequest===d.requestType));await this.sendSemaphore.wait(m);try{let y=null;if(v){const d=this.session.activateService(v);await d.onChannelRequest(this,g,m)}else this.requestEmitter.fire(g);g.responsePromise&&(y=await g.responsePromise,g.isAuthorized=y instanceof C.ChannelSuccessMessage),d.wantReply&&(g.isAuthorized?(y=null!=y?y:new C.ChannelSuccessMessage,y.recipientChannel=this.remoteChannelId):(y=null!=y?y:new C.ChannelFailureMessage,y.recipientChannel=this.remoteChannelId),await this.session.sendMessage(y,m))}finally{this.sendSemaphore.tryRelease()}return g.isAuthorized||!1}handleResponse(d){this.requestCompletionSource&&(this.requestCompletionSource.resolve(d),this.requestCompletionSource=null)}handleDataReceived(d){this.metrics.addBytesReceived(d.length),this.dataReceivedEmitter.fire(d)}adjustWindow(d){if(!this.disposed&&(this.windowSize-=d,this.windowSize<=this.maxWindowSizeValue/2)){const d=new C.ChannelWindowAdjustMessage;d.recipientChannel=this.remoteChannelId,d.bytesToAdd=this.maxWindowSizeValue-this.windowSize,this.windowSize=this.maxWindowSizeValue,this.session.sendMessage(d).catch((d=>{this.session.trace(I.TraceLevel.Error,I.SshTraceEventIds.channelWindowAdjustFailed,`Error sending window adjust message: ${d.message}`,d)}))}}adjustRemoteWindow(d){this.remoteWindowSize+=d,this.openSendingWindowCompletionSource&&this.openSendingWindowCompletionSource.resolve(void 0)}handleEof(){this.session.trace(I.TraceLevel.Info,I.SshTraceEventIds.channelEofReceived,`${this} EOF received.`),this.eofEmitter.fire()}close(d,m,g){if(d instanceof Error){const m=d;return this.localClosed||(this.localClosed=!0,this.session.trace(I.TraceLevel.Info,I.SshTraceEventIds.channelClosed,`${this} Closed: ${m.message}`),this.closedEmitter.fire(new R.SshChannelClosedEventArgs(m))),void this.disposeInternal()}return"number"==typeof d?this.closeWithStatus(d,m):"string"==typeof d?this.closeWithSignal(d,m,g):this.closeDefault(d)}async closeDefault(d){var m;if(!this.remoteClosed&&!this.localClosed){this.remoteClosed=!0,await this.sendSemaphore.wait(d);try{const d=new C.ChannelCloseMessage;d.recipientChannel=this.remoteChannelId,await this.session.sendMessage(d)}catch(d){}finally{this.sendSemaphore.tryRelease()}}if(!this.localClosed){this.localClosed=!0;const d=this.raiseClosedEvent();null===(m=this.requestCompletionSource)||void 0===m||m.reject(new A.SshChannelError(d))}this.disposeInternal()}async closeWithStatus(d,m){if(!this.remoteClosed&&!this.localClosed){this.exitStatus=d;const m=new C.ChannelSignalMessage;m.recipientChannel=this.remoteChannelId,m.exitStatus=d,await this.session.sendMessage(m)}await this.closeDefault(m)}async closeWithSignal(d,m,g){if(!this.remoteClosed&&!this.localClosed){this.exitSignal=d,this.exitErrorMessage=m;const g=new C.ChannelSignalMessage;g.recipientChannel=this.remoteChannelId,g.exitSignal=d,g.errorMessage=m,await this.session.sendMessage(g)}await this.closeDefault(g)}handleClose(){var d;if(!this.localClosed){this.localClosed=!0;const m=this.raiseClosedEvent(!0);null===(d=this.requestCompletionSource)||void 0===d||d.reject(new A.SshChannelError(m))}this.disposeInternal()}raiseClosedEvent(d=!1){const m=` (S: ${this.metrics.bytesSent}, R: ${this.metrics.bytesReceived})`,g=d?"remotely":"locally";let v,y;return void 0!==this.exitStatus?(y=new R.SshChannelClosedEventArgs(this.exitStatus),v=`${this} closed ${g}: status=${this.exitStatus}`):void 0!==this.exitSignal?(y=new R.SshChannelClosedEventArgs(this.exitSignal,this.exitErrorMessage),v=`${this} closed ${g}: signal=${this.exitSignal} ${this.exitErrorMessage}`):(y=new R.SshChannelClosedEventArgs,v=`${this} closed ${g}.`),this.session.trace(I.TraceLevel.Info,I.SshTraceEventIds.channelClosed,v+m),this.closedEmitter.fire(y),v}dispose(){var d;if(!this.disposed&&!this.localClosed){if(!this.remoteClosed){this.remoteClosed=!0;const d=new C.ChannelCloseMessage;d.recipientChannel=this.remoteChannelId,this.session.sendMessage(d).catch((d=>{}))}const m=this.session.isClosed?`${this.session} closed.`:`${this} disposed.`;this.session.trace(I.TraceLevel.Info,I.SshTraceEventIds.channelClosed,m);const g=new R.SshChannelClosedEventArgs("SIGABRT",m);this.localClosed=!0,this.closedEmitter.fire(g),null===(d=this.requestCompletionSource)||void 0===d||d.reject(new A.SshChannelError(m))}this.disposeInternal()}disposeInternal(){var d;this.disposed||(this.disposed=!0,null===(d=this.requestCompletionSource)||void 0===d||d.reject(new A.ObjectDisposedError(this)),this.connectionService.removeChannel(this),this.sendSemaphore.dispose())}pipe(d){return O.PipeExtensions.pipeChannel(this,d)}toString(){return`SshChannel(Type: ${this.channelType}, Id: ${this.channelId}, RemoteId: ${this.remoteChannelId})`}}m.SshChannel=SshChannel,SshChannel.sessionChannelType="session",SshChannel.defaultMaxPacketSize=C.ChannelOpenMessage.defaultMaxPacketSize,SshChannel.defaultMaxWindowSize=C.ChannelOpenMessage.defaultMaxWindowSize},67848:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SshClientSession=void 0;const v=g(63716),y=g(99301),C=g(92981),_=g(93745),T=g(35865),b=g(20409),A=g(95943),P=g(85558),R=g(46252),k=g(75947);class SshClientSession extends v.SshSession{constructor(d){super(d,!0),this.serviceRequests=new Map,this.clientAuthCompletion=null}async authenticate(d,m){if(!await this.authenticateServer(m))return!1;return!!await this.authenticateClient(d,m)}async authenticateServer(d){if(!this.kexService||!this.kexService.hostKey)throw new Error("Encrypt the session before authenticating.");try{this.principal=await this.raiseAuthenticatingEvent(new C.SshAuthenticatingEventArgs(C.SshAuthenticationType.serverPublicKey,{publicKey:this.kexService.hostKey},d))}catch(d){if(!(d instanceof Error))throw d;throw this.trace(k.TraceLevel.Error,k.SshTraceEventIds.authenticationError,`Error while authenticating server: ${d.message}`,d),d}return this.principal?(this.trace(k.TraceLevel.Info,k.SshTraceEventIds.sessionAuthenticated,`${this} server authenticated.`),!0):(await this.close(y.SshDisconnectReason.hostKeyNotVerifiable,"Server authentication failed."),this.trace(k.TraceLevel.Warning,k.SshTraceEventIds.serverAuthenticationFailed,`${this} server authentication failed.`),!1)}authenticateClient(d,m,g){if(!d)throw new TypeError("A credentials object is required.");return"function"==typeof m?this.authenticateClientWithCompletion(d,m,g):new Promise(((g,v)=>this.authenticateClientWithCompletion(d,((d,m)=>{d?v(d):g(m)}),m)))}async authenticateClientWithCompletion(d,m,g){if(this.clientAuthCompletion=new _.PromiseCompletionSource,this.clientAuthCompletion.promise.then((d=>m(void 0,d)),(d=>m(d))),g){if(g.isCancellationRequested)throw new T.CancellationError;g.onCancellationRequested((d=>{this.clientAuthCompletion&&this.clientAuthCompletion.reject(new T.CancellationError)}))}let v=this.getService(A.AuthenticationService);if(!v){const d=new y.ServiceRequestMessage;d.serviceName=A.AuthenticationService.serviceName,await this.sendMessage(d,g),v=this.activateService(A.AuthenticationService)}await v.authenticateClient(d,g)}onAuthenticationComplete(d){d?this.trace(k.TraceLevel.Info,k.SshTraceEventIds.sessionAuthenticated,`${this} client authenticated.`):this.trace(k.TraceLevel.Warning,k.SshTraceEventIds.clientAuthenticationFailed,`${this} client authentication failed.`),this.clientAuthCompletion&&(this.clientAuthCompletion.resolve(d),this.clientAuthCompletion=null)}async requestService(d,m){let g=!1,v=this.serviceRequests.get(d);if(v||(v=new _.PromiseCompletionSource,this.serviceRequests.set(d,v),g=!0),g){const g=new y.ServiceRequestMessage;g.serviceName=d,await this.sendMessage(g,m)}await v.promise}async handleServiceAcceptMessage(d,m){const g=this.serviceRequests.get(d.serviceName);null==g||g.resolve(!0)}async openChannel(d,m,g){if(!this.connectionService){const d=new y.ServiceRequestMessage;d.serviceName=P.ConnectionService.serviceName,await this.sendMessage(d,g)}return await super.openChannel(d,m,g)}handleDisconnected(){return this.reconnecting?(this.reconnecting=!1,!1):super.handleDisconnected()}async reconnect(d,m){if(this.trace(k.TraceLevel.Verbose,k.SshTraceEventIds.clientSessionReconnecting,"Attempting to reconnect..."),this.isClosed)throw new R.ObjectDisposedError(this);if(this.isConnected)throw new Error("Already connected.");if(!this.protocol)throw new Error("The session was never previously connected.");if(this.reconnecting)throw new Error("Already reconnecting.");this.reconnecting=!0;try{await this.reconnectInternal(d,m)}finally{this.reconnecting=!1}}async reconnectInternal(d,m){var g,v,C,_,T,A;const P=this.sessionId,M=this.protocol,I=null===(g=this.kexService)||void 0===g?void 0:g.hostKey;if(!(P&&M&&this.kexService&&I&&(null===(v=M.extensions)||void 0===v?void 0:v.has(b.SshProtocolExtensionNames.sessionReconnect))))throw new Error("Reconnect was not enabled for this session.");let O;try{if(this.sessionId=null,await this.connect(d,m),!this.sessionId||!this.algorithms||!this.algorithms.signer)throw new Error("Session is not encrypted.");const g=this.kexService.hostKey,v=g?await g.getPublicKeyBytes():null,C=await I.getPublicKeyBytes();if(!v||!C||!v.equals(C)){const d="The server host key is different.";throw this.trace(k.TraceLevel.Error,k.SshTraceEventIds.clientSessionReconnectFailed,`Reconnection failed: ${d}`),new R.SshReconnectError(d,y.SshReconnectFailureReason.differentServerHostKey)}O=this.sessionId}catch(d){throw this.protocol=M,super.handleDisconnected(),d}finally{this.sessionId=P,this.kexService.hostKey=I}const x=await this.createReconnectToken(P,O),L=new y.SessionReconnectRequestMessage;L.requestType="session-reconnect@microsoft.com",L.clientReconnectToken=x,L.lastReceivedSequenceNumber=M.lastIncomingSequence,L.wantReply=!0;const U=await this.requestResponse(L,y.SessionReconnectResponseMessage,y.SessionReconnectFailureMessage,m);if(U instanceof y.SessionReconnectFailureMessage){const d=null!==(C=U.reasonCode)&&void 0!==C?C:y.SshReconnectFailureReason.unknownServerFailure,m=null!==(_=U.description)&&void 0!==_?_:"The server rejected the reconnect request.";throw this.trace(k.TraceLevel.Error,k.SshTraceEventIds.clientSessionReconnectFailed,`Reconnection failed: ${m}`),this.protocol=M,new R.SshReconnectError(m,d)}if(!this.verifyReconnectToken(P,O,null!==(T=U.serverReconnectToken)&&void 0!==T?T:Buffer.alloc(0))){const d="The reconnect token provided by the server was invalid.";throw this.trace(k.TraceLevel.Error,k.SshTraceEventIds.clientSessionReconnectFailed,`Reconnection failed: ${d}`),new R.SshReconnectError(d,y.SshReconnectFailureReason.invalidServerReconnectToken)}this.trace(k.TraceLevel.Info,k.SshTraceEventIds.clientSessionReconnecting,"Reconnect request was accepted by the server.");const j=M.getSentMessages((null!==(A=U.lastReceivedSequenceNumber)&&void 0!==A?A:0)+1);if(!j){const d="Client is unable to re-send messages requested by the server.";throw this.trace(k.TraceLevel.Error,k.SshTraceEventIds.clientSessionReconnectFailed,`Reconnection failed: ${d}`),new R.SshReconnectError(d,y.SshReconnectFailureReason.clientDroppedMessages)}let B=0;for(const d of j)await this.sendMessage(d,m),B++;M.dispose(),this.metrics.addReconnection(),this.trace(k.TraceLevel.Info,k.SshTraceEventIds.clientSessionReconnecting,`{this} reconnected. Re-sent ${B} dropped messages.`)}dispose(){this.clientAuthCompletion&&this.clientAuthCompletion.reject(new R.ObjectDisposedError(this)),super.dispose()}}m.SshClientSession=SshClientSession},18339:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SshRpcMessageStream=void 0;const v=g(87091),y=g(14300),C=g(74837),_="Content-Length: ",T="\r\n\r\n";class SshRpcMessageReader{constructor(d){this.channel=d,this.errorEmitter=new v.Emitter,this.closeEmitter=new v.Emitter,this.partialMessageEmitter=new v.Emitter,this.callback=null,this.messageBuffer=new C.SshDataWriter(y.Buffer.alloc(1024)),this.headersLength=null,this.messageLength=null,this.onError=this.errorEmitter.event,this.onClose=this.closeEmitter.event,this.onPartialMessage=this.partialMessageEmitter.event,this.eventRegistration=this.channel.onDataReceived(this.onDataReceived.bind(this)),this.channel.onClosed((d=>{d.error&&this.errorEmitter.fire(d.error),this.closeEmitter.fire()}))}listen(d){return this.callback=d,v.Disposable.create((()=>{this.callback=null}))}dispose(){this.eventRegistration&&this.eventRegistration.dispose()}onDataReceived(d){if(this.messageBuffer.write(d),this.channel.adjustWindow(d.length),d=this.messageBuffer.toBuffer(),null===this.messageLength){const m=d.indexOf(T);if(m<0)return;const g=d.slice(0,m).toString();if(!g.startsWith(_))throw new Error(`Message does not start with JSON-RPC headers.\n${g}`);this.headersLength=m+T.length,this.messageLength=parseInt(g.substr(_.length,m-_.length),10)}const m=this.messageBuffer.position,g=this.headersLength+this.messageLength;if(m>=g){if(this.callback){const m=d.slice(this.headersLength,g).toString();let v;try{v=JSON.parse(m)}catch(d){if(!(d instanceof Error))throw d;throw new Error(`Failed to parse JSON-RPC message: ${d.message}\n${m}`)}this.callback(v)}this.messageLength=null,this.messageBuffer.position=0,m>g&&this.onDataReceived(d.slice(g))}}}class SshRpcMessageWriter{constructor(d){this.channel=d,this.errorEmitter=new v.Emitter,this.closeEmitter=new v.Emitter,this.onError=this.errorEmitter.event,this.onClose=this.closeEmitter.event,this.channel.onClosed((d=>{d.error&&this.errorEmitter.fire([d.error,d.errorMessage&&{jsonrpc:d.errorMessage}||void 0,d.exitStatus]),this.closeEmitter.fire()}))}write(d){const m=JSON.stringify(d),g=y.Buffer.from(m),v=y.Buffer.from(_+g.length+T),C=y.Buffer.alloc(v.length+g.length);return v.copy(C,0),g.copy(C,v.length),this.channel.send(C).catch((d=>{this.errorEmitter.fire([d,void 0,void 0])}))}end(){}dispose(){}}m.SshRpcMessageStream=class SshRpcMessageStream{constructor(d){this.reader=new SshRpcMessageReader(d),this.writer=new SshRpcMessageWriter(d)}}},23699:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SshServerSession=void 0;const v=g(63716),y=g(87091),C=g(99301),_=g(46252),T=g(20409),b=g(75947);class SshServerSession extends v.SshSession{constructor(d,m){super(d,!1),this.clientAuthenticatedEmitter=new y.Emitter,this.onClientAuthenticated=this.clientAuthenticatedEmitter.event,this.reconnectedEmitter=new y.Emitter,this.onReconnected=this.reconnectedEmitter.event,this.credentials={publicKeys:[]};const g=d.protocolExtensions.includes(T.SshProtocolExtensionNames.sessionReconnect);if(g&&!m)throw new Error("When reconnect is enabled, server sessions require a reference to a shared collection to track reconnectable sessions.");if(!g&&m)throw new Error("When reconnect is not enabled, the reconnectable sessions collection is not applicable.");this.reconnectableSessions=m}async handleServiceRequestMessage(d,m){if(!this.activateService(d.serviceName))throw new _.SshConnectionError(`Service "${d.serviceName}" not available.`,C.SshDisconnectReason.serviceNotAvailable);{const g=new C.ServiceAcceptMessage;g.serviceName=d.serviceName,await this.sendMessage(g,m)}}async handleRequestMessage(d,m){var g;if("session-reconnect@microsoft.com"===d.requestType&&(null===(g=this.config.protocolExtensions)||void 0===g?void 0:g.includes(T.SshProtocolExtensionNames.sessionReconnect))){const g=d.convertTo(new C.SessionReconnectRequestMessage);await this.reconnect(g,m)}else await super.handleRequestMessage(d,m)}handleClientAuthenticated(){this.clientAuthenticatedEmitter.fire()}async enableReconnect(d){await super.enableReconnect(d),this.reconnectableSessions.includes(this)||this.reconnectableSessions.push(this)}handleDisconnected(){return!!this.reconnecting||super.handleDisconnected()}async reconnect(d,m){var g,v,y;if(!this.reconnectableSessions)throw new Error("Disconnected sessions collection should have been initialied when reconnect is enabled.");let _;for(const m of this.reconnectableSessions)if(m!==this&&await this.verifyReconnectToken(m.sessionId,this.sessionId,null!==(g=d.clientReconnectToken)&&void 0!==g?g:Buffer.alloc(0))){_=m,this.reconnectableSessions.splice(this.reconnectableSessions.indexOf(_),1);break}if(!_||_.isClosed){const d="Requested reconnect session was not found or the reconnect token provided by the client was invalid.";this.trace(b.TraceLevel.Error,b.SshTraceEventIds.serverSessionReconnectFailed,`Reconnect failed: ${d}`);const g=new C.SessionReconnectFailureMessage;return g.reasonCode=C.SshReconnectFailureReason.sessionNotFound,g.description=d,void await this.sendMessage(g,m)}const T=_.protocol.getSentMessages((null!==(v=d.lastReceivedSequenceNumber)&&void 0!==v?v:0)+1);if(!T){this.reconnectableSessions.push(_);const d="Server is unable to re-send messages requested by the client.";this.trace(b.TraceLevel.Error,b.SshTraceEventIds.serverSessionReconnectFailed,`Reconnect failed: ${d}`);const g=new C.SessionReconnectFailureMessage;return g.reasonCode=C.SshReconnectFailureReason.serverDroppedMessages,g.description=d,void await this.sendMessage(g,m)}const A=new C.SessionReconnectResponseMessage;A.serverReconnectToken=await this.createReconnectToken(_.sessionId,this.sessionId),A.lastReceivedSequenceNumber=_.protocol.lastIncomingSequence,await this.sendMessage(A,m);try{for(_.reconnecting=!0,null===(y=_.protocol)||void 0===y||y.dispose();_.isConnected;)await new Promise((d=>setTimeout((()=>d()),5)));_.protocol=this.protocol,_.protocol.kexService=_.kexService,this.protocol=void 0;for(const d of T)await _.sendMessage(d,m);this.dispose()}finally{_.reconnecting=!1}this.reconnectableSessions.push(_),_.metrics.addReconnection(),_.processMessages().catch((d=>{this.trace(b.TraceLevel.Error,b.SshTraceEventIds.unknownError,`Unhandled error processing messages: ${d.message}`,d)})),this.trace(b.TraceLevel.Info,b.SshTraceEventIds.serverSessionReconnecting,`${_} reconnected. Re-sent ${T.length} dropped messages.`),_.reconnectedEmitter.fire()}dispose(){if(this.reconnectableSessions){const d=this.reconnectableSessions.indexOf(this);d>=0&&this.reconnectableSessions.splice(d,1)}super.dispose()}}m.SshServerSession=SshServerSession},63716:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SshSession=void 0;const v=g(75947),y=g(14300),C=g(87091),_=g(20409),T=g(13843),b=g(55944),A=g(56419),P=g(24511),R=g(68977),k=g(85558),M=g(95943),I=g(23683),O=g(36891),x=g(83069),L=g(97151),U=g(99301),j=g(70105),B=g(93745),V=g(47898),$=g(7892),q=g(3120),Y=g(35865),z=g(46252),G=g(94945),J=g(27665);class SshSession{get algorithms(){return this.protocol?this.protocol.algorithms:null}get principal(){return this.principalValue}set principal(d){this.principalValue=d}constructor(d,m){if(this.config=d,this.remoteVersion=null,this.activatedServices=new Map,this.connectionService=null,this.requestHandler=null,this.blockedMessages=[],this.blockedMessagesSemaphore=new G.Semaphore(1),this.connected=!1,this.disposed=!1,this.metrics=new j.SessionMetrics,this.reconnecting=!1,this.sessionId=null,this.principalValue=null,this.authenticatingEmitter=new C.Emitter,this.onAuthenticating=this.authenticatingEmitter.event,this.closedEmitter=new C.Emitter,this.onClosed=this.closedEmitter.event,this.disconnectedEmitter=new C.Emitter,this.onDisconnected=this.disconnectedEmitter.event,this.serviceActivatedEmitter=new C.Emitter,this.onServiceActivated=this.serviceActivatedEmitter.event,this.channelOpeningEmitter=new C.Emitter,this.onChannelOpening=this.channelOpeningEmitter.event,this.requestEmitter=new C.Emitter,this.onRequest=this.requestEmitter.event,this.trace=(d,m,g,v)=>{},!d)throw new TypeError("Session configuration is required.");if(d.keyExchangeAlgorithms.find((d=>!!d)))this.kexService=new P.KeyExchangeService(this,null!=m&&m);else{if(d.encryptionAlgorithms.length>0&&d.encryptionAlgorithms.indexOf(null)<0)throw new Error("Encryption requires a key-exchange algorithm to be configured.");if(d.hmacAlgorithms.length>0&&d.hmacAlgorithms.indexOf(null)<0)throw new Error("HMAC requires a key-exchange algorithm to be configured.");if(d.publicKeyAlgorithms.length>0&&d.publicKeyAlgorithms.indexOf(null)<0)throw new Error("Host authentication requires a key-exchange algorithm to be configured.");this.kexService=null,this.activateService(k.ConnectionService)}d.onConfigurationChanged((()=>{const m=this.protocol;m&&(m.traceChannelData=d.traceChannelData)}))}get isConnected(){return this.connected}get isClosed(){return this.disposed}get services(){return[...this.activatedServices.values()]}get channels(){var d,m;return null!==(m=null===(d=this.connectionService)||void 0===d?void 0:d.channels)&&void 0!==m?m:[]}get protocolExtensions(){var d;return(null===(d=this.protocol)||void 0===d?void 0:d.extensions)||null}getService(d){const m=this.activatedServices.get(d);return m||null}activateService(d){let m;if("function"==typeof d)m=d;else{const g=d;if(m=(0,R.findService)(this.config.services,(d=>d.serviceRequest===g)),!m)return null}let g=this.activatedServices.get(m);if(!g){if(!this.config.services.has(m))throw new Error(`Service type not configured: ${m.name}`);g=new m(this,this.config.services.get(m)),m===k.ConnectionService&&(this.connectionService=g),this.activatedServices.set(m,g),this.serviceActivatedEmitter.fire(g)}return g}async connect(d,m){if(!d)throw new TypeError("A session stream is required.");if(this.disposed)throw new z.ObjectDisposedError(this);this.connectPromise||(this.connectPromise=this.doConnect(d,m)),await this.connectPromise}async doConnect(d,m){this.trace(v.TraceLevel.Info,v.SshTraceEventIds.sessionConnecting,`${this} ${this.reconnecting?"re":""}connecting...`),this.protocol=new A.SshProtocol(d,this.config,this.metrics,this.trace),this.protocol.kexService=this.kexService,await this.exchangeVersions(m),this.kexService?await this.encrypt(m):(await this.sendMessage(O.KeyExchangeInitMessage.none,m),await(0,Y.withCancellation)(this.versionExchangePromise,m),this.connected=!0),this.processMessages().catch((d=>{this.trace(v.TraceLevel.Error,v.SshTraceEventIds.unknownError,`Unhandled error processing messages: ${d.message}`,d)}))}async exchangeVersions(d){const m=this.protocol.writeProtocolVersion(SshSession.localVersion.toString(),d),g=this.protocol.readProtocolVersion(d);this.versionExchangePromise=g.then((async d=>{let m;this.trace(v.TraceLevel.Info,v.SshTraceEventIds.protocolVersion,`Local version: ${SshSession.localVersion}, remote version: ${d}`);const g=b.SshVersionInfo.tryParse(d);if(g){if(this.remoteVersion=g,"2.0"===g.protocolVersion)return;m=`Remote SSH version ${this.remoteVersion} is not supported. This library only supports SSH v2.0.`}else m=`Could not parse remote SSH version ${d}`;await this.close(U.SshDisconnectReason.protocolVersionNotSupported,m,new Error(m))})),await m}async encrypt(d){var m,g;const y=this.protocol;if(!y)throw new z.ObjectDisposedError(this);await y.considerReExchange(!0,d),await(0,Y.withCancellation)(this.versionExchangePromise,d),this.connected=!0;let C=null;for(;!(this.isClosed||(null===(m=this.protocol)||void 0===m?void 0:m.algorithms)||C instanceof U.DisconnectMessage)&&(C=await y.receiveMessage(d),C);)await this.handleMessage(C,d);if(!(null===(g=this.protocol)||void 0===g?void 0:g.algorithms))throw new z.SshConnectionError("Session closed while encrypting.",U.SshDisconnectReason.connectionLost);this.protocol.algorithms.cipher&&this.trace(v.TraceLevel.Info,v.SshTraceEventIds.sessionEncrypted,`${this} encrypted.`)}async processMessages(){var d;for(this.connected=!0;!this.disposed;){const m=this.protocol;if(!m)break;let g=null;try{g=await m.receiveMessage()}catch(m){if(!(m instanceof Error))throw m;let g=U.SshDisconnectReason.protocolError;m instanceof z.SshConnectionError?g=null!==(d=m.reason)&&void 0!==d?d:g:this.trace(v.TraceLevel.Error,v.SshTraceEventIds.receiveMessageFailed,`Error receiving message: ${m.message}`,m),await this.close(g,m.message,m)}if(!g){await this.close(U.SshDisconnectReason.connectionLost,"Connection lost.");break}try{await this.handleMessage(g)}catch(d){if(!(d instanceof Error))throw d;this.trace(v.TraceLevel.Error,v.SshTraceEventIds.handleMessageFailed,`Error handling ${g}: ${d.message}`,d),await this.close(U.SshDisconnectReason.protocolError,d.message,d)}}this.connected=!1}get canAcceptRequests(){var d;return!(this.kexService&&(!(null===(d=this.protocol)||void 0===d?void 0:d.algorithms)||this.protocol.algorithms.cipher&&!this.principal))}async sendMessage(d,m){var g,y;if(!d)throw new TypeError("Message expected.");if(m&&m.isCancellationRequested)throw new Y.CancellationError;const C=this.protocol;if(!C||this.disposed)throw new z.ObjectDisposedError(this);if(this.kexService&&this.kexService.exchanging&&d.messageType>4&&(d.messageType<20||d.messageType>49))return void this.blockedMessages.push(d);let T;await this.blockedMessagesSemaphore.wait(m);try{T=await C.sendMessage(d,m),this.blockedMessagesSemaphore.release()}catch(m){if(this.blockedMessagesSemaphore.release(),m instanceof z.SshConnectionError){if(m.reason===U.SshDisconnectReason.connectionLost&&(null===(g=this.protocolExtensions)||void 0===g?void 0:g.has(_.SshProtocolExtensionNames.sessionReconnect)))return}if(!(m instanceof Error))throw m;throw this.trace(v.TraceLevel.Error,v.SshTraceEventIds.sendMessageFailed,`Error sending ${d}: ${m.message}`,m),m}if(!T&&!(null===(y=this.protocolExtensions)||void 0===y?void 0:y.has(_.SshProtocolExtensionNames.sessionReconnect)))throw new z.SshConnectionError("Session disconnected.",U.SshDisconnectReason.connectionLost)}handleMessage(d,m){var g;if(d instanceof x.ConnectionMessage&&this.connectionService)return this.connectionService.handleMessage(d,m);if(d instanceof O.NewKeysMessage)return this.handleNewKeysMessage(d,m);if(d instanceof O.KeyExchangeMessage)return this.handleKeyExchangeMessage(d,m);if(d instanceof L.AuthenticationMessage)return null===(g=this.getService(M.AuthenticationService))||void 0===g?void 0:g.handleMessage(d,m);if(d instanceof U.ServiceRequestMessage)return this.handleServiceRequestMessage(d,m);if(d instanceof U.ServiceAcceptMessage)return this.handleServiceAcceptMessage(d,m);if(d instanceof U.SessionRequestMessage)return this.handleRequestMessage(d,m);if(d instanceof U.SessionRequestSuccessMessage)return this.handleRequestSuccessMessage(d);if(d instanceof U.SessionRequestFailureMessage)return this.handleRequestFailureMessage(d);if(d instanceof U.ExtensionInfoMessage)return this.handleExtensionInfoMessage(d,m);if(d instanceof U.DisconnectMessage)return this.handleDisconnectMessage(d);if(d instanceof U.UnimplementedMessage)return this.handleUnimplementedMessage(d,m);if(d instanceof U.DebugMessage)return this.handleDebugMessage(d);if(!(d instanceof U.IgnoreMessage))throw d instanceof I.SshMessage?new Error(`Unhandled message type: ${d.constructor.name}`):new TypeError("Message argument was "+(d?"invalid type.":"null."))}async handleRequestMessage(d,m){var g;let y=!1,C=null;if("initial-channel-request@microsoft.com"===d.requestType&&this.config.protocolExtensions.includes(_.SshProtocolExtensionNames.openChannelRequest)){const g=d.convertTo(new U.SessionChannelRequestMessage),v=g.senderChannel,C=this.channels.find((d=>d.remoteChannelId===v));C&&g.request&&(g.request.wantReply=!1,y=await C.handleRequest(g.request,m))}else if("enable-session-reconnect@microsoft.com"===d.requestType&&(null===(g=this.config.protocolExtensions)||void 0===g?void 0:g.includes(_.SshProtocolExtensionNames.sessionReconnect)))this.protocol.incomingMessagesHaveReconnectInfo||(this.protocol.incomingMessagesHaveReconnectInfo=!0,this.protocol.incomingMessagesHaveLatencyInfo=this.protocol.extensions.has(_.SshProtocolExtensionNames.sessionLatency),y=!0);else if(this.canAcceptRequests){const g=new $.SshRequestEventArgs(d.requestType||"",d,this.principal,m),v=(0,R.findService)(this.config.services,(m=>m.sessionRequest===d.requestType));if(v){const d=this.activateService(v);await d.onSessionRequest(g,m)}else this.raiseSessionRequest(g);g.responsePromise?(C=await g.responsePromise,y=C instanceof U.SessionRequestSuccessMessage):y=g.isAuthorized||!1}else this.trace(v.TraceLevel.Warning,v.SshTraceEventIds.sessionRequestFailed,"Session request blocked because the session is not yet authenticated."),y=!1;d.wantReply&&(y?C instanceof U.SessionRequestSuccessMessage||(C=new U.SessionRequestSuccessMessage):C instanceof U.SessionRequestFailureMessage||(C=new U.SessionRequestFailureMessage),await this.sendMessage(C,m))}raiseSessionRequest(d){this.requestEmitter.fire(d)}async handleServiceRequestMessage(d,m){}async handleServiceAcceptMessage(d,m){}async handleKeyExchangeMessage(d,m){this.kexService?await this.kexService.handleMessage(d,m):d instanceof O.KeyExchangeInitMessage&&d.allowsNone||await this.close(U.SshDisconnectReason.keyExchangeFailed,"Encryption is disabled.")}async handleNewKeysMessage(d,m){try{await this.blockedMessagesSemaphore.wait(m),await this.protocol.handleNewKeys(m);try{for(;this.blockedMessages.length>0;){const d=this.blockedMessages.shift();if(!this.protocol)throw new z.ObjectDisposedError(this);await this.protocol.sendMessage(d,m)}}catch(d){if(!(d instanceof Error))throw d;await this.close(U.SshDisconnectReason.protocolError,void 0,d)}}finally{this.blockedMessagesSemaphore.release()}}async handleUnimplementedMessage(d,m){void 0!==d.unimplementedMessageType&&await this.sendMessage(d,m)}handleDebugMessage(d){d.message&&this.trace(d.alwaysDisplay?v.TraceLevel.Info:v.TraceLevel.Verbose,v.SshTraceEventIds.debugMessage,d.message)}async raiseAuthenticatingEvent(d){this.trace(v.TraceLevel.Info,v.SshTraceEventIds.sessionAuthenticating,`${this} Authenticating(${d})`),this.authenticatingEmitter.fire(d);let m=d.authenticationPromise;m||(m=Promise.resolve(null));return await m}async request(d,m){if(!d)throw new TypeError("Request is required.");if(!d.wantReply)return await this.sendMessage(d,m),!0;return await this.requestResponse(d,U.SessionRequestSuccessMessage,U.SessionRequestFailureMessage,m)instanceof U.SessionRequestSuccessMessage}async requestResponse(d,m,g,v){if(!d)throw new TypeError("Request is required.");if(!m)throw new TypeError("Success response type is required.");if(!g)throw new TypeError("Failure response type is required.");if(this.requestHandler)throw new Error("Another request is already pending.");d.wantReply=!0;const y=new B.PromiseCompletionSource;if(v){if(v.isCancellationRequested)throw new Y.CancellationError;v.onCancellationRequested((()=>{this.requestHandler=null,y.reject(new Y.CancellationError)}))}return this.requestHandler=(d,v)=>{var C,_;if(this.requestHandler=null,d)y.reject(d);else if(v instanceof U.SessionRequestFailureMessage){const d=null!==(C=null==v?void 0:v.convertTo(new g,!0))&&void 0!==C?C:null;y.resolve(d)}else if(v instanceof U.SessionRequestSuccessMessage){const d=null!==(_=null==v?void 0:v.convertTo(new m,!0))&&void 0!==_?_:null;y.resolve(d)}else y.reject(new Error("Unknown response message type."))},await this.sendMessage(d,v),await y.promise}handleRequestSuccessMessage(d){this.requestHandler&&this.requestHandler(void 0,d)}handleRequestFailureMessage(d){this.requestHandler&&this.requestHandler(void 0,d)}async acceptChannel(d,m){const g="string"==typeof d?d:void 0;m||"object"!=typeof d||(m=d),this.activateService(k.ConnectionService);const v=this.connectionService.acceptChannel(g||T.SshChannel.sessionChannelType,m);return await v}async openChannel(d,m,g){let v;if("string"==typeof d||null===d?(v=new x.ChannelOpenMessage,v.channelType=null!=d?d:T.SshChannel.sessionChannelType):d instanceof x.ChannelOpenMessage?v=d:(v=new x.ChannelOpenMessage,v.channelType=T.SshChannel.sessionChannelType,g=d),m instanceof x.ChannelRequestMessage)return await this.openChannelWithInitialRequest(v,m,g);g||null===m||(g=m),this.activateService(k.ConnectionService);const y=new B.PromiseCompletionSource;return await this.connectionService.openChannel(v,y,g),await y.promise}async openChannelWithInitialRequest(d,m,g){var v;this.activateService(k.ConnectionService);const y=new B.PromiseCompletionSource,C=await this.connectionService.openChannel(d,y,g);if(g){if(g.isCancellationRequested)throw new Y.CancellationError;g.onCancellationRequested((()=>y.reject(new Y.CancellationError)))}let T,b;const A=this.config.protocolExtensions.includes(_.SshProtocolExtensionNames.openChannelRequest)&&(null===(v=this.protocolExtensions)||void 0===v?void 0:v.has(_.SshProtocolExtensionNames.openChannelRequest));if(!1===A)T=await y.promise,b=await T.request(m,g);else{const d=m.wantReply||void 0===A,v=new U.SessionChannelRequestMessage;v.requestType="initial-channel-request@microsoft.com",v.senderChannel=C,v.request=m,v.wantReply=d;const _=this.request(v,g);T=await y.promise,d?(b=await _,b||void 0!==A||(b=await T.request(m))):b=!0}if(!b)throw await T.close(),new Error("The initial channel request was denied.");return T}async handleChannelOpening(d,m,g=!0){if(g){const g=(0,R.findService)(this.config.services,(m=>m.channelType===d.channel.channelType&&!m.channelRequest));if(g){const v=this.activateService(g);return void await v.onChannelOpening(d,m)}}d.cancellation=null!=m?m:C.CancellationToken.None,this.channelOpeningEmitter.fire(d),d.openingPromise&&await d.openingPromise}async sendExtensionInfo(d){const m=new U.ExtensionInfoMessage;m.extensionInfo={};for(const d of this.config.protocolExtensions)if(d===_.SshProtocolExtensionNames.serverSignatureAlgorithms){const g=Array.from(new Set((0,q.algorithmNames)(this.config.publicKeyAlgorithms))).join(",");m.extensionInfo[d]=g}else m.extensionInfo[d]="";await this.sendMessage(m,d)}async handleExtensionInfoMessage(d,m){if(!this.protocol)return;this.protocol.extensions=new Map;if(d.extensionInfo){for(const m of this.config.protocolExtensions){const g=d.extensionInfo[m];"string"==typeof g&&this.protocol.extensions.set(m,g)}this.protocol.extensions.has(_.SshProtocolExtensionNames.sessionReconnect)&&await this.enableReconnect(m)}}async close(d,m,g){var y,C,_;if(!this.disposed&&this.connected){if(this.connected=!1,this.trace(v.TraceLevel.Info,v.SshTraceEventIds.sessionClosing,`${this} Close(${U.SshDisconnectReason[d]}, "${m||""}")`),d!==U.SshDisconnectReason.connectionLost)try{const g=new U.DisconnectMessage;g.reasonCode=d,g.description=m||"",await(null===(y=this.protocol)||void 0===y?void 0:y.sendMessage(g))}catch(d){}else if(this.handleDisconnected())return null===(C=this.protocol)||void 0===C||C.dispose(),this.trace(v.TraceLevel.Info,v.SshTraceEventIds.sessionDisconnected,`${this} disconnected.`),void this.disconnectedEmitter.fire();this.disposed=!0,this.closedError=g,(g=null!=g?g:new z.SshConnectionError(m,d))&&(null===(_=this.connectionService)||void 0===_||_.close(g)),this.closedEmitter.fire(new V.SshSessionClosedEventArgs(d,m||"Disconnected.",g)),this.dispose()}}handleDisconnected(){var d,m;return this.connectPromise=void 0,null===(d=this.kexService)||void 0===d||d.abortKeyExchange(),!!(null===(m=this.protocolExtensions)||void 0===m?void 0:m.has(_.SshProtocolExtensionNames.sessionReconnect))}async handleDisconnectMessage(d){var m;const g=d.description||"Received disconnect message.";await this.close(null!==(m=d.reasonCode)&&void 0!==m?m:U.SshDisconnectReason.none,g)}dispose(){var d,m;const g=this.closedError instanceof z.SshConnectionError?this.closedError:new z.SshConnectionError("Session disposed.");this.disposed||(this.trace(v.TraceLevel.Info,v.SshTraceEventIds.sessionClosing,`${this} disposed.`),this.disposed=!0,this.closedEmitter.fire(new V.SshSessionClosedEventArgs(U.SshDisconnectReason.none,"SshSession disposed",g))),this.requestHandler&&this.requestHandler(g),this.metrics.close(),null===(d=this.connectionService)||void 0===d||d.dispose();for(const d of this.activatedServices.values())d!==this.connectionService&&d.dispose();this.activatedServices.clear(),null===(m=this.protocol)||void 0===m||m.dispose(),this.protocol=void 0}async enableReconnect(d){var m;try{if(await this.blockedMessagesSemaphore.wait(),null===(m=this.kexService)||void 0===m?void 0:m.exchanging)this.trace(v.TraceLevel.Error,v.SshTraceEventIds.sessionReconnectInitFailed,"Failed to initialize session reconnect because a key-exchange was in-progress.");else{const m=new U.SessionRequestMessage("enable-session-reconnect@microsoft.com",!1);await this.protocol.sendMessage(m,d),this.protocol&&(this.protocol.outgoingMessagesHaveReconnectInfo=!0,this.protocol.outgoingMessagesHaveLatencyInfo=this.protocol.extensions.has(_.SshProtocolExtensionNames.sessionLatency))}this.blockedMessagesSemaphore.release()}catch(d){throw this.blockedMessagesSemaphore.release(),d instanceof Error&&await this.close(U.SshDisconnectReason.protocolError,void 0,d),d}}async createReconnectToken(d,m){return await this.algorithms.signer.sign(y.Buffer.concat([d,m]))}async verifyReconnectToken(d,m,g){return await this.algorithms.verifier.verify(y.Buffer.concat([d,m]),g)}pipe(d){return J.PipeExtensions.pipeSession(this,d)}toString(){return this.constructor.name}}m.SshSession=SshSession,SshSession.localVersion=b.SshVersionInfo.getLocalVersion()},4150:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SshSessionAlgorithms=void 0;m.SshSessionAlgorithms=class SshSessionAlgorithms{dispose(){this.cipher&&this.cipher.dispose(),this.decipher&&this.decipher.dispose(),this.signer&&this.signer.dispose(),this.verifier&&this.verifier.dispose()}}},20409:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SshSessionConfiguration=m.SshProtocolExtensionNames=void 0;const v=g(87091),y=g(3120),C=g(24511),_=g(85558),T=g(95943),b=g(23683);var A;!function(d){d.serverSignatureAlgorithms="server-sig-algs",d.openChannelRequest="open-channel-request@microsoft.com",d.sessionReconnect="session-reconnect@microsoft.com",d.sessionLatency="session-latency@microsoft.com"}(A=m.SshProtocolExtensionNames||(m.SshProtocolExtensionNames={}));m.SshSessionConfiguration=class SshSessionConfiguration{constructor(d=!0){this.protocolExtensions=[],this.services=new Map,this.messages=new Map,this.keyExchangeAlgorithms=[],this.publicKeyAlgorithms=[],this.encryptionAlgorithms=[],this.hmacAlgorithms=[],this.compressionAlgorithms=[],this.traceChannelDataValue=!1,this.configurationChangedEmitter=new v.Emitter,this.onConfigurationChanged=this.configurationChangedEmitter.event,this.maxClientAuthenticationAttempts=5,this.enableKeyExchangeGuess=!1,this.keyRotationThreshold=536870912,this.protocolExtensions.push(A.serverSignatureAlgorithms),this.protocolExtensions.push(A.openChannelRequest),this.services.set(C.KeyExchangeService,null),this.services.set(_.ConnectionService,null),this.services.set(T.AuthenticationService,null);for(const[d,m]of b.SshMessage.index)this.messages.set(d,m);d?(this.keyExchangeAlgorithms.push(y.SshAlgorithms.keyExchange.ecdhNistp384Sha384),this.keyExchangeAlgorithms.push(y.SshAlgorithms.keyExchange.ecdhNistp256Sha256),this.keyExchangeAlgorithms.push(y.SshAlgorithms.keyExchange.dhGroup16Sha512),this.keyExchangeAlgorithms.push(y.SshAlgorithms.keyExchange.dhGroup14Sha256),this.publicKeyAlgorithms.push(y.SshAlgorithms.publicKey.rsaWithSha512),this.publicKeyAlgorithms.push(y.SshAlgorithms.publicKey.rsaWithSha256),this.publicKeyAlgorithms.push(y.SshAlgorithms.publicKey.ecdsaSha2Nistp384),this.publicKeyAlgorithms.push(y.SshAlgorithms.publicKey.ecdsaSha2Nistp256),this.encryptionAlgorithms.push(y.SshAlgorithms.encryption.aes256Gcm),this.encryptionAlgorithms.push(y.SshAlgorithms.encryption.aes256Ctr),this.hmacAlgorithms.push(y.SshAlgorithms.hmac.hmacSha512Etm),this.hmacAlgorithms.push(y.SshAlgorithms.hmac.hmacSha256Etm),this.hmacAlgorithms.push(y.SshAlgorithms.hmac.hmacSha512),this.hmacAlgorithms.push(y.SshAlgorithms.hmac.hmacSha256)):(this.keyExchangeAlgorithms.push(y.SshAlgorithms.keyExchange.none),this.publicKeyAlgorithms.push(y.SshAlgorithms.publicKey.none),this.encryptionAlgorithms.push(y.SshAlgorithms.encryption.none),this.hmacAlgorithms.push(y.SshAlgorithms.hmac.none)),this.compressionAlgorithms.push(y.SshAlgorithms.compression.none)}addService(d,m){if(this.services.has(d))throw new Error("Duplicate service entry.");this.services.set(d,m)}getKeyExchangeAlgorithm(d){return this.getAlgorithm(d,this.keyExchangeAlgorithms)}getPublicKeyAlgorithm(d){return this.getAlgorithm(d,this.publicKeyAlgorithms)}getEncryptionAlgorithm(d){return this.getAlgorithm(d,this.encryptionAlgorithms)}getHmacAlgorithm(d){return this.getAlgorithm(d,this.hmacAlgorithms)}getCompressionAlgorithm(d){return this.getAlgorithm(d,this.compressionAlgorithms)}getAlgorithm(d,m){const g=m.find((m=>!!m&&m.name===d));if(!g){if("none"===d)return null;throw new Error("Algorithm not found: "+d)}return g}get traceChannelData(){return this.traceChannelDataValue}set traceChannelData(d){d!==this.traceChannelDataValue&&(this.traceChannelDataValue=d,this.configurationChangedEmitter.fire())}}},32377:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SshStream=void 0;const v=g(93745),y=g(12781);class SshStream extends y.Duplex{constructor(d){let m=null;super({async write(m,g,v){let y;try{let v;if("string"==typeof m)v=Buffer.from(m,g);else{if(!(m instanceof Buffer||m instanceof Uint8Array))throw new Error("Unsupported chunk type: "+typeof m);v=m}await d.send(v)}catch(d){if(!(d instanceof Error))throw d;y=d}v&&v(y)},async writev(m,g){let v;try{if(1===m.length)return this.write(m[0].chunk,m[0].encoding,g);{function BufferReduce(d,m){if(m.chunk instanceof Buffer||m.chunk instanceof Uint8Array)return d+m.chunk.length;throw new Error("Unsupported chunk type: "+typeof m.chunk)}const g=m.reduce(BufferReduce,0),v=Buffer.alloc(g);let y=0;for(let d=0;d<m.length;d++)m[d].chunk.copy(v,y),y+=m[d].chunk.length;await d.send(v)}}catch(d){if(!(d instanceof Error))throw d;v=d}g&&g(v)},async final(m){let g;try{await d.close()}catch(d){if(!(d instanceof Error))throw d;g=d}m&&m(g)},read(){m&&(m.resolve(),m=null)}}),d.onDataReceived((async g=>{const y=Buffer.alloc(g.length);g.copy(y);this.push(y)||(m||(m=new v.PromiseCompletionSource),await m.promise),d.adjustWindow(y.length)})),d.onClosed((()=>{this.push(null)})),this.channel=d}destroy(d){return this.channel.close().catch(),super.destroy(d),this}toString(){return`SshStream(Channel Type: ${this.channel.channelType}, Id: ${this.channel.channelId}, RemoteId: ${this.channel.remoteChannelId})`}}m.SshStream=SshStream},55944:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SshVersionInfo=void 0;const v=g(29133),y=v.name.replace(/^@\w+\//,""),C=v.version;class SshVersionInfo{static tryParse(d){if(!d)throw new TypeError("Version string expected.");if(!d.startsWith("SSH-"))return null;const m=d.indexOf("-",4);if(m<=0)return null;const g=d.substring(4,m);if(!/^\d+\.\d+$/.test(g))return null;let v,y;const C=d.substring(m+1),_=C.indexOf(" "),T=C.lastIndexOf("_",_>=0?_:C.length-1);if(T>=0){v=C.substring(0,T).replace(/_/g," "),y=C.substring(T+1);for(let d=0;d<y.length;d++){const m=y[d];if(!(m>="0"&&m<="9")&&"."!==m){y=y.substring(0,d);break}}/^\d+(\.\d+)*$/.test(y)||(y=null)}else v=C,y=null;return new SshVersionInfo(d,g,v,y)}static getLocalVersion(){return new SshVersionInfo(`SSH-2.0-${y}_${C}`,"2.0",y,C)}constructor(d,m,g,v){this.versionString=d,this.protocolVersion=m,this.name=g,this.version=v}toString(){return this.versionString}get isVsSsh(){return this.isVsSshCS||this.isVsSshTS}get isVsSshCS(){return"Microsoft.VisualStudio.Ssh"===this.name||"Microsoft.DevTunnels.Ssh"===this.name}get isVsSshTS(){return"vs-ssh"===this.name||"dev-tunnels-ssh"===this.name}}m.SshVersionInfo=SshVersionInfo},93926:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.WebSocketStream=m.NodeStream=m.BaseStream=void 0;const v=g(14300),y=g(87091),C=g(35865),_=g(46252);function handleCancellation(d,m){m&&(m.isCancellationRequested?d(new C.CancellationError):m.onCancellationRequested((()=>{d(new C.CancellationError)})))}class BaseStream{constructor(){this.incomingData=[],this.pendingReads=[],this.error=null,this.disposed=!1,this.closedEmitter=new y.Emitter,this.closed=this.closedEmitter.event}onData(d){for(;this.pendingReads.length>0;){const m=this.pendingReads.shift();if(m.count>=d.length)return void m.resolve(d);{const g=d.slice(0,m.count);d=d.slice(m.count),m.resolve(g)}}this.incomingData.push(d)}onEnd(){for(;this.pendingReads.length>0;){this.pendingReads.shift().resolve(null)}this.incomingData.push(v.Buffer.alloc(0))}onError(d){for(this.error||(this.error=d);this.pendingReads.length>0;){this.pendingReads.shift().reject(d)}}async read(d,m){if(this.disposed)throw new _.ObjectDisposedError(this);if(this.incomingData.length>0){let m=this.incomingData[0];return 0===m.length?null:(d>=m.length?this.incomingData.shift():(this.incomingData[0]=m.slice(d),m=m.slice(0,d)),m)}if(this.error)throw this.error;return await new Promise(((g,v)=>{if(m){if(m.isCancellationRequested)return void v(new C.CancellationError);m.onCancellationRequested((()=>{for(let d=0;d<this.pendingReads.length;d++)if(Object.is(m,this.pendingReads[d].cancellation)){this.pendingReads.splice(d--,1)[0].reject(new C.CancellationError)}}))}this.pendingReads.push({count:d,resolve:g,reject:v,cancellation:m})}))}dispose(){if(!this.disposed){this.disposed=!0;const d=new _.ObjectDisposedError(this);this.onError(d),this.fireOnClose(d)}}fireOnClose(d){this.closedEmitter.fire({error:d})}get isDisposed(){return this.disposed}}m.BaseStream=BaseStream;m.NodeStream=class NodeStream extends BaseStream{constructor(d,m){if(super(),!d)throw new TypeError("Duplex or Readable/Writable stream are required.");this.readStream=d,this.writeStream=m||d,this.readStream.on("data",this.onData.bind(this)),this.readStream.on("end",this.onEnd.bind(this)),this.readStream.on("error",this.onError.bind(this)),this.readStream.on("close",(()=>{this.onEnd(),this.fireOnClose()}))}async write(d,m){if(!d)throw new TypeError("Data is required.");if(this.disposed)throw new _.ObjectDisposedError(this);return new Promise(((g,v)=>{handleCancellation(v,m),this.writeStream.write(d,(d=>{d?v(d):g()}))}))}async close(d,m){if(this.disposed)throw new _.ObjectDisposedError(this);await new Promise(((d,g)=>{handleCancellation(g,m),this.writeStream.end(d)})),this.disposed=!0,this.onError(d||new _.ObjectDisposedError(this)),this.closedEmitter.fire({error:d})}dispose(){if(!this.disposed){const d=new _.ObjectDisposedError(this);this.readStream.destroy(d),this.writeStream.destroy(d)}super.dispose()}};m.WebSocketStream=class WebSocketStream extends BaseStream{constructor(d){if(super(),this.websocket=d,!d)throw new TypeError("WebSocket is required.");if("string"==typeof d.binaryType&&"arraybuffer"!==d.binaryType)throw new Error("WebSocket must use arraybuffer binary type.");d.onmessage=d=>{this.onData(v.Buffer.from(d.data))},d.onclose=d=>{if(d.wasClean)this.onEnd();else{const m=new Error(d.reason);m.code=d.code,this.onError(m)}}}async write(d,m){if(!d)throw new TypeError("Data is required.");if(this.disposed)throw new _.ObjectDisposedError(this);if("readyState"in this.websocket&&(2===this.websocket.readyState||3===this.websocket.readyState))throw new DOMException("WebSocket is already in CLOSING or CLOSED state.","InvalidStateError");this.websocket.send(d)}async close(d,m){if(this.disposed)throw new _.ObjectDisposedError(this);if(d){const m="number"==typeof d.code?d.code:void 0;this.websocket.close(m,d.message)}else this.websocket.close();this.disposed=!0,this.closedEmitter.fire({error:d}),this.onError(d||new Error("Stream closed."))}dispose(){this.disposed||this.websocket.close(),super.dispose()}}},75947:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SshTraceEventIds=m.TraceLevel=void 0,function(d){d.Error="error",d.Warning="warning",d.Info="info",d.Verbose="verbose"}(m.TraceLevel||(m.TraceLevel={}));class SshTraceEventIds{}m.SshTraceEventIds=SshTraceEventIds,SshTraceEventIds.unknownError=9e3,SshTraceEventIds.streamReadError=9001,SshTraceEventIds.streamWriteError=9002,SshTraceEventIds.streamCloseError=9003,SshTraceEventIds.sendMessageFailed=9004,SshTraceEventIds.receiveMessageFailed=9005,SshTraceEventIds.handleMessageFailed=9006,SshTraceEventIds.serverAuthenticationFailed=9007,SshTraceEventIds.clientAuthenticationFailed=9008,SshTraceEventIds.authenticationError=9009,SshTraceEventIds.channelWindowAdjustFailed=9010,SshTraceEventIds.channelWaitForWindowAdjust=9011,SshTraceEventIds.sessionReconnectInitFailed=9020,SshTraceEventIds.serverSessionReconnectFailed=9021,SshTraceEventIds.clientSessionReconnectFailed=9022,SshTraceEventIds.sessionRequestFailed=9023,SshTraceEventIds.channelRequestFailed=9024,SshTraceEventIds.serverListenFailed=9050,SshTraceEventIds.portForwardServerListenFailed=9051,SshTraceEventIds.portForwardRequestInvalid=9052,SshTraceEventIds.portForwardChannelInvalid=9053,SshTraceEventIds.portForwardChannelOpenFailed=9054,SshTraceEventIds.portForwardConnectionFailed=9055,SshTraceEventIds.protocolVersion=9100,SshTraceEventIds.sendingMessage=9101,SshTraceEventIds.receivingMessage=9102,SshTraceEventIds.sendingChannelData=9103,SshTraceEventIds.receivingChannelData=9104,SshTraceEventIds.sessionEncrypted=9110,SshTraceEventIds.sessionAuthenticating=9111,SshTraceEventIds.sessionAuthenticated=9112,SshTraceEventIds.sessionClosing=9113,SshTraceEventIds.sessionConnecting=9114,SshTraceEventIds.channelOpened=9120,SshTraceEventIds.channelOpenFailed=9121,SshTraceEventIds.channelEofReceived=9122,SshTraceEventIds.channelClosed=9123,SshTraceEventIds.serverListening=9150,SshTraceEventIds.serverClientConnected=9151,SshTraceEventIds.portForwardServerListening=9152,SshTraceEventIds.portForwardConnectionAccepted=9153,SshTraceEventIds.portForwardChannelOpened=9154,SshTraceEventIds.portForwardChannelClosed=9155,SshTraceEventIds.portForwardConnectionOpened=9156,SshTraceEventIds.portForwardConnectionClosed=9157,SshTraceEventIds.sessionDisconnected=9160,SshTraceEventIds.clientSessionReconnecting=9161,SshTraceEventIds.serverSessionReconnecting=9162,SshTraceEventIds.clientSessionStartReconnecting=9163,SshTraceEventIds.algorithmNegotiation=9170,SshTraceEventIds.debugMessage=9200},35865:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.withCancellation=m.CancellationError=m.CancellationTokenSource=m.CancellationToken=void 0;const v=g(87091);Object.defineProperty(m,"CancellationToken",{enumerable:!0,get:function(){return v.CancellationToken}}),Object.defineProperty(m,"CancellationTokenSource",{enumerable:!0,get:function(){return v.CancellationTokenSource}});class CancellationError extends Error{constructor(d){super(d||"Operation cancelled.")}}m.CancellationError=CancellationError,m.withCancellation=function withCancellation(d,m){return m?Promise.race([d,new Promise(((d,g)=>{m.isCancellationRequested?g(new CancellationError):m.onCancellationRequested((()=>{g(new CancellationError)}))}))]):d}},93745:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.PromiseCompletionSource=void 0;m.PromiseCompletionSource=class PromiseCompletionSource{constructor(){this.promise=new Promise(((d,m)=>{this.resolve=d,this.reject=m}))}resolve(d){}reject(d){}}},66491:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.Queue=void 0;class Queue{constructor(){this.array=new Array,this.first=0,this.count=0,this.version=0}get size(){return this.count}enqueue(d){if(this.count===this.array.length){const d=new Array(Math.max(16,2*this.count));for(let m=0;m<this.count;m++)d[m]=this.array[(this.first+m)%this.count];this.array=d,this.first=0}this.array[(this.first+this.count)%this.array.length]=d,this.count++,this.version++}dequeue(){if(0===this.count)return;const d=this.array[this.first];return this.array[this.first]=void 0,this.first=(this.first+1)%this.array.length,this.count--,this.version++,d}peek(){if(0===this.count)return;return this.array[this.first]}clear(){this.first=0,this.count=0,this.array.fill(void 0),this.version++}*[Symbol.iterator](){const d=this.version;for(let m=0;m<this.count;m++){const g=this.array[(this.first+m)%this.array.length];if(yield g,this.version!==d)throw new Error("Iterator is invalid due to changes in the collection.")}}}m.Queue=Queue},94945:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.Semaphore=void 0;const v=g(93745),y=g(35865),C=g(46252);m.Semaphore=class Semaphore{constructor(d=0){this.completions=[],this.disposed=!1,this.count=d}get currentCount(){return this.count}release(d=1){if(this.disposed)throw new C.ObjectDisposedError(this);const m=this.count;for(;d>0;d--)if(this.completions.length>0){this.completions.shift().resolve(!0)}else this.count++;return m}tryRelease(){try{this.release()}catch(d){if(!(d instanceof C.ObjectDisposedError))throw d}}async wait(d,m){const g="number"==typeof d?d:void 0;if(void 0===m&&"object"==typeof d&&(m=d),this.disposed)throw new C.ObjectDisposedError(this);if(null==m?void 0:m.isCancellationRequested)throw new y.CancellationError;if(this.count>0)return this.count--,!0;if(0===g)return!1;{const d=new v.PromiseCompletionSource;this.completions.push(d);const C=[d.promise];if(g&&C.push(new Promise((d=>setTimeout((()=>d(!1)),g)))),m){const d=new v.PromiseCompletionSource;m.onCancellationRequested((()=>{d.reject(new y.CancellationError)})),C.push(d.promise)}if(await Promise.race(C))return!0;{const m=this.completions.indexOf(d);return m>=0&&this.completions.splice(m,1),!1}}}dispose(){if(!this.disposed){this.disposed=!0;for(const d of this.completions)d.reject(new C.ObjectDisposedError(this));this.completions.splice(0,this.completions.length),this.count=0}}}},1272:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.AuthorizationServiceClient=void 0;const v=g(39491),y=g(23771);m.AuthorizationServiceClient=class AuthorizationServiceClient{constructor(d,m=!0){this.authService=d,this.ownsAuthService=m,this.isDisposed=!1,v(d),this.authService=d}async getCredentials(d=y.default.CONTINUE){if(this.isDisposed)throw new Error("Object is disposed");return await this.authService.getCredentials(d)}async checkAuthorization(d,m=y.default.CONTINUE){if(v(d),this.isDisposed)throw new Error("Object is disposed");return await this.authService.checkAuthorization(d,m)}dispose(){this.isDisposed=!0,this.ownsAuthService&&this.authService.dispose()}}},48930:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.BE32MessageWriter=m.BE32MessageReader=void 0;const v=g(87091),y=g(23771),C=g(12781),_=g(45773),T=g(66269);m.BE32MessageReader=class BE32MessageReader{constructor(d,m){this.readable=d,this.decoder=m,this.errorEmitter=new v.Emitter,this.closeEmitter=new v.Emitter,this.partialMessageEmitter=new v.Emitter}get onError(){return this.errorEmitter.event}get onClose(){return this.closeEmitter.event}get onPartialMessage(){return this.partialMessageEmitter.event}listen(d){this.readable.on("error",(d=>this.errorEmitter.fire(d)));const m=y.default.create();return(async()=>{try{for(;;){const g=await T.getBufferFrom(this.readable,4,!0,m.token);if(!g)return void this.closeEmitter.fire();const v=g.readInt32BE(0),y=await T.getBufferFrom(this.readable,v,!1,m.token),C=await this.decoder(y);d(C)}}catch(d){this.errorEmitter.fire(d)}})(),v.Disposable.create((()=>m.cancel()))}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}};function asError(d){return d instanceof Error?d:new Error(`Writer received error. Reason: ${"string"==typeof d.message?d.message:"unknown"}`)}m.BE32MessageWriter=class BE32MessageWriter{constructor(d,m){this.writable=d,this.encoder=m,this.errorEmitter=new v.Emitter,this.closeEmitter=new v.Emitter,this.semaphore=new _.Semaphore(1),this.headerBuffer=Buffer.alloc(4),this.errorCount=0,d.on("error",(d=>this.errorEmitter.fire([d,void 0,void 0]))),d.once("close",(()=>this.closeEmitter.fire()))}get onError(){return this.errorEmitter.event}get onClose(){return this.closeEmitter.event}async write(d){await this.semaphore.use((async()=>{try{const m=await this.encoder(d);this.headerBuffer.writeInt32BE(m.byteLength,0),this.writable instanceof C.Writable&&this.writable.cork();const g=Promise.all([T.writeAsync(this.writable,this.headerBuffer),T.writeAsync(this.writable,m)]);this.writable instanceof C.Writable&&this.writable.uncork(),await g}catch(d){this.errorCount++,this.errorEmitter.fire([asError(d),void 0,this.errorCount])}}))}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}}},77540:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.FrameworkServices=void 0;const v=g(65831),y=g(70761),C=g(33522);let _=(()=>{class FrameworkServices{}return FrameworkServices.remoteServiceBroker=Object.freeze(new y.ServiceJsonRpcDescriptor(C.ServiceMoniker.create("RemoteServiceBroker"),v.Formatters.Utf8,v.MessageDelimiters.HttpLikeHeaders)),FrameworkServices.authorization=Object.freeze(new y.ServiceJsonRpcDescriptor(C.ServiceMoniker.create("Microsoft.ServiceHub.Framework.AuthorizationService"),v.Formatters.Utf8,v.MessageDelimiters.HttpLikeHeaders)),FrameworkServices})();m.FrameworkServices=_},99223:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.ProtectedOperation=void 0;const v=g(39491);!function(d){d.create=function create(d,m){return Object.freeze({operationMoniker:d,requiredTrustLevel:m})},d.isSupersetOf=function isSupersetOf(d,m){return v(d),v(m),d.operationMoniker===m.operationMoniker&&(d.requiredTrustLevel===m.requiredTrustLevel||!!d.requiredTrustLevel&&!!m.requiredTrustLevel&&d.requiredTrustLevel>m.requiredTrustLevel)},d.equals=function equals(d,m){return d===m||!(!d||!m)&&(d.operationMoniker===m.operationMoniker&&d.requiredTrustLevel===m.requiredTrustLevel)}}(m.ProtectedOperation||(m.ProtectedOperation={}))},2191:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.ProxyForIRemoteServiceBroker=void 0;const v=g(39491),y=g(23771),C=g(82361),_=g(65831);class ProxyForIRemoteServiceBroker extends C.EventEmitter{constructor(d){super(),this.rpc=d,this.isDisposedRpc=!1,v(d),this.rpc.onDispose((()=>{this.isDisposedRpc=!0,this.dispose()})),this.rpc.onNotification(_.availabilityChangedEvent,(d=>{this.emit("availabilityChanged",d)})),d.listen()}async handshake(d,m=y.default.CONTINUE){if(!this.isDisposedRpc)return await this.rpc.sendRequest("handshake",[d])}async requestServiceChannel(d,m,g=y.default.CONTINUE){if(!this.isDisposedRpc){return await this.rpc.sendRequest("requestServiceChannel",[d,m])}return{}}async cancelServiceRequest(d,m=y.default.CONTINUE){this.isDisposedRpc||await this.rpc.sendRequest("cancelServiceRequest",[d])}dispose(){this.isDisposedRpc||(this.rpc.dispose(),this.isDisposedRpc=!0)}}m.ProxyForIRemoteServiceBroker=ProxyForIRemoteServiceBroker},28640:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.RemoteServiceBroker=void 0;const v=g(39491),y=g(23771),C=g(82361),_=g(90735),T=g(1272),b=g(65831),A=g(77540),P=g(2191),R=g(72131),k=g(32356);class RemoteServiceBroker extends C.EventEmitter{constructor(d,m,g){super(),this.serviceBroker=d,this.multiplexingStream=g,this.isDisposed=!1,this.ownsMxStream=!1,this.defaultClientCulture="en-US",this.defaultClientUICulture="en-US",v(d),v(m),(m.supportedConnections&b.RemoteServiceConnections.Multiplexing)===b.RemoteServiceConnections.Multiplexing&&v(g),this.serviceBroker=d,this.serviceBroker.on("availabilityChanged",(d=>{this.emit("availabilityChanged",d)})),this.multiplexingStream=g}static async connectToDuplex(d,m=y.default.CONTINUE){v(d);const g=A.FrameworkServices.remoteServiceBroker.constructRpcConnection(d),C=new P.ProxyForIRemoteServiceBroker(g.messageConnection);return await RemoteServiceBroker.initializeBrokerConnection(C,m)}static async connectToRemoteServiceBroker(d,m=y.default.CONTINUE){return v(d),await RemoteServiceBroker.initializeBrokerConnection(d,m)}static async connectToMultiplexingDuplex(d,m,g=y.default.CONTINUE){v(d);const C=await _.MultiplexingStream.CreateAsync(d,m,g),T=await C.acceptChannelAsync("",void 0,g),b=A.FrameworkServices.remoteServiceBroker.constructRpcConnection(T),R=new P.ProxyForIRemoteServiceBroker(b.messageConnection),k=await this.connectToMultiplexingRemoteServiceBroker(R,C,g);return k.ownsMxStream=!0,k}static async connectToMultiplexingRemoteServiceBroker(d,m,g=y.default.CONTINUE){v(d),v(m);const C={supportedConnections:b.RemoteServiceConnections.Multiplexing},_=await RemoteServiceBroker.initializeBrokerConnection(d,g,C,m);return _.ownsMxStream=!1,_}static async initializeBrokerConnection(d,m=y.default.CONTINUE,g,v){g=g||{supportedConnections:b.RemoteServiceConnections.None};try{await d.handshake(g,m)}catch(m){const g=d;throw null==g||g.dispose(),m}return new RemoteServiceBroker(d,g,v)}setAuthorizationService(d){var m;v(d),null===(m=this.authorizationClient)||void 0===m||m.dispose(),this.authorizationClient=new T.AuthorizationServiceClient(d)}async getProxy(d,m,g=y.default.CONTINUE){let C,T;v(d),m=m||{clientCulture:this.defaultClientCulture,clientUICulture:this.defaultClientUICulture},m=await this.applyAuthorization(m,g);let b={};try{if(b=await this.serviceBroker.requestServiceChannel(d.moniker,m,g),!b||R.RemoteServiceConnectionInfo.isEmpty(b))return null;if(!b.multiplexingChannelId||!this.multiplexingStream)throw b.pipeName?new Error("Cannot connect to named pipe"):new Error("Unsupported connection type");T=await this.multiplexingStream.acceptChannel(b.multiplexingChannelId),C=d.constructRpc(null==m?void 0:m.clientRpcTarget,T)}catch(d){throw null==C||C.dispose(),k.IsReadWriteStream(T)?T.end():T instanceof _.Channel&&T.dispose(),!T&&(null==b?void 0:b.requestId)&&await this.serviceBroker.cancelServiceRequest(b.requestId,g),d}return C}async getPipe(d,m,g=y.default.CONTINUE){if(v(d),m=m||{clientCulture:"en-US",clientUICulture:"en-US"},(m=await this.applyAuthorization(m,g)).clientRpcTarget)throw new Error("Cannot connect pipe to service with client RPC target");let C={},_=null,T=null;try{if(C=await this.serviceBroker.requestServiceChannel(d,m,g),!C||R.RemoteServiceConnectionInfo.isEmpty(C))return null;if(!C.multiplexingChannelId||!this.multiplexingStream)throw C.pipeName?new Error("Cannot connect to named pipe"):new Error("Unsupported connection type");return T=await this.multiplexingStream.acceptChannelAsync("",void 0,g),_=T.stream,_}catch(d){throw null==T||T.dispose(),null==_||_.end(),!_&&(null==C?void 0:C.requestId)&&await this.serviceBroker.cancelServiceRequest(C.requestId,g),d}}dispose(){var d;this.isDisposed=!0,this.serviceBroker.removeAllListeners(b.availabilityChangedEvent);const m=this.serviceBroker;null==m||m.dispose(),null===(d=this.authorizationClient)||void 0===d||d.dispose(),this.multiplexingStream&&this.ownsMxStream&&this.multiplexingStream.dispose()}async applyAuthorization(d,m){return this.authorizationClient&&!d.clientCredentials&&(d.clientCredentials=await this.authorizationClient.getCredentials(m)),d}}m.RemoteServiceBroker=RemoteServiceBroker},72131:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.RemoteServiceConnectionInfo=void 0,function(d){d.isEmpty=function isEmpty(d){return!d.multiplexingChannelId&&!d.requestId},d.isOneOf=function isOneOf(d,m){return!!d.multiplexingChannelId&&m.indexOf("multiplexing")>-1}}(m.RemoteServiceConnectionInfo||(m.RemoteServiceConnectionInfo={}))},70761:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.JsonRpcConnection=m.ServiceJsonRpcDescriptor=void 0;const v=g(87091),y=g(65831),C=g(33522),_=g(99981),T=g(32356),b=g(48930),A=g(202);class ServiceJsonRpcDescriptor extends _.ServiceRpcDescriptor{constructor(d,m,g){let C,_;switch(super(d),this.formatter=m,this.messageDelimiter=g,this.protocol="json-rpc",m){case y.Formatters.Utf8:C=d=>Promise.resolve(Buffer.from(JSON.stringify(d))),_=d=>JSON.parse(d.toString());break;case y.Formatters.MessagePack:C=d=>Promise.resolve(A.encode(d)),_=d=>A.decode(d);break;default:throw new Error(`Unsupported formatter: ${m}.`)}if(g===y.MessageDelimiters.HttpLikeHeaders){if(m!==y.Formatters.Utf8)throw new Error("Utf8 is the only formatter supported while using HttpLikeHeaders.");this.connectionFactory=d=>v.createMessageConnection(d,d)}else{if(g!==y.MessageDelimiters.BigEndianInt32LengthHeader)throw new Error(`Unsupported message delimiter: ${g}.`);this.connectionFactory=d=>v.createMessageConnection(new b.BE32MessageReader(d,_),new b.BE32MessageWriter(d,C))}}constructRpcConnection(d){return new JsonRpcConnection(T.constructMessageConnection(d,this.connectionFactory))}equals(d){return!!(d&&d instanceof ServiceJsonRpcDescriptor)&&(!!C.ServiceMoniker.equals(d.moniker,this.moniker)&&(this.formatter===d.formatter&&this.messageDelimiter===d.messageDelimiter))}}m.ServiceJsonRpcDescriptor=ServiceJsonRpcDescriptor;const P={get:(d,m)=>{switch(m.toString()){case"dispose":return function(){d.dispose()};case"then":return;default:return function(){const g=m.toString();let y;if(arguments.length>0){if(v.CancellationToken.is(arguments[arguments.length-1])){y=arguments[arguments.length-1];const m=validateNoUndefinedElements(Array.prototype.slice.call(arguments,0,arguments.length-1));return d.sendRequest(g,m,y)}if(void 0===arguments[arguments.length-1]){const m=validateNoUndefinedElements(Array.prototype.slice.call(arguments,0,arguments.length-1));return d.sendRequest(g,m)}}const C=validateNoUndefinedElements(Array.prototype.slice.call(arguments));return d.sendRequest(g,C)}}}};function validateNoUndefinedElements(d){for(let m=0;m<d.length;m++)if(void 0===d[m])throw new Error(`Argument at 0-based index ${m} is set as undefined, which is not a valid JSON value.`);return d}class JsonRpcConnection extends _.RpcConnection{constructor(d){super(),this.messageConnection=d}addLocalRpcTarget(d){function registerRequestAndNotification(m,g,v){m.onRequest(g,((...m)=>v.apply(d,m))),m.onNotification(g,((...m)=>v.apply(d,m)))}JsonRpcConnection.getInstanceMethodNames(d,Object.prototype).forEach((m=>{if("dispose"!==m){const g=d[m];registerRequestAndNotification(this.messageConnection,m,g);const v="Async",y=m.endsWith(v)?m.substring(0,m.length-v.length):`${m}${v}`;registerRequestAndNotification(this.messageConnection,y,g)}})),"function"==typeof d.dispose&&this.messageConnection.onDispose((()=>d.dispose()))}constructRpcClient(){return new Proxy(this.messageConnection,P)}startListening(){var d;null===(d=this.messageConnection)||void 0===d||d.listen()}dispose(){}static isMethod(d,m){const g=Object.getOwnPropertyDescriptor(d,m);return!!g&&"function"==typeof g.value}static getInstanceMethodNames(d,m){const g=[];let v=Object.getPrototypeOf(d);for(;v&&v!==m;)Object.getOwnPropertyNames(v).forEach((d=>{"constructor"!==d&&JsonRpcConnection.isMethod(v,d)&&g.push(d)})),v=Object.getPrototypeOf(v);return g}}m.JsonRpcConnection=JsonRpcConnection},33522:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.ServiceMoniker=void 0,function(d){d.create=function create(d,m){if(!d||""===d)throw new Error("name cannot be empty.");return Object.freeze({name:d,version:m})},d.equals=function equals(d,m){return d===m||!(!d||!m)&&(d.name===m.name&&d.version===m.version)}}(m.ServiceMoniker||(m.ServiceMoniker={}))},99981:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.RpcConnection=m.ServiceRpcDescriptor=void 0;const v=g(39491);m.ServiceRpcDescriptor=class ServiceRpcDescriptor{constructor(d){this.moniker=d,v(d)}constructRpc(d,m){let g;if(m?g=d:m=d,void 0===m)throw new Error("No pipe supplied.");const v=this.constructRpcConnection(m);void 0!==g&&v.addLocalRpcTarget(g);const y=v.constructRpcClient();return v.startListening(),y}};m.RpcConnection=class RpcConnection{}},65831:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.availabilityChangedEvent=m.RemoteServiceConnections=m.MessageDelimiters=m.Formatters=void 0,function(d){d[d.Utf8=0]="Utf8",d[d.MessagePack=1]="MessagePack"}(m.Formatters||(m.Formatters={})),function(d){d[d.HttpLikeHeaders=0]="HttpLikeHeaders",d[d.BigEndianInt32LengthHeader=1]="BigEndianInt32LengthHeader"}(m.MessageDelimiters||(m.MessageDelimiters={})),function(d){d[d.None=0]="None",d[d.Multiplexing=1]="Multiplexing",d[d.IpcPipe=2]="IpcPipe",d[d.ClrActivation=8]="ClrActivation"}(m.RemoteServiceConnections||(m.RemoteServiceConnections={})),m.availabilityChangedEvent="availabilityChanged"},61965:function(d,m,g){"use strict";var v=this&&this.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),y=this&&this.__exportStar||function(d,m){for(var g in d)"default"===g||m.hasOwnProperty(g)||v(m,d,g)};Object.defineProperty(m,"__esModule",{value:!0});var C=g(65831);Object.defineProperty(m,"Formatters",{enumerable:!0,get:function(){return C.Formatters}}),Object.defineProperty(m,"MessageDelimiters",{enumerable:!0,get:function(){return C.MessageDelimiters}}),Object.defineProperty(m,"RemoteServiceConnections",{enumerable:!0,get:function(){return C.RemoteServiceConnections}}),y(g(77540),m);var _=g(1272);Object.defineProperty(m,"AuthorizationServiceClient",{enumerable:!0,get:function(){return _.AuthorizationServiceClient}});var T=g(99223);Object.defineProperty(m,"ProtectedOperation",{enumerable:!0,get:function(){return T.ProtectedOperation}});var b=g(28640);Object.defineProperty(m,"RemoteServiceBroker",{enumerable:!0,get:function(){return b.RemoteServiceBroker}});var A=g(72131);Object.defineProperty(m,"RemoteServiceConnectionInfo",{enumerable:!0,get:function(){return A.RemoteServiceConnectionInfo}});var P=g(70761);Object.defineProperty(m,"ServiceJsonRpcDescriptor",{enumerable:!0,get:function(){return P.ServiceJsonRpcDescriptor}}),Object.defineProperty(m,"JsonRpcConnection",{enumerable:!0,get:function(){return P.JsonRpcConnection}});var R=g(33522);Object.defineProperty(m,"ServiceMoniker",{enumerable:!0,get:function(){return R.ServiceMoniker}});var k=g(99981);Object.defineProperty(m,"ServiceRpcDescriptor",{enumerable:!0,get:function(){return k.ServiceRpcDescriptor}})},32356:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.IsReadWriteStream=m.constructMessageConnection=void 0;const v=g(39491);function IsReadWriteStream(d){return"unshift"in d}m.constructMessageConnection=function constructMessageConnection(d,m){let g;return v(d),IsReadWriteStream(d)?(g=m(d),d.on("close",(()=>{null==g||g.dispose()})),g.onDispose((()=>d.end())),g.onClose((()=>d.end()))):(g=m(d.stream),d.completion.then((()=>{null==g||g.dispose()})),g.onDispose((()=>d.dispose())),g.onClose((()=>d.dispose()))),g},m.IsReadWriteStream=IsReadWriteStream},19276:(d,m,g)=>{var v,y=Object.create,C=Object.defineProperty,_=Object.defineProperties,T=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertyNames,P=Object.getOwnPropertySymbols,R=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,Pp=(d,m,g)=>m in d?C(d,m,{enumerable:!0,configurable:!0,writable:!0,value:g}):d[m]=g,St=(d,m)=>{for(var g in m||(m={}))k.call(m,g)&&Pp(d,g,m[g]);if(P)for(var g of P(m))M.call(m,g)&&Pp(d,g,m[g]);return d},Np=(d,m)=>_(d,b(m)),l=(d,m)=>()=>(m||d((m={exports:{}}).exports,m),m.exports),Dp=(d,m,g,v)=>{if(m&&"object"==typeof m||"function"==typeof m)for(let y of A(m))!k.call(d,y)&&y!==g&&C(d,y,{get:()=>m[y],enumerable:!(v=T(m,y))||v.enumerable});return d},nn=(d,m,g)=>(g=null!=d?y(R(d)):{},Dp(!m&&d&&d.__esModule?g:C(g,"default",{value:d,enumerable:!0}),d)),I=l(((d,m)=>{"use strict";var g=function(){function e(){}return e.info=function(d){for(var m=[],g=1;g<arguments.length;g++)m[g-1]=arguments[g];e.enableDebug&&console.info(e.TAG+d,m)},e.warn=function(d){for(var m=[],g=1;g<arguments.length;g++)m[g-1]=arguments[g];e.disableWarnings||console.warn(e.TAG+d,m)},e.enableDebug=!1,e.disableWarnings=!1,e.disableErrors=!1,e.TAG="ApplicationInsights:",e}();m.exports=g})),O=l((d=>{"use strict";var m=d&&d.__assign||function(){return m=Object.assign||function(d){for(var m,g=1,v=arguments.length;g<v;g++)for(var y in m=arguments[g])Object.prototype.hasOwnProperty.call(m,y)&&(d[y]=m[y]);return d},m.apply(this,arguments)};Object.defineProperty(d,"__esModule",{value:!0}),d.AsyncScopeManager=d.OpenTelemetryScopeManagerWrapper=void 0;var v=yi(),y=g(82361),C=function(){function e(){}return e.prototype.active=function(){var d=this,g=v.CorrelationContextManager.getCurrentContext();return m(m({},g),{getValue:function(m){return d._activeSymbol?m===d._activeSymbol&&g:(d._activeSymbol=m,g)},setValue:function(){}})},e.prototype.with=function(d,m){var g=d.parentSpanId,y=d.name,C=e._spanToContext(d,g,y);return v.CorrelationContextManager.runWithContext(C,m)()},e.prototype.bind=function(d){return"function"==typeof d?v.CorrelationContextManager.wrapCallback(d):(d instanceof y.EventEmitter&&v.CorrelationContextManager.wrapEmitter(d),d)},e.prototype.enable=function(){return v.CorrelationContextManager.enable(),this},e.prototype.disable=function(){return v.CorrelationContextManager.disable(),this},e._spanToContext=function(d,g,y){var C=g?"|"+d.spanContext().traceId+"."+g+".":d.spanContext().traceId,_=m(m({},d.spanContext()),{traceFlags:d.spanContext().traceFlags});return v.CorrelationContextManager.spanToContextObject(_,C,y)},e}();d.OpenTelemetryScopeManagerWrapper=C,d.AsyncScopeManager=new C})),x=l(((d,m)=>{var g;d=m.exports=N,g="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var d=Array.prototype.slice.call(arguments,0);d.unshift("SEMVER"),console.log.apply(console,d)}:function(){},d.SEMVER_SPEC_VERSION="2.0.0";var v=Number.MAX_SAFE_INTEGER||9007199254740991,y=d.re=[],C=d.src=[],_=0,T=_++;C[T]="0|[1-9]\\d*";var b=_++;C[b]="[0-9]+";var A=_++;C[A]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var P=_++;C[P]="("+C[T]+")\\.("+C[T]+")\\.("+C[T]+")";var R=_++;C[R]="("+C[b]+")\\.("+C[b]+")\\.("+C[b]+")";var k=_++;C[k]="(?:"+C[T]+"|"+C[A]+")";var M=_++;C[M]="(?:"+C[b]+"|"+C[A]+")";var I=_++;C[I]="(?:-("+C[k]+"(?:\\."+C[k]+")*))";var O=_++;C[O]="(?:-?("+C[M]+"(?:\\."+C[M]+")*))";var x=_++;C[x]="[0-9A-Za-z-]+";var L=_++;C[L]="(?:\\+("+C[x]+"(?:\\."+C[x]+")*))";var U=_++,j="v?"+C[P]+C[I]+"?"+C[L]+"?";C[U]="^"+j+"$";var B="[v=\\s]*"+C[R]+C[O]+"?"+C[L]+"?",V=_++;C[V]="^"+B+"$";var $=_++;C[$]="((?:<|>)?=?)";var q=_++;C[q]=C[b]+"|x|X|\\*";var Y=_++;C[Y]=C[T]+"|x|X|\\*";var z=_++;C[z]="[v=\\s]*("+C[Y]+")(?:\\.("+C[Y]+")(?:\\.("+C[Y]+")(?:"+C[I]+")?"+C[L]+"?)?)?";var G=_++;C[G]="[v=\\s]*("+C[q]+")(?:\\.("+C[q]+")(?:\\.("+C[q]+")(?:"+C[O]+")?"+C[L]+"?)?)?";var J=_++;C[J]="^"+C[$]+"\\s*"+C[z]+"$";var X=_++;C[X]="^"+C[$]+"\\s*"+C[G]+"$";var te=_++;C[te]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var re=_++;C[re]="(?:~>?)";var ie=_++;C[ie]="(\\s*)"+C[re]+"\\s+",y[ie]=new RegExp(C[ie],"g");var se=_++;C[se]="^"+C[re]+C[z]+"$";var oe=_++;C[oe]="^"+C[re]+C[G]+"$";var ae=_++;C[ae]="(?:\\^)";var ce=_++;C[ce]="(\\s*)"+C[ae]+"\\s+",y[ce]=new RegExp(C[ce],"g");var le=_++;C[le]="^"+C[ae]+C[z]+"$";var de=_++;C[de]="^"+C[ae]+C[G]+"$";var he=_++;C[he]="^"+C[$]+"\\s*("+B+")$|^$";var pe=_++;C[pe]="^"+C[$]+"\\s*("+j+")$|^$";var me=_++;C[me]="(\\s*)"+C[$]+"\\s*("+B+"|"+C[z]+")",y[me]=new RegExp(C[me],"g");var fe=_++;C[fe]="^\\s*("+C[z]+")\\s+-\\s+("+C[z]+")\\s*$";var ge=_++;C[ge]="^\\s*("+C[G]+")\\s+-\\s+("+C[G]+")\\s*$";var ve,ye=_++;for(C[ye]="(<|>)?=?\\s*\\*",ve=0;ve<35;ve++)g(ve,C[ve]),y[ve]||(y[ve]=new RegExp(C[ve]));function yr(d,m){if((!m||"object"!=typeof m)&&(m={loose:!!m,includePrerelease:!1}),d instanceof N)return d;if("string"!=typeof d||d.length>256)return null;if(!(m.loose?y[V]:y[U]).test(d))return null;try{return new N(d,m)}catch{return null}}function N(d,m){if((!m||"object"!=typeof m)&&(m={loose:!!m,includePrerelease:!1}),d instanceof N){if(d.loose===m.loose)return d;d=d.version}else if("string"!=typeof d)throw new TypeError("Invalid Version: "+d);if(d.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof N))return new N(d,m);g("SemVer",d,m),this.options=m,this.loose=!!m.loose;var C=d.trim().match(m.loose?y[V]:y[U]);if(!C)throw new TypeError("Invalid Version: "+d);if(this.raw=d,this.major=+C[1],this.minor=+C[2],this.patch=+C[3],this.major>v||this.major<0)throw new TypeError("Invalid major version");if(this.minor>v||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>v||this.patch<0)throw new TypeError("Invalid patch version");C[4]?this.prerelease=C[4].split(".").map((function(d){if(/^[0-9]+$/.test(d)){var m=+d;if(m>=0&&m<v)return m}return d})):this.prerelease=[],this.build=C[5]?C[5].split("."):[],this.format()}d.parse=yr,d.valid=function AA(d,m){var g=yr(d,m);return g?g.version:null},d.clean=function SA(d,m){var g=yr(d.trim().replace(/^[=v]+/,""),m);return g?g.version:null},d.SemVer=N,N.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},N.prototype.toString=function(){return this.version},N.prototype.compare=function(d){return g("SemVer.compare",this.version,this.options,d),d instanceof N||(d=new N(d,this.options)),this.compareMain(d)||this.comparePre(d)},N.prototype.compareMain=function(d){return d instanceof N||(d=new N(d,this.options)),un(this.major,d.major)||un(this.minor,d.minor)||un(this.patch,d.patch)},N.prototype.comparePre=function(d){if(d instanceof N||(d=new N(d,this.options)),this.prerelease.length&&!d.prerelease.length)return-1;if(!this.prerelease.length&&d.prerelease.length)return 1;if(!this.prerelease.length&&!d.prerelease.length)return 0;var m=0;do{var v=this.prerelease[m],y=d.prerelease[m];if(g("prerelease compare",m,v,y),void 0===v&&void 0===y)return 0;if(void 0===y)return 1;if(void 0===v)return-1;if(v!==y)return un(v,y)}while(++m)},N.prototype.inc=function(d,m){switch(d){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",m);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",m);break;case"prepatch":this.prerelease.length=0,this.inc("patch",m),this.inc("pre",m);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",m),this.inc("pre",m);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var g=this.prerelease.length;--g>=0;)"number"==typeof this.prerelease[g]&&(this.prerelease[g]++,g=-2);-1===g&&this.prerelease.push(0)}m&&(this.prerelease[0]===m?isNaN(this.prerelease[1])&&(this.prerelease=[m,0]):this.prerelease=[m,0]);break;default:throw new Error("invalid increment argument: "+d)}return this.format(),this.raw=this.version,this},d.inc=function IA(d,m,g,v){"string"==typeof g&&(v=g,g=void 0);try{return new N(d,g).inc(m,v).version}catch{return null}},d.diff=function CA(d,m){if(Nu(d,m))return null;var g=yr(d),v=yr(m),y="";if(g.prerelease.length||v.prerelease.length){y="pre";var C="prerelease"}for(var _ in g)if(("major"===_||"minor"===_||"patch"===_)&&g[_]!==v[_])return y+_;return C},d.compareIdentifiers=un;var Se=/^[0-9]+$/;function un(d,m){var g=Se.test(d),v=Se.test(m);return g&&v&&(d=+d,m=+m),d===m?0:g&&!v?-1:v&&!g?1:d<m?-1:1}function It(d,m,g){return new N(d,g).compare(new N(m,g))}function Si(d,m,g){return It(d,m,g)>0}function Ha(d,m,g){return It(d,m,g)<0}function Nu(d,m,g){return 0===It(d,m,g)}function Yp(d,m,g){return 0!==It(d,m,g)}function Du(d,m,g){return It(d,m,g)>=0}function wu(d,m,g){return It(d,m,g)<=0}function Ua(d,m,g,v){switch(m){case"===":return"object"==typeof d&&(d=d.version),"object"==typeof g&&(g=g.version),d===g;case"!==":return"object"==typeof d&&(d=d.version),"object"==typeof g&&(g=g.version),d!==g;case"":case"=":case"==":return Nu(d,g,v);case"!=":return Yp(d,g,v);case">":return Si(d,g,v);case">=":return Du(d,g,v);case"<":return Ha(d,g,v);case"<=":return wu(d,g,v);default:throw new TypeError("Invalid operator: "+m)}}function Ve(d,m){if((!m||"object"!=typeof m)&&(m={loose:!!m,includePrerelease:!1}),d instanceof Ve){if(d.loose===!!m.loose)return d;d=d.value}if(!(this instanceof Ve))return new Ve(d,m);g("comparator",d,m),this.options=m,this.loose=!!m.loose,this.parse(d),this.semver===Ee?this.value="":this.value=this.operator+this.semver.version,g("comp",this)}d.rcompareIdentifiers=function bA(d,m){return un(m,d)},d.major=function OA(d,m){return new N(d,m).major},d.minor=function PA(d,m){return new N(d,m).minor},d.patch=function RA(d,m){return new N(d,m).patch},d.compare=It,d.compareLoose=function NA(d,m){return It(d,m,!0)},d.rcompare=function DA(d,m,g){return It(m,d,g)},d.sort=function wA(m,g){return m.sort((function(m,v){return d.compare(m,v,g)}))},d.rsort=function xA(m,g){return m.sort((function(m,v){return d.rcompare(m,v,g)}))},d.gt=Si,d.lt=Ha,d.eq=Nu,d.neq=Yp,d.gte=Du,d.lte=wu,d.cmp=Ua,d.Comparator=Ve;var Ee={};function W(d,m){if((!m||"object"!=typeof m)&&(m={loose:!!m,includePrerelease:!1}),d instanceof W)return d.loose===!!m.loose&&d.includePrerelease===!!m.includePrerelease?d:new W(d.raw,m);if(d instanceof Ve)return new W(d.value,m);if(!(this instanceof W))return new W(d,m);if(this.options=m,this.loose=!!m.loose,this.includePrerelease=!!m.includePrerelease,this.raw=d,this.set=d.split(/\s*\|\|\s*/).map((function(d){return this.parseRange(d.trim())}),this).filter((function(d){return d.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+d);this.format()}function Re(d){return!d||"x"===d.toLowerCase()||"*"===d}function GA(d,m,g,v,y,C,_,T,b,A,P,R,k){return((m=Re(g)?"":Re(v)?">="+g+".0.0":Re(y)?">="+g+"."+v+".0":">="+m)+" "+(T=Re(b)?"":Re(A)?"<"+(+b+1)+".0.0":Re(P)?"<"+b+"."+(+A+1)+".0":R?"<="+b+"."+A+"."+P+"-"+R:"<="+T)).trim()}function VA(d,m,v){for(var y=0;y<d.length;y++)if(!d[y].test(m))return!1;if(m.prerelease.length&&!v.includePrerelease){for(y=0;y<d.length;y++)if(g(d[y].semver),d[y].semver!==Ee&&d[y].semver.prerelease.length>0){var C=d[y].semver;if(C.major===m.major&&C.minor===m.minor&&C.patch===m.patch)return!0}return!1}return!0}function Ba(d,m,g){try{m=new W(m,g)}catch{return!1}return m.test(d)}function xu(d,m,g,v){var y,C,_,T,b;switch(d=new N(d,v),m=new W(m,v),g){case">":y=Si,C=wu,_=Ha,T=">",b=">=";break;case"<":y=Ha,C=Du,_=Si,T="<",b="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Ba(d,m,v))return!1;for(var A=0;A<m.set.length;++A){var P=m.set[A],R=null,k=null;if(P.forEach((function(d){d.semver===Ee&&(d=new Ve(">=0.0.0")),R=R||d,k=k||d,y(d.semver,R.semver,v)?R=d:_(d.semver,k.semver,v)&&(k=d)})),R.operator===T||R.operator===b||(!k.operator||k.operator===T)&&C(d,k.semver))return!1;if(k.operator===b&&_(d,k.semver))return!1}return!0}Ve.prototype.parse=function(d){var m=this.options.loose?y[he]:y[pe],g=d.match(m);if(!g)throw new TypeError("Invalid comparator: "+d);this.operator=g[1],"="===this.operator&&(this.operator=""),g[2]?this.semver=new N(g[2],this.options.loose):this.semver=Ee},Ve.prototype.toString=function(){return this.value},Ve.prototype.test=function(d){return g("Comparator.test",d,this.options.loose),this.semver===Ee||("string"==typeof d&&(d=new N(d,this.options)),Ua(d,this.operator,this.semver,this.options))},Ve.prototype.intersects=function(d,m){if(!(d instanceof Ve))throw new TypeError("a Comparator is required");var g;if((!m||"object"!=typeof m)&&(m={loose:!!m,includePrerelease:!1}),""===this.operator)return g=new W(d.value,m),Ba(this.value,g,m);if(""===d.operator)return g=new W(this.value,m),Ba(d.semver,g,m);var v=!(">="!==this.operator&&">"!==this.operator||">="!==d.operator&&">"!==d.operator),y=!("<="!==this.operator&&"<"!==this.operator||"<="!==d.operator&&"<"!==d.operator),C=this.semver.version===d.semver.version,_=!(">="!==this.operator&&"<="!==this.operator||">="!==d.operator&&"<="!==d.operator),T=Ua(this.semver,"<",d.semver,m)&&(">="===this.operator||">"===this.operator)&&("<="===d.operator||"<"===d.operator),b=Ua(this.semver,">",d.semver,m)&&("<="===this.operator||"<"===this.operator)&&(">="===d.operator||">"===d.operator);return v||y||C&&_||T||b},d.Range=W,W.prototype.format=function(){return this.range=this.set.map((function(d){return d.join(" ").trim()})).join("||").trim(),this.range},W.prototype.toString=function(){return this.range},W.prototype.parseRange=function(d){var m=this.options.loose;d=d.trim();var v=m?y[ge]:y[fe];d=d.replace(v,GA),g("hyphen replace",d),d=d.replace(y[me],"$1$2$3"),g("comparator trim",d,y[me]),d=(d=(d=d.replace(y[ie],"$1~")).replace(y[ce],"$1^")).split(/\s+/).join(" ");var C=m?y[he]:y[pe],_=d.split(" ").map((function(d){return function LA(d,m){return g("comp",d,m),d=function kA(d,m){return d.trim().split(/\s+/).map((function(d){return function HA(d,m){g("caret",d,m);var v=m.loose?y[de]:y[le];return d.replace(v,(function(m,v,y,C,_){var T;return g("caret",d,m,v,y,C,_),Re(v)?T="":Re(y)?T=">="+v+".0.0 <"+(+v+1)+".0.0":Re(C)?T="0"===v?">="+v+"."+y+".0 <"+v+"."+(+y+1)+".0":">="+v+"."+y+".0 <"+(+v+1)+".0.0":_?(g("replaceCaret pr",_),T="0"===v?"0"===y?">="+v+"."+y+"."+C+"-"+_+" <"+v+"."+y+"."+(+C+1):">="+v+"."+y+"."+C+"-"+_+" <"+v+"."+(+y+1)+".0":">="+v+"."+y+"."+C+"-"+_+" <"+(+v+1)+".0.0"):(g("no pr"),T="0"===v?"0"===y?">="+v+"."+y+"."+C+" <"+v+"."+y+"."+(+C+1):">="+v+"."+y+"."+C+" <"+v+"."+(+y+1)+".0":">="+v+"."+y+"."+C+" <"+(+v+1)+".0.0"),g("caret return",T),T}))}(d,m)})).join(" ")}(d,m),g("caret",d),d=function qA(d,m){return d.trim().split(/\s+/).map((function(d){return function jA(d,m){var v=m.loose?y[oe]:y[se];return d.replace(v,(function(m,v,y,C,_){var T;return g("tilde",d,m,v,y,C,_),Re(v)?T="":Re(y)?T=">="+v+".0.0 <"+(+v+1)+".0.0":Re(C)?T=">="+v+"."+y+".0 <"+v+"."+(+y+1)+".0":_?(g("replaceTilde pr",_),T=">="+v+"."+y+"."+C+"-"+_+" <"+v+"."+(+y+1)+".0"):T=">="+v+"."+y+"."+C+" <"+v+"."+(+y+1)+".0",g("tilde return",T),T}))}(d,m)})).join(" ")}(d,m),g("tildes",d),d=function UA(d,m){return g("replaceXRanges",d,m),d.split(/\s+/).map((function(d){return function BA(d,m){d=d.trim();var v=m.loose?y[X]:y[J];return d.replace(v,(function(m,v,y,C,_,T){g("xRange",d,m,v,y,C,_,T);var b=Re(y),A=b||Re(C),P=A||Re(_);return"="===v&&P&&(v=""),b?m=">"===v||"<"===v?"<0.0.0":"*":v&&P?(A&&(C=0),_=0,">"===v?(v=">=",A?(y=+y+1,C=0,_=0):(C=+C+1,_=0)):"<="===v&&(v="<",A?y=+y+1:C=+C+1),m=v+y+"."+C+"."+_):A?m=">="+y+".0.0 <"+(+y+1)+".0.0":P&&(m=">="+y+"."+C+".0 <"+y+"."+(+C+1)+".0"),g("xRange return",m),m}))}(d,m)})).join(" ")}(d,m),g("xrange",d),d=function FA(d,m){return g("replaceStars",d,m),d.trim().replace(y[ye],"")}(d,m),g("stars",d),d}(d,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(_=_.filter((function(d){return!!d.match(C)}))),_=_.map((function(d){return new Ve(d,this.options)}),this)},W.prototype.intersects=function(d,m){if(!(d instanceof W))throw new TypeError("a Range is required");return this.set.some((function(g){return g.every((function(g){return d.set.some((function(d){return d.every((function(d){return g.intersects(d,m)}))}))}))}))},d.toComparators=function MA(d,m){return new W(d,m).set.map((function(d){return d.map((function(d){return d.value})).join(" ").trim().split(" ")}))},W.prototype.test=function(d){if(!d)return!1;"string"==typeof d&&(d=new N(d,this.options));for(var m=0;m<this.set.length;m++)if(VA(this.set[m],d,this.options))return!0;return!1},d.satisfies=Ba,d.maxSatisfying=function $A(d,m,g){var v=null,y=null;try{var C=new W(m,g)}catch{return null}return d.forEach((function(d){C.test(d)&&(!v||-1===y.compare(d))&&(y=new N(v=d,g))})),v},d.minSatisfying=function zA(d,m,g){var v=null,y=null;try{var C=new W(m,g)}catch{return null}return d.forEach((function(d){C.test(d)&&(!v||1===y.compare(d))&&(y=new N(v=d,g))})),v},d.minVersion=function XA(d,m){d=new W(d,m);var g=new N("0.0.0");if(d.test(g)||(g=new N("0.0.0-0"),d.test(g)))return g;g=null;for(var v=0;v<d.set.length;++v){d.set[v].forEach((function(d){var m=new N(d.semver.version);switch(d.operator){case">":0===m.prerelease.length?m.patch++:m.prerelease.push(0),m.raw=m.format();case"":case">=":(!g||Si(g,m))&&(g=m);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+d.operator)}}))}return g&&d.test(g)?g:null},d.validRange=function KA(d,m){try{return new W(d,m).range||"*"}catch{return null}},d.ltr=function YA(d,m,g){return xu(d,m,"<",g)},d.gtr=function QA(d,m,g){return xu(d,m,">",g)},d.outside=xu,d.prerelease=function WA(d,m){var g=yr(d,m);return g&&g.prerelease.length?g.prerelease:null},d.intersects=function ZA(d,m,g){return d=new W(d,g),m=new W(m,g),d.intersects(m)},d.coerce=function JA(d){if(d instanceof N)return d;if("string"!=typeof d)return null;var m=d.match(y[te]);return null==m?null:yr(m[1]+"."+(m[2]||"0")+"."+(m[3]||"0"))}})),L=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.makePatchingRequire=void 0;var m=g(71017),v=x(),y=g(98188),C=Object.keys(process.binding("natives")),_=y.prototype.require;d.makePatchingRequire=function nS(d){var g={};return function(T){var b=_.apply(this,arguments);if(d[T]){var A=y._resolveFilename(T,this);if(g.hasOwnProperty(A))return g[A];var P=void 0;if(C.indexOf(T)<0)try{P=_.call(this,m.join(T,"package.json")).version}catch{return b}else P=process.version.substring(1);var R=P.indexOf("-");R>=0&&(P=P.substring(0,R));for(var k=b,M=0,I=d[T];M<I.length;M++){var O=I[M];v.satisfies(P,O.versionSpecifier)&&(k=O.patch(k,A))}return g[A]=k}return b}}})),U=l(((d,m)=>{m.exports={name:"diagnostic-channel",version:"1.0.0",main:"./dist/src/channel.js",types:"./dist/src/channel.d.ts",scripts:{build:"tsc",lint:"tslint -c tslint.json -p tsconfig.json",clean:"rimraf ./dist",test:"mocha ./dist/tests/**/*.js"},homepage:"https://github.com/Microsoft/node-diagnostic-channel",bugs:{url:"https://github.com/Microsoft/node-diagnostic-channel/issues"},repository:{type:"git",url:"https://github.com/Microsoft/node-diagnostic-channel.git"},description:"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers",dependencies:{semver:"^5.3.0"},devDependencies:{"@types/mocha":"^2.2.40","@types/node":"~8.0.0",mocha:"^3.2.0",rimraf:"^2.6.1",tslint:"^5.0.0",typescript:"4.1.2"},files:["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],license:"MIT"}})),j=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.channel=d.makePatchingRequire=void 0;var m=L(),v=L();Object.defineProperty(d,"makePatchingRequire",{enumerable:!0,get:function(){return v.makePatchingRequire}});var td=function(d){return!0},y=function(){function e(){this.version=U().version,this.subscribers={},this.contextPreservationFunction=function(d){return d},this.knownPatches={},this.currentlyPublishing=!1}return e.prototype.shouldPublish=function(d){var m=this.subscribers[d];return!!m&&m.some((function(d){var m=d.filter;return!m||m(!1)}))},e.prototype.publish=function(d,m){if(!this.currentlyPublishing){var g=this.subscribers[d];if(g){var v={timestamp:Date.now(),data:m};this.currentlyPublishing=!0,g.forEach((function(d){var m=d.listener,g=d.filter;try{g&&g(!0)&&m(v)}catch{}})),this.currentlyPublishing=!1}}},e.prototype.subscribe=function(d,m,g){void 0===g&&(g=td),this.subscribers[d]||(this.subscribers[d]=[]),this.subscribers[d].push({listener:m,filter:g})},e.prototype.unsubscribe=function(d,m,g){void 0===g&&(g=td);var v=this.subscribers[d];if(v)for(var y=0;y<v.length;++y)if(v[y].listener===m&&v[y].filter===g)return v.splice(y,1),!0;return!1},e.prototype.reset=function(){var d=this;this.subscribers={},this.contextPreservationFunction=function(d){return d},Object.getOwnPropertyNames(this.knownPatches).forEach((function(m){return delete d.knownPatches[m]}))},e.prototype.bindToContext=function(d){return this.contextPreservationFunction(d)},e.prototype.addContextPreservation=function(d){var m=this.contextPreservationFunction;this.contextPreservationFunction=function(g){return d(m(g))}},e.prototype.registerMonkeyPatch=function(d,m){this.knownPatches[d]||(this.knownPatches[d]=[]),this.knownPatches[d].push(m)},e.prototype.getPatchesObject=function(){return this.knownPatches},e}();global.diagnosticsSource||(global.diagnosticsSource=new y,g(98188).prototype.require=m.makePatchingRequire(global.diagnosticsSource.getPatchesObject())),d.channel=global.diagnosticsSource})),B=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),V=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d._globalThis=void 0,d._globalThis="object"==typeof globalThis?globalThis:global})),$=l((d=>{"use strict";var m=d&&d.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),g=d&&d.__exportStar||function(d,g){for(var v in d)"default"!==v&&!Object.prototype.hasOwnProperty.call(g,v)&&m(g,d,v)};Object.defineProperty(d,"__esModule",{value:!0}),g(V(),d)})),q=l((d=>{"use strict";var m=d&&d.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),g=d&&d.__exportStar||function(d,g){for(var v in d)"default"!==v&&!Object.prototype.hasOwnProperty.call(g,v)&&m(g,d,v)};Object.defineProperty(d,"__esModule",{value:!0}),g($(),d)})),Y=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.VERSION=void 0,d.VERSION="1.0.3"})),z=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.isCompatible=d._makeCompatibilityCheck=void 0;var m=Y(),g=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function cd(d){var m=new Set([d]),v=new Set,y=d.match(g);if(!y)return function(){return!1};var C=+y[1],_=+y[2],T=+y[3];if(null!=y[4])return function(m){return m===d};function a(d){return v.add(d),!1}function s(d){return m.add(d),!0}return function(d){if(m.has(d))return!0;if(v.has(d))return!1;var y=d.match(g);if(!y)return a(d);var b=+y[1],A=+y[2],P=+y[3];return null!=y[4]||C!==b?a(d):0===C?_===A&&T<=P?s(d):a(d):_<=A?s(d):a(d)}}d._makeCompatibilityCheck=cd,d.isCompatible=cd(m.VERSION)})),G=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.unregisterGlobal=d.getGlobal=d.registerGlobal=void 0;var m=q(),g=Y(),v=z(),y=g.VERSION.split(".")[0],C=Symbol.for("opentelemetry.js.api."+y),_=m._globalThis;d.registerGlobal=function vS(d,m,v,y){var T;void 0===y&&(y=!1);var b=_[C]=null!==(T=_[C])&&void 0!==T?T:{version:g.VERSION};if(!y&&b[d]){var A=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+d);return v.error(A.stack||A.message),!1}if(b.version!==g.VERSION){A=new Error("@opentelemetry/api: All API registration versions must match");return v.error(A.stack||A.message),!1}return b[d]=m,v.debug("@opentelemetry/api: Registered a global for "+d+" v"+g.VERSION+"."),!0},d.getGlobal=function gS(d){var m,g,y=null===(m=_[C])||void 0===m?void 0:m.version;if(y&&v.isCompatible(y))return null===(g=_[C])||void 0===g?void 0:g[d]},d.unregisterGlobal=function ES(d,m){m.debug("@opentelemetry/api: Unregistering a global for "+d+" v"+g.VERSION+".");var v=_[C];v&&delete v[d]}})),J=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.DiagComponentLogger=void 0;var m=G(),g=function(){function e(d){this._namespace=d.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];return Ri("debug",this._namespace,d)},e.prototype.error=function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];return Ri("error",this._namespace,d)},e.prototype.info=function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];return Ri("info",this._namespace,d)},e.prototype.warn=function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];return Ri("warn",this._namespace,d)},e.prototype.verbose=function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];return Ri("verbose",this._namespace,d)},e}();function Ri(d,g,v){var y=m.getGlobal("diag");if(y)return v.unshift(g),y[d].apply(y,v)}d.DiagComponentLogger=g})),X=l((d=>{"use strict";var m;Object.defineProperty(d,"__esModule",{value:!0}),d.DiagLogLevel=void 0,(m=d.DiagLogLevel||(d.DiagLogLevel={}))[m.NONE=0]="NONE",m[m.ERROR=30]="ERROR",m[m.WARN=50]="WARN",m[m.INFO=60]="INFO",m[m.DEBUG=70]="DEBUG",m[m.VERBOSE=80]="VERBOSE",m[m.ALL=9999]="ALL"})),te=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.createLogLevelDiagLogger=void 0;var m=X();d.createLogLevelDiagLogger=function AS(d,g){function r(m,v){var y=g[m];return"function"==typeof y&&d>=v?y.bind(g):function(){}}return d<m.DiagLogLevel.NONE?d=m.DiagLogLevel.NONE:d>m.DiagLogLevel.ALL&&(d=m.DiagLogLevel.ALL),g=g||{},{error:r("error",m.DiagLogLevel.ERROR),warn:r("warn",m.DiagLogLevel.WARN),info:r("info",m.DiagLogLevel.INFO),debug:r("debug",m.DiagLogLevel.DEBUG),verbose:r("verbose",m.DiagLogLevel.VERBOSE)}}})),re=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.DiagAPI=void 0;var m=J(),g=te(),v=X(),y=G(),C=function(){function e(){function t(d){return function(){var m=y.getGlobal("diag");if(m)return m[d].apply(m,arguments)}}var d=this;d.setLogger=function(m,C){var _,T;if(void 0===C&&(C=v.DiagLogLevel.INFO),m===d){var b=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return d.error(null!==(_=b.stack)&&void 0!==_?_:b.message),!1}var A=y.getGlobal("diag"),P=g.createLogLevelDiagLogger(C,m);if(A){var R=null!==(T=(new Error).stack)&&void 0!==T?T:"<failed to generate stacktrace>";A.warn("Current logger will be overwritten from "+R),P.warn("Current logger will overwrite one already registered from "+R)}return y.registerGlobal("diag",P,d,!0)},d.disable=function(){y.unregisterGlobal("diag",d)},d.createComponentLogger=function(d){return new m.DiagComponentLogger(d)},d.verbose=t("verbose"),d.debug=t("debug"),d.info=t("info"),d.warn=t("warn"),d.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();d.DiagAPI=C})),ie=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.BaggageImpl=void 0;var m=function(){function e(d){this._entries=d?new Map(d):new Map}return e.prototype.getEntry=function(d){var m=this._entries.get(d);if(m)return Object.assign({},m)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(d){return[d[0],d[1]]}))},e.prototype.setEntry=function(d,m){var g=new e(this._entries);return g._entries.set(d,m),g},e.prototype.removeEntry=function(d){var m=new e(this._entries);return m._entries.delete(d),m},e.prototype.removeEntries=function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];for(var g=new e(this._entries),v=0,y=d;v<y.length;v++){var C=y[v];g._entries.delete(C)}return g},e.prototype.clear=function(){return new e},e}();d.BaggageImpl=m})),se=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.baggageEntryMetadataSymbol=void 0,d.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")})),oe=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.baggageEntryMetadataFromString=d.createBaggage=void 0;var m=re(),g=ie(),v=se(),y=m.DiagAPI.instance();d.createBaggage=function xS(d){return void 0===d&&(d={}),new g.BaggageImpl(new Map(Object.entries(d)))},d.baggageEntryMetadataFromString=function MS(d){return"string"!=typeof d&&(y.error("Cannot create baggage metadata from unknown type: "+typeof d),d=""),{__TYPE__:v.baggageEntryMetadataSymbol,toString:function(){return d}}}})),ae=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),ce=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),le=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.DiagConsoleLogger=void 0;var m=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],g=function e(){function t(d){return function(){var m=arguments;if(console){var g=console[d];if("function"!=typeof g&&(g=console.log),"function"==typeof g)return g.apply(console,m)}}}for(var d=0;d<m.length;d++)this[m[d].n]=t(m[d].c)};d.DiagConsoleLogger=g})),de=l((d=>{"use strict";var m=d&&d.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),g=d&&d.__exportStar||function(d,g){for(var v in d)"default"!==v&&!Object.prototype.hasOwnProperty.call(g,v)&&m(g,d,v)};Object.defineProperty(d,"__esModule",{value:!0}),g(le(),d),g(X(),d)})),he=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.defaultTextMapSetter=d.defaultTextMapGetter=void 0,d.defaultTextMapGetter={get:function(d,m){if(null!=d)return d[m]},keys:function(d){return null==d?[]:Object.keys(d)}},d.defaultTextMapSetter={set:function(d,m,g){null!=d&&(d[m]=g)}}})),pe=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),me=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),fe=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.ROOT_CONTEXT=d.createContextKey=void 0,d.createContextKey=function jS(d){return Symbol.for(d)};var m=function e(d){var m=this;m._currentContext=d?new Map(d):new Map,m.getValue=function(d){return m._currentContext.get(d)},m.setValue=function(d,g){var v=new e(m._currentContext);return v._currentContext.set(d,g),v},m.deleteValue=function(d){var g=new e(m._currentContext);return g._currentContext.delete(d),g}};d.ROOT_CONTEXT=new m})),ge=l((d=>{"use strict";var m=d&&d.__spreadArray||function(d,m){for(var g=0,v=m.length,y=d.length;g<v;g++,y++)d[y]=m[g];return d};Object.defineProperty(d,"__esModule",{value:!0}),d.NoopContextManager=void 0;var g=fe(),v=function(){function e(){}return e.prototype.active=function(){return g.ROOT_CONTEXT},e.prototype.with=function(d,g,v){for(var y=[],C=3;C<arguments.length;C++)y[C-3]=arguments[C];return g.call.apply(g,m([v],y))},e.prototype.bind=function(d,m){return m},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();d.NoopContextManager=v})),ve=l((d=>{"use strict";var m=d&&d.__spreadArray||function(d,m){for(var g=0,v=m.length,y=d.length;g<v;g++,y++)d[y]=m[g];return d};Object.defineProperty(d,"__esModule",{value:!0}),d.ContextAPI=void 0;var g=ge(),v=G(),y=re(),C="context",_=new g.NoopContextManager,T=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(d){return v.registerGlobal(C,d,y.DiagAPI.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(d,g,v){for(var y,C=[],_=3;_<arguments.length;_++)C[_-3]=arguments[_];return(y=this._getContextManager()).with.apply(y,m([d,g,v],C))},e.prototype.bind=function(d,m){return this._getContextManager().bind(d,m)},e.prototype._getContextManager=function(){return v.getGlobal(C)||_},e.prototype.disable=function(){this._getContextManager().disable(),v.unregisterGlobal(C,y.DiagAPI.instance())},e}();d.ContextAPI=T})),ye=l((d=>{"use strict";var m;Object.defineProperty(d,"__esModule",{value:!0}),d.TraceFlags=void 0,(m=d.TraceFlags||(d.TraceFlags={}))[m.NONE=0]="NONE",m[m.SAMPLED=1]="SAMPLED"})),Se=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.INVALID_SPAN_CONTEXT=d.INVALID_TRACEID=d.INVALID_SPANID=void 0;var m=ye();d.INVALID_SPANID="0000000000000000",d.INVALID_TRACEID="00000000000000000000000000000000",d.INVALID_SPAN_CONTEXT={traceId:d.INVALID_TRACEID,spanId:d.INVALID_SPANID,traceFlags:m.TraceFlags.NONE}})),Ee=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.NonRecordingSpan=void 0;var m=Se(),g=function(){function e(d){void 0===d&&(d=m.INVALID_SPAN_CONTEXT),this._spanContext=d}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(d,m){return this},e.prototype.setAttributes=function(d){return this},e.prototype.addEvent=function(d,m){return this},e.prototype.setStatus=function(d){return this},e.prototype.updateName=function(d){return this},e.prototype.end=function(d){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(d,m){},e}();d.NonRecordingSpan=g})),Ce=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.getSpanContext=d.setSpanContext=d.deleteSpan=d.setSpan=d.getSpan=void 0;var m=fe(),g=Ee(),v=m.createContextKey("OpenTelemetry Context Key SPAN");function Pd(d){return d.getValue(v)||void 0}function Rd(d,m){return d.setValue(v,m)}d.getSpan=Pd,d.setSpan=Rd,d.deleteSpan=function ZS(d){return d.deleteValue(v)},d.setSpanContext=function JS(d,m){return Rd(d,new g.NonRecordingSpan(m))},d.getSpanContext=function eI(d){var m;return null===(m=Pd(d))||void 0===m?void 0:m.spanContext()}})),_e=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.wrapSpanContext=d.isSpanContextValid=d.isValidSpanId=d.isValidTraceId=void 0;var m=Se(),g=Ee(),v=/^([0-9a-f]{32})$/i,y=/^[0-9a-f]{16}$/i;function Dd(d){return v.test(d)&&d!==m.INVALID_TRACEID}function wd(d){return y.test(d)&&d!==m.INVALID_SPANID}d.isValidTraceId=Dd,d.isValidSpanId=wd,d.isSpanContextValid=function iI(d){return Dd(d.traceId)&&wd(d.spanId)},d.wrapSpanContext=function aI(d){return new g.NonRecordingSpan(d)}})),Te=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.NoopTracer=void 0;var m=ve(),g=Ce(),v=Ee(),y=_e(),C=m.ContextAPI.getInstance(),_=function(){function e(){}return e.prototype.startSpan=function(d,m,C){if(Boolean(null==m?void 0:m.root))return new v.NonRecordingSpan;var _=C&&g.getSpanContext(C);return function cI(d){return"object"==typeof d&&"string"==typeof d.spanId&&"string"==typeof d.traceId&&"number"==typeof d.traceFlags}(_)&&y.isSpanContextValid(_)?new v.NonRecordingSpan(_):new v.NonRecordingSpan},e.prototype.startActiveSpan=function(d,m,v,y){var _,T,b;if(!(arguments.length<2)){2===arguments.length?b=m:3===arguments.length?(_=m,b=v):(_=m,T=v,b=y);var A=T??C.active(),P=this.startSpan(d,_,A),R=g.setSpan(A,P);return C.with(R,b,void 0,P)}},e}();d.NoopTracer=_})),be=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.ProxyTracer=void 0;var m=new(Te().NoopTracer),g=function(){function e(d,m,g){this._provider=d,this.name=m,this.version=g}return e.prototype.startSpan=function(d,m,g){return this._getTracer().startSpan(d,m,g)},e.prototype.startActiveSpan=function(d,m,g,v){var y=this._getTracer();return Reflect.apply(y.startActiveSpan,y,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var d=this._provider.getDelegateTracer(this.name,this.version);return d?(this._delegate=d,this._delegate):m},e}();d.ProxyTracer=g})),Ae=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.NoopTracerProvider=void 0;var m=Te(),g=function(){function e(){}return e.prototype.getTracer=function(d,g){return new m.NoopTracer},e}();d.NoopTracerProvider=g})),Pe=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.ProxyTracerProvider=void 0;var m=be(),g=new(Ae().NoopTracerProvider),v=function(){function e(){}return e.prototype.getTracer=function(d,g){var v;return null!==(v=this.getDelegateTracer(d,g))&&void 0!==v?v:new m.ProxyTracer(this,d,g)},e.prototype.getDelegate=function(){var d;return null!==(d=this._delegate)&&void 0!==d?d:g},e.prototype.setDelegate=function(d){this._delegate=d},e.prototype.getDelegateTracer=function(d,m){var g;return null===(g=this._delegate)||void 0===g?void 0:g.getTracer(d,m)},e}();d.ProxyTracerProvider=v})),ke=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),Ne=l((d=>{"use strict";var m;Object.defineProperty(d,"__esModule",{value:!0}),d.SamplingDecision=void 0,(m=d.SamplingDecision||(d.SamplingDecision={}))[m.NOT_RECORD=0]="NOT_RECORD",m[m.RECORD=1]="RECORD",m[m.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})),De=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),Ie=l((d=>{"use strict";var m;Object.defineProperty(d,"__esModule",{value:!0}),d.SpanKind=void 0,(m=d.SpanKind||(d.SpanKind={}))[m.INTERNAL=0]="INTERNAL",m[m.SERVER=1]="SERVER",m[m.CLIENT=2]="CLIENT",m[m.PRODUCER=3]="PRODUCER",m[m.CONSUMER=4]="CONSUMER"})),Oe=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),xe=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),Le=l((d=>{"use strict";var m;Object.defineProperty(d,"__esModule",{value:!0}),d.SpanStatusCode=void 0,(m=d.SpanStatusCode||(d.SpanStatusCode={}))[m.UNSET=0]="UNSET",m[m.OK=1]="OK",m[m.ERROR=2]="ERROR"})),Fe=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),Ue=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),je=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),Be=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),He=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.TraceAPI=void 0;var m=G(),g=Pe(),v=_e(),y=Ce(),C=re(),_="trace",T=function(){function e(){this._proxyTracerProvider=new g.ProxyTracerProvider,this.wrapSpanContext=v.wrapSpanContext,this.isSpanContextValid=v.isSpanContextValid,this.deleteSpan=y.deleteSpan,this.getSpan=y.getSpan,this.getSpanContext=y.getSpanContext,this.setSpan=y.setSpan,this.setSpanContext=y.setSpanContext}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(d){var g=m.registerGlobal(_,this._proxyTracerProvider,C.DiagAPI.instance());return g&&this._proxyTracerProvider.setDelegate(d),g},e.prototype.getTracerProvider=function(){return m.getGlobal(_)||this._proxyTracerProvider},e.prototype.getTracer=function(d,m){return this.getTracerProvider().getTracer(d,m)},e.prototype.disable=function(){m.unregisterGlobal(_,C.DiagAPI.instance()),this._proxyTracerProvider=new g.ProxyTracerProvider},e}();d.TraceAPI=T})),$e=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.NoopTextMapPropagator=void 0;var m=function(){function e(){}return e.prototype.inject=function(d,m){},e.prototype.extract=function(d,m){return d},e.prototype.fields=function(){return[]},e}();d.NoopTextMapPropagator=m})),qe=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.deleteBaggage=d.setBaggage=d.getBaggage=void 0;var m=fe().createContextKey("OpenTelemetry Baggage Key");d.getBaggage=function CI(d){return d.getValue(m)||void 0},d.setBaggage=function bI(d,g){return d.setValue(m,g)},d.deleteBaggage=function OI(d){return d.deleteValue(m)}})),ze=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.PropagationAPI=void 0;var m=G(),g=$e(),v=he(),y=qe(),C=oe(),_=re(),T="propagation",b=new g.NoopTextMapPropagator,A=function(){function e(){this.createBaggage=C.createBaggage,this.getBaggage=y.getBaggage,this.setBaggage=y.setBaggage,this.deleteBaggage=y.deleteBaggage}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(d){return m.registerGlobal(T,d,_.DiagAPI.instance())},e.prototype.inject=function(d,m,g){return void 0===g&&(g=v.defaultTextMapSetter),this._getGlobalPropagator().inject(d,m,g)},e.prototype.extract=function(d,m,g){return void 0===g&&(g=v.defaultTextMapGetter),this._getGlobalPropagator().extract(d,m,g)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){m.unregisterGlobal(T,_.DiagAPI.instance())},e.prototype._getGlobalPropagator=function(){return m.getGlobal(T)||b},e}();d.PropagationAPI=A})),Ge=l((d=>{"use strict";var m=d&&d.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),g=d&&d.__exportStar||function(d,g){for(var v in d)"default"!==v&&!Object.prototype.hasOwnProperty.call(g,v)&&m(g,d,v)};Object.defineProperty(d,"__esModule",{value:!0}),d.diag=d.propagation=d.trace=d.context=d.INVALID_SPAN_CONTEXT=d.INVALID_TRACEID=d.INVALID_SPANID=d.isValidSpanId=d.isValidTraceId=d.isSpanContextValid=d.baggageEntryMetadataFromString=void 0,g(B(),d);var v=oe();Object.defineProperty(d,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return v.baggageEntryMetadataFromString}}),g(ae(),d),g(ce(),d),g(de(),d),g(he(),d),g(pe(),d),g(me(),d),g(be(),d),g(Pe(),d),g(ke(),d),g(Ne(),d),g(De(),d),g(Ie(),d),g(Oe(),d),g(xe(),d),g(Le(),d),g(ye(),d),g(Fe(),d),g(Ue(),d),g(je(),d);var y=_e();Object.defineProperty(d,"isSpanContextValid",{enumerable:!0,get:function(){return y.isSpanContextValid}}),Object.defineProperty(d,"isValidTraceId",{enumerable:!0,get:function(){return y.isValidTraceId}}),Object.defineProperty(d,"isValidSpanId",{enumerable:!0,get:function(){return y.isValidSpanId}});var C=Se();Object.defineProperty(d,"INVALID_SPANID",{enumerable:!0,get:function(){return C.INVALID_SPANID}}),Object.defineProperty(d,"INVALID_TRACEID",{enumerable:!0,get:function(){return C.INVALID_TRACEID}}),Object.defineProperty(d,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return C.INVALID_SPAN_CONTEXT}}),g(fe(),d),g(Be(),d);var _=ve();d.context=_.ContextAPI.getInstance();var T=He();d.trace=T.TraceAPI.getInstance();var b=ze();d.propagation=b.PropagationAPI.getInstance();var A=re();d.diag=A.DiagAPI.instance(),d.default={trace:d.trace,context:d.context,propagation:d.propagation,diag:d.diag}})),Je=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.isTracingSuppressed=d.unsuppressTracing=d.suppressTracing=void 0;var m=Ge().createContextKey("OpenTelemetry SDK Context Key SUPPRESS_TRACING");d.suppressTracing=function HI(d){return d.setValue(m,!0)},d.unsuppressTracing=function UI(d){return d.deleteValue(m)},d.isTracingSuppressed=function BI(d){return!0===d.getValue(m)}})),Xe=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.BAGGAGE_MAX_TOTAL_LENGTH=d.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=d.BAGGAGE_MAX_NAME_VALUE_PAIRS=d.BAGGAGE_HEADER=d.BAGGAGE_ITEMS_SEPARATOR=d.BAGGAGE_PROPERTIES_SEPARATOR=d.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,d.BAGGAGE_KEY_PAIR_SEPARATOR="=",d.BAGGAGE_PROPERTIES_SEPARATOR=";",d.BAGGAGE_ITEMS_SEPARATOR=",",d.BAGGAGE_HEADER="baggage",d.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,d.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,d.BAGGAGE_MAX_TOTAL_LENGTH=8192})),Ze=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.parseKeyPairsIntoRecord=d.parsePairKeyValue=d.getKeyPairs=d.serializeKeyPairs=void 0;var m=Ge(),g=Xe();d.serializeKeyPairs=d=>d.reduce(((d,m)=>{let v=`${d}${""!==d?g.BAGGAGE_ITEMS_SEPARATOR:""}${m}`;return v.length>g.BAGGAGE_MAX_TOTAL_LENGTH?d:v}),"");d.getKeyPairs=d=>d.getAllEntries().map((([d,m])=>`${encodeURIComponent(d)}=${encodeURIComponent(m.value)}`));d.parsePairKeyValue=d=>{let v=d.split(g.BAGGAGE_PROPERTIES_SEPARATOR);if(v.length<=0)return;let y=v.shift();if(!y)return;let C=y.split(g.BAGGAGE_KEY_PAIR_SEPARATOR);if(2!==C.length)return;let _,T=decodeURIComponent(C[0].trim()),b=decodeURIComponent(C[1].trim());return v.length>0&&(_=m.baggageEntryMetadataFromString(v.join(g.BAGGAGE_PROPERTIES_SEPARATOR))),{key:T,value:b,metadata:_}};d.parseKeyPairsIntoRecord=m=>"string"!=typeof m||0===m.length?{}:m.split(g.BAGGAGE_ITEMS_SEPARATOR).map((m=>d.parsePairKeyValue(m))).filter((d=>void 0!==d&&d.value.length>0)).reduce(((d,m)=>(d[m.key]=m.value,d)),{})})),et=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.HttpBaggagePropagator=void 0;var m=Ge(),g=Je(),v=Xe(),y=Ze();d.HttpBaggagePropagator=class{inject(d,C,_){let T=m.propagation.getBaggage(d);if(!T||g.isTracingSuppressed(d))return;let b=y.getKeyPairs(T).filter((d=>d.length<=v.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS)).slice(0,v.BAGGAGE_MAX_NAME_VALUE_PAIRS),A=y.serializeKeyPairs(b);A.length>0&&_.set(C,v.BAGGAGE_HEADER,A)}extract(d,g,C){let _=C.get(g,v.BAGGAGE_HEADER);if(!_)return d;let T={};return 0===_.length||(_.split(v.BAGGAGE_ITEMS_SEPARATOR).forEach((d=>{let m=y.parsePairKeyValue(d);if(m){let d={value:m.value};m.metadata&&(d.metadata=m.metadata),T[m.key]=d}})),0===Object.entries(T).length)?d:m.propagation.setBaggage(d,m.propagation.createBaggage(T))}fields(){return[v.BAGGAGE_HEADER]}}})),tt=l((d=>{"use strict";function fh(d){return null==d||(Array.isArray(d)?function YI(d){let m;for(let g of d)if(null!=g){if(!m){if(ph(g)){m=typeof g;continue}return!1}if(typeof g!==m)return!1}return!0}(d):ph(d))}function ph(d){switch(typeof d){case"number":case"boolean":case"string":return!0}return!1}Object.defineProperty(d,"__esModule",{value:!0}),d.isAttributeValue=d.sanitizeAttributes=void 0,d.sanitizeAttributes=function KI(d){let m={};if(null==d||"object"!=typeof d)return m;for(let[g,v]of Object.entries(d))fh(v)&&(Array.isArray(v)?m[g]=v.slice():m[g]=v);return m},d.isAttributeValue=fh})),rt=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.loggingErrorHandler=void 0;var m=Ge();d.loggingErrorHandler=function WI(){return d=>{m.diag.error(function ZI(d){return"string"==typeof d?d:JSON.stringify(function JI(d){let m={},g=d;for(;null!==g;)Object.getOwnPropertyNames(g).forEach((d=>{if(m[d])return;let v=g[d];v&&(m[d]=String(v))})),g=Object.getPrototypeOf(g);return m}(d))}(d))}}})),nt=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.globalErrorHandler=d.setGlobalErrorHandler=void 0;var m=rt().loggingErrorHandler();d.setGlobalErrorHandler=function tC(d){m=d};d.globalErrorHandler=d=>{try{m(d)}catch{}}})),it=l((d=>{"use strict";var m;Object.defineProperty(d,"__esModule",{value:!0}),d.TracesSamplerValues=void 0,(m=d.TracesSamplerValues||(d.TracesSamplerValues={})).AlwaysOff="always_off",m.AlwaysOn="always_on",m.ParentBasedAlwaysOff="parentbased_always_off",m.ParentBasedAlwaysOn="parentbased_always_on",m.ParentBasedTraceIdRatio="parentbased_traceidratio",m.TraceIdRatio="traceidratio"})),ot=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.parseEnvironment=d.DEFAULT_ENVIRONMENT=void 0;var m=Ge(),g=it(),v=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT"];function oC(d){return v.indexOf(d)>-1}var y=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function cC(d){return y.indexOf(d)>-1}function lC(d,m,g,v=-1/0,y=1/0){if(typeof g[d]<"u"){let C=Number(g[d]);isNaN(C)||(m[d]=C<v?v:C>y?y:C)}}function fC(d,m,g,v=","){let y=g[d];"string"==typeof y&&(m[d]=y.split(v).map((d=>d.trim())))}d.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:m.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:g.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:""};var C={ALL:m.DiagLogLevel.ALL,VERBOSE:m.DiagLogLevel.VERBOSE,DEBUG:m.DiagLogLevel.DEBUG,INFO:m.DiagLogLevel.INFO,WARN:m.DiagLogLevel.WARN,ERROR:m.DiagLogLevel.ERROR,NONE:m.DiagLogLevel.NONE};function dC(d,m,g){let v=g[d];if("string"==typeof v){let g=C[v.toUpperCase()];null!=g&&(m[d]=g)}}d.parseEnvironment=function hC(m){let g={};for(let v in d.DEFAULT_ENVIRONMENT){let d=v;if("OTEL_LOG_LEVEL"===d)dC(d,g,m);else if(oC(d))lC(d,g,m);else if(cC(d))fC(d,g,m);else{let v=m[d];typeof v<"u"&&null!==v&&(g[d]=String(v))}}return g}})),ct=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.getEnv=void 0;var m=g(22037),v=ot();d.getEnv=function vC(){let d=v.parseEnvironment(process.env);return Object.assign({HOSTNAME:m.hostname()},v.DEFAULT_ENVIRONMENT,d)}})),dt=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.hexToBase64=void 0,d.hexToBase64=function gC(d){let m=d.length,g="";for(let v=0;v<m;v+=2){let m=d.substring(v,v+2),y=parseInt(m,16);g+=String.fromCharCode(y)}return Buffer.from(g,"ascii").toString("base64")}})),ut=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.RandomIdGenerator=void 0;d.RandomIdGenerator=class{constructor(){this.generateTraceId=Eh(16),this.generateSpanId=Eh(8)}};var m=Buffer.allocUnsafe(16);function Eh(d){return function(){for(let g=0;g<d/4;g++)m.writeUInt32BE(Math.random()*2**32>>>0,4*g);for(let g=0;g<d&&!(m[g]>0);g++)g===d-1&&(m[d-1]=1);return m.toString("hex",0,d)}}})),ht=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.otperformance=void 0;var m=g(4074);d.otperformance=m.performance})),pt=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.VERSION=void 0,d.VERSION="0.23.0"})),mt=l((d=>{"use strict";var m;Object.defineProperty(d,"__esModule",{value:!0}),d.RpcGrpcStatusCodeValues=d.MessagingOperationValues=d.MessagingDestinationKindValues=d.HttpFlavorValues=d.NetTransportValues=d.FaasInvokedProviderValues=d.FaasDocumentOperationValues=d.FaasTriggerValues=d.DbCassandraConsistencyLevelValues=d.DbSystemValues=d.SemanticAttributes=void 0,d.SemanticAttributes={DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_METHOD:"rpc.jsonrpc.method",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message"},(m=d.DbSystemValues||(d.DbSystemValues={})).OTHER_SQL="other_sql",m.MSSQL="mssql",m.MYSQL="mysql",m.ORACLE="oracle",m.DB2="db2",m.POSTGRESQL="postgresql",m.REDSHIFT="redshift",m.HIVE="hive",m.CLOUDSCAPE="cloudscape",m.HSQLDB="hsqldb",m.PROGRESS="progress",m.MAXDB="maxdb",m.HANADB="hanadb",m.INGRES="ingres",m.FIRSTSQL="firstsql",m.EDB="edb",m.CACHE="cache",m.ADABAS="adabas",m.FIREBIRD="firebird",m.DERBY="derby",m.FILEMAKER="filemaker",m.INFORMIX="informix",m.INSTANTDB="instantdb",m.INTERBASE="interbase",m.MARIADB="mariadb",m.NETEZZA="netezza",m.PERVASIVE="pervasive",m.POINTBASE="pointbase",m.SQLITE="sqlite",m.SYBASE="sybase",m.TERADATA="teradata",m.VERTICA="vertica",m.H2="h2",m.COLDFUSION="coldfusion",m.CASSANDRA="cassandra",m.HBASE="hbase",m.MONGODB="mongodb",m.REDIS="redis",m.COUCHBASE="couchbase",m.COUCHDB="couchdb",m.COSMOSDB="cosmosdb",m.DYNAMODB="dynamodb",m.NEO4J="neo4j",m.GEODE="geode",m.ELASTICSEARCH="elasticsearch",m.MEMCACHED="memcached",m.COCKROACHDB="cockroachdb",function(d){d.ALL="all",d.EACH_QUORUM="each_quorum",d.QUORUM="quorum",d.LOCAL_QUORUM="local_quorum",d.ONE="one",d.TWO="two",d.THREE="three",d.LOCAL_ONE="local_one",d.ANY="any",d.SERIAL="serial",d.LOCAL_SERIAL="local_serial"}(d.DbCassandraConsistencyLevelValues||(d.DbCassandraConsistencyLevelValues={})),function(d){d.DATASOURCE="datasource",d.HTTP="http",d.PUBSUB="pubsub",d.TIMER="timer",d.OTHER="other"}(d.FaasTriggerValues||(d.FaasTriggerValues={})),function(d){d.INSERT="insert",d.EDIT="edit",d.DELETE="delete"}(d.FaasDocumentOperationValues||(d.FaasDocumentOperationValues={})),function(d){d.AWS="aws",d.AZURE="azure",d.GCP="gcp"}(d.FaasInvokedProviderValues||(d.FaasInvokedProviderValues={})),function(d){d.IP_TCP="ip_tcp",d.IP_UDP="ip_udp",d.IP="ip",d.UNIX="unix",d.PIPE="pipe",d.INPROC="inproc",d.OTHER="other"}(d.NetTransportValues||(d.NetTransportValues={})),function(d){d.HTTP_1_0="1.0",d.HTTP_1_1="1.1",d.HTTP_2_0="2.0",d.SPDY="SPDY",d.QUIC="QUIC"}(d.HttpFlavorValues||(d.HttpFlavorValues={})),function(d){d.QUEUE="queue",d.TOPIC="topic"}(d.MessagingDestinationKindValues||(d.MessagingDestinationKindValues={})),function(d){d.RECEIVE="receive",d.PROCESS="process"}(d.MessagingOperationValues||(d.MessagingOperationValues={})),function(d){d[d.OK=0]="OK",d[d.CANCELLED=1]="CANCELLED",d[d.UNKNOWN=2]="UNKNOWN",d[d.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",d[d.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",d[d.NOT_FOUND=5]="NOT_FOUND",d[d.ALREADY_EXISTS=6]="ALREADY_EXISTS",d[d.PERMISSION_DENIED=7]="PERMISSION_DENIED",d[d.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",d[d.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",d[d.ABORTED=10]="ABORTED",d[d.OUT_OF_RANGE=11]="OUT_OF_RANGE",d[d.UNIMPLEMENTED=12]="UNIMPLEMENTED",d[d.INTERNAL=13]="INTERNAL",d[d.UNAVAILABLE=14]="UNAVAILABLE",d[d.DATA_LOSS=15]="DATA_LOSS",d[d.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(d.RpcGrpcStatusCodeValues||(d.RpcGrpcStatusCodeValues={}))})),ft=l((d=>{"use strict";var m=d&&d.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),g=d&&d.__exportStar||function(d,g){for(var v in d)"default"!==v&&!Object.prototype.hasOwnProperty.call(g,v)&&m(g,d,v)};Object.defineProperty(d,"__esModule",{value:!0}),g(mt(),d)})),yt=l((d=>{"use strict";var m;Object.defineProperty(d,"__esModule",{value:!0}),d.TelemetrySdkLanguageValues=d.OsTypeValues=d.HostArchValues=d.AwsEcsLaunchtypeValues=d.CloudPlatformValues=d.CloudProviderValues=d.ResourceAttributes=void 0,d.ResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"},(m=d.CloudProviderValues||(d.CloudProviderValues={})).AWS="aws",m.AZURE="azure",m.GCP="gcp",function(d){d.AWS_EC2="aws_ec2",d.AWS_ECS="aws_ecs",d.AWS_EKS="aws_eks",d.AWS_LAMBDA="aws_lambda",d.AWS_ELASTIC_BEANSTALK="aws_elastic_beanstalk",d.AZURE_VM="azure_vm",d.AZURE_CONTAINER_INSTANCES="azure_container_instances",d.AZURE_AKS="azure_aks",d.AZURE_FUNCTIONS="azure_functions",d.AZURE_APP_SERVICE="azure_app_service",d.GCP_COMPUTE_ENGINE="gcp_compute_engine",d.GCP_CLOUD_RUN="gcp_cloud_run",d.GCP_KUBERNETES_ENGINE="gcp_kubernetes_engine",d.GCP_CLOUD_FUNCTIONS="gcp_cloud_functions",d.GCP_APP_ENGINE="gcp_app_engine"}(d.CloudPlatformValues||(d.CloudPlatformValues={})),function(d){d.EC2="ec2",d.FARGATE="fargate"}(d.AwsEcsLaunchtypeValues||(d.AwsEcsLaunchtypeValues={})),function(d){d.AMD64="amd64",d.ARM32="arm32",d.ARM64="arm64",d.IA64="ia64",d.PPC32="ppc32",d.PPC64="ppc64",d.X86="x86"}(d.HostArchValues||(d.HostArchValues={})),function(d){d.WINDOWS="windows",d.LINUX="linux",d.DARWIN="darwin",d.FREEBSD="freebsd",d.NETBSD="netbsd",d.OPENBSD="openbsd",d.DRAGONFLYBSD="dragonflybsd",d.HPUX="hpux",d.AIX="aix",d.SOLARIS="solaris",d.Z_OS="z_os"}(d.OsTypeValues||(d.OsTypeValues={})),function(d){d.CPP="cpp",d.DOTNET="dotnet",d.ERLANG="erlang",d.GO="go",d.JAVA="java",d.NODEJS="nodejs",d.PHP="php",d.PYTHON="python",d.RUBY="ruby",d.WEBJS="webjs"}(d.TelemetrySdkLanguageValues||(d.TelemetrySdkLanguageValues={}))})),Ct=l((d=>{"use strict";var m=d&&d.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),g=d&&d.__exportStar||function(d,g){for(var v in d)"default"!==v&&!Object.prototype.hasOwnProperty.call(g,v)&&m(g,d,v)};Object.defineProperty(d,"__esModule",{value:!0}),g(yt(),d)})),_t=l((d=>{"use strict";var m=d&&d.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),g=d&&d.__exportStar||function(d,g){for(var v in d)"default"!==v&&!Object.prototype.hasOwnProperty.call(g,v)&&m(g,d,v)};Object.defineProperty(d,"__esModule",{value:!0}),g(ft(),d),g(Ct(),d)})),Tt=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.SDK_INFO=void 0;var m=pt(),g=_t();d.SDK_INFO={[g.ResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[g.ResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[g.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:g.TelemetrySdkLanguageValues.NODEJS,[g.ResourceAttributes.TELEMETRY_SDK_VERSION]:m.VERSION}})),bt=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.unrefTimer=void 0,d.unrefTimer=function FC(d){d.unref()}})),At=l((d=>{"use strict";var m=d&&d.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),g=d&&d.__exportStar||function(d,g){for(var v in d)"default"!==v&&!Object.prototype.hasOwnProperty.call(g,v)&&m(g,d,v)};Object.defineProperty(d,"__esModule",{value:!0}),g(ct(),d),g(dt(),d),g(ut(),d),g(ht(),d),g(Tt(),d),g(bt(),d)})),Pt=l((d=>{"use strict";var m=d&&d.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),g=d&&d.__exportStar||function(d,g){for(var v in d)"default"!==v&&!Object.prototype.hasOwnProperty.call(g,v)&&m(g,d,v)};Object.defineProperty(d,"__esModule",{value:!0}),g(At(),d)})),kt=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.isTimeInput=d.isTimeInputHrTime=d.hrTimeToMicroseconds=d.hrTimeToMilliseconds=d.hrTimeToNanoseconds=d.hrTimeToTimeStamp=d.hrTimeDuration=d.timeInputToHrTime=d.hrTime=void 0;var m=Pt(),g=Math.pow(10,9);function Is(d){let m=d/1e3,v=Math.trunc(m);return[v,Number((m-v).toFixed(9))*g]}function Nh(){let d=m.otperformance.timeOrigin;if("number"!=typeof d){let g=m.otperformance;d=g.timing&&g.timing.fetchStart}return d}function Dh(d){let v=Is(Nh()),y=Is("number"==typeof d?d:m.otperformance.now()),C=v[0]+y[0],_=v[1]+y[1];return _>g&&(_-=g,C+=1),[C,_]}function gc(d){return Array.isArray(d)&&2===d.length&&"number"==typeof d[0]&&"number"==typeof d[1]}d.hrTime=Dh,d.timeInputToHrTime=function zC(d){if(gc(d))return d;if("number"==typeof d)return d<Nh()?Dh(d):Is(d);if(d instanceof Date)return Is(d.getTime());throw TypeError("Invalid input type")},d.hrTimeDuration=function XC(d,m){let v=m[0]-d[0],y=m[1]-d[1];return y<0&&(v-=1,y+=g),[v,y]},d.hrTimeToTimeStamp=function KC(d){let m=`${"0".repeat(9)}${d[1]}Z`,g=m.substr(m.length-9-1);return new Date(1e3*d[0]).toISOString().replace("000Z",g)},d.hrTimeToNanoseconds=function YC(d){return d[0]*g+d[1]},d.hrTimeToMilliseconds=function QC(d){return Math.round(1e3*d[0]+d[1]/1e6)},d.hrTimeToMicroseconds=function WC(d){return Math.round(1e6*d[0]+d[1]/1e3)},d.isTimeInputHrTime=gc,d.isTimeInput=function ZC(d){return gc(d)||"number"==typeof d||d instanceof Date}})),Nt=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),Mt=l((d=>{"use strict";var m;Object.defineProperty(d,"__esModule",{value:!0}),d.ExportResultCode=void 0,(m=d.ExportResultCode||(d.ExportResultCode={}))[m.SUCCESS=0]="SUCCESS",m[m.FAILED=1]="FAILED"})),Dt=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.CompositePropagator=void 0;var m=Ge();d.CompositePropagator=class{constructor(d={}){var m;this._propagators=null!==(m=d.propagators)&&void 0!==m?m:[],this._fields=Array.from(new Set(this._propagators.map((d=>"function"==typeof d.fields?d.fields():[])).reduce(((d,m)=>d.concat(m)),[])))}inject(d,g,v){for(let y of this._propagators)try{y.inject(d,g,v)}catch(d){m.diag.warn(`Failed to inject with ${y.constructor.name}. Err: ${d.message}`)}}extract(d,g,v){return this._propagators.reduce(((d,y)=>{try{return y.extract(d,g,v)}catch(d){m.diag.warn(`Failed to inject with ${y.constructor.name}. Err: ${d.message}`)}return d}),d)}fields(){return this._fields.slice()}}})),Ot=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.validateValue=d.validateKey=void 0;var m="[_0-9a-z-*/]",g=new RegExp(`^(?:${`[a-z]${m}{0,255}`}|${`[a-z0-9]${m}{0,240}@[a-z]${m}{0,13}`})$`),v=/^[ -~]{0,255}[!-~]$/,y=/,|=/;d.validateKey=function ab(d){return g.test(d)},d.validateValue=function sb(d){return v.test(d)&&!y.test(d)}})),xt=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.TraceState=void 0;var m=Ot(),g=class{constructor(d){this._internalState=new Map,d&&this._parse(d)}set(d,m){let g=this._clone();return g._internalState.has(d)&&g._internalState.delete(d),g._internalState.set(d,m),g}unset(d){let m=this._clone();return m._internalState.delete(d),m}get(d){return this._internalState.get(d)}serialize(){return this._keys().reduce(((d,m)=>(d.push(m+"="+this.get(m)),d)),[]).join(",")}_parse(d){d.length>512||(this._internalState=d.split(",").reverse().reduce(((d,g)=>{let v=g.trim(),y=v.indexOf("=");if(-1!==y){let C=v.slice(0,y),_=v.slice(y+1,g.length);m.validateKey(C)&&m.validateValue(_)&&d.set(C,_)}return d}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let d=new g;return d._internalState=new Map(this._internalState),d}};d.TraceState=g})),Lt=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.HttpTraceContextPropagator=d.parseTraceParent=d.TRACE_STATE_HEADER=d.TRACE_PARENT_HEADER=void 0;var m=Ge(),g=Je(),v=xt();d.TRACE_PARENT_HEADER="traceparent",d.TRACE_STATE_HEADER="tracestate";var y=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function Gh(d){let m=y.exec(d);return!m||"00"===m[1]&&m[5]?null:{traceId:m[2],spanId:m[3],traceFlags:parseInt(m[4],16)}}d.parseTraceParent=Gh;d.HttpTraceContextPropagator=class{inject(v,y,C){let _=m.trace.getSpanContext(v);if(!_||g.isTracingSuppressed(v)||!m.isSpanContextValid(_))return;let T=`00-${_.traceId}-${_.spanId}-0${Number(_.traceFlags||m.TraceFlags.NONE).toString(16)}`;C.set(y,d.TRACE_PARENT_HEADER,T),_.traceState&&C.set(y,d.TRACE_STATE_HEADER,_.traceState.serialize())}extract(g,y,C){let _=C.get(y,d.TRACE_PARENT_HEADER);if(!_)return g;let T=Array.isArray(_)?_[0]:_;if("string"!=typeof T)return g;let b=Gh(T);if(!b)return g;b.isRemote=!0;let A=C.get(y,d.TRACE_STATE_HEADER);if(A){let d=Array.isArray(A)?A.join(","):A;b.traceState=new v.TraceState("string"==typeof d?d:void 0)}return m.trace.setSpanContext(g,b)}fields(){return[d.TRACE_PARENT_HEADER,d.TRACE_STATE_HEADER]}}})),Ft=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),Ut=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.getRPCMetadata=d.deleteRPCMetadata=d.setRPCMetadata=d.RPCType=void 0;var m=Ge().createContextKey("OpenTelemetry SDK Context Key RPC_METADATA");(d.RPCType||(d.RPCType={})).HTTP="http",d.setRPCMetadata=function Eb(d,g){return d.setValue(m,g)},d.deleteRPCMetadata=function mb(d){return d.deleteValue(m)},d.getRPCMetadata=function yb(d){return d.getValue(m)}})),jt=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.AlwaysOffSampler=void 0;var m=Ge();d.AlwaysOffSampler=class{shouldSample(){return{decision:m.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}})),Bt=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.AlwaysOnSampler=void 0;var m=Ge();d.AlwaysOnSampler=class{shouldSample(){return{decision:m.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}})),Ht=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.ParentBasedSampler=void 0;var m=Ge(),g=nt(),v=jt(),y=Bt();d.ParentBasedSampler=class{constructor(d){var m,C,_,T;this._root=d.root,this._root||(g.globalErrorHandler(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new y.AlwaysOnSampler),this._remoteParentSampled=null!==(m=d.remoteParentSampled)&&void 0!==m?m:new y.AlwaysOnSampler,this._remoteParentNotSampled=null!==(C=d.remoteParentNotSampled)&&void 0!==C?C:new v.AlwaysOffSampler,this._localParentSampled=null!==(_=d.localParentSampled)&&void 0!==_?_:new y.AlwaysOnSampler,this._localParentNotSampled=null!==(T=d.localParentNotSampled)&&void 0!==T?T:new v.AlwaysOffSampler}shouldSample(d,g,v,y,C,_){let T=m.trace.getSpanContext(d);return T&&m.isSpanContextValid(T)?T.isRemote?T.traceFlags&m.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(d,g,v,y,C,_):this._remoteParentNotSampled.shouldSample(d,g,v,y,C,_):T.traceFlags&m.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(d,g,v,y,C,_):this._localParentNotSampled.shouldSample(d,g,v,y,C,_):this._root.shouldSample(d,g,v,y,C,_)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}})),Wt=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.TraceIdRatioBasedSampler=void 0;var m=Ge();d.TraceIdRatioBasedSampler=class{constructor(d=0){this._ratio=d,this._ratio=this._normalize(d),this._upperBound=Math.floor(4294967295*this._ratio)}shouldSample(d,g){return{decision:m.isValidTraceId(g)&&this._accumulate(g)<this._upperBound?m.SamplingDecision.RECORD_AND_SAMPLED:m.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(d){return"number"!=typeof d||isNaN(d)?0:d>=1?1:d<=0?0:d}_accumulate(d){let m=0;for(let g=0;g<d.length/8;g++){let v=8*g;m=(m^parseInt(d.slice(v,v+8),16))>>>0}return m}}})),Vt=l((d=>{"use strict";function Wh(d,m){return"string"==typeof m?d===m:m.test(d)}Object.defineProperty(d,"__esModule",{value:!0}),d.isUrlIgnored=d.urlMatches=void 0,d.urlMatches=Wh,d.isUrlIgnored=function Ib(d,m){if(!m)return!1;for(let g of m)if(Wh(d,g))return!0;return!1}})),$t=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.isWrapped=void 0,d.isWrapped=function Cb(d){return"function"==typeof d&&"function"==typeof d.__original&&"function"==typeof d.__unwrap&&!0===d.__wrapped}})),Yt=l((d=>{"use strict";var m=d&&d.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),g=d&&d.__exportStar||function(d,g){for(var v in d)"default"!==v&&!Object.prototype.hasOwnProperty.call(g,v)&&m(g,d,v)};Object.defineProperty(d,"__esModule",{value:!0}),d.baggageUtils=void 0,g(et(),d),g(tt(),d),g(nt(),d),g(rt(),d),g(kt(),d),g(Nt(),d),g(Mt(),d),g(pt(),d),d.baggageUtils=Ze(),g(Pt(),d),g(Dt(),d),g(Lt(),d),g(Ft(),d),g(Ut(),d),g(jt(),d),g(Bt(),d),g(Ht(),d),g(Wt(),d),g(Je(),d),g(xt(),d),g(ot(),d),g(it(),d),g(Vt(),d),g($t(),d),g(pt(),d)})),zt=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.ExceptionEventName=void 0,d.ExceptionEventName="exception"})),Gt=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.Span=void 0;var m=Ge(),g=Yt(),v=_t(),y=zt();d.Span=class{constructor(d,v,y,C,_,T,b=[],A=g.hrTime()){this.attributes={},this.links=[],this.events=[],this.status={code:m.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=y,this._spanContext=C,this.parentSpanId=T,this.kind=_,this.links=b,this.startTime=g.timeInputToHrTime(A),this.resource=d.resource,this.instrumentationLibrary=d.instrumentationLibrary,this._spanLimits=d.getSpanLimits(),this._spanProcessor=d.getActiveSpanProcessor(),this._spanProcessor.onStart(this,v)}spanContext(){return this._spanContext}setAttribute(d,v){return null==v||this._isSpanEnded()?this:0===d.length?(m.diag.warn(`Invalid attribute key: ${d}`),this):g.isAttributeValue(v)?(Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,d)||(this.attributes[d]=v),this):(m.diag.warn(`Invalid attribute value set for key: ${d}`),this)}setAttributes(d){for(let[m,g]of Object.entries(d))this.setAttribute(m,g);return this}addEvent(d,v,y){return this._isSpanEnded()||(this.events.length>=this._spanLimits.eventCountLimit&&(m.diag.warn("Dropping extra events."),this.events.shift()),g.isTimeInput(v)&&(typeof y>"u"&&(y=v),v=void 0),typeof y>"u"&&(y=g.hrTime()),this.events.push({name:d,attributes:v,time:g.timeInputToHrTime(y)})),this}setStatus(d){return this._isSpanEnded()||(this.status=d),this}updateName(d){return this._isSpanEnded()||(this.name=d),this}end(d=g.hrTime()){this._isSpanEnded()?m.diag.error("You can only call end() on a span once."):(this._ended=!0,this.endTime=g.timeInputToHrTime(d),this._duration=g.hrTimeDuration(this.startTime,this.endTime),this._duration[0]<0&&m.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this))}isRecording(){return!1===this._ended}recordException(d,C=g.hrTime()){let _={};"string"==typeof d?_[v.SemanticAttributes.EXCEPTION_MESSAGE]=d:d&&(d.code?_[v.SemanticAttributes.EXCEPTION_TYPE]=d.code.toString():d.name&&(_[v.SemanticAttributes.EXCEPTION_TYPE]=d.name),d.message&&(_[v.SemanticAttributes.EXCEPTION_MESSAGE]=d.message),d.stack&&(_[v.SemanticAttributes.EXCEPTION_STACKTRACE]=d.stack)),_[v.SemanticAttributes.EXCEPTION_TYPE]||_[v.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(y.ExceptionEventName,_,C):m.diag.warn(`Failed to record an exception ${d}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&m.diag.warn("Can not execute the operation on ended Span {traceId: %s, spanId: %s}",this._spanContext.traceId,this._spanContext.spanId),this._ended}}})),Kt=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.buildSamplerFromEnv=d.DEFAULT_CONFIG=void 0;var m=Ge(),g=Yt(),v=g.getEnv(),y=g.TracesSamplerValues.AlwaysOn;function r_(d=g.getEnv()){switch(d.OTEL_TRACES_SAMPLER){case g.TracesSamplerValues.AlwaysOn:return new g.AlwaysOnSampler;case g.TracesSamplerValues.AlwaysOff:return new g.AlwaysOffSampler;case g.TracesSamplerValues.ParentBasedAlwaysOn:return new g.ParentBasedSampler({root:new g.AlwaysOnSampler});case g.TracesSamplerValues.ParentBasedAlwaysOff:return new g.ParentBasedSampler({root:new g.AlwaysOffSampler});case g.TracesSamplerValues.TraceIdRatio:return new g.TraceIdRatioBasedSampler(t_(d));case g.TracesSamplerValues.ParentBasedTraceIdRatio:return new g.ParentBasedSampler({root:new g.TraceIdRatioBasedSampler(t_(d))});default:return m.diag.error(`OTEL_TRACES_SAMPLER value "${d.OTEL_TRACES_SAMPLER} invalid, defaulting to ${y}".`),new g.AlwaysOnSampler}}d.DEFAULT_CONFIG={sampler:r_(v),forceFlushTimeoutMillis:3e4,spanLimits:{attributeCountLimit:g.getEnv().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:g.getEnv().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:g.getEnv().OTEL_SPAN_EVENT_COUNT_LIMIT}},d.buildSamplerFromEnv=r_;function t_(d){if(void 0===d.OTEL_TRACES_SAMPLER_ARG||""===d.OTEL_TRACES_SAMPLER_ARG)return m.diag.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to 1."),1;let g=Number(d.OTEL_TRACES_SAMPLER_ARG);return isNaN(g)?(m.diag.error(`OTEL_TRACES_SAMPLER_ARG=${d.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to 1.`),1):g<0||g>1?(m.diag.error(`OTEL_TRACES_SAMPLER_ARG=${d.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to 1.`),1):g}})),Jt=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.mergeConfig=void 0;var m=Kt();d.mergeConfig=function Nb(d){let g={sampler:m.buildSamplerFromEnv()},v=Object.assign({},m.DEFAULT_CONFIG,g,d);return v.spanLimits=Object.assign({},m.DEFAULT_CONFIG.spanLimits,d.spanLimits||{}),v}})),Xt=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.Tracer=void 0;var m=Ge(),g=Yt(),v=Gt(),y=Jt();d.Tracer=class{constructor(d,m,v){this._tracerProvider=v;let C=y.mergeConfig(m);this._sampler=C.sampler,this._spanLimits=C.spanLimits,this._idGenerator=m.idGenerator||new g.RandomIdGenerator,this.resource=v.resource,this.instrumentationLibrary=d}startSpan(d,y={},C=m.context.active()){var _,T;if(g.isTracingSuppressed(C))return m.diag.debug("Instrumentation suppressed, returning Noop Span"),m.trace.wrapSpanContext(m.INVALID_SPAN_CONTEXT);let b,A,P,R=function xb(d,g){if(!d.root)return m.trace.getSpanContext(g)}(y,C),k=this._idGenerator.generateSpanId();R&&m.trace.isSpanContextValid(R)?(b=R.traceId,A=R.traceState,P=R.spanId):b=this._idGenerator.generateTraceId();let M=null!==(_=y.kind)&&void 0!==_?_:m.SpanKind.INTERNAL,I=null!==(T=y.links)&&void 0!==T?T:[],O=g.sanitizeAttributes(y.attributes),x=this._sampler.shouldSample(y.root?m.trace.setSpanContext(C,m.INVALID_SPAN_CONTEXT):C,b,d,M,O,I),L={traceId:b,spanId:k,traceFlags:x.decision===m.SamplingDecision.RECORD_AND_SAMPLED?m.TraceFlags.SAMPLED:m.TraceFlags.NONE,traceState:A};if(x.decision===m.SamplingDecision.NOT_RECORD)return m.diag.debug("Recording is off, propagating context in a non-recording span"),m.trace.wrapSpanContext(L);let U=new v.Span(this,C,d,L,M,P,I,y.startTime);return U.setAttributes(Object.assign(O,x.attributes)),U}startActiveSpan(d,g,v,y){let C,_,T;if(arguments.length<2)return;2===arguments.length?T=g:3===arguments.length?(C=g,T=v):(C=g,_=v,T=y);let b=_??m.context.active(),A=this.startSpan(d,C,b),P=m.trace.setSpan(b,A);return m.context.with(P,T,void 0,A)}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}}})),Qt=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.defaultServiceName=void 0,d.defaultServiceName=function Mb(){return`unknown_service:${process.argv0}`}})),Zt=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.detectResources=void 0;var m=sr(),v=Ge(),y=g(73837);d.detectResources=async(d={})=>{let g=Object.assign(d),y=await Promise.all((g.detectors||[]).map((async d=>{try{let m=await d.detect(g);return v.diag.debug(`${d.constructor.name} found resource.`,m),m}catch(g){return v.diag.debug(`${d.constructor.name} failed: ${g.message}`),m.Resource.empty()}})));return jb(y),y.reduce(((d,m)=>d.merge(m)),m.Resource.empty())};var jb=d=>{d.forEach((d=>{if(Object.keys(d.attributes).length>0){let m=y.inspect(d.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});v.diag.verbose(m)}}))}})),er=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.envDetector=void 0;var m=Ge(),g=Yt(),v=_t(),y=lr();d.envDetector=new class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(d){let C={},_=g.getEnv(),T=_.OTEL_RESOURCE_ATTRIBUTES,b=_.OTEL_SERVICE_NAME;if(T)try{let d=this._parseResourceAttributes(T);Object.assign(C,d)}catch(d){m.diag.debug(`EnvDetector failed: ${d.message}`)}return b&&(C[v.ResourceAttributes.SERVICE_NAME]=b),new y.Resource(C)}_parseResourceAttributes(d){if(!d)return{};let m={},g=d.split(this._COMMA_SEPARATOR,-1);for(let d of g){let g=d.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(2!==g.length)continue;let[v,y]=g;if(v=v.trim(),y=y.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(v))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(y))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);m[v]=y}return m}_isValid(d){return d.length<=this._MAX_LENGTH&&this._isPrintableString(d)}_isPrintableString(d){for(let m=0;m<d.length;m++){let g=d.charAt(m);if(g<=" "||g>="~")return!1}return!0}_isValidAndNotEmpty(d){return d.length>0&&this._isValid(d)}}})),tr=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.processDetector=void 0;var m=Ge(),g=_t(),v=lr();d.processDetector=new class{async detect(d){let m={[g.ResourceAttributes.PROCESS_PID]:process.pid,[g.ResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[g.ResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[g.ResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||""};return this._getResourceAttributes(m,d)}_getResourceAttributes(d,y){return""===d[g.ResourceAttributes.PROCESS_EXECUTABLE_NAME]||""===d[g.ResourceAttributes.PROCESS_EXECUTABLE_PATH]||""===d[g.ResourceAttributes.PROCESS_COMMAND]||""===d[g.ResourceAttributes.PROCESS_COMMAND_LINE]?(m.diag.debug("ProcessDetector failed: Unable to find required process resources. "),v.Resource.empty()):new v.Resource(Object.assign({},d))}}})),rr=l((d=>{"use strict";var m=d&&d.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),g=d&&d.__exportStar||function(d,g){for(var v in d)"default"!==v&&!Object.prototype.hasOwnProperty.call(g,v)&&m(g,d,v)};Object.defineProperty(d,"__esModule",{value:!0}),g(er(),d),g(tr(),d)})),nr=l((d=>{"use strict";var m=d&&d.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),g=d&&d.__exportStar||function(d,g){for(var v in d)"default"!==v&&!Object.prototype.hasOwnProperty.call(g,v)&&m(g,d,v)};Object.defineProperty(d,"__esModule",{value:!0}),g(Qt(),d),g(Zt(),d),g(rr(),d)})),ir=l((d=>{"use strict";var m=d&&d.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),g=d&&d.__exportStar||function(d,g){for(var v in d)"default"!==v&&!Object.prototype.hasOwnProperty.call(g,v)&&m(g,d,v)};Object.defineProperty(d,"__esModule",{value:!0}),g(nr(),d)})),sr=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.Resource=void 0;var m=_t(),g=Yt(),v=ir(),y=class{constructor(d){this.attributes=d}static empty(){return y.EMPTY}static default(){return new y({[m.ResourceAttributes.SERVICE_NAME]:v.defaultServiceName(),[m.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:g.SDK_INFO[m.ResourceAttributes.TELEMETRY_SDK_LANGUAGE],[m.ResourceAttributes.TELEMETRY_SDK_NAME]:g.SDK_INFO[m.ResourceAttributes.TELEMETRY_SDK_NAME],[m.ResourceAttributes.TELEMETRY_SDK_VERSION]:g.SDK_INFO[m.ResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(d){if(!d||!Object.keys(d.attributes).length)return this;let m=Object.assign({},this.attributes,d.attributes);return new y(m)}};d.Resource=y,y.EMPTY=new y({})})),ar=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),cr=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),lr=l((d=>{"use strict";var m=d&&d.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),g=d&&d.__exportStar||function(d,g){for(var v in d)"default"!==v&&!Object.prototype.hasOwnProperty.call(g,v)&&m(g,d,v)};Object.defineProperty(d,"__esModule",{value:!0}),g(sr(),d),g(ir(),d),g(ar(),d),g(cr(),d)})),dr=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.MultiSpanProcessor=void 0;var m=Yt();d.MultiSpanProcessor=class{constructor(d){this._spanProcessors=d}forceFlush(){let d=[];for(let m of this._spanProcessors)d.push(m.forceFlush());return new Promise((g=>{Promise.all(d).then((()=>{g()})).catch((d=>{m.globalErrorHandler(d||new Error("MultiSpanProcessor: forceFlush failed")),g()}))}))}onStart(d,m){for(let g of this._spanProcessors)g.onStart(d,m)}onEnd(d){for(let m of this._spanProcessors)m.onEnd(d)}shutdown(){let d=[];for(let m of this._spanProcessors)d.push(m.shutdown());return new Promise(((m,g)=>{Promise.all(d).then((()=>{m()}),g)}))}}})),ur=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.NoopSpanProcessor=void 0;d.NoopSpanProcessor=class{onStart(d,m){}onEnd(d){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}}})),hr=l(((d,m)=>{var g="__lodash_hash_undefined__",v=9007199254740991,y="[object Arguments]",C="[object Function]",_="[object Object]",T=/^\[object .+?Constructor\]$/,b=/^(?:0|[1-9]\d*)$/,A={};A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A[y]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object Boolean]"]=A["[object DataView]"]=A["[object Date]"]=A["[object Error]"]=A[C]=A["[object Map]"]=A["[object Number]"]=A[_]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object WeakMap]"]=!1;var P="object"==typeof global&&global&&global.Object===Object&&global,R="object"==typeof self&&self&&self.Object===Object&&self,k=P||R||Function("return this")(),M="object"==typeof d&&d&&!d.nodeType&&d,I=M&&"object"==typeof m&&m&&!m.nodeType&&m,O=I&&I.exports===M,x=O&&P.process,L=function(){try{return I&&I.require&&I.require("util").types||x&&x.binding&&x.binding("util")}catch{}}(),U=L&&L.isTypedArray;function RO(d,m,g){switch(g.length){case 0:return d.call(m);case 1:return d.call(m,g[0]);case 2:return d.call(m,g[0],g[1]);case 3:return d.call(m,g[0],g[1],g[2])}return d.apply(m,g)}var j,B=Array.prototype,V=Function.prototype,$=Object.prototype,q=k["__core-js_shared__"],Y=V.toString,z=$.hasOwnProperty,G=(j=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",J=$.toString,X=Y.call(Object),te=RegExp("^"+Y.call(z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=O?k.Buffer:void 0,ie=k.Symbol,se=k.Uint8Array,oe=re?re.allocUnsafe:void 0,ae=function xO(d,m){return function(g){return d(m(g))}}(Object.getPrototypeOf,Object),ce=Object.create,le=$.propertyIsEnumerable,de=B.splice,he=ie?ie.toStringTag:void 0,pe=function(){try{var d=el(Object,"defineProperty");return d({},"",{}),d}catch{}}(),me=re?re.isBuffer:void 0,fe=Math.max,ge=Date.now,ve=el(k,"Map"),ye=el(Object,"create"),Se=function(){function e(){}return function(d){if(!wr(d))return{};if(ce)return ce(d);e.prototype=d;var m=new e;return e.prototype=void 0,m}}();function Dr(d){var m=-1,g=null==d?0:d.length;for(this.clear();++m<g;){var v=d[m];this.set(v[0],v[1])}}function Rt(d){var m=-1,g=null==d?0:d.length;for(this.clear();++m<g;){var v=d[m];this.set(v[0],v[1])}}function Dn(d){var m=-1,g=null==d?0:d.length;for(this.clear();++m<g;){var v=d[m];this.set(v[0],v[1])}}function wn(d){var m=this.__data__=new Rt(d);this.size=m.size}function c0(d,m){var g=be(d),v=!g&&Te(d),y=!g&&!v&&Ae(d),C=!g&&!v&&!y&&Pe(d),_=g||v||y||C,T=_?function NO(d,m){for(var g=-1,v=Array(d);++g<d;)v[g]=m(g);return v}(d.length,String):[],b=T.length;for(var A in d)(m||z.call(d,A))&&(!_||!("length"==A||y&&("offset"==A||"parent"==A)||C&&("buffer"==A||"byteLength"==A||"byteOffset"==A)||U_(A,b)))&&T.push(A);return T}function Yc(d,m,g){(void 0!==g&&!to(d[m],g)||void 0===g&&!(m in d))&&Jc(d,m,g)}function l0(d,m,g){var v=d[m];(!z.call(d,m)||!to(v,g)||void 0===g&&!(m in d))&&Jc(d,m,g)}function Zs(d,m){for(var g=d.length;g--;)if(to(d[g][0],m))return g;return-1}function Jc(d,m,g){"__proto__"==m&&pe?pe(d,m,{configurable:!0,enumerable:!0,value:g,writable:!0}):d[m]=g}Dr.prototype.clear=function GO(){this.__data__=ye?ye(null):{},this.size=0},Dr.prototype.delete=function VO(d){var m=this.has(d)&&delete this.__data__[d];return this.size-=m?1:0,m},Dr.prototype.get=function $O(d){var m=this.__data__;if(ye){var v=m[d];return v===g?void 0:v}return z.call(m,d)?m[d]:void 0},Dr.prototype.has=function zO(d){var m=this.__data__;return ye?void 0!==m[d]:z.call(m,d)},Dr.prototype.set=function XO(d,m){var v=this.__data__;return this.size+=this.has(d)?0:1,v[d]=ye&&void 0===m?g:m,this},Rt.prototype.clear=function KO(){this.__data__=[],this.size=0},Rt.prototype.delete=function YO(d){var m=this.__data__,g=Zs(m,d);return!(g<0)&&(g==m.length-1?m.pop():de.call(m,g,1),--this.size,!0)},Rt.prototype.get=function QO(d){var m=this.__data__,g=Zs(m,d);return g<0?void 0:m[g][1]},Rt.prototype.has=function WO(d){return Zs(this.__data__,d)>-1},Rt.prototype.set=function ZO(d,m){var g=this.__data__,v=Zs(g,d);return v<0?(++this.size,g.push([d,m])):g[v][1]=m,this},Dn.prototype.clear=function JO(){this.size=0,this.__data__={hash:new Dr,map:new(ve||Rt),string:new Dr}},Dn.prototype.delete=function e0(d){var m=eo(this,d).delete(d);return this.size-=m?1:0,m},Dn.prototype.get=function t0(d){return eo(this,d).get(d)},Dn.prototype.has=function r0(d){return eo(this,d).has(d)},Dn.prototype.set=function n0(d,m){var g=eo(this,d),v=g.size;return g.set(d,m),this.size+=g.size==v?0:1,this},wn.prototype.clear=function i0(){this.__data__=new Rt,this.size=0},wn.prototype.delete=function a0(d){var m=this.__data__,g=m.delete(d);return this.size=m.size,g},wn.prototype.get=function s0(d){return this.__data__.get(d)},wn.prototype.has=function o0(d){return this.__data__.has(d)},wn.prototype.set=function u0(d,m){var g=this.__data__;if(g instanceof Rt){var v=g.__data__;if(!ve||v.length<199)return v.push([d,m]),this.size=++g.size,this;g=this.__data__=new Dn(v)}return g.set(d,m),this.size=g.size,this};var Ee=function I0(d){return function(m,g,v){for(var y=-1,C=Object(m),_=v(m),T=_.length;T--;){var b=_[d?T:++y];if(!1===g(C[b],b,C))break}return m}}();function Js(d){return null==d?void 0===d?"[object Undefined]":"[object Null]":he&&he in Object(d)?function C0(d){var m=z.call(d,he),g=d[he];try{d[he]=void 0;var v=!0}catch{}var y=J.call(d);return v&&(m?d[he]=g:delete d[he]),y}(d):function D0(d){return J.call(d)}(d)}function O_(d){return zi(d)&&Js(d)==y}function p0(d){return!(!wr(d)||function R0(d){return!!G&&G in d}(d))&&(rl(d)?te:T).test(function L0(d){if(null!=d){try{return Y.call(d)}catch{}try{return d+""}catch{}}return""}(d))}function h0(d){if(!wr(d))return function N0(d){var m=[];if(null!=d)for(var g in Object(d))m.push(g);return m}(d);var m=B_(d),g=[];for(var v in d)"constructor"==v&&(m||!z.call(d,v))||g.push(v);return g}function H_(d,m,g,v,y){d!==m&&Ee(m,(function(C,T){if(y||(y=new wn),wr(C))!function _0(d,m,g,v,y,C,T){var b=Qc(d,g),A=Qc(m,g),P=T.get(A);if(P)return void Yc(d,g,P);var R=C?C(b,A,g+"",d,m,T):void 0,k=void 0===R;if(k){var M=be(A),I=!M&&Ae(A),O=!M&&!I&&Pe(A);R=A,M||I||O?be(b)?R=b:function q0(d){return zi(d)&&tl(d)}(b)?R=function T0(d,m){var g=-1,v=d.length;for(m||(m=Array(v));++g<v;)m[g]=d[g];return m}(b):I?(k=!1,R=function E0(d,m){if(m)return d.slice();var g=d.length,v=oe?oe(g):new d.constructor(g);return d.copy(v),v}(A,!0)):O?(k=!1,R=function y0(d,m){var g=m?function m0(d){var m=new d.constructor(d.byteLength);return new se(m).set(new se(d)),m}(d.buffer):d.buffer;return new d.constructor(g,d.byteOffset,d.length)}(A,!0)):R=[]:function j0(d){if(!zi(d)||Js(d)!=_)return!1;var m=ae(d);if(null===m)return!0;var g=z.call(m,"constructor")&&m.constructor;return"function"==typeof g&&g instanceof g&&Y.call(g)==X}(A)||Te(A)?(R=b,Te(b)?R=function k0(d){return function A0(d,m,g,v){var y=!g;g||(g={});for(var C=-1,_=m.length;++C<_;){var T=m[C],b=v?v(g[T],d[T],T,g,d):void 0;void 0===b&&(b=d[T]),y?Jc(g,T,b):l0(g,T,b)}return g}(d,$_(d))}(b):(!wr(b)||rl(b))&&(R=function b0(d){return"function"!=typeof d.constructor||B_(d)?{}:Se(ae(d))}(A))):k=!1}k&&(T.set(A,R),y(R,A,v,C,T),T.delete(A)),Yc(d,g,R)}(d,m,T,g,H_,v,y);else{var b=v?v(Qc(d,T),C,T+"",d,m,y):void 0;void 0===b&&(b=C),Yc(d,T,b)}}),$_)}function v0(d,m){return _e(function w0(d,m,g){return m=fe(void 0===m?d.length-1:m,0),function(){for(var v=arguments,y=-1,C=fe(v.length-m,0),_=Array(C);++y<C;)_[y]=v[m+y];y=-1;for(var T=Array(m+1);++y<m;)T[y]=v[y];return T[m]=g(_),RO(d,this,T)}}(d,m,z_),d+"")}var Ce=pe?function(d,m){return pe(d,"toString",{configurable:!0,enumerable:!1,value:U0(m),writable:!0})}:z_;function eo(d,m){var g=d.__data__;return function P0(d){var m=typeof d;return"string"==m||"number"==m||"symbol"==m||"boolean"==m?"__proto__"!==d:null===d}(m)?g["string"==typeof m?"string":"hash"]:g.map}function el(d,m){var g=function wO(d,m){return null==d?void 0:d[m]}(d,m);return p0(g)?g:void 0}function U_(d,m){var g=typeof d;return!!(m=m??v)&&("number"==g||"symbol"!=g&&b.test(d))&&d>-1&&d%1==0&&d<m}function B_(d){var m=d&&d.constructor;return d===("function"==typeof m&&m.prototype||$)}function Qc(d,m){if(("constructor"!==m||"function"!=typeof d[m])&&"__proto__"!=m)return d[m]}var _e=function M0(d){var m=0,g=0;return function(){var v=ge(),y=16-(v-g);if(g=v,y>0){if(++m>=800)return arguments[0]}else m=0;return d.apply(void 0,arguments)}}(Ce);function to(d,m){return d===m||d!=d&&m!=m}var Te=O_(function(){return arguments}())?O_:function(d){return zi(d)&&z.call(d,"callee")&&!le.call(d,"callee")},be=Array.isArray;function tl(d){return null!=d&&G_(d.length)&&!rl(d)}var Ae=me||function B0(){return!1};function rl(d){if(!wr(d))return!1;var m=Js(d);return m==C||"[object GeneratorFunction]"==m||"[object AsyncFunction]"==m||"[object Proxy]"==m}function G_(d){return"number"==typeof d&&d>-1&&d%1==0&&d<=v}function wr(d){var m=typeof d;return null!=d&&("object"==m||"function"==m)}function zi(d){return null!=d&&"object"==typeof d}var Pe=U?function DO(d){return function(m){return d(m)}}(U):function d0(d){return zi(d)&&G_(d.length)&&!!A[Js(d)]};function $_(d){return tl(d)?c0(d,!0):h0(d)}var ke=function S0(d){return v0((function(m,g){var v=-1,y=g.length,C=y>1?g[y-1]:void 0,_=y>2?g[2]:void 0;for(C=d.length>3&&"function"==typeof C?(y--,C):void 0,_&&function O0(d,m,g){if(!wr(g))return!1;var v=typeof m;return!!("number"==v?tl(g)&&U_(m,g.length):"string"==v&&m in g)&&to(g[m],d)}(g[0],g[1],_)&&(C=y<3?void 0:C,y=1),m=Object(m);++v<y;){var T=g[v];T&&d(m,T,v,C)}return m}))}((function(d,m,g){H_(d,m,g)}));function U0(d){return function(){return d}}function z_(d){return d}m.exports=ke})),pr=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.BatchSpanProcessorBase=void 0;var m=Ge(),g=Yt();d.BatchSpanProcessorBase=class{constructor(d,m){this._exporter=d,this._finishedSpans=[],this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve();let v=g.getEnv();this._maxExportBatchSize="number"==typeof(null==m?void 0:m.maxExportBatchSize)?m.maxExportBatchSize:v.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==m?void 0:m.maxQueueSize)?m.maxQueueSize:v.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==m?void 0:m.scheduledDelayMillis)?m.scheduledDelayMillis:v.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==m?void 0:m.exportTimeoutMillis)?m.exportTimeoutMillis:v.OTEL_BSP_EXPORT_TIMEOUT}forceFlush(){return this._isShutdown?this._shuttingDownPromise:this._flushAll()}onStart(d){}onEnd(d){this._isShutdown||this._addToBuffer(d)}shutdown(){return this._isShutdown||(this._isShutdown=!0,this._shuttingDownPromise=new Promise(((d,m)=>{Promise.resolve().then((()=>this.onShutdown())).then((()=>this._flushAll())).then((()=>this._exporter.shutdown())).then(d).catch((d=>{m(d)}))}))),this._shuttingDownPromise}_addToBuffer(d){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(d),this._maybeStartTimer())}_flushAll(){return new Promise(((d,m)=>{let g=[];for(let d=0,m=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);d<m;d++)g.push(this._flushOneBatch());Promise.all(g).then((()=>{d()})).catch(m)}))}_flushOneBatch(){return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise(((d,v)=>{let y=setTimeout((()=>{v(new Error("Timeout"))}),this._exportTimeoutMillis);m.context.with(g.suppressTracing(m.context.active()),(()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),(m=>{var C;clearTimeout(y),m.code===g.ExportResultCode.SUCCESS?d():v(null!==(C=m.error)&&void 0!==C?C:new Error("BatchSpanProcessor: span export failed"))}))}))}))}_maybeStartTimer(){void 0===this._timer&&(this._timer=setTimeout((()=>{this._flushOneBatch().then((()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())})).catch((d=>{g.globalErrorHandler(d)}))}),this._scheduledDelayMillis),g.unrefTimer(this._timer))}_clearTimer(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)}}})),mr=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.BatchSpanProcessor=void 0;var m=pr(),g=class extends m.BatchSpanProcessorBase{onShutdown(){}};d.BatchSpanProcessor=g})),fr=l((d=>{"use strict";var m=d&&d.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),g=d&&d.__exportStar||function(d,g){for(var v in d)"default"!==v&&!Object.prototype.hasOwnProperty.call(g,v)&&m(g,d,v)};Object.defineProperty(d,"__esModule",{value:!0}),g(mr(),d)})),gr=l((d=>{"use strict";var m=d&&d.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),g=d&&d.__exportStar||function(d,g){for(var v in d)"default"!==v&&!Object.prototype.hasOwnProperty.call(g,v)&&m(g,d,v)};Object.defineProperty(d,"__esModule",{value:!0}),g(fr(),d)})),vr=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.BasicTracerProvider=d.ForceFlushState=void 0;var m,g,v=Ge(),y=Yt(),C=lr(),_=Rr(),T=Kt(),b=dr(),A=ur(),P=hr(),R=gr();(g=m=d.ForceFlushState||(d.ForceFlushState={}))[g.resolved=0]="resolved",g[g.timeout=1]="timeout",g[g.error=2]="error",g[g.unresolved=3]="unresolved";var k=class{constructor(d={}){var m;this._registeredSpanProcessors=[],this._tracers=new Map;let g=P({},T.DEFAULT_CONFIG,d);this.resource=null!==(m=g.resource)&&void 0!==m?m:C.Resource.empty(),this.resource=C.Resource.default().merge(this.resource),this._config=Object.assign({},g,{resource:this.resource});let v=this._buildExporterFromEnv();if(void 0!==v){let d=new R.BatchSpanProcessor(v);this.activeSpanProcessor=d}else this.activeSpanProcessor=new A.NoopSpanProcessor}getTracer(d,m){let g=`${d}@${m||""}`;return this._tracers.has(g)||this._tracers.set(g,new _.Tracer({name:d,version:m},this._config,this)),this._tracers.get(g)}addSpanProcessor(d){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch((d=>v.diag.error("Error while trying to shutdown current span processor",d))),this._registeredSpanProcessors.push(d),this.activeSpanProcessor=new b.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(d={}){v.trace.setGlobalTracerProvider(this),void 0===d.propagator&&(d.propagator=this._buildPropagatorFromEnv()),d.contextManager&&v.context.setGlobalContextManager(d.contextManager),d.propagator&&v.propagation.setGlobalPropagator(d.propagator)}forceFlush(){let d=this._config.forceFlushTimeoutMillis,g=this._registeredSpanProcessors.map((g=>new Promise((v=>{let y,C=setTimeout((()=>{v(new Error(`Span processor did not completed within timeout period of ${d} ms`)),y=m.timeout}),d);g.forceFlush().then((()=>{clearTimeout(C),y!==m.timeout&&(y=m.resolved,v(y))})).catch((d=>{clearTimeout(C),y=m.error,v(d)}))}))));return new Promise(((d,v)=>{Promise.all(g).then((g=>{let y=g.filter((d=>d!==m.resolved));y.length>0?v(y):d()})).catch((d=>v([d])))}))}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(d){var m;return null===(m=k._registeredPropagators.get(d))||void 0===m?void 0:m()}_getSpanExporter(d){var m;return null===(m=k._registeredExporters.get(d))||void 0===m?void 0:m()}_buildPropagatorFromEnv(){let d=Array.from(new Set(y.getEnv().OTEL_PROPAGATORS)),m=d.map((d=>{let m=this._getPropagator(d);return m||v.diag.warn(`Propagator "${d}" requested through environment variable is unavailable.`),m})).reduce(((d,m)=>(m&&d.push(m),d)),[]);if(0!==m.length)return 1===d.length?m[0]:new y.CompositePropagator({propagators:m})}_buildExporterFromEnv(){let d=y.getEnv().OTEL_TRACES_EXPORTER;if("none"===d)return;let m=this._getSpanExporter(d);return m||v.diag.error(`Exporter "${d}" requested through environment variable is unavailable.`),m}};d.BasicTracerProvider=k,k._registeredPropagators=new Map([["tracecontext",()=>new y.HttpTraceContextPropagator],["baggage",()=>new y.HttpBaggagePropagator]]),k._registeredExporters=new Map})),Sr=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.ConsoleSpanExporter=void 0;var m=Yt();d.ConsoleSpanExporter=class{export(d,m){return this._sendSpans(d,m)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(d){return{traceId:d.spanContext().traceId,parentId:d.parentSpanId,name:d.name,id:d.spanContext().spanId,kind:d.kind,timestamp:m.hrTimeToMicroseconds(d.startTime),duration:m.hrTimeToMicroseconds(d.duration),attributes:d.attributes,status:d.status,events:d.events}}_sendSpans(d,g){for(let m of d)console.log(this._exportInfo(m));if(g)return g({code:m.ExportResultCode.SUCCESS})}}})),Er=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.InMemorySpanExporter=void 0;var m=Yt();d.InMemorySpanExporter=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(d,g){if(this._stopped)return g({code:m.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...d),setTimeout((()=>g({code:m.ExportResultCode.SUCCESS})),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}}})),Cr=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),_r=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.SimpleSpanProcessor=void 0;var m=Ge(),g=Yt();d.SimpleSpanProcessor=class{constructor(d){this._exporter=d,this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve()}forceFlush(){return Promise.resolve()}onStart(d){}onEnd(d){this._isShutdown||m.context.with(g.suppressTracing(m.context.active()),(()=>{this._exporter.export([d],(d=>{var m;d.code!==g.ExportResultCode.SUCCESS&&g.globalErrorHandler(null!==(m=d.error)&&void 0!==m?m:new Error(`SimpleSpanProcessor: span export failed (status ${d})`))}))}))}shutdown(){return this._isShutdown||(this._isShutdown=!0,this._shuttingDownPromise=new Promise(((d,m)=>{Promise.resolve().then((()=>this._exporter.shutdown())).then(d).catch((d=>{m(d)}))}))),this._shuttingDownPromise}}})),Tr=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),br=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),Ar=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),Pr=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),Rr=l((d=>{"use strict";var m=d&&d.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),g=d&&d.__exportStar||function(d,g){for(var v in d)"default"!==v&&!Object.prototype.hasOwnProperty.call(g,v)&&m(g,d,v)};Object.defineProperty(d,"__esModule",{value:!0}),g(Xt(),d),g(vr(),d),g(gr(),d),g(Sr(),d),g(Er(),d),g(Cr(),d),g(_r(),d),g(Tr(),d),g(ur(),d),g(Gt(),d),g(br(),d),g(Ar(),d),g(Pr(),d)})),kr=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.enable=d.azureCoreTracing=d.AzureMonitorSymbol=void 0;var m=j();d.AzureMonitorSymbol="Azure_Monitor_Tracer";var g=!1;d.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(v){if(g)return v;try{var y=Rr(),C=Ge(),_=(new y.BasicTracerProvider).getTracer("applicationinsights tracer"),T=v.setTracer;v.setTracer=function(g){var v=g.startSpan;g.startSpan=function(d,g,y){var C=v.call(this,d,g,y),_=C.end;return C.end=function(){var d=_.apply(this,arguments);return m.channel.publish("azure-coretracing",C),d},C},g[d.AzureMonitorSymbol]=!0,T.call(this,g)},C.trace.getSpan(C.context.active()),v.setTracer(_),g=!0}catch{}return v}},d.enable=function tP(){m.channel.registerMonkeyPatch("@azure/core-tracing",d.azureCoreTracing)}})),Nr=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.enable=d.bunyan=void 0;var m=j();d.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(d){var g=d.prototype._emit;return d.prototype._emit=function(d,v){var y=g.apply(this,arguments);if(!v){var C=y;C||(C=g.call(this,d,!0)),m.channel.publish("bunyan",{level:d.level,result:C})}return y},d}},d.enable=function nP(){m.channel.registerMonkeyPatch("bunyan",d.bunyan)}})),Mr=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.enable=d.console=void 0;var m=j(),v=g(12781);d.console={versionSpecifier:">= 4.0.0",patch:function(d){var g=new v.Writable,y=new v.Writable;g.write=function(d){if(!d)return!0;var g=d.toString();return m.channel.publish("console",{message:g}),!0},y.write=function(d){if(!d)return!0;var g=d.toString();return m.channel.publish("console",{message:g,stderr:!0}),!0};for(var C=new d.Console(g,y),a=function(m){var g=d[m];g&&(d[m]=function(){if(C[m])try{C[m].apply(C,arguments)}catch{}return g.apply(d,arguments)})},_=0,T=["log","info","warn","error","dir","time","timeEnd","trace","assert"];_<T.length;_++){a(T[_])}return d}},d.enable=function aP(){m.channel.registerMonkeyPatch("console",d.console),g(96206)}})),Ir=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.enable=d.mongoCore=void 0;var m=j();d.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(d){var g=d.Server.prototype.connect;return d.Server.prototype.connect=function(){var d=g.apply(this,arguments),v=this.s.pool.write;this.s.pool.write=function(){var d="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[d]&&(arguments[d]=m.channel.bindToContext(arguments[d])),v.apply(this,arguments)};var y=this.s.pool.logout;return this.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=m.channel.bindToContext(arguments[1])),y.apply(this,arguments)},d},d}},d.enable=function oP(){m.channel.registerMonkeyPatch("mongodb-core",d.mongoCore)}})),Or=l((d=>{"use strict";var m=d&&d.__assign||function(){return m=Object.assign||function(d){for(var m,g=1,v=arguments.length;g<v;g++)for(var y in m=arguments[g])Object.prototype.hasOwnProperty.call(m,y)&&(d[y]=m[y]);return d},m.apply(this,arguments)};Object.defineProperty(d,"__esModule",{value:!0}),d.enable=d.mongo330=d.mongo3=d.mongo2=void 0;var g=j();d.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:function(d){var v=d.instrument({operationIdGenerator:{next:function(){return g.channel.bindToContext((function(d){return d()}))}}}),y={};return v.on("started",(function(d){y[d.requestId]||(y[d.requestId]=m(m({},d),{time:new Date}))})),v.on("succeeded",(function(d){var m=y[d.requestId];m&&delete y[d.requestId],"function"==typeof d.operationId?d.operationId((function(){return g.channel.publish("mongodb",{startedData:m,event:d,succeeded:!0})})):g.channel.publish("mongodb",{startedData:m,event:d,succeeded:!0})})),v.on("failed",(function(d){var m=y[d.requestId];m&&delete y[d.requestId],"function"==typeof d.operationId?d.operationId((function(){return g.channel.publish("mongodb",{startedData:m,event:d,succeeded:!1})})):g.channel.publish("mongodb",{startedData:m,event:d,succeeded:!1})})),d}},d.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:function(d){var v=d.instrument(),y={},C={};return v.on("started",(function(d){y[d.requestId]||(C[d.requestId]=g.channel.bindToContext((function(d){return d()})),y[d.requestId]=m(m({},d),{time:new Date}))})),v.on("succeeded",(function(d){var m=y[d.requestId];m&&delete y[d.requestId],"object"==typeof d&&"function"==typeof C[d.requestId]&&(C[d.requestId]((function(){return g.channel.publish("mongodb",{startedData:m,event:d,succeeded:!0})})),delete C[d.requestId])})),v.on("failed",(function(d){var m=y[d.requestId];m&&delete y[d.requestId],"object"==typeof d&&"function"==typeof C[d.requestId]&&(C[d.requestId]((function(){return g.channel.publish("mongodb",{startedData:m,event:d,succeeded:!1})})),delete C[d.requestId])})),d}},d.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:function(d){!function(d){var m=d.Server.prototype.connect;d.Server.prototype.connect=function(){var d=m.apply(this,arguments),v=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var d="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[d]&&(arguments[d]=g.channel.bindToContext(arguments[d])),v.apply(this,arguments)};var y=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=g.channel.bindToContext(arguments[1])),y.apply(this,arguments)},d}}(d);var m=d.instrument(),v={},y={};return m.on("started",(function(d){v[d.requestId]||(y[d.requestId]=g.channel.bindToContext((function(d){return d()})),v[d.requestId]=d)})),m.on("succeeded",(function(d){var m=v[d.requestId];m&&delete v[d.requestId],"object"==typeof d&&"function"==typeof y[d.requestId]&&(y[d.requestId]((function(){return g.channel.publish("mongodb",{startedData:m,event:d,succeeded:!0})})),delete y[d.requestId])})),m.on("failed",(function(d){var m=v[d.requestId];m&&delete v[d.requestId],"object"==typeof d&&"function"==typeof y[d.requestId]&&(y[d.requestId]((function(){return g.channel.publish("mongodb",{startedData:m,event:d,succeeded:!1})})),delete y[d.requestId])})),d}},d.enable=function pP(){g.channel.registerMonkeyPatch("mongodb",d.mongo2),g.channel.registerMonkeyPatch("mongodb",d.mongo3),g.channel.registerMonkeyPatch("mongodb",d.mongo330)}})),xr=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.enable=d.mysql=void 0;var m=j(),v=g(71017);d.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:function(d,y){var r=function(d,g){return function(g,v){var y=d[g];y&&(d[g]=function(){for(var d=arguments.length-1,g=arguments.length-1;g>=0;--g){if("function"==typeof arguments[g]){d=g;break}if(typeof arguments[g]<"u")break}var C=arguments[d],_={result:null,startTime:null,startDate:null};"function"==typeof C&&(v?(_.startTime=process.hrtime(),_.startDate=new Date,arguments[d]=m.channel.bindToContext(v(_,C))):arguments[d]=m.channel.bindToContext(C));var T=y.apply(this,arguments);return _.result=T,T})}},n=function(d,m){return r(d.prototype)},C=g(76113)(v.dirname(y)+"/lib/Connection");["connect","changeUser","ping","statistics","end"].forEach((function(d){return n(C)(d)})),r(C)("createQuery",(function(d,g){return function(v){var y=process.hrtime(d.startTime),C=1e3*y[0]+y[1]/1e6|0;m.channel.publish("mysql",{query:d.result,callbackArgs:arguments,err:v,duration:C,time:d.startDate}),g.apply(this,arguments)}}));var _=g(82446)(v.dirname(y)+"/lib/Pool");return["_enqueueCallback"].forEach((function(d){return n(_)(d)})),d}},d.enable=function hP(){m.channel.registerMonkeyPatch("mysql",d.mysql)}})),Lr=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.enable=d.postgresPool1=void 0;var m=j();d.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:function _P(d){var g=d.prototype.connect;return d.prototype.connect=function(d){return d&&(arguments[0]=m.channel.bindToContext(d)),g.apply(this,arguments)},d}},d.enable=function vP(){m.channel.registerMonkeyPatch("pg-pool",d.postgresPool1)}})),Fr=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.enable=d.postgres7=d.postgres6=void 0;var m=j(),v=g(82361);d.postgres6={versionSpecifier:"6.*",patch:function gP(d,g){var y=d.Client.prototype.query,C="__diagnosticOriginalFunc";return d.Client.prototype.query=function(d,g,_){var T,b={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},A=process.hrtime();function p(d){d&&d[C]&&(d=d[C]);var g=m.channel.bindToContext((function(g,y){var C=process.hrtime(A);if(b.result=y&&{rowCount:y.rowCount,command:y.command},b.error=g,b.duration=Math.ceil(1e3*C[0]+C[1]/1e6),m.channel.publish("postgres",b),g){if(d)return d.apply(this,arguments);T&&T instanceof v.EventEmitter&&T.emit("error",g)}else d&&d.apply(this,arguments)}));try{return Object.defineProperty(g,C,{value:d}),g}catch{return d}}try{"string"==typeof d?g instanceof Array?(b.query.preparable={text:d,args:g},_=p(_)):(b.query.text=d,_?_=p(_):g=p(g)):("string"==typeof d.name?b.query.plan=d.name:d.values instanceof Array?b.query.preparable={text:d.text,args:d.values}:b.query.text=d.text,_?_=p(_):g?g=p(g):d.callback=p(d.callback))}catch{return y.apply(this,arguments)}return arguments[0]=d,arguments[1]=g,arguments[2]=_,arguments.length=arguments.length>3?arguments.length:3,T=y.apply(this,arguments)},d}},d.postgres7={versionSpecifier:">=7.* <=8.*",patch:function EP(d,g){var y=d.Client.prototype.query,C="__diagnosticOriginalFunc";return d.Client.prototype.query=function(d,g,_){var T,b=this,A=!!_,P={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},R=process.hrtime();function h(d){d&&d[C]&&(d=d[C]);var g=m.channel.bindToContext((function(g,y){var C=process.hrtime(R);if(P.result=y&&{rowCount:y.rowCount,command:y.command},P.error=g,P.duration=Math.ceil(1e3*C[0]+C[1]/1e6),m.channel.publish("postgres",P),g){if(d)return d.apply(this,arguments);T&&T instanceof v.EventEmitter&&T.emit("error",g)}else d&&d.apply(this,arguments)}));try{return Object.defineProperty(g,C,{value:d}),g}catch{return d}}try{"string"==typeof d?g instanceof Array?(P.query.preparable={text:d,args:g},_=(A="function"==typeof _)?h(_):_):(P.query.text=d,_?_=(A="function"==typeof _)?h(_):_:g=(A="function"==typeof g)?h(g):g):("string"==typeof d.name?P.query.plan=d.name:d.values instanceof Array?P.query.preparable={text:d.text,args:d.values}:P.query.text=d.text,_?(A="function"==typeof _,_=h(_)):g?g=(A="function"==typeof g)?h(g):g:(A="function"==typeof d.callback,d.callback=A?h(d.callback):d.callback))}catch{return y.apply(this,arguments)}return arguments[0]=d,arguments[1]=g,arguments[2]=_,arguments.length=arguments.length>3?arguments.length:3,T=y.apply(this,arguments),A?T:T.then((function(d){return h()(void 0,d),new b._Promise((function(m,g){m(d)}))})).catch((function(d){return h()(d,void 0),new b._Promise((function(m,g){g(d)}))}))},d}},d.enable=function mP(){m.channel.registerMonkeyPatch("pg",d.postgres6),m.channel.registerMonkeyPatch("pg",d.postgres7)}})),Ur=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.enable=d.redis=void 0;var m=j();d.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(d){var g=d.RedisClient.prototype.internal_send_command;return d.RedisClient.prototype.internal_send_command=function(d){if(d){var v=d.callback;if(!v||!v.pubsubBound){var y=this.address,C=process.hrtime(),_=new Date;d.callback=m.channel.bindToContext((function(g,T){var b=process.hrtime(C),A=1e3*b[0]+b[1]/1e6|0;m.channel.publish("redis",{duration:A,address:y,commandObj:d,err:g,result:T,time:_}),"function"==typeof v&&v.apply(this,arguments)})),d.callback.pubsubBound=!0}}return g.call(this,d)},d}},d.enable=function TP(){m.channel.registerMonkeyPatch("redis",d.redis)}})),jr=l((d=>{"use strict";var m=d&&d.__assign||function(){return m=Object.assign||function(d){for(var m,g=1,v=arguments.length;g<v;g++)for(var y in m=arguments[g])Object.prototype.hasOwnProperty.call(m,y)&&(d[y]=m[y]);return d},m.apply(this,arguments)};Object.defineProperty(d,"__esModule",{value:!0}),d.enable=d.tedious=void 0;var g=j();d.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:function(d){var v=d.Connection.prototype.makeRequest;return d.Connection.prototype.makeRequest=function(){function n(d){var v=process.hrtime(),y={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return g.channel.bindToContext((function(C,_,T){var b=process.hrtime(v);y=m(m({},y),{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!C&&{rowCount:_,rows:T},query:{text:this.parametersByName.statement.value},error:C,duration:Math.ceil(1e3*b[0]+b[1]/1e6)}),g.channel.publish("tedious",y),d.call(this,C,_,T)}))}var d=arguments[0];arguments[0].callback=n(d.callback),v.apply(this,arguments)},d}},d.enable=function SP(){g.channel.registerMonkeyPatch("tedious",d.tedious)}})),Br=l((d=>{"use strict";var m,g=d&&d.__extends||(m=function(d,g){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(d[g]=m[g])})(d,g)},function(d,g){function n(){this.constructor=d}m(d,g),d.prototype=null===g?Object.create(g):(n.prototype=g.prototype,new n)}),v=d&&d.__rest||function(d,m){var g={};for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&m.indexOf(v)<0&&(g[v]=d[v]);if(null!=d&&"function"==typeof Object.getOwnPropertySymbols){var y=0;for(v=Object.getOwnPropertySymbols(d);y<v.length;y++)m.indexOf(v[y])<0&&Object.prototype.propertyIsEnumerable.call(d,v[y])&&(g[v[y]]=d[v[y]])}return g};Object.defineProperty(d,"__esModule",{value:!0}),d.enable=d.winston2=d.winston3=void 0;var y=j();d.winston3={versionSpecifier:"3.x",patch:function(d){var m=function(d){function o(m,g){var v=d.call(this,g)||this;return v.winston=m,v}return g(o,d),o.prototype.log=function(d,m){var g=d.message,C=d.level,_=d.meta,T=v(d,["message","level","meta"]);C="function"==typeof Symbol.for?d[Symbol.for("level")]:C,g=d instanceof Error?d:g;var b=function(d,m){return null!=d.config.npm.levels[m]?"npm":null!=d.config.syslog.levels[m]?"syslog":"unknown"}(this.winston,C);for(var A in _=_||{},T)T.hasOwnProperty(A)&&(_[A]=T[A]);y.channel.publish("winston",{message:g,level:C,levelKind:b,meta:_}),m()},o}(d.Transport);function n(){var g,v=arguments[0].levels||d.config.npm.levels;for(var y in v)v.hasOwnProperty(y)&&(g=void 0===g||v[y]>v[g]?y:g);this.add(new m(d,{level:g}))}var C=d.createLogger;d.createLogger=function(){var g,v=arguments[0].levels||d.config.npm.levels;for(var y in v)v.hasOwnProperty(y)&&(g=void 0===g||v[y]>v[g]?y:g);var _=C.apply(this,arguments);_.add(new m(d,{level:g}));var T=_.configure;return _.configure=function(){T.apply(this,arguments),n.apply(this,arguments)},_};var _=d.configure;return d.configure=function(){_.apply(this,arguments),n.apply(this,arguments)},d.add(new m(d)),d}},d.winston2={versionSpecifier:"2.x",patch:function(d){var m,g=d.Logger.prototype.log,n=function(g,v,C){var _;return _=m===d.config.npm.levels?"npm":m===d.config.syslog.levels?"syslog":"unknown",y.channel.publish("winston",{level:g,message:v,meta:C,levelKind:_}),v};return d.Logger.prototype.log=function(){return m=this.levels,this.filters&&0!==this.filters.length?this.filters[this.filters.length-1]!==n&&(this.filters=this.filters.filter((function(d){return d!==n})),this.filters.push(n)):this.filters=[n],g.apply(this,arguments)},d}},d.enable=function PP(){y.channel.registerMonkeyPatch("winston",d.winston2),y.channel.registerMonkeyPatch("winston",d.winston3)}})),Hr=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.enable=d.tedious=d.pgPool=d.pg=d.winston=d.redis=d.mysql=d.mongodb=d.mongodbCore=d.console=d.bunyan=d.azuresdk=void 0;var m=kr();d.azuresdk=m;var g=Nr();d.bunyan=g;var v=Mr();d.console=v;var y=Ir();d.mongodbCore=y;var C=Or();d.mongodb=C;var _=xr();d.mysql=_;var T=Lr();d.pgPool=T;var b=Fr();d.pg=b;var A=Ur();d.redis=A;var P=jr();d.tedious=P;var R=Br();d.winston=R,d.enable=function RP(){g.enable(),v.enable(),y.enable(),C.enable(),_.enable(),b.enable(),T.enable(),A.enable(),R.enable(),m.enable(),P.enable()}})),Wr=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.registerContextPreservation=d.IsInitialized=void 0;var m=O(),g=I();d.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var v,y,C,_,T="DiagnosticChannel";if(d.IsInitialized){for(_ in v=Hr(),y=(process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"").split(","),C={bunyan:v.bunyan,console:v.console,mongodb:v.mongodb,mongodbCore:v.mongodbCore,mysql:v.mysql,redis:v.redis,pg:v.pg,pgPool:v.pgPool,winston:v.winston,azuresdk:v.azuresdk})-1===y.indexOf(_)&&(C[_].enable(),g.info(T,"Subscribed to "+_+" events"));y.length>0&&g.info(T,"Some modules will not be patched",y)}else g.info(T,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");d.registerContextPreservation=function DP(g){if(d.IsInitialized){var v=j();v.channel.addContextPreservation(g),v.channel.spanContextPropagator=m.AsyncScopeManager}}})),Vr=l(((d,m)=>{"use strict";m.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}})),qr=l(((d,m)=>{"use strict";var v=d&&d.__assign||function(){return v=Object.assign||function(d){for(var m,g=1,v=arguments.length;g<v;g++)for(var y in m=arguments[g])Object.prototype.hasOwnProperty.call(m,y)&&(d[y]=m[y]);return d},v.apply(this,arguments)},y=g(13685),C=g(95687),_=g(57310),T=g(22057),b=I(),A=Vr(),P=function(){function e(){}return e.getCookie=function(d,m){var g="";if(d&&d.length&&"string"==typeof m)for(var v=d+"=",y=m.split(";"),C=0;C<y.length;C++){m=y[C];if((m=e.trim(m))&&0===m.indexOf(v)){g=m.substring(v.length,y[C].length);break}}return g},e.trim=function(d){return"string"==typeof d?d.replace(/^\s+|\s+$/g,""):""},e.int32ArrayToBase64=function(d){var r=function(d,m){return String.fromCharCode(d>>m&255)},m=d.map((function(d){return r(d,24)+r(d,16)+r(d,8)+r(d,0)})).join(""),g=(Buffer.from?Buffer.from(m,"binary"):new Buffer(m,"binary")).toString("base64");return g.substr(0,g.indexOf("="))},e.random32=function(){return 4294967296*Math.random()|0},e.randomu32=function(){return e.random32()+2147483648},e.w3cTraceId=function(){for(var d,m=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],g="",v=0;v<4;v++)g+=m[15&(d=e.random32())]+m[d>>4&15]+m[d>>8&15]+m[d>>12&15]+m[d>>16&15]+m[d>>20&15]+m[d>>24&15]+m[d>>28&15];var y=m[8+4*Math.random()|0];return g.substr(0,8)+g.substr(9,4)+"4"+g.substr(13,3)+y+g.substr(16,3)+g.substr(19,12)},e.w3cSpanId=function(){return e.w3cTraceId().substring(16)},e.isValidW3CId=function(d){return 32===d.length&&"00000000000000000000000000000000"!==d},e.isArray=function(d){return"[object Array]"===Object.prototype.toString.call(d)},e.isError=function(d){return d instanceof Error},e.isPrimitive=function(d){var m=typeof d;return"string"===m||"number"===m||"boolean"===m},e.isDate=function(d){return"[object Date]"===Object.prototype.toString.call(d)},e.msToTimeSpan=function(d){(isNaN(d)||d<0)&&(d=0);var m=(d/1e3%60).toFixed(7).replace(/0{0,4}$/,""),g=""+Math.floor(d/6e4)%60,v=""+Math.floor(d/36e5)%24,y=Math.floor(d/864e5);return m=m.indexOf(".")<2?"0"+m:m,g=g.length<2?"0"+g:g,(y>0?y+".":"")+(v=v.length<2?"0"+v:v)+":"+g+":"+m},e.extractError=function(d){var m=d;return{message:d.message,code:m.code||m.id||""}},e.extractObject=function(d){return d instanceof Error?e.extractError(d):"function"==typeof d.toJSON?d.toJSON():d},e.validateStringMap=function(d){if("object"==typeof d){var m={};for(var g in d){var v="",y=d[g],C=typeof y;if(e.isPrimitive(y))v=y.toString();else if(null===y||"undefined"===C)v="";else{if("function"===C){b.info("key: "+g+" was function; will not serialize");continue}var _=e.isArray(y)?y:e.extractObject(y);try{v=e.isPrimitive(_)?_:JSON.stringify(_)}catch(d){v=y.constructor.name.toString()+" (Error: "+d.message+")",b.info("key: "+g+", could not be serialized")}}m[g]=v.substring(0,e.MAX_PROPERTY_LENGTH)}return m}b.info("Invalid properties dropped from payload")},e.canIncludeCorrelationHeader=function(d,m){var g=d&&d.config&&d.config.correlationHeaderExcludedDomains;if(!g||0==g.length||!m)return!0;for(var v=0;v<g.length;v++){if(new RegExp(g[v].replace(/\./g,".").replace(/\*/g,".*")).test(_.parse(m).hostname))return!1}return!0},e.getCorrelationContextTarget=function(d,m){var g=d.headers&&d.headers[A.requestContextHeader];if(g)for(var v=g.split(","),y=0;y<v.length;++y){var C=v[y].split("=");if(2==C.length&&C[0]==m)return C[1]}},e.makeRequest=function(d,m,g,T){m&&0===m.indexOf("//")&&(m="https:"+m);var A=_.parse(m),P=v(v({},g),{host:A.hostname,port:A.port,path:A.pathname}),R=void 0;if("https:"===A.protocol&&(R=d.proxyHttpsUrl||void 0),"http:"===A.protocol&&(R=d.proxyHttpUrl||void 0),R){0===R.indexOf("//")&&(R="http:"+R);var k=_.parse(R);"https:"===k.protocol?(b.info("Proxies that use HTTPS are not supported"),R=void 0):P=v(v({},P),{host:k.hostname,port:k.port||"80",path:m,headers:v(v({},P.headers),{Host:A.hostname})})}var M="https:"===A.protocol&&!R;return M&&void 0!==d.httpsAgent?P.agent=d.httpsAgent:M||void 0===d.httpAgent?M&&(P.agent=e.tlsRestrictedAgent):P.agent=d.httpAgent,M?C.request(P,T):y.request(P,T)},e.safeIncludeCorrelationHeader=function(d,m,g){var v;if("string"==typeof g)v=g;else if(g instanceof Array)v=g.join(",");else if(g&&"function"==typeof g.toString)try{v=g.toString()}catch(d){b.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",d,g)}v?e.addCorrelationIdHeaderFromString(d,m,v):m.setHeader(A.requestContextHeader,A.requestContextSourceKey+"="+d.config.correlationId)},e.dumpObj=function(d){var m=Object.prototype.toString.call(d);return m+("[object Error]"===m?"{ stack: '"+d.stack+"', message: '"+d.message+"', name: '"+d.name+"'":JSON.stringify(d))},e.addCorrelationIdHeaderFromString=function(d,m,g){var v=g.split(","),y=A.requestContextSourceKey+"=";v.some((function(d){return d.substring(0,y.length)===y}))||m.setHeader(A.requestContextHeader,g+","+A.requestContextSourceKey+"="+d.config.correlationId)},e.MAX_PROPERTY_LENGTH=8192,e.tlsRestrictedAgent=new C.Agent({keepAlive:!0,maxSockets:25,secureOptions:T.SSL_OP_NO_SSLv2|T.SSL_OP_NO_SSLv3|T.SSL_OP_NO_TLSv1|T.SSL_OP_NO_TLSv1_1}),e}();m.exports=P})),Yr=l(((d,m)=>{"use strict";var g=qr(),v=I(),y=function(){function e(){}return e.queryCorrelationId=function(d,m){var y=d.profileQueryEndpoint+"/api/profiles/"+d.instrumentationKey+"/appId";if(e.completedLookups.hasOwnProperty(y))m(e.completedLookups[y]);else if(e.pendingLookups[y])e.pendingLookups[y].push(m);else{e.pendingLookups[y]=[m];var i=function(){if(e.pendingLookups[y]){var m={method:"GET",disableAppInsightsAutoCollection:!0};v.info(e.TAG,m);var C=g.makeRequest(d,y,m,(function(m){if(200===m.statusCode){var g="";m.setEncoding("utf-8"),m.on("data",(function(d){g+=d})),m.on("end",(function(){v.info(e.TAG,g);var d=e.correlationIdPrefix+g;e.completedLookups[y]=d,e.pendingLookups[y]&&e.pendingLookups[y].forEach((function(m){return m(d)})),delete e.pendingLookups[y]}))}else m.statusCode>=400&&m.statusCode<500?(e.completedLookups[y]=void 0,delete e.pendingLookups[y]):setTimeout(i,d.correlationIdRetryIntervalMs)}));C&&(C.on("error",(function(d){v.warn(e.TAG,d)})),C.end())}};setTimeout(i,0)}},e.cancelCorrelationIdQuery=function(d,m){var g=d.profileQueryEndpoint+"/api/profiles/"+d.instrumentationKey+"/appId",v=e.pendingLookups[g];v&&(e.pendingLookups[g]=v.filter((function(d){return d!=m})),0==e.pendingLookups[g].length&&delete e.pendingLookups[g])},e.generateRequestId=function(d){if(d){"."!==(d="|"==d[0]?d:"|"+d)[d.length-1]&&(d+=".");var m=(e.currentRootId++).toString(16);return e.appendSuffix(d,m,"_")}return e.generateRootId()},e.getRootId=function(d){var m=d.indexOf(".");m<0&&(m=d.length);var g="|"===d[0]?1:0;return d.substring(g,m)},e.generateRootId=function(){return"|"+g.w3cTraceId()+"."},e.appendSuffix=function(d,m,v){if(d.length+m.length<e.requestIdMaxLength)return d+m+v;var y=e.requestIdMaxLength-9;if(d.length>y)for(;y>1;--y){var C=d[y-1];if("."===C||"_"===C)break}if(y<=1)return e.generateRootId();for(m=g.randomu32().toString(16);m.length<8;)m="0"+m;return d.substring(0,y)+m+"#"},e.TAG="CorrelationIdManager",e.correlationIdPrefix="cid-v1:",e.w3cEnabled=!0,e.pendingLookups={},e.completedLookups={},e.requestIdMaxLength=1024,e.currentRootId=g.randomu32(),e}();m.exports=y})),zr=l(((d,m)=>{"use strict";var g=qr(),v=Yr(),y=function(){function e(d,m){if(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,d&&"string"==typeof d)if(d.split(",").length>1)this.traceId=g.w3cTraceId(),this.spanId=g.w3cTraceId().substr(0,16);else{var y=d.trim().split("-"),C=y.length;C>=4?(this.version=y[0],this.traceId=y[1],this.spanId=y[2],this.traceFlag=y[3]):(this.traceId=g.w3cTraceId(),this.spanId=g.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=e.DEFAULT_VERSION,this.traceId=g.w3cTraceId()),"00"===this.version&&4!==C&&(this.traceId=g.w3cTraceId(),this.spanId=g.w3cTraceId().substr(0,16)),"ff"===this.version&&(this.version=e.DEFAULT_VERSION,this.traceId=g.w3cTraceId(),this.spanId=g.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=e.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.traceId=g.w3cTraceId()),e.isValidTraceId(this.traceId)||(this.traceId=g.w3cTraceId()),e.isValidSpanId(this.spanId)||(this.spanId=g.w3cTraceId().substr(0,16),this.traceId=g.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(m){this.parentId=m.slice();var _=v.getRootId(m);e.isValidTraceId(_)||(this.legacyRootId=_,_=g.w3cTraceId()),-1!==m.indexOf("|")&&(m=m.substring(1+m.substring(0,m.length-1).lastIndexOf("."),m.length-1)),this.traceId=_,this.spanId=m}else this.traceId=g.w3cTraceId(),this.spanId=g.w3cTraceId().substr(0,16)}return e.isValidTraceId=function(d){return d.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==d},e.isValidSpanId=function(d){return d.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==d},e.formatOpenTelemetryTraceFlags=function(d){var m="0"+d.toString(16);return m.substring(m.length-2)},e.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},e.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},e.prototype.updateSpanId=function(){this.spanId=g.w3cTraceId().substr(0,16)},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}();m.exports=y})),Gr=l(((d,m)=>{"use strict";var g=function(){function e(d){this.fieldmap=[],d&&(this.fieldmap=this.parseHeader(d))}return e.prototype.toString=function(){var d=this.fieldmap;return d&&0!=d.length?d.join(", "):null},e.validateKeyChars=function(d){var m=d.split("@");if(2==m.length){var g=m[0].trim(),v=m[1].trim(),y=Boolean(g.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),C=Boolean(v.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return y&&C}return 1==m.length&&Boolean(d.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/))},e.prototype.parseHeader=function(d){var m=[],g={},v=d.split(",");if(v.length>32)return null;for(var y=0,C=v;y<C.length;y++){var _=C[y].trim();if(0!==_.length){var T=_.split("=");if(2!==T.length||!e.validateKeyChars(T[0])||g[T[0]])return null;g[T[0]]=!0,m.push(_)}}return m},e.strict=!0,e}();m.exports=g})),Kr=l(((d,m)=>{"use strict";var g=function e(){};m.exports=g})),Jr=l(((d,m)=>{"use strict";var g,v=d&&d.__extends||(g=function(d,m){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(d[g]=m[g])})(d,m)},function(d,m){function n(){this.constructor=d}g(d,m),d.prototype=null===m?Object.create(m):(n.prototype=m.prototype,new n)}),y=function(d){function t(){var m=d.call(this)||this;return m.ver=2,m.properties={},m.measurements={},m}return v(t,d),t}(Kr());m.exports=y})),Qr=l(((d,m)=>{"use strict";var g=function e(){};m.exports=g})),Zr=l(((d,m)=>{"use strict";var g=function e(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"};m.exports=g})),en=l(((d,m)=>{"use strict";var g,v=d&&d.__extends||(g=function(d,m){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(d[g]=m[g])})(d,m)},function(d,m){function n(){this.constructor=d}g(d,m),d.prototype=null===m?Object.create(m):(n.prototype=m.prototype,new n)}),y=function(d){function t(){return d.call(this)||this}return v(t,d),t}(Qr());m.exports=y})),tn=l(((d,m)=>{"use strict";var g,v;(v=g||(g={}))[v.Measurement=0]="Measurement",v[v.Aggregation=1]="Aggregation",m.exports=g})),rn=l(((d,m)=>{"use strict";var g=tn(),v=function e(){this.kind=g.Measurement};m.exports=v})),sn=l(((d,m)=>{"use strict";var g=function e(){this.ver=1,this.sampleRate=100,this.tags={}};m.exports=g})),an=l(((d,m)=>{"use strict";var g,v=d&&d.__extends||(g=function(d,m){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(d[g]=m[g])})(d,m)},function(d,m){function n(){this.constructor=d}g(d,m),d.prototype=null===m?Object.create(m):(n.prototype=m.prototype,new n)}),y=function(d){function t(){var m=d.call(this)||this;return m.ver=2,m.properties={},m.measurements={},m}return v(t,d),t}(Kr());m.exports=y})),cn=l(((d,m)=>{"use strict";var g,v=d&&d.__extends||(g=function(d,m){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(d[g]=m[g])})(d,m)},function(d,m){function n(){this.constructor=d}g(d,m),d.prototype=null===m?Object.create(m):(n.prototype=m.prototype,new n)}),y=function(d){function t(){var m=d.call(this)||this;return m.ver=2,m.exceptions=[],m.properties={},m.measurements={},m}return v(t,d),t}(Kr());m.exports=y})),ln=l(((d,m)=>{"use strict";var g=function e(){this.hasFullStack=!0,this.parsedStack=[]};m.exports=g})),dn=l(((d,m)=>{"use strict";var g,v=d&&d.__extends||(g=function(d,m){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(d[g]=m[g])})(d,m)},function(d,m){function n(){this.constructor=d}g(d,m),d.prototype=null===m?Object.create(m):(n.prototype=m.prototype,new n)}),y=function(d){function t(){var m=d.call(this)||this;return m.ver=2,m.properties={},m}return v(t,d),t}(Kr());m.exports=y})),hn=l(((d,m)=>{"use strict";var g,v=d&&d.__extends||(g=function(d,m){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(d[g]=m[g])})(d,m)},function(d,m){function n(){this.constructor=d}g(d,m),d.prototype=null===m?Object.create(m):(n.prototype=m.prototype,new n)}),y=function(d){function t(){var m=d.call(this)||this;return m.ver=2,m.metrics=[],m.properties={},m}return v(t,d),t}(Kr());m.exports=y})),pn=l(((d,m)=>{"use strict";var g,v=d&&d.__extends||(g=function(d,m){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(d[g]=m[g])})(d,m)},function(d,m){function n(){this.constructor=d}g(d,m),d.prototype=null===m?Object.create(m):(n.prototype=m.prototype,new n)}),y=function(d){function t(){var m=d.call(this)||this;return m.ver=2,m.properties={},m.measurements={},m}return v(t,d),t}(an());m.exports=y})),mn=l(((d,m)=>{"use strict";var g,v=d&&d.__extends||(g=function(d,m){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(d[g]=m[g])})(d,m)},function(d,m){function n(){this.constructor=d}g(d,m),d.prototype=null===m?Object.create(m):(n.prototype=m.prototype,new n)}),y=function(d){function t(){var m=d.call(this)||this;return m.ver=2,m.success=!0,m.properties={},m.measurements={},m}return v(t,d),t}(Kr());m.exports=y})),gn=l(((d,m)=>{"use strict";var g,v=d&&d.__extends||(g=function(d,m){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(d[g]=m[g])})(d,m)},function(d,m){function n(){this.constructor=d}g(d,m),d.prototype=null===m?Object.create(m):(n.prototype=m.prototype,new n)}),y=function(d){function t(){var m=d.call(this)||this;return m.ver=2,m.properties={},m.measurements={},m}return v(t,d),t}(Kr());m.exports=y})),vn=l(((d,m)=>{"use strict";var g,v;(v=g||(g={}))[v.Verbose=0]="Verbose",v[v.Information=1]="Information",v[v.Warning=2]="Warning",v[v.Error=3]="Error",v[v.Critical=4]="Critical",m.exports=g})),yn=l(((d,m)=>{"use strict";var g=function e(){};m.exports=g})),Sn=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.AvailabilityData=Jr(),d.Base=Qr(),d.ContextTagKeys=Zr(),d.Data=en(),d.DataPoint=rn(),d.DataPointType=tn(),d.Domain=Kr(),d.Envelope=sn(),d.EventData=an(),d.ExceptionData=cn(),d.ExceptionDetails=ln(),d.MessageData=dn(),d.MetricData=hn(),d.PageViewData=pn(),d.RemoteDependencyData=mn(),d.RequestData=gn(),d.SeverityLevel=vn(),d.StackFrame=yn()})),En=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.domainSupportsProperties=d.RemoteDependencyDataConstants=void 0;var m=Sn(),g=function(){function e(){}return e.TYPE_HTTP="Http",e.TYPE_AI="Http (tracked component)",e}();d.RemoteDependencyDataConstants=g,d.domainSupportsProperties=function yR(d){return"properties"in d||d instanceof m.EventData||d instanceof m.ExceptionData||d instanceof m.MessageData||d instanceof m.MetricData||d instanceof m.PageViewData||d instanceof m.RemoteDependencyData||d instanceof m.RequestData}})),Cn=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),_n=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),Tn=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),bn=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),An=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),Pn=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),Rn=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),kn=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),Nn=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),Mn=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),In=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),On=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),xn=l((d=>{"use strict";var m,g;Object.defineProperty(d,"__esModule",{value:!0}),d.TelemetryType=d.TelemetryTypeString=d.baseTypeToTelemetryType=d.telemetryTypeToBaseType=void 0,d.telemetryTypeToBaseType=function TR(d){switch(d){case m.Event:return"EventData";case m.Exception:return"ExceptionData";case m.Trace:return"MessageData";case m.Metric:return"MetricData";case m.Request:return"RequestData";case m.Dependency:return"RemoteDependencyData";case m.Availability:return"AvailabilityData";case m.PageView:return"PageViewData"}},d.baseTypeToTelemetryType=function AR(d){switch(d){case"EventData":return m.Event;case"ExceptionData":return m.Exception;case"MessageData":return m.Trace;case"MetricData":return m.Metric;case"RequestData":return m.Request;case"RemoteDependencyData":return m.Dependency;case"AvailabilityData":return m.Availability;case"PageViewData":return m.PageView}},d.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData",PageView:"PageViewData"},(g=m=d.TelemetryType||(d.TelemetryType={}))[g.Event=0]="Event",g[g.Exception=1]="Exception",g[g.Trace=2]="Trace",g[g.Metric=3]="Metric",g[g.Request=4]="Request",g[g.Dependency=5]="Dependency",g[g.Availability=6]="Availability",g[g.PageView=7]="PageView"})),Ln=l((d=>{"use strict";var m=d&&d.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),g=d&&d.__exportStar||function(d,g){for(var v in d)"default"!==v&&!Object.prototype.hasOwnProperty.call(g,v)&&m(g,d,v)};Object.defineProperty(d,"__esModule",{value:!0}),g(Cn(),d),g(_n(),d),g(Tn(),d),g(bn(),d),g(An(),d),g(Pn(),d),g(Rn(),d),g(kn(),d),g(Nn(),d),g(Mn(),d),g(In(),d),g(On(),d),g(xn(),d)})),Un=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),jn=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),Bn=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),Hn=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),Wn=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),Vn=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),$n=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),qn=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),zn=l((d=>{"use strict";var m=d&&d.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),g=d&&d.__exportStar||function(d,g){for(var v in d)"default"!==v&&!Object.prototype.hasOwnProperty.call(g,v)&&m(g,d,v)};Object.defineProperty(d,"__esModule",{value:!0}),g(Un(),d),g(jn(),d),g(Bn(),d),g(Hn(),d),g(Wn(),d),g(Vn(),d),g($n(),d),g(qn(),d)})),Gn=l((d=>{"use strict";var m=d&&d.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),g=d&&d.__exportStar||function(d,g){for(var v in d)"default"!==v&&!Object.prototype.hasOwnProperty.call(g,v)&&m(g,d,v)};Object.defineProperty(d,"__esModule",{value:!0}),g(En(),d),g(Sn(),d),g(Ln(),d),g(zn(),d)})),Kn=l(((d,m)=>{"use strict";var g=function(){function e(){}return e.prototype.getUrl=function(){return this.url},e.prototype.RequestParser=function(){this.startTime=+new Date},e.prototype._setStatus=function(d,m){var g=+new Date;this.duration=g-this.startTime,this.statusCode=d;var v=this.properties||{};if(m)if("string"==typeof m)v.error=m;else if(m instanceof Error)v.error=m.message;else if("object"==typeof m)for(var y in m)v[y]=m[y]&&m[y].toString&&m[y].toString();this.properties=v},e.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},e}();m.exports=g})),Jn=l(((d,m)=>{"use strict";var v,y=d&&d.__extends||(v=function(d,m){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(d[g]=m[g])})(d,m)},function(d,m){function n(){this.constructor=d}v(d,m),d.prototype=null===m?Object.create(m):(n.prototype=m.prototype,new n)}),C=g(57310),_=Gn(),T=qr(),b=Vr(),A=Kn(),P=Yr(),R=Gr(),k=zr(),M=function(d){function t(m,g){var v=d.call(this)||this;return m&&(v.method=m.method,v.url=v._getAbsoluteUrl(m),v.startTime=+new Date,v.socketRemoteAddress=m.socket&&m.socket.remoteAddress,v.parseHeaders(m,g),m.connection&&(v.connectionRemoteAddress=m.connection.remoteAddress,v.legacySocketRemoteAddress=m.connection.socket&&m.connection.socket.remoteAddress)),v}return y(t,d),t.prototype.onError=function(d,m){this._setStatus(void 0,d),m&&(this.duration=m)},t.prototype.onResponse=function(d,m){this._setStatus(d.statusCode,void 0),m&&(this.duration=m)},t.prototype.getRequestTelemetry=function(d){var m={id:this.requestId,name:this.method+" "+C.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(d&&d.time?m.time=d.time:this.startTime&&(m.time=new Date(this.startTime)),d){for(var g in d)m[g]||(m[g]=d[g]);if(d.properties)for(var g in d.properties)m.properties[g]=d.properties[g]}return m},t.prototype.getRequestTags=function(d){var m={};for(var g in d)m[g]=d[g];return m[t.keys.locationIp]=d[t.keys.locationIp]||this._getIp(),m[t.keys.sessionId]=d[t.keys.sessionId]||this._getId("ai_session"),m[t.keys.userId]=d[t.keys.userId]||this._getId("ai_user"),m[t.keys.userAuthUserId]=d[t.keys.userAuthUserId]||this._getId("ai_authUser"),m[t.keys.operationName]=this.getOperationName(d),m[t.keys.operationParentId]=this.getOperationParentId(d),m[t.keys.operationId]=this.getOperationId(d),m},t.prototype.getOperationId=function(d){return d[t.keys.operationId]||this.operationId},t.prototype.getOperationParentId=function(d){return d[t.keys.operationParentId]||this.parentId||this.getOperationId(d)},t.prototype.getOperationName=function(d){return d[t.keys.operationName]||this.method+" "+C.parse(this.url).pathname},t.prototype.getRequestId=function(){return this.requestId},t.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},t.prototype.getTraceparent=function(){return this.traceparent},t.prototype.getTracestate=function(){return this.tracestate},t.prototype.getLegacyRootId=function(){return this.legacyRootId},t.prototype._getAbsoluteUrl=function(d){if(!d.headers)return d.url;var m=d.connection?d.connection.encrypted:null,g=C.parse(d.url),v=g.pathname,y=g.search,_=m||"https"==d.headers["x-forwarded-proto"]?"https":"http";return C.format({protocol:_,host:d.headers.host,pathname:v,search:y})},t.prototype._getIp=function(){var d=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,n=function(m){var g=d.exec(m);if(g)return g[0]},m=n(this.rawHeaders["x-forwarded-for"])||n(this.rawHeaders["x-client-ip"])||n(this.rawHeaders["x-real-ip"])||n(this.connectionRemoteAddress)||n(this.socketRemoteAddress)||n(this.legacySocketRemoteAddress);return!m&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&"::"===this.connectionRemoteAddress.substr(0,2)&&(m="127.0.0.1"),m},t.prototype._getId=function(d){var m=this.rawHeaders&&this.rawHeaders.cookie&&"string"==typeof this.rawHeaders.cookie&&this.rawHeaders.cookie||"";return t.parseId(T.getCookie(d,m))},t.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},t.prototype.parseHeaders=function(d,m){if(this.rawHeaders=d.headers||d.rawHeaders,this.userAgent=d.headers&&d.headers["user-agent"],this.sourceCorrelationId=T.getCorrelationContextTarget(d,b.requestContextSourceKey),d.headers){var g=d.headers[b.traceStateHeader]?d.headers[b.traceStateHeader].toString():null,v=d.headers[b.traceparentHeader]?d.headers[b.traceparentHeader].toString():null,y=d.headers[b.requestIdHeader]?d.headers[b.requestIdHeader].toString():null,C=d.headers[b.parentIdHeader]?d.headers[b.parentIdHeader].toString():null,_=d.headers[b.rootIdHeader]?d.headers[b.rootIdHeader].toString():null;this.correlationContextHeader=d.headers[b.correlationContextHeader]?d.headers[b.correlationContextHeader].toString():null,P.w3cEnabled&&(v||g)?(this.traceparent=new k(v?v.toString():null),this.tracestate=v&&g&&new R(g?g.toString():null),this.setBackCompatFromThisTraceContext()):y?P.w3cEnabled?(this.traceparent=new k(null,y),this.setBackCompatFromThisTraceContext()):(this.parentId=y,this.requestId=P.generateRequestId(this.parentId),this.operationId=P.getRootId(this.requestId)):P.w3cEnabled?(this.traceparent=new k,this.traceparent.parentId=C,this.traceparent.legacyRootId=_||C,this.setBackCompatFromThisTraceContext()):(this.parentId=C,this.requestId=P.generateRequestId(_||this.parentId),this.correlationContextHeader=null,this.operationId=P.getRootId(this.requestId)),m&&(this.requestId=m,this.operationId=P.getRootId(this.requestId))}},t.parseId=function(d){var m=d.split("|");return m.length>0?m[0]:""},t.keys=new _.ContextTagKeys,t}(A);m.exports=M})),Xn=l(((d,m)=>{var g;d=m.exports=D,g="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var d=Array.prototype.slice.call(arguments,0);d.unshift("SEMVER"),console.log.apply(console,d)}:function(){},d.SEMVER_SPEC_VERSION="2.0.0";var v=Number.MAX_SAFE_INTEGER||9007199254740991,y=d.re=[],C=d.src=[],_=0,T=_++;C[T]="0|[1-9]\\d*";var b=_++;C[b]="[0-9]+";var A=_++;C[A]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var P=_++;C[P]="("+C[T]+")\\.("+C[T]+")\\.("+C[T]+")";var R=_++;C[R]="("+C[b]+")\\.("+C[b]+")\\.("+C[b]+")";var k=_++;C[k]="(?:"+C[T]+"|"+C[A]+")";var M=_++;C[M]="(?:"+C[b]+"|"+C[A]+")";var I=_++;C[I]="(?:-("+C[k]+"(?:\\."+C[k]+")*))";var O=_++;C[O]="(?:-?("+C[M]+"(?:\\."+C[M]+")*))";var x=_++;C[x]="[0-9A-Za-z-]+";var L=_++;C[L]="(?:\\+("+C[x]+"(?:\\."+C[x]+")*))";var U=_++,j="v?"+C[P]+C[I]+"?"+C[L]+"?";C[U]="^"+j+"$";var B="[v=\\s]*"+C[R]+C[O]+"?"+C[L]+"?",V=_++;C[V]="^"+B+"$";var $=_++;C[$]="((?:<|>)?=?)";var q=_++;C[q]=C[b]+"|x|X|\\*";var Y=_++;C[Y]=C[T]+"|x|X|\\*";var z=_++;C[z]="[v=\\s]*("+C[Y]+")(?:\\.("+C[Y]+")(?:\\.("+C[Y]+")(?:"+C[I]+")?"+C[L]+"?)?)?";var G=_++;C[G]="[v=\\s]*("+C[q]+")(?:\\.("+C[q]+")(?:\\.("+C[q]+")(?:"+C[O]+")?"+C[L]+"?)?)?";var J=_++;C[J]="^"+C[$]+"\\s*"+C[z]+"$";var X=_++;C[X]="^"+C[$]+"\\s*"+C[G]+"$";var te=_++;C[te]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var re=_++;C[re]="(?:~>?)";var ie=_++;C[ie]="(\\s*)"+C[re]+"\\s+",y[ie]=new RegExp(C[ie],"g");var se=_++;C[se]="^"+C[re]+C[z]+"$";var oe=_++;C[oe]="^"+C[re]+C[G]+"$";var ae=_++;C[ae]="(?:\\^)";var ce=_++;C[ce]="(\\s*)"+C[ae]+"\\s+",y[ce]=new RegExp(C[ce],"g");var le=_++;C[le]="^"+C[ae]+C[z]+"$";var de=_++;C[de]="^"+C[ae]+C[G]+"$";var he=_++;C[he]="^"+C[$]+"\\s*("+B+")$|^$";var pe=_++;C[pe]="^"+C[$]+"\\s*("+j+")$|^$";var me=_++;C[me]="(\\s*)"+C[$]+"\\s*("+B+"|"+C[z]+")",y[me]=new RegExp(C[me],"g");var fe=_++;C[fe]="^\\s*("+C[z]+")\\s+-\\s+("+C[z]+")\\s*$";var ge=_++;C[ge]="^\\s*("+C[G]+")\\s+-\\s+("+C[G]+")\\s*$";var ve,ye=_++;for(C[ye]="(<|>)?=?\\s*\\*",ve=0;ve<35;ve++)g(ve,C[ve]),y[ve]||(y[ve]=new RegExp(C[ve]));function $r(d,m){if((!m||"object"!=typeof m)&&(m={loose:!!m,includePrerelease:!1}),d instanceof D)return d;if("string"!=typeof d||d.length>256)return null;if(!(m.loose?y[V]:y[U]).test(d))return null;try{return new D(d,m)}catch{return null}}function D(d,m){if((!m||"object"!=typeof m)&&(m={loose:!!m,includePrerelease:!1}),d instanceof D){if(d.loose===m.loose)return d;d=d.version}else if("string"!=typeof d)throw new TypeError("Invalid Version: "+d);if(d.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof D))return new D(d,m);g("SemVer",d,m),this.options=m,this.loose=!!m.loose;var C=d.trim().match(m.loose?y[V]:y[U]);if(!C)throw new TypeError("Invalid Version: "+d);if(this.raw=d,this.major=+C[1],this.minor=+C[2],this.patch=+C[3],this.major>v||this.major<0)throw new TypeError("Invalid major version");if(this.minor>v||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>v||this.patch<0)throw new TypeError("Invalid patch version");C[4]?this.prerelease=C[4].split(".").map((function(d){if(/^[0-9]+$/.test(d)){var m=+d;if(m>=0&&m<v)return m}return d})):this.prerelease=[],this.build=C[5]?C[5].split("."):[],this.format()}d.parse=$r,d.valid=function LR(d,m){var g=$r(d,m);return g?g.version:null},d.clean=function qR(d,m){var g=$r(d.trim().replace(/^[=v]+/,""),m);return g?g.version:null},d.SemVer=D,D.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},D.prototype.toString=function(){return this.version},D.prototype.compare=function(d){return g("SemVer.compare",this.version,this.options,d),d instanceof D||(d=new D(d,this.options)),this.compareMain(d)||this.comparePre(d)},D.prototype.compareMain=function(d){return d instanceof D||(d=new D(d,this.options)),Fn(this.major,d.major)||Fn(this.minor,d.minor)||Fn(this.patch,d.patch)},D.prototype.comparePre=function(d){if(d instanceof D||(d=new D(d,this.options)),this.prerelease.length&&!d.prerelease.length)return-1;if(!this.prerelease.length&&d.prerelease.length)return 1;if(!this.prerelease.length&&!d.prerelease.length)return 0;var m=0;do{var v=this.prerelease[m],y=d.prerelease[m];if(g("prerelease compare",m,v,y),void 0===v&&void 0===y)return 0;if(void 0===y)return 1;if(void 0===v)return-1;if(v!==y)return Fn(v,y)}while(++m)},D.prototype.inc=function(d,m){switch(d){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",m);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",m);break;case"prepatch":this.prerelease.length=0,this.inc("patch",m),this.inc("pre",m);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",m),this.inc("pre",m);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var g=this.prerelease.length;--g>=0;)"number"==typeof this.prerelease[g]&&(this.prerelease[g]++,g=-2);-1===g&&this.prerelease.push(0)}m&&(this.prerelease[0]===m?isNaN(this.prerelease[1])&&(this.prerelease=[m,0]):this.prerelease=[m,0]);break;default:throw new Error("invalid increment argument: "+d)}return this.format(),this.raw=this.version,this},d.inc=function jR(d,m,g,v){"string"==typeof g&&(v=g,g=void 0);try{return new D(d,g).inc(m,v).version}catch{return null}},d.diff=function kR(d,m){if(tf(d,m))return null;var g=$r(d),v=$r(m),y="";if(g.prerelease.length||v.prerelease.length){y="pre";var C="prerelease"}for(var _ in g)if(("major"===_||"minor"===_||"patch"===_)&&g[_]!==v[_])return y+_;return C},d.compareIdentifiers=Fn;var Se=/^[0-9]+$/;function Fn(d,m){var g=Se.test(d),v=Se.test(m);return g&&v&&(d=+d,m=+m),d===m?0:g&&!v?-1:v&&!g?1:d<m?-1:1}function wt(d,m,g){return new D(d,g).compare(new D(m,g))}function Zi(d,m,g){return wt(d,m,g)>0}function So(d,m,g){return wt(d,m,g)<0}function tf(d,m,g){return 0===wt(d,m,g)}function jE(d,m,g){return 0!==wt(d,m,g)}function rf(d,m,g){return wt(d,m,g)>=0}function nf(d,m,g){return wt(d,m,g)<=0}function Io(d,m,g,v){switch(m){case"===":return"object"==typeof d&&(d=d.version),"object"==typeof g&&(g=g.version),d===g;case"!==":return"object"==typeof d&&(d=d.version),"object"==typeof g&&(g=g.version),d!==g;case"":case"=":case"==":return tf(d,g,v);case"!=":return jE(d,g,v);case">":return Zi(d,g,v);case">=":return rf(d,g,v);case"<":return So(d,g,v);case"<=":return nf(d,g,v);default:throw new TypeError("Invalid operator: "+m)}}function Ke(d,m){if((!m||"object"!=typeof m)&&(m={loose:!!m,includePrerelease:!1}),d instanceof Ke){if(d.loose===!!m.loose)return d;d=d.value}if(!(this instanceof Ke))return new Ke(d,m);g("comparator",d,m),this.options=m,this.loose=!!m.loose,this.parse(d),this.semver===Ee?this.value="":this.value=this.operator+this.semver.version,g("comp",this)}d.rcompareIdentifiers=function HR(d,m){return Fn(m,d)},d.major=function UR(d,m){return new D(d,m).major},d.minor=function BR(d,m){return new D(d,m).minor},d.patch=function FR(d,m){return new D(d,m).patch},d.compare=wt,d.compareLoose=function GR(d,m){return wt(d,m,!0)},d.rcompare=function VR(d,m,g){return wt(m,d,g)},d.sort=function $R(m,g){return m.sort((function(m,v){return d.compare(m,v,g)}))},d.rsort=function zR(m,g){return m.sort((function(m,v){return d.rcompare(m,v,g)}))},d.gt=Zi,d.lt=So,d.eq=tf,d.neq=jE,d.gte=rf,d.lte=nf,d.cmp=Io,d.Comparator=Ke;var Ee={};function Z(d,m){if((!m||"object"!=typeof m)&&(m={loose:!!m,includePrerelease:!1}),d instanceof Z)return d.loose===!!m.loose&&d.includePrerelease===!!m.includePrerelease?d:new Z(d.raw,m);if(d instanceof Ke)return new Z(d.value,m);if(!(this instanceof Z))return new Z(d,m);if(this.options=m,this.loose=!!m.loose,this.includePrerelease=!!m.includePrerelease,this.raw=d,this.set=d.split(/\s*\|\|\s*/).map((function(d){return this.parseRange(d.trim())}),this).filter((function(d){return d.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+d);this.format()}function we(d){return!d||"x"===d.toLowerCase()||"*"===d}function rN(d,m,g,v,y,C,_,T,b,A,P,R,k){return((m=we(g)?"":we(v)?">="+g+".0.0":we(y)?">="+g+"."+v+".0":">="+m)+" "+(T=we(b)?"":we(A)?"<"+(+b+1)+".0.0":we(P)?"<"+b+"."+(+A+1)+".0":R?"<="+b+"."+A+"."+P+"-"+R:"<="+T)).trim()}function nN(d,m,v){for(var y=0;y<d.length;y++)if(!d[y].test(m))return!1;if(m.prerelease.length&&!v.includePrerelease){for(y=0;y<d.length;y++)if(g(d[y].semver),d[y].semver!==Ee&&d[y].semver.prerelease.length>0){var C=d[y].semver;if(C.major===m.major&&C.minor===m.minor&&C.patch===m.patch)return!0}return!1}return!0}function Co(d,m,g){try{m=new Z(m,g)}catch{return!1}return m.test(d)}function af(d,m,g,v){var y,C,_,T,b;switch(d=new D(d,v),m=new Z(m,v),g){case">":y=Zi,C=nf,_=So,T=">",b=">=";break;case"<":y=So,C=rf,_=Zi,T="<",b="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Co(d,m,v))return!1;for(var A=0;A<m.set.length;++A){var P=m.set[A],R=null,k=null;if(P.forEach((function(d){d.semver===Ee&&(d=new Ke(">=0.0.0")),R=R||d,k=k||d,y(d.semver,R.semver,v)?R=d:_(d.semver,k.semver,v)&&(k=d)})),R.operator===T||R.operator===b||(!k.operator||k.operator===T)&&C(d,k.semver))return!1;if(k.operator===b&&_(d,k.semver))return!1}return!0}Ke.prototype.parse=function(d){var m=this.options.loose?y[he]:y[pe],g=d.match(m);if(!g)throw new TypeError("Invalid comparator: "+d);this.operator=g[1],"="===this.operator&&(this.operator=""),g[2]?this.semver=new D(g[2],this.options.loose):this.semver=Ee},Ke.prototype.toString=function(){return this.value},Ke.prototype.test=function(d){return g("Comparator.test",d,this.options.loose),this.semver===Ee||("string"==typeof d&&(d=new D(d,this.options)),Io(d,this.operator,this.semver,this.options))},Ke.prototype.intersects=function(d,m){if(!(d instanceof Ke))throw new TypeError("a Comparator is required");var g;if((!m||"object"!=typeof m)&&(m={loose:!!m,includePrerelease:!1}),""===this.operator)return g=new Z(d.value,m),Co(this.value,g,m);if(""===d.operator)return g=new Z(this.value,m),Co(d.semver,g,m);var v=!(">="!==this.operator&&">"!==this.operator||">="!==d.operator&&">"!==d.operator),y=!("<="!==this.operator&&"<"!==this.operator||"<="!==d.operator&&"<"!==d.operator),C=this.semver.version===d.semver.version,_=!(">="!==this.operator&&"<="!==this.operator||">="!==d.operator&&"<="!==d.operator),T=Io(this.semver,"<",d.semver,m)&&(">="===this.operator||">"===this.operator)&&("<="===d.operator||"<"===d.operator),b=Io(this.semver,">",d.semver,m)&&("<="===this.operator||"<"===this.operator)&&(">="===d.operator||">"===d.operator);return v||y||C&&_||T||b},d.Range=Z,Z.prototype.format=function(){return this.range=this.set.map((function(d){return d.join(" ").trim()})).join("||").trim(),this.range},Z.prototype.toString=function(){return this.range},Z.prototype.parseRange=function(d){var m=this.options.loose;d=d.trim();var v=m?y[ge]:y[fe];d=d.replace(v,rN),g("hyphen replace",d),d=d.replace(y[me],"$1$2$3"),g("comparator trim",d,y[me]),d=(d=(d=d.replace(y[ie],"$1~")).replace(y[ce],"$1^")).split(/\s+/).join(" ");var C=m?y[he]:y[pe],_=d.split(" ").map((function(d){return function KR(d,m){return g("comp",d,m),d=function WR(d,m){return d.trim().split(/\s+/).map((function(d){return function ZR(d,m){g("caret",d,m);var v=m.loose?y[de]:y[le];return d.replace(v,(function(m,v,y,C,_){var T;return g("caret",d,m,v,y,C,_),we(v)?T="":we(y)?T=">="+v+".0.0 <"+(+v+1)+".0.0":we(C)?T="0"===v?">="+v+"."+y+".0 <"+v+"."+(+y+1)+".0":">="+v+"."+y+".0 <"+(+v+1)+".0.0":_?(g("replaceCaret pr",_),T="0"===v?"0"===y?">="+v+"."+y+"."+C+"-"+_+" <"+v+"."+y+"."+(+C+1):">="+v+"."+y+"."+C+"-"+_+" <"+v+"."+(+y+1)+".0":">="+v+"."+y+"."+C+"-"+_+" <"+(+v+1)+".0.0"):(g("no pr"),T="0"===v?"0"===y?">="+v+"."+y+"."+C+" <"+v+"."+y+"."+(+C+1):">="+v+"."+y+"."+C+" <"+v+"."+(+y+1)+".0":">="+v+"."+y+"."+C+" <"+(+v+1)+".0.0"),g("caret return",T),T}))}(d,m)})).join(" ")}(d,m),g("caret",d),d=function YR(d,m){return d.trim().split(/\s+/).map((function(d){return function QR(d,m){var v=m.loose?y[oe]:y[se];return d.replace(v,(function(m,v,y,C,_){var T;return g("tilde",d,m,v,y,C,_),we(v)?T="":we(y)?T=">="+v+".0.0 <"+(+v+1)+".0.0":we(C)?T=">="+v+"."+y+".0 <"+v+"."+(+y+1)+".0":_?(g("replaceTilde pr",_),T=">="+v+"."+y+"."+C+"-"+_+" <"+v+"."+(+y+1)+".0"):T=">="+v+"."+y+"."+C+" <"+v+"."+(+y+1)+".0",g("tilde return",T),T}))}(d,m)})).join(" ")}(d,m),g("tildes",d),d=function JR(d,m){return g("replaceXRanges",d,m),d.split(/\s+/).map((function(d){return function eN(d,m){d=d.trim();var v=m.loose?y[X]:y[J];return d.replace(v,(function(m,v,y,C,_,T){g("xRange",d,m,v,y,C,_,T);var b=we(y),A=b||we(C),P=A||we(_);return"="===v&&P&&(v=""),b?m=">"===v||"<"===v?"<0.0.0":"*":v&&P?(A&&(C=0),_=0,">"===v?(v=">=",A?(y=+y+1,C=0,_=0):(C=+C+1,_=0)):"<="===v&&(v="<",A?y=+y+1:C=+C+1),m=v+y+"."+C+"."+_):A?m=">="+y+".0.0 <"+(+y+1)+".0.0":P&&(m=">="+y+"."+C+".0 <"+y+"."+(+C+1)+".0"),g("xRange return",m),m}))}(d,m)})).join(" ")}(d,m),g("xrange",d),d=function tN(d,m){return g("replaceStars",d,m),d.trim().replace(y[ye],"")}(d,m),g("stars",d),d}(d,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(_=_.filter((function(d){return!!d.match(C)}))),_=_.map((function(d){return new Ke(d,this.options)}),this)},Z.prototype.intersects=function(d,m){if(!(d instanceof Z))throw new TypeError("a Range is required");return this.set.some((function(g){return g.every((function(g){return d.set.some((function(d){return d.every((function(d){return g.intersects(d,m)}))}))}))}))},d.toComparators=function XR(d,m){return new Z(d,m).set.map((function(d){return d.map((function(d){return d.value})).join(" ").trim().split(" ")}))},Z.prototype.test=function(d){if(!d)return!1;"string"==typeof d&&(d=new D(d,this.options));for(var m=0;m<this.set.length;m++)if(nN(this.set[m],d,this.options))return!0;return!1},d.satisfies=Co,d.maxSatisfying=function iN(d,m,g){var v=null,y=null;try{var C=new Z(m,g)}catch{return null}return d.forEach((function(d){C.test(d)&&(!v||-1===y.compare(d))&&(y=new D(v=d,g))})),v},d.minSatisfying=function aN(d,m,g){var v=null,y=null;try{var C=new Z(m,g)}catch{return null}return d.forEach((function(d){C.test(d)&&(!v||1===y.compare(d))&&(y=new D(v=d,g))})),v},d.minVersion=function sN(d,m){d=new Z(d,m);var g=new D("0.0.0");if(d.test(g)||(g=new D("0.0.0-0"),d.test(g)))return g;g=null;for(var v=0;v<d.set.length;++v){d.set[v].forEach((function(d){var m=new D(d.semver.version);switch(d.operator){case">":0===m.prerelease.length?m.patch++:m.prerelease.push(0),m.raw=m.format();case"":case">=":(!g||Zi(g,m))&&(g=m);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+d.operator)}}))}return g&&d.test(g)?g:null},d.validRange=function oN(d,m){try{return new Z(d,m).range||"*"}catch{return null}},d.ltr=function uN(d,m,g){return af(d,m,"<",g)},d.gtr=function cN(d,m,g){return af(d,m,">",g)},d.outside=af,d.prerelease=function lN(d,m){var g=$r(d,m);return g&&g.prerelease.length?g.prerelease:null},d.intersects=function fN(d,m,g){return d=new Z(d,g),m=new Z(m,g),d.intersects(m)},d.coerce=function pN(d){if(d instanceof D)return d;if("string"!=typeof d)return null;var m=d.match(y[te]);return null==m?null:$r(m[1]+"."+(m[2]||"0")+"."+(m[3]||"0"))}})),Qn=l(((d,m)=>{"use strict";function sf(d){return"function"==typeof d}var g=console.error.bind(console);function ta(d,m,g){var v=!!d[m]&&d.propertyIsEnumerable(m);Object.defineProperty(d,m,{configurable:!0,enumerable:v,writable:!0,value:g})}function ra(d){d&&d.logger&&(sf(d.logger)?g=d.logger:g("new logger isn't a function, not replacing"))}function UE(d,m,v){if(d&&d[m]){if(!v)return g("no wrapper function"),void g((new Error).stack);if(sf(d[m])&&sf(v)){var y=d[m],C=v(y,m);return ta(C,"__original",y),ta(C,"__unwrap",(function(){d[m]===C&&ta(d,m,y)})),ta(C,"__wrapped",!0),ta(d,m,C),C}g("original object and wrapper must be functions")}else g("no original function "+m+" to wrap")}function BE(d,m){return d&&d[m]?d[m].__unwrap?d[m].__unwrap():void g("no original to unwrap to -- has "+m+" already been unwrapped?"):(g("no function to unwrap."),void g((new Error).stack))}ra.wrap=UE,ra.massWrap=function dN(d,m,v){if(!d)return g("must provide one or more modules to patch"),void g((new Error).stack);Array.isArray(d)||(d=[d]),m&&Array.isArray(m)?d.forEach((function(d){m.forEach((function(m){UE(d,m,v)}))})):g("must provide one or more functions to wrap on modules")},ra.unwrap=BE,ra.massUnwrap=function hN(d,m){if(!d)return g("must provide one or more modules to patch"),void g((new Error).stack);Array.isArray(d)||(d=[d]),m&&Array.isArray(m)?d.forEach((function(d){m.forEach((function(m){BE(d,m)}))})):g("must provide one or more functions to unwrap on modules")},m.exports=ra})),Zn=l(((d,m)=>{"use strict";var g=Qn(),v=g.wrap,y=g.unwrap,C="wrap@before";function No(d,m,g){var v=!!d[m]&&d.propertyIsEnumerable(m);Object.defineProperty(d,m,{configurable:!0,enumerable:v,writable:!0,value:g})}function $E(d,m){var g;return g=d._events&&d._events[m],Array.isArray(g)||(g=g?[g]:[]),g}function vN(d,m,g){var v=$E(d,m).filter((function(d){return-1===g.indexOf(d)}));v.length>0&&function _N(d,m){for(var g=m.length,v=0;v<g;v++){var y=m[v],_=d[C];if("function"==typeof _)_(y);else if(Array.isArray(_))for(var T=_.length,b=0;b<T;b++)_[b](y)}}(d,v)}function GE(d,m){if(d){var g=d;if("function"==typeof d)g=m(d);else if(Array.isArray(d)){g=[];for(var v=0;v<d.length;v++)g[v]=m(d[v])}return g}}m.exports=function(d,m,g){if(!(d&&d.on&&d.addListener&&d.removeListener&&d.emit))throw new Error("can only wrap real EEs");if(!m)throw new Error("must have function to run on listener addition");if(!g)throw new Error("must have function to wrap listeners when emitting");function i(d){return function(m,g){var y=$E(this,m).slice();try{var C=d.call(this,m,g);return vN(this,m,y),C}finally{this.on.__wrapped||v(this,"on",i),this.addListener.__wrapped||v(this,"addListener",i)}}}d[C]?"function"==typeof d[C]?No(d,C,[d[C],m]):Array.isArray(d[C])&&d[C].push(m):No(d,C,m),d.__wrapped||(v(d,"addListener",i),v(d,"on",i),v(d,"emit",(function a(d){return function(m){if(!this._events||!this._events[m])return d.apply(this,arguments);var C=this._events[m];function f(d){return function(){this._events[m]=C;try{return d.apply(this,arguments)}finally{C=this._events[m],this._events[m]=GE(C,g)}}}v(this,"removeListener",f);try{return this._events[m]=GE(C,g),d.apply(this,arguments)}finally{y(this,"removeListener"),this._events[m]=C}}})),No(d,"__unwrap",(function(){y(d,"addListener"),y(d,"on"),y(d,"emit"),delete d[C],delete d.__wrapped})),No(d,"__wrapped",!0))}})),ei=l(((d,m)=>{"use strict";var v=g(73837),y=g(39491),C=Zn(),_=g(50852),T="cls@contexts",b="error@context",A=process.env.DEBUG_CLS_HOOKED,P=-1;function Ye(d){this.name=d,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}function XE(d){return process.namespaces[d]}function KE(d){let m=XE(d);y.ok(m,"can't delete nonexistent namespace! \""+d+'"'),y.ok(m.id,"don't assign to process.namespaces directly! "+v.inspect(m)),process.namespaces[d]=null}function Q(...d){A&&process._rawDebug(`${v.format(...d)}`)}m.exports={getNamespace:XE,createNamespace:function EN(d){y.ok(d,"namespace must be given a name."),A&&Q(`NS-CREATING NAMESPACE (${d})`);let m=new Ye(d);return m.id=P,_.createHook({init(g,y,C,T){if(P=_.executionAsyncId(),m.active){if(m._contexts.set(g,m.active),A){Q(`${" ".repeat(m._indent<0?0:m._indent)}INIT [${y}] (${d}) asyncId:${g} currentUid:${P} triggerId:${C} active:${v.inspect(m.active,{showHidden:!0,depth:2,colors:!0})} resource:${T}`)}}else if(0===P){let C=_.triggerAsyncId(),b=m._contexts.get(C);if(b){if(m._contexts.set(g,b),A){Q(`${" ".repeat(m._indent<0?0:m._indent)}INIT USING CONTEXT FROM TRIGGERID [${y}] (${d}) asyncId:${g} currentUid:${P} triggerId:${C} active:${v.inspect(m.active,{showHidden:!0,depth:2,colors:!0})} resource:${T}`)}}else if(A){Q(`${" ".repeat(m._indent<0?0:m._indent)}INIT MISSING CONTEXT [${y}] (${d}) asyncId:${g} currentUid:${P} triggerId:${C} active:${v.inspect(m.active,{showHidden:!0,depth:2,colors:!0})} resource:${T}`)}}if(A&&"PROMISE"===y){Q(v.inspect(T,{showHidden:!0}));let _=T.parentId;Q(`${" ".repeat(m._indent<0?0:m._indent)}INIT RESOURCE-PROMISE [${y}] (${d}) parentId:${_} asyncId:${g} currentUid:${P} triggerId:${C} active:${v.inspect(m.active,{showHidden:!0,depth:2,colors:!0})} resource:${T}`)}},before(g){let y;if(P=_.executionAsyncId(),y=m._contexts.get(g)||m._contexts.get(P),y){if(A){let C=_.triggerAsyncId();Q(`${" ".repeat(m._indent<0?0:m._indent)}BEFORE (${d}) asyncId:${g} currentUid:${P} triggerId:${C} active:${v.inspect(m.active,{showHidden:!0,depth:2,colors:!0})} context:${v.inspect(y)}`),m._indent+=2}m.enter(y)}else if(A){let y=_.triggerAsyncId();Q(`${" ".repeat(m._indent<0?0:m._indent)}BEFORE MISSING CONTEXT (${d}) asyncId:${g} currentUid:${P} triggerId:${y} active:${v.inspect(m.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${v.inspect(m._contexts,{showHidden:!0,depth:2,colors:!0})}`),m._indent+=2}},after(g){let y;if(P=_.executionAsyncId(),y=m._contexts.get(g)||m._contexts.get(P),y){if(A){let C=_.triggerAsyncId();m._indent-=2,Q(`${" ".repeat(m._indent<0?0:m._indent)}AFTER (${d}) asyncId:${g} currentUid:${P} triggerId:${C} active:${v.inspect(m.active,{showHidden:!0,depth:2,colors:!0})} context:${v.inspect(y)}`)}m.exit(y)}else if(A){let C=_.triggerAsyncId();m._indent-=2,Q(`${" ".repeat(m._indent<0?0:m._indent)}AFTER MISSING CONTEXT (${d}) asyncId:${g} currentUid:${P} triggerId:${C} active:${v.inspect(m.active,{showHidden:!0,depth:2,colors:!0})} context:${v.inspect(y)}`)}},destroy(g){if(P=_.executionAsyncId(),A){let y=_.triggerAsyncId();Q(`${" ".repeat(m._indent<0?0:m._indent)}DESTROY (${d}) currentUid:${P} asyncId:${g} triggerId:${y} active:${v.inspect(m.active,{showHidden:!0,depth:2,colors:!0})} context:${v.inspect(m._contexts.get(P))}`)}m._contexts.delete(g)}}).enable(),process.namespaces[d]=m,m},destroyNamespace:KE,reset:function mN(){process.namespaces&&Object.keys(process.namespaces).forEach((function(d){KE(d)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:b},Ye.prototype.set=function(d,m){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");if(this.active[d]=m,A){Q(" ".repeat(this._indent<0?0:this._indent)+"CONTEXT-SET KEY:"+d+"="+m+" in ns:"+this.name+" currentUid:"+P+" active:"+v.inspect(this.active,{showHidden:!0,depth:2,colors:!0}))}return m},Ye.prototype.get=function(d){if(this.active){if(A){let m=_.executionAsyncId(),g=_.triggerAsyncId(),y=" ".repeat(this._indent<0?0:this._indent);Q(y+"CONTEXT-GETTING KEY:"+d+"="+this.active[d]+" ("+this.name+") currentUid:"+P+" active:"+v.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),Q(`${y}CONTEXT-GETTING KEY: (${this.name}) ${d}=${this.active[d]} currentUid:${P} asyncHooksCurrentId:${m} triggerId:${g} len:${this._set.length} active:${v.inspect(this.active)}`)}return this.active[d]}if(A){let m=_.currentId(),g=_.triggerAsyncId();Q(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${d}=undefined currentUid:${P} asyncHooksCurrentId:${m} triggerId:${g} len:${this._set.length}`)}},Ye.prototype.createContext=function(){let d=Object.create(this.active?this.active:Object.prototype);if(d._ns_name=this.name,d.id=P,A){let m=_.executionAsyncId(),g=_.triggerAsyncId();Q(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-CREATED Context: (${this.name}) currentUid:${P} asyncHooksCurrentId:${m} triggerId:${g} len:${this._set.length} context:${v.inspect(d,{showHidden:!0,depth:2,colors:!0})}`)}return d},Ye.prototype.run=function(d){let m=this.createContext();this.enter(m);try{if(A){let d=_.triggerAsyncId(),g=_.executionAsyncId();Q(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${P} triggerId:${d} asyncHooksCurrentId:${g} len:${this._set.length} context:${v.inspect(m)}`)}return d(m),m}catch(d){throw d&&(d[b]=m),d}finally{if(A){let d=_.triggerAsyncId(),g=_.executionAsyncId();Q(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN END: (${this.name}) currentUid:${P} triggerId:${d} asyncHooksCurrentId:${g} len:${this._set.length} ${v.inspect(m)}`)}this.exit(m)}},Ye.prototype.runAndReturn=function(d){let m;return this.run((function(g){m=d(g)})),m},Ye.prototype.runPromise=function(d){let m=this.createContext();this.enter(m);let g=d(m);if(!g||!g.then||!g.catch)throw new Error("fn must return a promise.");return A&&Q("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+P+" len:"+this._set.length+" "+v.inspect(m)),g.then((d=>(A&&Q("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+P+" len:"+this._set.length+" "+v.inspect(m)),this.exit(m),d))).catch((d=>{throw d[b]=m,A&&Q("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+P+" len:"+this._set.length+" "+v.inspect(m)),this.exit(m),d}))},Ye.prototype.bind=function(d,m){m||(m=this.active?this.active:this.createContext());let g=this;return function(){g.enter(m);try{return d.apply(this,arguments)}catch(d){throw d&&(d[b]=m),d}finally{g.exit(m)}}},Ye.prototype.enter=function(d){if(y.ok(d,"context must be provided for entering"),A){let m=_.executionAsyncId(),g=_.triggerAsyncId();Q(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-ENTER: (${this.name}) currentUid:${P} triggerId:${g} asyncHooksCurrentId:${m} len:${this._set.length} ${v.inspect(d)}`)}this._set.push(this.active),this.active=d},Ye.prototype.exit=function(d){if(y.ok(d,"context must be provided for exiting"),A){let m=_.executionAsyncId(),g=_.triggerAsyncId();Q(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-EXIT: (${this.name}) currentUid:${P} triggerId:${g} asyncHooksCurrentId:${m} len:${this._set.length} ${v.inspect(d)}`)}if(this.active===d)return y.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let m=this._set.lastIndexOf(d);m<0?(A&&Q("??ERROR?? context exiting but not entered - ignoring: "+v.inspect(d)),y.ok(m>=0,"context not currently entered; can't exit. \n"+v.inspect(this)+"\n"+v.inspect(d))):(y.ok(m,"can't remove top context"),this._set.splice(m,1))},Ye.prototype.bindEmitter=function(d){y.ok(d.on&&d.addListener&&d.emit,"can only bind real EEs");let m=this,g="context@"+this.name;C(d,(function i(d){!d||(d[T]||(d[T]=Object.create(null)),d[T][g]={namespace:m,context:m.active})}),(function a(d){if(!d||!d[T])return d;let m=d,g=d[T];return Object.keys(g).forEach((function(d){let v=g[d];m=v.namespace.bind(m,v.context)})),m}))},Ye.prototype.fromException=function(d){return d[b]},process.namespaces={}})),ti=l(((d,m)=>{"use strict";function yN(){}m.exports=function(){let d=this._hooks,m=this._state,g=process.nextTick;process.nextTick=function(){if(!m.enabled)return g.apply(process,arguments);let v=new Array(arguments.length);for(let d=0;d<arguments.length;d++)v[d]=arguments[d];let y=v[0];if("function"!=typeof y)throw new TypeError("callback is not a function");let C=new yN,_=--m.counter;return d.init.call(C,_,0,null,null),v[0]=function(){d.pre.call(C,_);let m=!0;try{y.apply(this,arguments),m=!1}finally{m&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){d.post.call(C,_,!0),d.destroy.call(null,_)}))}d.post.call(C,_,!1),d.destroy.call(null,_)},g.apply(process,v)}}})),ri=l(((d,m)=>{"use strict";function TN(){}m.exports=function(){let d=this._hooks,m=this._state,g=global.Promise,v=g.prototype.then;function a(m,g,v,y){return"function"!=typeof m?y?function s(m){return function(g){return d.destroy.call(null,m),g}}(v):function o(m){return function(g){throw d.destroy.call(null,m),g}}(v):function(){d.pre.call(g,v);try{return m.apply(this,arguments)}finally{d.post.call(g,v,!1),d.destroy.call(null,v)}}}g.prototype.then=function u(g,y){if(!m.enabled)return v.call(this,g,y);let C=new TN,_=--m.counter;return d.init.call(C,_,0,null,null),v.call(this,a(g,C,_,!0),a(y,C,_,!1))}}})),ni=l(((d,m)=>{"use strict";var v=g(39512);function AN(){}function SN(){}function IN(){}var y=new Map,C=new Map,_=new Map,T=null,b=!1;function cf(d,m,g,y,C,_,A){let P=v[g],R=v[y];v[g]=function(){if(!m.enabled)return P.apply(v,arguments);let g=new Array(arguments.length);for(let d=0;d<arguments.length;d++)g[d]=arguments[d];let y=g[0];if("function"!=typeof y)throw new TypeError('"callback" argument must be a function');let R,k=new C,M=--m.counter;return d.init.call(k,M,0,null,null),g[0]=function(){T=R,d.pre.call(k,M);let m=!0;try{y.apply(this,arguments),m=!1}finally{m&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){d.post.call(k,M,!0),_.delete(R),d.destroy.call(null,M)}))}d.post.call(k,M,!1),T=null,(A||b)&&(b=!1,_.delete(R),d.destroy.call(null,M))},R=P.apply(v,g),_.set(R,M),R},v[y]=function(m){if(T===m&&null!==m)b=!0;else if(_.has(m)){let g=_.get(m);_.delete(m),d.destroy.call(null,g)}R.apply(v,arguments)}}m.exports=function(){cf(this._hooks,this._state,"setTimeout","clearTimeout",AN,y,!0),cf(this._hooks,this._state,"setInterval","clearInterval",SN,C,!1),cf(this._hooks,this._state,"setImmediate","clearImmediate",IN,_,!0),global.setTimeout=v.setTimeout,global.setInterval=v.setInterval,global.setImmediate=v.setImmediate,global.clearTimeout=v.clearTimeout,global.clearInterval=v.clearInterval,global.clearImmediate=v.clearImmediate}})),ii=l(((d,m)=>{m.exports={name:"async-hook-jl",description:"Inspect the life of handle objects in node",version:"1.7.6",author:"Andreas Madsen <amwebdk@gmail.com>",main:"./index.js",scripts:{test:"node ./test/runner.js && eslint ."},repository:{type:"git",url:"git://github.com/jeff-lewis/async-hook-jl.git"},keywords:["async","async hooks","inspect","async wrap"],license:"MIT",dependencies:{"stack-chain":"^1.3.7"},devDependencies:{async:"1.5.x","cli-color":"1.1.x",eslint:"^3.4.0",endpoint:"0.4.x"},engines:{node:"^4.7 || >=6.9 || >=7.3"}}})),si=l(((d,m)=>{"use strict";var g=process.binding("async_wrap"),v=g.Providers.TIMERWRAP,y={nextTick:ti(),promise:ri(),timers:ni()},C=new Set;function NN(){this.enabled=!1,this.counter=0}function ff(){let d=this.initFns=[],m=this.preFns=[],g=this.postFns=[],y=this.destroyFns=[];this.init=function(m,g,y,_){if(g!==v)for(let v of d)v(m,this,g,y,_);else C.add(m)},this.pre=function(d){if(!C.has(d))for(let g of m)g(d,this)},this.post=function(d,m){if(!C.has(d))for(let v of g)v(d,this,m)},this.destroy=function(d){if(C.has(d))C.delete(d);else for(let m of y)m(d)}}function wo(d,m){let g=d.indexOf(m);-1!==g&&d.splice(g,1)}function oa(){this._state=new NN,this._hooks=new ff,this.version=ii().version,this.providers=g.Providers;for(let d of Object.keys(y))y[d].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),g.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}ff.prototype.add=function(d){d.init&&this.initFns.push(d.init),d.pre&&this.preFns.push(d.pre),d.post&&this.postFns.push(d.post),d.destroy&&this.destroyFns.push(d.destroy)},ff.prototype.remove=function(d){d.init&&wo(this.initFns,d.init),d.pre&&wo(this.preFns,d.pre),d.post&&wo(this.postFns,d.post),d.destroy&&wo(this.destroyFns,d.destroy)},m.exports=oa,oa.prototype.addHooks=function(d){this._hooks.add(d)},oa.prototype.removeHooks=function(d){this._hooks.remove(d)},oa.prototype.enable=function(){this._state.enabled=!0,g.enable()},oa.prototype.disable=function(){this._state.enabled=!1,g.disable()}})),oi=l(((d,m)=>{m.exports={name:"stack-chain",description:"API for combining call site modifiers",version:"1.3.7",author:"Andreas Madsen <amwebdk@gmail.com>",scripts:{test:"tap ./test/simple"},repository:{type:"git",url:"git://github.com/AndreasMadsen/stack-chain.git"},keywords:["stack","chain","trace","call site","concat","format"],devDependencies:{tap:"2.x.x","uglify-js":"2.5.x"},license:"MIT"}})),ai=l(((d,m)=>{m.exports=function(d,m){var g=[];g.push(function wN(d){try{return Error.prototype.toString.call(d)}catch(d){try{return"<error: "+d+">"}catch{return"<error>"}}}(d));for(var v=0;v<m.length;v++){var y,C=m[v];try{y=C.toString()}catch(d){try{y="<error: "+d+">"}catch{y="<error>"}}g.push("    at "+y)}return g.join("\n")}})),ci=l(((d,m)=>{var g=ai();function cm(){this.extend=new ua,this.filter=new ua,this.format=new ca,this.version=oi().version}var v=!1;cm.prototype.callSite=function e(d){d||(d={}),v=!0;var m={};Error.captureStackTrace(m,e);var g=m.stack;return v=!1,g=g.slice(d.slice||0),d.extend&&(g=this.extend._modify(m,g)),d.filter&&(g=this.filter._modify(m,g)),g};var y=new cm;function ua(){this._modifiers=[]}function ca(){this._formater=g,this._previous=void 0}ua.prototype._modify=function(d,m){for(var g=0,v=this._modifiers.length;g<v;g++)m=this._modifiers[g](d,m);return m},ua.prototype.attach=function(d){this._modifiers.push(d)},ua.prototype.deattach=function(d){var m=this._modifiers.indexOf(d);return-1!==m&&(this._modifiers.splice(m,1),!0)},ca.prototype.replace=function(d){d?this._formater=d:this.restore()},ca.prototype.restore=function(){this._formater=g,this._previous=void 0},ca.prototype._backup=function(){this._previous=this._formater},ca.prototype._roolback=function(){this._previous===g?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&y.format.replace(Error.prepareStackTrace);var C=!1;function um(d,m){if(v)return m;if(C)return g(d,m);var _=m.concat();_=y.extend._modify(d,_),_=(_=y.filter._modify(d,_)).slice(0,Error.stackTraceLimit),Object.isExtensible(d)&&void 0===Object.getOwnPropertyDescriptor(d,"callSite")&&(d.callSite={original:m,mutated:_}),C=!0;var T=y.format._formater(d,_);return C=!1,T}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return um},set:function(d){d===um?y.format._roolback():(y.format._backup(),y.format.replace(d))}}),Object.defineProperty(Error.prototype,"callSite",{get:function xN(){return this.stack,this.callSite},set:function(d){Object.defineProperty(this,"callSite",{value:d,writable:!0,configurable:!0})},configurable:!0}),m.exports=y})),li=l(((d,m)=>{if(global._stackChain){if(global._stackChain.version!==oi().version)throw new Error("Conflicting version of stack-chain found");m.exports=global._stackChain}else m.exports=global._stackChain=ci()})),di=l(((d,m)=>{"use strict";var g=si();if(global._asyncHook){if(global._asyncHook.version!==ii().version)throw new Error("Conflicting version of async-hook-jl found");m.exports=global._asyncHook}else li().filter.attach((function(d,m){return m.filter((function(d){let m=d.getFileName();return!(m&&m.slice(0,__dirname.length)===__dirname)}))})),m.exports=global._asyncHook=new g})),ui=l(((d,m)=>{"use strict";var v=g(73837),y=g(39491),C=Zn(),_=di(),T="cls@contexts",b="error@context",A=[];for(let d in _.providers)A[_.providers[d]]=d;var P,R,k=process.env.DEBUG_CLS_HOOKED,M=-1;function Qe(d){this.name=d,this.active=null,this._set=[],this.id=null,this._contexts=new Map}function _m(d){return process.namespaces[d]}function vm(d){let m=_m(d);y.ok(m,"can't delete nonexistent namespace! \""+d+'"'),y.ok(m.id,"don't assign to process.namespaces directly! "+v.inspect(m)),process.namespaces[d]=null}function ue(d){process.env.DEBUG&&process._rawDebug(d)}function Mo(d){return d?"function"==typeof d?d.name?d.name:(d.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1]:d.constructor&&d.constructor.name?d.constructor.name:void 0:d}if(m.exports={getNamespace:_m,createNamespace:function qN(d){y.ok(d,"namespace must be given a name."),k&&ue("CREATING NAMESPACE "+d);let m=new Qe(d);return m.id=M,_.addHooks({init(g,y,C,_,T){M=g,_?(m._contexts.set(g,m._contexts.get(_)),k&&ue("PARENTID: "+d+" uid:"+g+" parent:"+_+" provider:"+C)):m._contexts.set(M,m.active),k&&ue("INIT "+d+" uid:"+g+" parent:"+_+" provider:"+A[C]+" active:"+v.inspect(m.active,!0))},pre(g,y){M=g;let C=m._contexts.get(g);C?(k&&ue(" PRE "+d+" uid:"+g+" handle:"+Mo(y)+" context:"+v.inspect(C)),m.enter(C)):k&&ue(" PRE MISSING CONTEXT "+d+" uid:"+g+" handle:"+Mo(y))},post(g,y){M=g;let C=m._contexts.get(g);C?(k&&ue(" POST "+d+" uid:"+g+" handle:"+Mo(y)+" context:"+v.inspect(C)),m.exit(C)):k&&ue(" POST MISSING CONTEXT "+d+" uid:"+g+" handle:"+Mo(y))},destroy(g){M=g,k&&ue("DESTROY "+d+" uid:"+g+" context:"+v.inspect(m._contexts.get(M))+" active:"+v.inspect(m.active,!0)),m._contexts.delete(g)}}),process.namespaces[d]=m,m},destroyNamespace:vm,reset:function jN(){process.namespaces&&Object.keys(process.namespaces).forEach((function(d){vm(d)})),process.namespaces=Object.create(null)},ERROR_SYMBOL:b},Qe.prototype.set=function(d,m){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return k&&ue("    SETTING KEY:"+d+"="+m+" in ns:"+this.name+" uid:"+M+" active:"+v.inspect(this.active,!0)),this.active[d]=m,m},Qe.prototype.get=function(d){if(this.active)return k&&ue("    GETTING KEY:"+d+"="+this.active[d]+" "+this.name+" uid:"+M+" active:"+v.inspect(this.active,!0)),this.active[d];k&&ue("    GETTING KEY:"+d+"=undefined "+this.name+" uid:"+M+" active:"+v.inspect(this.active,!0))},Qe.prototype.createContext=function(){k&&ue("   CREATING Context: "+this.name+" uid:"+M+" len:"+this._set.length+"  active:"+v.inspect(this.active,!0,2,!0));let d=Object.create(this.active?this.active:Object.prototype);return d._ns_name=this.name,d.id=M,k&&ue("   CREATED Context: "+this.name+" uid:"+M+" len:"+this._set.length+"  context:"+v.inspect(d,!0,2,!0)),d},Qe.prototype.run=function(d){let m=this.createContext();this.enter(m);try{return k&&ue(" BEFORE RUN: "+this.name+" uid:"+M+" len:"+this._set.length+" "+v.inspect(m)),d(m),m}catch(d){throw d&&(d[b]=m),d}finally{k&&ue(" AFTER RUN: "+this.name+" uid:"+M+" len:"+this._set.length+" "+v.inspect(m)),this.exit(m)}},Qe.prototype.runAndReturn=function(d){var m;return this.run((function(g){m=d(g)})),m},Qe.prototype.runPromise=function(d){let m=this.createContext();this.enter(m);let g=d(m);if(!g||!g.then||!g.catch)throw new Error("fn must return a promise.");return k&&ue(" BEFORE runPromise: "+this.name+" uid:"+M+" len:"+this._set.length+" "+v.inspect(m)),g.then((d=>(k&&ue(" AFTER runPromise: "+this.name+" uid:"+M+" len:"+this._set.length+" "+v.inspect(m)),this.exit(m),d))).catch((d=>{throw d[b]=m,k&&ue(" AFTER runPromise: "+this.name+" uid:"+M+" len:"+this._set.length+" "+v.inspect(m)),this.exit(m),d}))},Qe.prototype.bind=function(d,m){m||(m=this.active?this.active:this.createContext());let g=this;return function(){g.enter(m);try{return d.apply(this,arguments)}catch(d){throw d&&(d[b]=m),d}finally{g.exit(m)}}},Qe.prototype.enter=function(d){y.ok(d,"context must be provided for entering"),k&&ue("  ENTER "+this.name+" uid:"+M+" len:"+this._set.length+" context: "+v.inspect(d)),this._set.push(this.active),this.active=d},Qe.prototype.exit=function(d){if(y.ok(d,"context must be provided for exiting"),k&&ue("  EXIT "+this.name+" uid:"+M+" len:"+this._set.length+" context: "+v.inspect(d)),this.active===d)return y.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let m=this._set.lastIndexOf(d);m<0?(k&&ue("??ERROR?? context exiting but not entered - ignoring: "+v.inspect(d)),y.ok(m>=0,"context not currently entered; can't exit. \n"+v.inspect(this)+"\n"+v.inspect(d))):(y.ok(m,"can't remove top context"),this._set.splice(m,1))},Qe.prototype.bindEmitter=function(d){y.ok(d.on&&d.addListener&&d.emit,"can only bind real EEs");let m=this,g="context@"+this.name;C(d,(function i(d){!d||(d[T]||(d[T]=Object.create(null)),d[T][g]={namespace:m,context:m.active})}),(function a(d){if(!d||!d[T])return d;let m=d,g=d[T];return Object.keys(g).forEach((function(d){let v=g[d];m=v.namespace.bind(m,v.context)})),m}))},Qe.prototype.fromException=function(d){return d[b]},process.namespaces={},_._state&&!_._state.enabled&&_.enable(),k)for(R in(P=li()).filter._modifiers)P.filter.deattach(R)})),hi=l(((d,m)=>{"use strict";var g=Xn();process&&g.gte(process.versions.node,"8.0.0")?m.exports=ei():m.exports=ui()})),pi=l(((d,m)=>{var g;d=m.exports=w,g="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var d=Array.prototype.slice.call(arguments,0);d.unshift("SEMVER"),console.log.apply(console,d)}:function(){},d.SEMVER_SPEC_VERSION="2.0.0";var v=Number.MAX_SAFE_INTEGER||9007199254740991,y=d.re=[],C=d.src=[],_=0,T=_++;C[T]="0|[1-9]\\d*";var b=_++;C[b]="[0-9]+";var A=_++;C[A]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var P=_++;C[P]="("+C[T]+")\\.("+C[T]+")\\.("+C[T]+")";var R=_++;C[R]="("+C[b]+")\\.("+C[b]+")\\.("+C[b]+")";var k=_++;C[k]="(?:"+C[T]+"|"+C[A]+")";var M=_++;C[M]="(?:"+C[b]+"|"+C[A]+")";var I=_++;C[I]="(?:-("+C[k]+"(?:\\."+C[k]+")*))";var O=_++;C[O]="(?:-?("+C[M]+"(?:\\."+C[M]+")*))";var x=_++;C[x]="[0-9A-Za-z-]+";var L=_++;C[L]="(?:\\+("+C[x]+"(?:\\."+C[x]+")*))";var U=_++,j="v?"+C[P]+C[I]+"?"+C[L]+"?";C[U]="^"+j+"$";var B="[v=\\s]*"+C[R]+C[O]+"?"+C[L]+"?",V=_++;C[V]="^"+B+"$";var $=_++;C[$]="((?:<|>)?=?)";var q=_++;C[q]=C[b]+"|x|X|\\*";var Y=_++;C[Y]=C[T]+"|x|X|\\*";var z=_++;C[z]="[v=\\s]*("+C[Y]+")(?:\\.("+C[Y]+")(?:\\.("+C[Y]+")(?:"+C[I]+")?"+C[L]+"?)?)?";var G=_++;C[G]="[v=\\s]*("+C[q]+")(?:\\.("+C[q]+")(?:\\.("+C[q]+")(?:"+C[O]+")?"+C[L]+"?)?)?";var J=_++;C[J]="^"+C[$]+"\\s*"+C[z]+"$";var X=_++;C[X]="^"+C[$]+"\\s*"+C[G]+"$";var te=_++;C[te]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var re=_++;C[re]="(?:~>?)";var ie=_++;C[ie]="(\\s*)"+C[re]+"\\s+",y[ie]=new RegExp(C[ie],"g");var se=_++;C[se]="^"+C[re]+C[z]+"$";var oe=_++;C[oe]="^"+C[re]+C[G]+"$";var ae=_++;C[ae]="(?:\\^)";var ce=_++;C[ce]="(\\s*)"+C[ae]+"\\s+",y[ce]=new RegExp(C[ce],"g");var le=_++;C[le]="^"+C[ae]+C[z]+"$";var de=_++;C[de]="^"+C[ae]+C[G]+"$";var he=_++;C[he]="^"+C[$]+"\\s*("+B+")$|^$";var pe=_++;C[pe]="^"+C[$]+"\\s*("+j+")$|^$";var me=_++;C[me]="(\\s*)"+C[$]+"\\s*("+B+"|"+C[z]+")",y[me]=new RegExp(C[me],"g");var fe=_++;C[fe]="^\\s*("+C[z]+")\\s+-\\s+("+C[z]+")\\s*$";var ge=_++;C[ge]="^\\s*("+C[G]+")\\s+-\\s+("+C[G]+")\\s*$";var ve,ye=_++;for(C[ye]="(<|>)?=?\\s*\\*",ve=0;ve<35;ve++)g(ve,C[ve]),y[ve]||(y[ve]=new RegExp(C[ve]));function Xr(d,m){if((!m||"object"!=typeof m)&&(m={loose:!!m,includePrerelease:!1}),d instanceof w)return d;if("string"!=typeof d||d.length>256)return null;if(!(m.loose?y[V]:y[U]).test(d))return null;try{return new w(d,m)}catch{return null}}function w(d,m){if((!m||"object"!=typeof m)&&(m={loose:!!m,includePrerelease:!1}),d instanceof w){if(d.loose===m.loose)return d;d=d.version}else if("string"!=typeof d)throw new TypeError("Invalid Version: "+d);if(d.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof w))return new w(d,m);g("SemVer",d,m),this.options=m,this.loose=!!m.loose;var C=d.trim().match(m.loose?y[V]:y[U]);if(!C)throw new TypeError("Invalid Version: "+d);if(this.raw=d,this.major=+C[1],this.minor=+C[2],this.patch=+C[3],this.major>v||this.major<0)throw new TypeError("Invalid major version");if(this.minor>v||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>v||this.patch<0)throw new TypeError("Invalid patch version");C[4]?this.prerelease=C[4].split(".").map((function(d){if(/^[0-9]+$/.test(d)){var m=+d;if(m>=0&&m<v)return m}return d})):this.prerelease=[],this.build=C[5]?C[5].split("."):[],this.format()}d.parse=Xr,d.valid=function FN(d,m){var g=Xr(d,m);return g?g.version:null},d.clean=function GN(d,m){var g=Xr(d.trim().replace(/^[=v]+/,""),m);return g?g.version:null},d.SemVer=w,w.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},w.prototype.toString=function(){return this.version},w.prototype.compare=function(d){return g("SemVer.compare",this.version,this.options,d),d instanceof w||(d=new w(d,this.options)),this.compareMain(d)||this.comparePre(d)},w.prototype.compareMain=function(d){return d instanceof w||(d=new w(d,this.options)),Yn(this.major,d.major)||Yn(this.minor,d.minor)||Yn(this.patch,d.patch)},w.prototype.comparePre=function(d){if(d instanceof w||(d=new w(d,this.options)),this.prerelease.length&&!d.prerelease.length)return-1;if(!this.prerelease.length&&d.prerelease.length)return 1;if(!this.prerelease.length&&!d.prerelease.length)return 0;var m=0;do{var v=this.prerelease[m],y=d.prerelease[m];if(g("prerelease compare",m,v,y),void 0===v&&void 0===y)return 0;if(void 0===y)return 1;if(void 0===v)return-1;if(v!==y)return Yn(v,y)}while(++m)},w.prototype.inc=function(d,m){switch(d){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",m);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",m);break;case"prepatch":this.prerelease.length=0,this.inc("patch",m),this.inc("pre",m);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",m),this.inc("pre",m);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var g=this.prerelease.length;--g>=0;)"number"==typeof this.prerelease[g]&&(this.prerelease[g]++,g=-2);-1===g&&this.prerelease.push(0)}m&&(this.prerelease[0]===m?isNaN(this.prerelease[1])&&(this.prerelease=[m,0]):this.prerelease=[m,0]);break;default:throw new Error("invalid increment argument: "+d)}return this.format(),this.raw=this.version,this},d.inc=function VN(d,m,g,v){"string"==typeof g&&(v=g,g=void 0);try{return new w(d,g).inc(m,v).version}catch{return null}},d.diff=function $N(d,m){if(xf(d,m))return null;var g=Xr(d),v=Xr(m),y="";if(g.prerelease.length||v.prerelease.length){y="pre";var C="prerelease"}for(var _ in g)if(("major"===_||"minor"===_||"patch"===_)&&g[_]!==v[_])return y+_;return C},d.compareIdentifiers=Yn;var Se=/^[0-9]+$/;function Yn(d,m){var g=Se.test(d),v=Se.test(m);return g&&v&&(d=+d,m=+m),d===m?0:g&&!v?-1:v&&!g?1:d<m?-1:1}function qt(d,m,g){return new w(d,g).compare(new w(m,g))}function da(d,m,g){return qt(d,m,g)>0}function Uo(d,m,g){return qt(d,m,g)<0}function xf(d,m,g){return 0===qt(d,m,g)}function Mm(d,m,g){return 0!==qt(d,m,g)}function Mf(d,m,g){return qt(d,m,g)>=0}function Lf(d,m,g){return qt(d,m,g)<=0}function Bo(d,m,g,v){switch(m){case"===":return"object"==typeof d&&(d=d.version),"object"==typeof g&&(g=g.version),d===g;case"!==":return"object"==typeof d&&(d=d.version),"object"==typeof g&&(g=g.version),d!==g;case"":case"=":case"==":return xf(d,g,v);case"!=":return Mm(d,g,v);case">":return da(d,g,v);case">=":return Mf(d,g,v);case"<":return Uo(d,g,v);case"<=":return Lf(d,g,v);default:throw new TypeError("Invalid operator: "+m)}}function We(d,m){if((!m||"object"!=typeof m)&&(m={loose:!!m,includePrerelease:!1}),d instanceof We){if(d.loose===!!m.loose)return d;d=d.value}if(!(this instanceof We))return new We(d,m);g("comparator",d,m),this.options=m,this.loose=!!m.loose,this.parse(d),this.semver===Ee?this.value="":this.value=this.operator+this.semver.version,g("comp",this)}d.rcompareIdentifiers=function zN(d,m){return Yn(m,d)},d.major=function XN(d,m){return new w(d,m).major},d.minor=function KN(d,m){return new w(d,m).minor},d.patch=function YN(d,m){return new w(d,m).patch},d.compare=qt,d.compareLoose=function QN(d,m){return qt(d,m,!0)},d.rcompare=function WN(d,m,g){return qt(m,d,g)},d.sort=function ZN(m,g){return m.sort((function(m,v){return d.compare(m,v,g)}))},d.rsort=function JN(m,g){return m.sort((function(m,v){return d.rcompare(m,v,g)}))},d.gt=da,d.lt=Uo,d.eq=xf,d.neq=Mm,d.gte=Mf,d.lte=Lf,d.cmp=Bo,d.Comparator=We;var Ee={};function ee(d,m){if((!m||"object"!=typeof m)&&(m={loose:!!m,includePrerelease:!1}),d instanceof ee)return d.loose===!!m.loose&&d.includePrerelease===!!m.includePrerelease?d:new ee(d.raw,m);if(d instanceof We)return new ee(d.value,m);if(!(this instanceof ee))return new ee(d,m);if(this.options=m,this.loose=!!m.loose,this.includePrerelease=!!m.includePrerelease,this.raw=d,this.set=d.split(/\s*\|\|\s*/).map((function(d){return this.parseRange(d.trim())}),this).filter((function(d){return d.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+d);this.format()}function Me(d){return!d||"x"===d.toLowerCase()||"*"===d}function cD(d,m,g,v,y,C,_,T,b,A,P,R,k){return((m=Me(g)?"":Me(v)?">="+g+".0.0":Me(y)?">="+g+"."+v+".0":">="+m)+" "+(T=Me(b)?"":Me(A)?"<"+(+b+1)+".0.0":Me(P)?"<"+b+"."+(+A+1)+".0":R?"<="+b+"."+A+"."+P+"-"+R:"<="+T)).trim()}function lD(d,m,v){for(var y=0;y<d.length;y++)if(!d[y].test(m))return!1;if(m.prerelease.length&&!v.includePrerelease){for(y=0;y<d.length;y++)if(g(d[y].semver),d[y].semver!==Ee&&d[y].semver.prerelease.length>0){var C=d[y].semver;if(C.major===m.major&&C.minor===m.minor&&C.patch===m.patch)return!0}return!1}return!0}function Fo(d,m,g){try{m=new ee(m,g)}catch{return!1}return m.test(d)}function qf(d,m,g,v){var y,C,_,T,b;switch(d=new w(d,v),m=new ee(m,v),g){case">":y=da,C=Lf,_=Uo,T=">",b=">=";break;case"<":y=Uo,C=Mf,_=da,T="<",b="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Fo(d,m,v))return!1;for(var A=0;A<m.set.length;++A){var P=m.set[A],R=null,k=null;if(P.forEach((function(d){d.semver===Ee&&(d=new We(">=0.0.0")),R=R||d,k=k||d,y(d.semver,R.semver,v)?R=d:_(d.semver,k.semver,v)&&(k=d)})),R.operator===T||R.operator===b||(!k.operator||k.operator===T)&&C(d,k.semver))return!1;if(k.operator===b&&_(d,k.semver))return!1}return!0}We.prototype.parse=function(d){var m=this.options.loose?y[he]:y[pe],g=d.match(m);if(!g)throw new TypeError("Invalid comparator: "+d);this.operator=g[1],"="===this.operator&&(this.operator=""),g[2]?this.semver=new w(g[2],this.options.loose):this.semver=Ee},We.prototype.toString=function(){return this.value},We.prototype.test=function(d){return g("Comparator.test",d,this.options.loose),this.semver===Ee||("string"==typeof d&&(d=new w(d,this.options)),Bo(d,this.operator,this.semver,this.options))},We.prototype.intersects=function(d,m){if(!(d instanceof We))throw new TypeError("a Comparator is required");var g;if((!m||"object"!=typeof m)&&(m={loose:!!m,includePrerelease:!1}),""===this.operator)return g=new ee(d.value,m),Fo(this.value,g,m);if(""===d.operator)return g=new ee(this.value,m),Fo(d.semver,g,m);var v=!(">="!==this.operator&&">"!==this.operator||">="!==d.operator&&">"!==d.operator),y=!("<="!==this.operator&&"<"!==this.operator||"<="!==d.operator&&"<"!==d.operator),C=this.semver.version===d.semver.version,_=!(">="!==this.operator&&"<="!==this.operator||">="!==d.operator&&"<="!==d.operator),T=Bo(this.semver,"<",d.semver,m)&&(">="===this.operator||">"===this.operator)&&("<="===d.operator||"<"===d.operator),b=Bo(this.semver,">",d.semver,m)&&("<="===this.operator||"<"===this.operator)&&(">="===d.operator||">"===d.operator);return v||y||C&&_||T||b},d.Range=ee,ee.prototype.format=function(){return this.range=this.set.map((function(d){return d.join(" ").trim()})).join("||").trim(),this.range},ee.prototype.toString=function(){return this.range},ee.prototype.parseRange=function(d){var m=this.options.loose;d=d.trim();var v=m?y[ge]:y[fe];d=d.replace(v,cD),g("hyphen replace",d),d=d.replace(y[me],"$1$2$3"),g("comparator trim",d,y[me]),d=(d=(d=d.replace(y[ie],"$1~")).replace(y[ce],"$1^")).split(/\s+/).join(" ");var C=m?y[he]:y[pe],_=d.split(" ").map((function(d){return function tD(d,m){return g("comp",d,m),d=function iD(d,m){return d.trim().split(/\s+/).map((function(d){return function aD(d,m){g("caret",d,m);var v=m.loose?y[de]:y[le];return d.replace(v,(function(m,v,y,C,_){var T;return g("caret",d,m,v,y,C,_),Me(v)?T="":Me(y)?T=">="+v+".0.0 <"+(+v+1)+".0.0":Me(C)?T="0"===v?">="+v+"."+y+".0 <"+v+"."+(+y+1)+".0":">="+v+"."+y+".0 <"+(+v+1)+".0.0":_?(g("replaceCaret pr",_),T="0"===v?"0"===y?">="+v+"."+y+"."+C+"-"+_+" <"+v+"."+y+"."+(+C+1):">="+v+"."+y+"."+C+"-"+_+" <"+v+"."+(+y+1)+".0":">="+v+"."+y+"."+C+"-"+_+" <"+(+v+1)+".0.0"):(g("no pr"),T="0"===v?"0"===y?">="+v+"."+y+"."+C+" <"+v+"."+y+"."+(+C+1):">="+v+"."+y+"."+C+" <"+v+"."+(+y+1)+".0":">="+v+"."+y+"."+C+" <"+(+v+1)+".0.0"),g("caret return",T),T}))}(d,m)})).join(" ")}(d,m),g("caret",d),d=function rD(d,m){return d.trim().split(/\s+/).map((function(d){return function nD(d,m){var v=m.loose?y[oe]:y[se];return d.replace(v,(function(m,v,y,C,_){var T;return g("tilde",d,m,v,y,C,_),Me(v)?T="":Me(y)?T=">="+v+".0.0 <"+(+v+1)+".0.0":Me(C)?T=">="+v+"."+y+".0 <"+v+"."+(+y+1)+".0":_?(g("replaceTilde pr",_),T=">="+v+"."+y+"."+C+"-"+_+" <"+v+"."+(+y+1)+".0"):T=">="+v+"."+y+"."+C+" <"+v+"."+(+y+1)+".0",g("tilde return",T),T}))}(d,m)})).join(" ")}(d,m),g("tildes",d),d=function sD(d,m){return g("replaceXRanges",d,m),d.split(/\s+/).map((function(d){return function oD(d,m){d=d.trim();var v=m.loose?y[X]:y[J];return d.replace(v,(function(m,v,y,C,_,T){g("xRange",d,m,v,y,C,_,T);var b=Me(y),A=b||Me(C),P=A||Me(_);return"="===v&&P&&(v=""),b?m=">"===v||"<"===v?"<0.0.0":"*":v&&P?(A&&(C=0),_=0,">"===v?(v=">=",A?(y=+y+1,C=0,_=0):(C=+C+1,_=0)):"<="===v&&(v="<",A?y=+y+1:C=+C+1),m=v+y+"."+C+"."+_):A?m=">="+y+".0.0 <"+(+y+1)+".0.0":P&&(m=">="+y+"."+C+".0 <"+y+"."+(+C+1)+".0"),g("xRange return",m),m}))}(d,m)})).join(" ")}(d,m),g("xrange",d),d=function uD(d,m){return g("replaceStars",d,m),d.trim().replace(y[ye],"")}(d,m),g("stars",d),d}(d,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(_=_.filter((function(d){return!!d.match(C)}))),_=_.map((function(d){return new We(d,this.options)}),this)},ee.prototype.intersects=function(d,m){if(!(d instanceof ee))throw new TypeError("a Range is required");return this.set.some((function(g){return g.every((function(g){return d.set.some((function(d){return d.every((function(d){return g.intersects(d,m)}))}))}))}))},d.toComparators=function eD(d,m){return new ee(d,m).set.map((function(d){return d.map((function(d){return d.value})).join(" ").trim().split(" ")}))},ee.prototype.test=function(d){if(!d)return!1;"string"==typeof d&&(d=new w(d,this.options));for(var m=0;m<this.set.length;m++)if(lD(this.set[m],d,this.options))return!0;return!1},d.satisfies=Fo,d.maxSatisfying=function fD(d,m,g){var v=null,y=null;try{var C=new ee(m,g)}catch{return null}return d.forEach((function(d){C.test(d)&&(!v||-1===y.compare(d))&&(y=new w(v=d,g))})),v},d.minSatisfying=function pD(d,m,g){var v=null,y=null;try{var C=new ee(m,g)}catch{return null}return d.forEach((function(d){C.test(d)&&(!v||1===y.compare(d))&&(y=new w(v=d,g))})),v},d.minVersion=function dD(d,m){d=new ee(d,m);var g=new w("0.0.0");if(d.test(g)||(g=new w("0.0.0-0"),d.test(g)))return g;g=null;for(var v=0;v<d.set.length;++v){d.set[v].forEach((function(d){var m=new w(d.semver.version);switch(d.operator){case">":0===m.prerelease.length?m.patch++:m.prerelease.push(0),m.raw=m.format();case"":case">=":(!g||da(g,m))&&(g=m);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+d.operator)}}))}return g&&d.test(g)?g:null},d.validRange=function hD(d,m){try{return new ee(d,m).range||"*"}catch{return null}},d.ltr=function _D(d,m,g){return qf(d,m,"<",g)},d.gtr=function vD(d,m,g){return qf(d,m,">",g)},d.outside=qf,d.prerelease=function gD(d,m){var g=Xr(d,m);return g&&g.prerelease.length?g.prerelease:null},d.intersects=function ED(d,m,g){return d=new ee(d,g),m=new ee(m,g),d.intersects(m)},d.coerce=function mD(d){if(d instanceof w)return d;if("string"!=typeof d)return null;var m=d.match(y[te]);return null==m?null:Xr(m[1]+"."+(m[2]||"0")+"."+(m[3]||"0"))}})),mi=l(((d,m)=>{var g,v,y,C,_,T=Qn().wrap,b=[],A=0,P=!1,R=[];function Ff(d,m){var g=d.length,v=m.length,y=[];if(0===g&&0===v)return y;for(var C=0;C<g;C++)y[C]=d[C];if(0===v)return y;for(var _=0;_<v;_++){var T=!0;for(C=0;C<g;C++)if(d[C].uid===m[_].uid){T=!1;break}T&&y.push(m[_])}return y}function vt(d,m){"function"==typeof d.create&&(this.create=d.create,this.flags|=1),"function"==typeof d.before&&(this.before=d.before,this.flags|=2),"function"==typeof d.after&&(this.after=d.after,this.flags|=4),"function"==typeof d.error&&(this.error=d.error,this.flags|=8),this.uid=++A,this.data=void 0===m?null:m}function jm(d,m){if("object"!=typeof d||!d)throw new TypeError("callbacks argument must be an object");return d instanceof vt?d:new vt(d,m)}process._fatalException?(y=!1,g=function(d){var m=b.length;if(y||0===m)return!1;var g=!1;y=!0;for(var v=0;v<m;++v){var _=b[v];if(0!=(8&_.flags)){var T=C&&C[_.uid];g=_.error(T,d)||g}}return y=!1,R.length>0&&(b=R.pop()),C=void 0,g&&!P},v=function(d,m,g){var v=[];P=!0;for(var y=0;y<g;++y){var _=m[y];if(v[_.uid]=_.data,0!=(1&_.flags)){var T=_.create(_.data);void 0!==T&&(v[_.uid]=T)}}return P=!1,function(){C=v,R.push(b),b=Ff(m,b),P=!0;for(var y=0;y<g;++y)(2&m[y].flags)>0&&m[y].before(this,v[m[y].uid]);P=!1;var _=d.apply(this,arguments);for(P=!0,y=0;y<g;++y)(4&m[y].flags)>0&&m[y].after(this,v[m[y].uid]);return P=!1,b=R.pop(),C=void 0,_}},T(process,"_fatalException",(function(d){return function(m){return g(m)||d(m)}}))):(_=!1,g=function(d){if(_)throw d;for(var m=!1,g=b.length,v=0;v<g;++v){var y=b[v];0!=(8&y.flags)&&(m=y.error(null,d)||m)}if(!m&&P)throw d},v=function(d,m,v){var y=[];P=!0;for(var C=0;C<v;++C){var T=m[C];if(y[T.uid]=T.data,0!=(1&T.flags)){var A=T.create(T.data);void 0!==A&&(y[T.uid]=A)}}return P=!1,function(){var C,T=!1,A=!1;R.push(b),b=Ff(m,b),P=!0;for(var k=0;k<v;++k)(2&m[k].flags)>0&&m[k].before(this,y[m[k].uid]);P=!1;try{C=d.apply(this,arguments)}catch(d){T=!0;for(k=0;k<v;++k)if(0!=(8&b[k].flags))try{A=b[k].error(y[m[k].uid],d)||A}catch(d){throw _=!0,d}if(!A)throw process.removeListener("uncaughtException",g),process._originalNextTick((function(){process.addListener("uncaughtException",g)})),d}finally{if(!T||A){for(P=!0,k=0;k<v;++k)(4&m[k].flags)>0&&m[k].after(this,y[m[k].uid]);P=!1}b=R.pop()}return C}},process.addListener("uncaughtException",g)),vt.prototype.create=void 0,vt.prototype.before=void 0,vt.prototype.after=void 0,vt.prototype.error=void 0,vt.prototype.data=void 0,vt.prototype.uid=0,vt.prototype.flags=0,process.createAsyncListener=jm,process.addAsyncListener=function ID(d,m){var g;g=d instanceof vt?d:jm(d,m);for(var v=!1,y=0;y<b.length;y++)if(g===b[y]){v=!0;break}return v||b.push(g),g},process.removeAsyncListener=function CD(d){for(var m=0;m<b.length;m++)if(d===b[m]){b.splice(m,1);break}},m.exports=function SD(d){var m=b.length;if(0===m)return d;for(var g=b.slice(),y=0;y<m;++y)if(g[y].flags>0)return v(d,g,m);return function AD(d,m,g){P=!0;for(var v=0;v<g;++v){var y=m[v];y.create&&y.create(y.data)}return P=!1,function(){R.push(b),b=Ff(m,b);var g=d.apply(this,arguments);return b=R.pop(),g}}(d,g,m)}})),fi=l(((d,m)=>{"use strict";m.exports=(d,m)=>class extends d{constructor(d){var g,v;super((function o(d,C){g=this,v=[function f(g){return m(y,!1),d(g)},function p(d){return m(y,!1),C(d)}]}));var y=this;try{d.apply(g,v)}catch(d){v[1](d)}return y}}})),gi=l((()=>{"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var d=Qn(),m=pi(),v=d.wrap,y=d.massWrap,C=mi(),_=g(73837),T=m.gte(process.version,"6.0.0"),b=m.gte(process.version,"7.0.0"),A=m.gte(process.version,"8.0.0"),P=m.gte(process.version,"11.0.0"),R=g(41808);function Fm(d){return function(){this.on("connection",(function(d){d._handle&&(d._handle.onread=C(d._handle.onread))}));try{return d.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=C(this._handle.onconnection))}}}function zm(d){if(d&&d._handle){var m=d._handle;m._originalOnread||(m._originalOnread=m.onread),m.onread=C(m._originalOnread)}}b&&!R._normalizeArgs?R._normalizeArgs=function(d){if(0===d.length)return[{},null];var m=d[0],g={};"object"==typeof m&&null!==m?g=m:function MD(d){return"string"==typeof d&&!1===function xD(d){return(d=Number(d))>=0&&d}(d)}(m)?g.path=m:(g.port=m,d.length>1&&"string"==typeof d[1]&&(g.host=d[1]));var v=d[d.length-1];return"function"!=typeof v?[g,null]:[g,v]}:!b&&!R._normalizeConnectArgs&&(R._normalizeConnectArgs=function(d){var m={};"object"==typeof d[0]&&null!==d[0]?m=d[0]:"string"==typeof d[0]&&!1===function r(d){return(d=Number(d))>=0&&d}(d[0])?m.path=d[0]:(m.port=d[0],"string"==typeof d[1]&&(m.host=d[1]));var g=d[d.length-1];return"function"==typeof g?[m,g]:[m]}),"_setUpListenHandle"in R.Server.prototype?v(R.Server.prototype,"_setUpListenHandle",Fm):v(R.Server.prototype,"_listen2",Fm),v(R.Socket.prototype,"connect",(function(d){return function(){var m;(m=A&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?arguments[0]:b?R._normalizeArgs(arguments):R._normalizeConnectArgs(arguments))[1]&&(m[1]=C(m[1]));var g=d.apply(this,m);return zm(this),g}}));var k=g(13685);v(k.Agent.prototype,"addRequest",(function(d){return function(m){var g=m.onSocket;return m.onSocket=C((function(d){return zm(d),g.apply(this,arguments)})),d.apply(this,arguments)}}));var M=g(32081);function Gm(d){Array.isArray(d.stdio)&&d.stdio.forEach((function(d){d&&d._handle&&(d._handle.onread=C(d._handle.onread),v(d._handle,"close",Yo))})),d._handle&&(d._handle.onexit=C(d._handle.onexit))}M.ChildProcess?v(M.ChildProcess.prototype,"spawn",(function(d){return function(){var m=d.apply(this,arguments);return Gm(this),m}})):y(M,["execFile","fork","spawn"],(function(d){return function(){var m=d.apply(this,arguments);return Gm(m),m}})),process._fatalException||(process._originalNextTick=process.nextTick);var I=[];process._nextDomainTick&&I.push("_nextDomainTick"),process._tickDomainCallback&&I.push("_tickDomainCallback"),y(process,I,Et),v(process,"nextTick",Yo);var O=["setTimeout","setInterval"];global.setImmediate&&O.push("setImmediate");var x=g(39512),L=global.setTimeout===x.setTimeout;y(x,O,Yo),L&&y(global,O,Yo);var U=g(9523);y(U,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],Et),U.resolveNaptr&&v(U,"resolveNaptr",Et);var j,B,V,$=g(57147);y($,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],Et),$.lchown&&v($,"lchown",Et),$.lchmod&&v($,"lchmod",Et),$.ftruncate&&v($,"ftruncate",Et);try{j=g(59796)}catch{}j&&j.Deflate&&j.Deflate.prototype&&((B=Object.getPrototypeOf(j.Deflate.prototype))._transform?v(B,"_transform",Et):B.write&&B.flush&&B.end&&y(B,["write","flush","end"],Et));try{V=g(6113)}catch{}V&&(q=["pbkdf2","randomBytes"],P||q.push("pseudoRandomBytes"),y(V,q,Et));var q,Y,z=!!global.Promise&&"function Promise() { [native code] }"===Promise.toString()&&"function toString() { [native code] }"===Promise.toString.toString();function Et(d){var t=function(){var m,g=arguments.length-1;if("function"==typeof arguments[g]){m=Array(arguments.length);for(var v=0;v<arguments.length-1;v++)m[v]=arguments[v];m[g]=C(arguments[g])}return d.apply(this,m||arguments)};switch(d.length){case 1:return function(m){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof m&&(m=C(m)),d.call(this,m))};case 2:return function(m,g){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof g&&(g=C(g)),d.call(this,m,g))};case 3:return function(m,g,v){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof v&&(v=C(v)),d.call(this,m,g,v))};case 4:return function(m,g,v,y){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof y&&(y=C(y)),d.call(this,m,g,v,y))};case 5:return function(m,g,v,y,_){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof _&&(_=C(_)),d.call(this,m,g,v,y,_))};case 6:return function(m,g,v,y,_,T){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof T&&(T=C(T)),d.call(this,m,g,v,y,_,T))};default:return t}}function Yo(d){var t=function(){var m;if("function"==typeof arguments[0]){(m=Array(arguments.length))[0]=C(arguments[0]);for(var g=1;g<arguments.length;g++)m[g]=arguments[g]}return d.apply(this,m||arguments)};switch(d.length){case 1:return function(m){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof m&&(m=C(m)),d.call(this,m))};case 2:return function(m,g){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof m&&(m=C(m)),d.call(this,m,g))};case 3:return function(m,g,v){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof m&&(m=C(m)),d.call(this,m,g,v))};case 4:return function(m,g,v,y){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof m&&(m=C(m)),d.call(this,m,g,v,y))};case 5:return function(m,g,v,y,_){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof m&&(m=C(m)),d.call(this,m,g,v,y,_))};case 6:return function(m,g,v,y,_,T){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof m&&(m=C(m)),d.call(this,m,g,v,y,_,T))};default:return t}}z&&(Y=process.addAsyncListener({create:function(){z=!1}}),global.Promise.resolve(!0).then((function(){z=!1})),process.removeAsyncListener(Y)),z&&function wD(){var d=global.Promise;function t(m){if(!(this instanceof t))return d(m);if("function"!=typeof m)return new d(m);var g,v,y=new d((function f(d,m){g=this,v=[function h(m){return n(y,!1),d(m)},function E(d){return n(y,!1),m(d)}]}));y.__proto__=t.prototype;try{m.apply(g,v)}catch(d){v[1](d)}return y}if(_.inherits(t,d),v(d.prototype,"then",a),d.prototype.chain&&v(d.prototype,"chain",a),T)global.Promise=fi()(d,n);else{["all","race","reject","resolve","accept","defer"].forEach((function(m){"function"==typeof d[m]&&(t[m]=d[m])})),global.Promise=t}function n(d,m){(!d.__asl_wrapper||m)&&(d.__asl_wrapper=C(i))}function i(m,g,v,y){var C;try{return{returnVal:C=g.call(m,v),error:!1}}catch(d){return{errorVal:d,error:!0}}finally{C instanceof d?y.__asl_wrapper=function(){var d=C.__asl_wrapper||i;return d.apply(this,arguments)}:n(y,!0)}}function a(d){return function(){var m=this,g=d.apply(m,Array.prototype.map.call(arguments,f));return g.__asl_wrapper=function(d,v,y,C){return m.__asl_wrapper?(m.__asl_wrapper(d,(function(){}),null,g),g.__asl_wrapper(d,v,y,C)):i(d,v,y,C)},g;function f(d){return"function"!=typeof d?d:C((function(v){var y=(m.__asl_wrapper||i)(this,d,v,g);if(y.error)throw y.errorVal;return y.returnVal}))}}}}()})),vi=l(((d,m)=>{"use strict";var v=g(39491),y=Zn(),C="cls@contexts",_="error@context";function st(d){this.name=d,this.active=null,this._set=[],this.id=null}function Ym(d){return process.namespaces[d]}function Qm(d){var m=Ym(d);v.ok(m,"can't delete nonexistent namespace!"),v.ok(m.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(m.id),process.namespaces[d]=null}function Wm(){process.namespaces&&Object.keys(process.namespaces).forEach((function(d){Qm(d)})),process.namespaces=Object.create(null)}process.addAsyncListener||gi(),st.prototype.set=function(d,m){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[d]=m,m},st.prototype.get=function(d){if(this.active)return this.active[d]},st.prototype.createContext=function(){return Object.create(this.active)},st.prototype.run=function(d){var m=this.createContext();this.enter(m);try{return d(m),m}catch(d){throw d&&(d[_]=m),d}finally{this.exit(m)}},st.prototype.runAndReturn=function(d){var m;return this.run((function(g){m=d(g)})),m},st.prototype.bind=function(d,m){m||(m=this.active?this.active:this.createContext());var g=this;return function(){g.enter(m);try{return d.apply(this,arguments)}catch(d){throw d&&(d[_]=m),d}finally{g.exit(m)}}},st.prototype.enter=function(d){v.ok(d,"context must be provided for entering"),this._set.push(this.active),this.active=d},st.prototype.exit=function(d){if(v.ok(d,"context must be provided for exiting"),this.active===d)return v.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());var m=this._set.lastIndexOf(d);v.ok(m>=0,"context not currently entered; can't exit"),v.ok(m,"can't remove top context"),this._set.splice(m,1)},st.prototype.bindEmitter=function(d){v.ok(d.on&&d.addListener&&d.emit,"can only bind real EEs");var m=this,g="context@"+this.name;y(d,(function n(d){!d||(d[C]||(d[C]=Object.create(null)),d[C][g]={namespace:m,context:m.active})}),(function i(d){if(!d||!d[C])return d;var m=d,g=d[C];return Object.keys(g).forEach((function(d){var v=g[d];m=v.namespace.bind(m,v.context)})),m}))},st.prototype.fromException=function(d){return d[_]},process.namespaces||Wm(),m.exports={getNamespace:Ym,createNamespace:function qD(d){v.ok(d,"namespace must be given a name!");var m=new st(d);return m.id=process.addAsyncListener({create:function(){return m.active},before:function(d,g){g&&m.enter(g)},after:function(d,g){g&&m.exit(g)},error:function(d){d&&m.exit(d)}}),process.namespaces[d]=m,m},destroyNamespace:Qm,reset:Wm}})),yi=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.CorrelationContextManager=void 0;var m=I(),g=Wr(),v=zr(),y=Gr(),C=Jn(),_=function(){function e(){}return e.getCurrentContext=function(){if(!e.enabled)return null;var d=e.session.get(e.CONTEXT_NAME);return void 0===d?null:d},e.generateContextObject=function(d,m,g,v,y,C){return m=m||d,this.enabled?{operation:{name:g,id:d,parentId:m,traceparent:y,tracestate:C},customProperties:new T(v)}:null},e.spanToContextObject=function(d,m,g){var y=new v;return y.traceId=d.traceId,y.spanId=d.spanId,y.traceFlag=v.formatOpenTelemetryTraceFlags(d.traceFlags)||v.DEFAULT_TRACE_FLAG,y.parentId=m,e.generateContextObject(y.traceId,y.parentId,g,null,y)},e.runWithContext=function(d,m){var g;return e.enabled?e.session.bind(m,((g={})[e.CONTEXT_NAME]=d,g))():m()},e.wrapEmitter=function(d){e.enabled&&e.session.bindEmitter(d)},e.wrapCallback=function(d,m){var g;return e.enabled?e.session.bind(d,m?((g={})[e.CONTEXT_NAME]=m,g):void 0):d},e.enable=function(d){if(!this.enabled){if(!this.isNodeVersionCompatible())return void(this.enabled=!1);e.hasEverEnabled||(this.forceClsHooked=d,this.hasEverEnabled=!0,typeof this.cls>"u"&&(!0===e.forceClsHooked||void 0===e.forceClsHooked&&e.shouldUseClsHooked()?this.cls=hi():this.cls=vi()),e.session=this.cls.createNamespace("AI-CLS-Session"),g.registerContextPreservation((function(d){return e.session.bind(d)}))),this.enabled=!0}},e.startOperation=function(d,g){var _=d&&d.traceContext||null,T=d&&d.traceId?d:null,b=d&&d.headers;if(T){var A=new v("00-"+T.traceId+"-"+T.spanId+"-01"),P=new y(T.traceState?T.traceState.serialize():null);return e.generateContextObject(T.traceId,"|"+T.traceId+"."+T.spanId+".","string"==typeof g?g:"",void 0,A,P)}if(_){A=new v(_.traceparent),P=new y(_.tracestate);var R="object"==typeof g?new C(g):null;return e.generateContextObject(A.traceId,A.parentId,"string"==typeof g?g:R.getOperationName({}),R&&R.getCorrelationContextHeader()||void 0,A,P)}if(b){A=new v(b.traceparent?b.traceparent.toString():null),P=new y(b.tracestate?b.tracestate.toString():null),R=new C(d);return e.generateContextObject(A.traceId,A.parentId,R.getOperationName({}),R.getCorrelationContextHeader(),A,P)}return m.warn("startOperation was called with invalid arguments",arguments),null},e.disable=function(){this.enabled=!1},e.reset=function(){e.hasEverEnabled&&(e.session=null,e.session=this.cls.createNamespace("AI-CLS-Session"))},e.isNodeVersionCompatible=function(){var d=process.versions.node.split(".");return parseInt(d[0])>3||parseInt(d[0])>2&&parseInt(d[1])>2},e.shouldUseClsHooked=function(){var d=process.versions.node.split(".");return parseInt(d[0])>8||parseInt(d[0])>=8&&parseInt(d[1])>=2},e.canUseClsHooked=function(){var d=process.versions.node.split("."),m=parseInt(d[0])>8||parseInt(d[0])>=8&&parseInt(d[1])>=0,g=parseInt(d[0])<8||parseInt(d[0])<=8&&parseInt(d[1])<2,v=parseInt(d[0])>4||parseInt(d[0])>=4&&parseInt(d[1])>=7;return!(m&&g)&&v},e.enabled=!1,e.hasEverEnabled=!1,e.forceClsHooked=void 0,e.CONTEXT_NAME="ApplicationInsights-Context",e}();d.CorrelationContextManager=_;var T=function(){function e(d){this.props=[],this.addHeaderData(d)}return e.prototype.addHeaderData=function(d){var m=d?d.split(", "):[];this.props=m.map((function(d){var m=d.split("=");return{key:m[0],value:m[1]}})).concat(this.props)},e.prototype.serializeToHeader=function(){return this.props.map((function(d){return d.key+"="+d.value})).join(", ")},e.prototype.getProperty=function(d){for(var m=0;m<this.props.length;++m){var g=this.props[m];if(g.key===d)return g.value}},e.prototype.setProperty=function(d,g){if(e.bannedCharacters.test(d)||e.bannedCharacters.test(g))m.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+d+" and value: "+g);else{for(var v=0;v<this.props.length;++v){var y=this.props[v];if(y.key===d)return void(y.value=g)}this.props.push({key:d,value:g})}},e.bannedCharacters=/[,=]/,e}()})),Ei=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.dispose=d.enable=void 0;var m=Gn(),g=j(),v=[],Jf=function(d){var g=d.data.message;v.forEach((function(v){g instanceof Error?v.trackException({exception:g}):(g.lastIndexOf("\n")==g.length-1&&(g=g.substring(0,g.length-1)),v.trackTrace({message:g,severity:d.data.stderr?m.SeverityLevel.Warning:m.SeverityLevel.Information}))}))};d.enable=function UD(d,m){d?(0===v.length&&g.channel.subscribe("console",Jf),v.push(m)):0===(v=v.filter((function(d){return d!=m}))).length&&g.channel.unsubscribe("console",Jf)},d.dispose=function BD(){g.channel.unsubscribe("console",Jf),v=[]}})),Ci=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.dispose=d.enable=void 0;var m=Gn(),g=j(),v=[],y={10:m.SeverityLevel.Verbose,20:m.SeverityLevel.Verbose,30:m.SeverityLevel.Information,40:m.SeverityLevel.Warning,50:m.SeverityLevel.Error,60:m.SeverityLevel.Critical},tp=function(d){var m=d.data.result;v.forEach((function(g){var v=y[d.data.level];m instanceof Error?g.trackException({exception:m}):g.trackTrace({message:m,severity:v})}))};d.enable=function GD(d,m){d?(0===v.length&&g.channel.subscribe("bunyan",tp),v.push(m)):0===(v=v.filter((function(d){return d!=m}))).length&&g.channel.unsubscribe("bunyan",tp)},d.dispose=function VD(){g.channel.unsubscribe("bunyan",tp),v=[]}})),_i=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.dispose=d.enable=void 0;var m=Gn(),g=j(),v=[],y={syslog:function(d){var g={emerg:m.SeverityLevel.Critical,alert:m.SeverityLevel.Critical,crit:m.SeverityLevel.Critical,error:m.SeverityLevel.Error,warning:m.SeverityLevel.Warning,notice:m.SeverityLevel.Information,info:m.SeverityLevel.Information,debug:m.SeverityLevel.Verbose};return void 0===g[d]?m.SeverityLevel.Information:g[d]},npm:function(d){var g={error:m.SeverityLevel.Error,warn:m.SeverityLevel.Warning,info:m.SeverityLevel.Information,verbose:m.SeverityLevel.Verbose,debug:m.SeverityLevel.Verbose,silly:m.SeverityLevel.Verbose};return void 0===g[d]?m.SeverityLevel.Information:g[d]},unknown:function(d){return m.SeverityLevel.Information}},np=function(d){var m=d.data.message;v.forEach((function(g){if(m instanceof Error)g.trackException({exception:m,properties:d.data.meta});else{var v=y[d.data.levelKind](d.data.level);g.trackTrace({message:m,severity:v,properties:d.data.meta})}}))};d.enable=function zD(d,m){d?(0===v.length&&g.channel.subscribe("winston",np),v.push(m)):0===(v=v.filter((function(d){return d!=m}))).length&&g.channel.unsubscribe("winston",np)},d.dispose=function XD(){g.channel.unsubscribe("winston",np),v=[]}})),Ti=l(((d,m)=>{"use strict";var g=Wr(),v=function(){function e(d){if(e.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=d,e.INSTANCE=this}return e.prototype.enable=function(d,m){g.IsInitialized&&(Ei().enable(d&&m,this._client),Ci().enable(d,this._client),_i().enable(d,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1,!1)},e._methodNames=["debug","info","log","warn","error"],e}();m.exports=v})),bi=l(((d,m)=>{"use strict";var g=function(){function e(d){if(e.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=d;var m=process.versions.node.split(".");e._canUseUncaughtExceptionMonitor=parseInt(m[0])>13||13===parseInt(m[0])&&parseInt(m[1])>=7}return e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.enable=function(d){var m=this;if(d){this._isInitialized=!0;if(!this._exceptionListenerHandle){var i=function(d,g,v){void 0===v&&(v=new Error(e._FALLBACK_ERROR_MESSAGE)),m._client.trackException({exception:v}),m._client.flush({isAppCrashing:!0}),d&&g&&1===process.listeners(g).length&&(console.error(v),process.exit(1))};e._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=i.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=i.bind(this,!0,e.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=i.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(e._canUseUncaughtExceptionMonitor?process.removeListener(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.INSTANCE=null,e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",e.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",e.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",e._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",e._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",e._canUseUncaughtExceptionMonitor=!1,e}();m.exports=g})),wi=l((d=>{"use strict";var m,g,v,y;Object.defineProperty(d,"__esModule",{value:!0}),d.HeartBeatMetricName=d.DependencyTypeName=d.SpanAttribute=d.TelemetryTypeStringToQuickPulseDocumentType=d.TelemetryTypeStringToQuickPulseType=d.QuickPulseType=d.QuickPulseDocumentType=d.PerformanceToQuickPulseCounter=d.MetricId=d.PerformanceCounter=d.QuickPulseCounter=d.DEFAULT_LIVEMETRICS_HOST=d.DEFAULT_LIVEMETRICS_ENDPOINT=d.DEFAULT_BREEZE_ENDPOINT=void 0,d.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",d.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",d.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com",(v=g=d.QuickPulseCounter||(d.QuickPulseCounter={})).COMMITTED_BYTES="\\Memory\\Committed Bytes",v.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",v.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",v.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",v.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",v.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",v.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",v.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",v.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec",function(d){d.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",d.AVAILABLE_BYTES="\\Memory\\Available Bytes",d.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",d.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",d.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",d.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"}(y=d.PerformanceCounter||(d.PerformanceCounter={})),function(d){d.REQUESTS_DURATION="requests/duration",d.DEPENDENCIES_DURATION="dependencies/duration",d.EXCEPTIONS_COUNT="exceptions/count",d.TRACES_COUNT="traces/count"}(d.MetricId||(d.MetricId={})),d.PerformanceToQuickPulseCounter=((m={})[y.PROCESSOR_TIME]=g.PROCESSOR_TIME,m[y.REQUEST_RATE]=g.REQUEST_RATE,m[y.REQUEST_DURATION]=g.REQUEST_DURATION,m[g.COMMITTED_BYTES]=g.COMMITTED_BYTES,m[g.REQUEST_FAILURE_RATE]=g.REQUEST_FAILURE_RATE,m[g.DEPENDENCY_RATE]=g.DEPENDENCY_RATE,m[g.DEPENDENCY_FAILURE_RATE]=g.DEPENDENCY_FAILURE_RATE,m[g.DEPENDENCY_DURATION]=g.DEPENDENCY_DURATION,m[g.EXCEPTION_RATE]=g.EXCEPTION_RATE,m),d.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability",PageView:"PageView"},d.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument",PageView:"PageViewTelemetryDocument"},d.TelemetryTypeStringToQuickPulseType={EventData:d.QuickPulseType.Event,ExceptionData:d.QuickPulseType.Exception,MessageData:d.QuickPulseType.Trace,MetricData:d.QuickPulseType.Metric,RequestData:d.QuickPulseType.Request,RemoteDependencyData:d.QuickPulseType.Dependency,AvailabilityData:d.QuickPulseType.Availability,PageViewData:d.QuickPulseType.PageView},d.TelemetryTypeStringToQuickPulseDocumentType={EventData:d.QuickPulseDocumentType.Event,ExceptionData:d.QuickPulseDocumentType.Exception,MessageData:d.QuickPulseDocumentType.Trace,MetricData:d.QuickPulseDocumentType.Metric,RequestData:d.QuickPulseDocumentType.Request,RemoteDependencyData:d.QuickPulseDocumentType.Dependency,AvailabilityData:d.QuickPulseDocumentType.Availability,PageViewData:d.QuickPulseDocumentType.PageView},d.SpanAttribute={HttpHost:"http.host",HttpMethod:"http.method",HttpPort:"http.port",HttpStatusCode:"http.status_code",HttpUrl:"http.url",HttpUserAgent:"http.user_agent",GrpcMethod:"grpc.method",GrpcService:"rpc.service"},d.DependencyTypeName={Grpc:"GRPC",Http:"HTTP",InProc:"InProc"},d.HeartBeatMetricName="HeartBeat"})),Ai=l(((d,m)=>{"use strict";var v=g(22037),y=wi(),C=function(){function e(d,m,g){void 0===m&&(m=6e4),void 0===g&&(g=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=d,this._collectionInterval=m,this._enableLiveMetricsCounters=g}return e.prototype.enable=function(d,m){var g=this;this._isEnabled=d,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),d?this._handle||(this._lastCpus=v.cpus(),this._lastRequests={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:e._totalExceptionCount,time:+new Date},"function"==typeof process.cpuUsage&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=m||this._collectionInterval,this._handle=setInterval((function(){return g.trackPerformance()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countRequest=function(d,m){var g;if(e.isEnabled()){if("string"==typeof d)g=+new Date("1970-01-01T"+d+"Z");else{if("number"!=typeof d)return;g=d}e._intervalRequestExecutionTime+=g,!1===m&&e._totalFailedRequestCount++,e._totalRequestCount++}},e.countException=function(){e._totalExceptionCount++},e.countDependency=function(d,m){var g;if(e.isEnabled()){if("string"==typeof d)g=+new Date("1970-01-01T"+d+"Z");else{if("number"!=typeof d)return;g=d}e._intervalDependencyExecutionTime+=g,!1===m&&e._totalFailedDependencyCount++,e._totalDependencyCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},e.prototype._trackCpu=function(){var d=v.cpus();if(d&&d.length&&this._lastCpus&&d.length===this._lastCpus.length){for(var m=0,g=0,C=0,_=0,T=0,b=0;d&&b<d.length;b++){var A=d[b],P=this._lastCpus[b],R=(A.model,A.speed,A.times),k=P.times;m+=R.user-k.user||0,g+=R.sys-k.sys||0,C+=R.nice-k.nice||0,_+=R.idle-k.idle||0,T+=R.irq-k.irq||0}var M=void 0;if("function"==typeof process.cpuUsage){var I=process.cpuUsage(),O=process.hrtime(),x=I.user-this._lastAppCpuUsage.user+(I.system-this._lastAppCpuUsage.system)||0;if(typeof this._lastHrtime<"u"&&2===this._lastHrtime.length)M=100*x/((1e6*(O[0]-this._lastHrtime[0])+(O[1]-this._lastHrtime[1])/1e3||0)*d.length);this._lastAppCpuUsage=I,this._lastHrtime=O}var L=m+g+C+_+T||1;this._client.trackMetric({name:y.PerformanceCounter.PROCESSOR_TIME,value:(L-_)/L*100}),this._client.trackMetric({name:y.PerformanceCounter.PROCESS_TIME,value:M||m/L*100})}this._lastCpus=d},e.prototype._trackMemory=function(){var d=v.freemem(),m=process.memoryUsage().rss,g=v.totalmem()-d;this._client.trackMetric({name:y.PerformanceCounter.PRIVATE_BYTES,value:m}),this._client.trackMetric({name:y.PerformanceCounter.AVAILABLE_BYTES,value:d}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:y.QuickPulseCounter.COMMITTED_BYTES,value:g})},e.prototype._trackNetwork=function(){var d=this._lastRequests,m={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},g=m.totalRequestCount-d.totalRequestCount||0,v=m.totalFailedRequestCount-d.totalFailedRequestCount||0,C=m.time-d.time,_=C/1e3,T=(e._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/g||0;if(this._lastIntervalRequestExecutionTime=e._intervalRequestExecutionTime,C>0){var b=g/_,A=v/_;this._client.trackMetric({name:y.PerformanceCounter.REQUEST_RATE,value:b}),(!this._enableLiveMetricsCounters||g>0)&&this._client.trackMetric({name:y.PerformanceCounter.REQUEST_DURATION,value:T}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:y.QuickPulseCounter.REQUEST_FAILURE_RATE,value:A})}this._lastRequests=m},e.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var d=this._lastDependencies,m={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},g=m.totalDependencyCount-d.totalDependencyCount||0,v=m.totalFailedDependencyCount-d.totalFailedDependencyCount||0,C=m.time-d.time,_=C/1e3,T=(e._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/g||0;if(this._lastIntervalDependencyExecutionTime=e._intervalDependencyExecutionTime,C>0){var b=g/_,A=v/_;this._client.trackMetric({name:y.QuickPulseCounter.DEPENDENCY_RATE,value:b}),this._client.trackMetric({name:y.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:A}),(!this._enableLiveMetricsCounters||g>0)&&this._client.trackMetric({name:y.QuickPulseCounter.DEPENDENCY_DURATION,value:T})}this._lastDependencies=m}},e.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var d=this._lastExceptions,m={totalExceptionCount:e._totalExceptionCount,time:+new Date},g=m.totalExceptionCount-d.totalExceptionCount||0,v=m.time-d.time;if(v>0){var C=g/(v/1e3);this._client.trackMetric({name:y.QuickPulseCounter.EXCEPTION_RATE,value:C})}this._lastExceptions=m}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e._totalRequestCount=0,e._totalFailedRequestCount=0,e._totalDependencyCount=0,e._totalFailedDependencyCount=0,e._totalExceptionCount=0,e._intervalDependencyExecutionTime=0,e._intervalRequestExecutionTime=0,e}();m.exports=C})),Pi=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.AggregatedMetricCounter=void 0;var m=function e(d){this.dimensions=d,this.totalCount=0,this.lastTotalCount=0,this.intervalExecutionTime=0,this.lastTime=+new Date,this.lastIntervalExecutionTime=0};d.AggregatedMetricCounter=m})),ki=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.PreaggregatedMetricPropertyNames=void 0,d.PreaggregatedMetricPropertyNames={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel"}})),Ni=l(((d,m)=>{"use strict";var g=d&&d.__assign||function(){return g=Object.assign||function(d){for(var m,g=1,v=arguments.length;g<v;g++)for(var y in m=arguments[g])Object.prototype.hasOwnProperty.call(m,y)&&(d[y]=m[y]);return d},g.apply(this,arguments)},v=wi(),y=Pi(),C=ki(),_=function(){function e(d,m){void 0===m&&(m=6e4),e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,e._dependencyCountersCollection=[],e._requestCountersCollection=[],e._exceptionCountersCollection=[],e._traceCountersCollection=[],this._client=d,this._collectionInterval=m}return e.prototype.enable=function(d,m){var g=this;this._isEnabled=d,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),d?this._handle||(this._collectionInterval=m||this._collectionInterval,this._handle=setInterval((function(){return g.trackPreAggregatedMetrics()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countException=function(d){e.isEnabled()&&e._getAggregatedCounter(d,this._exceptionCountersCollection).totalCount++},e.countTrace=function(d){e.isEnabled()&&e._getAggregatedCounter(d,this._traceCountersCollection).totalCount++},e.countRequest=function(d,m){if(e.isEnabled()){var g,v=e._getAggregatedCounter(m,this._requestCountersCollection);if("string"==typeof d)g=+new Date("1970-01-01T"+d+"Z");else{if("number"!=typeof d)return;g=d}v.intervalExecutionTime+=g,v.totalCount++}},e.countDependency=function(d,m){if(e.isEnabled()){var g,v=e._getAggregatedCounter(m,this._dependencyCountersCollection);if("string"==typeof d)g=+new Date("1970-01-01T"+d+"Z");else{if("number"!=typeof d)return;g=d}v.intervalExecutionTime+=g,v.totalCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPreAggregatedMetrics=function(){this._trackRequestMetrics(),this._trackDependencyMetrics(),this._trackExceptionMetrics(),this._trackTraceMetrics()},e._getAggregatedCounter=function(d,m){for(var g=!1,v=0;v<m.length;v++){if(d===m[v].dimensions)return m[v];if(Object.keys(d).length===Object.keys(m[v].dimensions).length){for(var C in d)if(d[C]!=m[v].dimensions[C]){g=!0;break}if(!g)return m[v];g=!1}}var _=new y.AggregatedMetricCounter(d);return m.push(_),_},e.prototype._trackRequestMetrics=function(){for(var d=0;d<e._requestCountersCollection.length;d++){var m=e._requestCountersCollection[d];m.time=+new Date;var g=m.totalCount-m.lastTotalCount||0,y=m.time-m.lastTime,C=(m.intervalExecutionTime-m.lastIntervalExecutionTime)/g||0;m.lastIntervalExecutionTime=m.intervalExecutionTime,y>0&&g>0&&this._trackPreAggregatedMetric({name:"Server response time",dimensions:m.dimensions,value:C,count:g,aggregationInterval:y,metricType:v.MetricId.REQUESTS_DURATION}),m.lastTotalCount=m.totalCount,m.lastTime=m.time}},e.prototype._trackDependencyMetrics=function(){for(var d=0;d<e._dependencyCountersCollection.length;d++){var m=e._dependencyCountersCollection[d];m.time=+new Date;var g=m.totalCount-m.lastTotalCount||0,y=m.time-m.lastTime,C=(m.intervalExecutionTime-m.lastIntervalExecutionTime)/g||0;m.lastIntervalExecutionTime=m.intervalExecutionTime,y>0&&g>0&&this._trackPreAggregatedMetric({name:"Dependency duration",dimensions:m.dimensions,value:C,count:g,aggregationInterval:y,metricType:v.MetricId.DEPENDENCIES_DURATION}),m.lastTotalCount=m.totalCount,m.lastTime=m.time}},e.prototype._trackExceptionMetrics=function(){for(var d=0;d<e._exceptionCountersCollection.length;d++){var m=e._exceptionCountersCollection[d],g=m.totalCount-m.lastTotalCount||0,y=m.time-m.lastTime;this._trackPreAggregatedMetric({name:"Exceptions",dimensions:m.dimensions,value:g,count:g,aggregationInterval:y,metricType:v.MetricId.EXCEPTIONS_COUNT}),m.lastTotalCount=m.totalCount,m.lastTime=m.time}},e.prototype._trackTraceMetrics=function(){for(var d=0;d<e._traceCountersCollection.length;d++){var m=e._traceCountersCollection[d],g=m.totalCount-m.lastTotalCount||0,y=m.time-m.lastTime;this._trackPreAggregatedMetric({name:"Traces",dimensions:m.dimensions,value:g,count:g,aggregationInterval:y,metricType:v.MetricId.TRACES_COUNT}),m.lastTotalCount=m.totalCount,m.lastTime=m.time}},e.prototype._trackPreAggregatedMetric=function(d){var m={};for(var v in d.dimensions)m[C.PreaggregatedMetricPropertyNames[v]]=d.dimensions[v];m=g(g({},m),{"_MS.MetricId":d.metricType,"_MS.AggregationIntervalMs":String(d.aggregationInterval),"_MS.IsAutocollected":"True"});var y={name:d.name,value:d.value,count:d.count,properties:m,kind:"Aggregation"};this._client.trackMetric(y)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e}();m.exports=_})),Mi=l(((d,m)=>{"use strict";var v=g(22037),y=g(57147),C=g(71017),_=Gn(),T=I(),b=function(){function e(d){this.keys=new _.ContextTagKeys,this.tags={},this._loadApplicationContext(d),this._loadDeviceContext(),this._loadInternalContext()}return e.prototype._loadApplicationContext=function(d){if(d=d||C.resolve(__dirname,"../../../../package.json"),!e.appVersion[d]){e.appVersion[d]="unknown";try{var m=JSON.parse(y.readFileSync(d,"utf8"));m&&"string"==typeof m.version&&(e.appVersion[d]=m.version)}catch(d){T.info("unable to read app version: ",d)}}this.tags[this.keys.applicationVersion]=e.appVersion[d]},e.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=v&&v.hostname(),this.tags[this.keys.deviceOSVersion]=v&&v.type()+" "+v.release(),this.tags[this.keys.cloudRole]=e.DefaultRoleName,this.tags["ai.device.osArchitecture"]=v&&v.arch(),this.tags["ai.device.osPlatform"]=v&&v.platform()},e.prototype._loadInternalContext=function(){var d=C.resolve(__dirname,"../../package.json");if(!e.sdkVersion){e.sdkVersion="unknown";try{var m=JSON.parse(y.readFileSync(d,"utf8"));m&&"string"==typeof m.version&&(e.sdkVersion=m.version)}catch(d){T.info("unable to read app version: ",d)}}this.tags[this.keys.internalSdkVersion]="node:"+e.sdkVersion},e.DefaultRoleName="Web",e.appVersion={},e.sdkVersion=null,e}();m.exports=b})),Di=l(((d,m)=>{"use strict";var v,y=d&&d.__extends||(v=function(d,m){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(d[g]=m[g])})(d,m)},function(d,m){function n(){this.constructor=d}v(d,m),d.prototype=null===m?Object.create(m):(n.prototype=m.prototype,new n)}),C=g(57310),_=Gn(),T=qr(),b=Vr(),A=Kn(),P=Yr(),R=function(d){function t(m,g){var v=d.call(this)||this;return g&&g.method&&m&&(v.method=g.method,v.url=t._getUrlFromRequestOptions(m,g),v.startTime=+new Date),v}return y(t,d),t.prototype.onError=function(d){this._setStatus(void 0,d)},t.prototype.onResponse=function(d){this._setStatus(d.statusCode,void 0),this.correlationId=T.getCorrelationContextTarget(d,b.requestContextTargetKey)},t.prototype.getDependencyTelemetry=function(d,m){var g=C.parse(this.url);g.search=void 0,g.hash=void 0;var v=this.method.toUpperCase()+" "+g.pathname,y=_.RemoteDependencyDataConstants.TYPE_HTTP,T=g.hostname;g.port&&(T+=":"+g.port),this.correlationId?(y=_.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==P.correlationIdPrefix&&(T+=" | "+this.correlationId)):y=_.RemoteDependencyDataConstants.TYPE_HTTP;var b={id:m,name:v,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:y,target:T};if(d&&d.time?b.time=d.time:this.startTime&&(b.time=new Date(this.startTime)),d){for(var A in d)b[A]||(b[A]=d[A]);if(d.properties)for(var A in d.properties)b.properties[A]=d.properties[A]}return b},t._getUrlFromRequestOptions=function(d,m){if("string"==typeof d)if(0===d.indexOf("http://")||0===d.indexOf("https://"))d=C.parse(d);else{var g=C.parse(d);d="443"===g.host?C.parse("https://"+d):C.parse("http://"+d)}else{if(d&&"function"==typeof C.URL&&d instanceof C.URL)return C.format(d);var v=d;d={},v&&Object.keys(v).forEach((function(m){d[m]=v[m]}))}if(d.path){var y=C.parse(d.path);d.pathname=y.pathname,d.search=y.search}d.host&&d.port&&(!C.parse("http://"+d.host).port&&d.port&&(d.hostname=d.host,delete d.host));return d.protocol=d.protocol||m.agent&&m.agent.protocol||m.protocol||void 0,d.hostname=d.hostname||"localhost",C.format(d)},t}(A);m.exports=R})),Ii=l((d=>{"use strict";var m=d&&d.__assign||function(){return m=Object.assign||function(d){for(var m,g=1,v=arguments.length;g<v;g++)for(var y in m=arguments[g])Object.prototype.hasOwnProperty.call(m,y)&&(d[y]=m[y]);return d},m.apply(this,arguments)};Object.defineProperty(d,"__esModule",{value:!0}),d.spanToTelemetryContract=void 0;var g=Ge(),v=wi();function up(d){var g=m({},d);return Object.keys(v.SpanAttribute).forEach((function(d){delete g[d]})),g}d.spanToTelemetryContract=function pw(d){var y="|"+d.spanContext().traceId+"."+d.spanContext().spanId+".",C=Math.round(1e3*d._duration[0]+d._duration[1]/1e6),_=d.attributes["peer.address"]?d.attributes["peer.address"].toString():"",T=d.attributes.component?d.attributes.component.toString():"",b=T.toUpperCase()===v.DependencyTypeName.Http||!!d.attributes[v.SpanAttribute.HttpUrl],A=T.toLowerCase()===v.DependencyTypeName.Grpc;if(b){var P=d.attributes[v.SpanAttribute.HttpMethod]||"GET",R=new URL(d.attributes[v.SpanAttribute.HttpUrl].toString()),k=d.attributes[v.SpanAttribute.HttpHost]||R.host,M=d.attributes[v.SpanAttribute.HttpPort]||R.port||null,I=P+" "+(R.pathname||"/"),O=v.DependencyTypeName.Http,x=M?(k+":"+M).toString():k.toString(),L=R.toString(),U=d.attributes[v.SpanAttribute.HttpStatusCode]||d.status.code||0;return{id:y,name:I,dependencyTypeName:O,target:x,data:L,success:U<400,duration:C,url:L,resultCode:String(U),properties:up(d.attributes)}}if(A){P=d.attributes[v.SpanAttribute.GrpcMethod]||"rpc";var j=d.attributes[v.SpanAttribute.GrpcService],B=j?P+" "+j:d.name;return{id:y,duration:C,name:B,target:j.toString(),data:j.toString()||B,url:j.toString()||B,dependencyTypeName:v.DependencyTypeName.Grpc,resultCode:String(d.status.code||0),success:0===d.status.code,properties:up(d.attributes)}}var V=d.name,$=d.links&&d.links.map((function(d){return{operation_Id:d.context.traceId,id:d.context.spanId}}));return{id:y,duration:C,name:V,target:_,data:_||V,url:_||V,dependencyTypeName:d.kind===g.SpanKind.INTERNAL?v.DependencyTypeName.InProc:T||d.name,resultCode:String(d.status.code||0),success:0===d.status.code,properties:m(m({},up(d.attributes)),{"_MS.links":$||void 0})}}})),Oi=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.enable=d.subscriber=void 0;var m=Ge(),g=j(),v=zr(),y=Ii(),C=O(),_=[];d.subscriber=function(d){var g=d.data,T=y.spanToTelemetryContract(g),b=g.spanContext(),A=new v;A.traceId=b.traceId,A.spanId=b.spanId,A.traceFlag=v.formatOpenTelemetryTraceFlags(b.traceFlags),A.parentId=g.parentSpanId?"|"+b.traceId+"."+g.parentSpanId+".":null,C.AsyncScopeManager.with(g,(function(){_.forEach((function(d){g.kind===m.SpanKind.SERVER?d.trackRequest(T):(g.kind===m.SpanKind.CLIENT||g.kind===m.SpanKind.INTERNAL)&&d.trackDependency(T)}))}))},d.enable=function vw(m,v){m?(0===_.length&&g.channel.subscribe("azure-coretracing",d.subscriber),_.push(v)):0===(_=_.filter((function(d){return d!=v}))).length&&g.channel.unsubscribe("azure-coretracing",d.subscriber)}})),xi=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.enable=d.subscriber=void 0;var m=j(),g=[];d.subscriber=function(d){"ismaster"!==d.data.event.commandName&&g.forEach((function(m){var g=d.data.startedData&&d.data.startedData.databaseName||"Unknown database";m.trackDependency({target:g,data:d.data.event.commandName,name:d.data.event.commandName,duration:d.data.event.duration,success:d.data.succeeded,resultCode:d.data.succeeded?"0":"1",time:d.data.startedData.time,dependencyTypeName:"mongodb"})}))},d.enable=function Ew(v,y){v?(0===g.length&&m.channel.subscribe("mongodb",d.subscriber),g.push(y)):0===(g=g.filter((function(d){return d!=y}))).length&&m.channel.unsubscribe("mongodb",d.subscriber)}})),Li=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.enable=d.subscriber=void 0;var m=j(),g=[];d.subscriber=function(d){g.forEach((function(m){var g=d.data.query||{},v=g.sql||"Unknown query",y=!d.data.err,C=(g._connection||{}).config||{},_=C.socketPath?C.socketPath:(C.host||"localhost")+":"+C.port;m.trackDependency({target:_,data:v,name:v,duration:d.data.duration,success:y,resultCode:y?"0":"1",time:d.data.time,dependencyTypeName:"mysql"})}))},d.enable=function yw(v,y){v?(0===g.length&&m.channel.subscribe("mysql",d.subscriber),g.push(y)):0===(g=g.filter((function(d){return d!=y}))).length&&m.channel.unsubscribe("mysql",d.subscriber)}})),Fi=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.enable=d.subscriber=void 0;var m=j(),g=[];d.subscriber=function(d){g.forEach((function(m){"info"!==d.data.commandObj.command&&m.trackDependency({target:d.data.address,name:d.data.commandObj.command,data:d.data.commandObj.command,duration:d.data.duration,success:!d.data.err,resultCode:d.data.err?"1":"0",time:d.data.time,dependencyTypeName:"redis"})}))},d.enable=function Aw(v,y){v?(0===g.length&&m.channel.subscribe("redis",d.subscriber),g.push(y)):0===(g=g.filter((function(d){return d!=y}))).length&&m.channel.unsubscribe("redis",d.subscriber)}})),Ui=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.enable=d.subscriber=void 0;var m=j(),g=[];d.subscriber=function(d){g.forEach((function(m){var g=d.data.query,v=g.preparable&&g.preparable.text||g.plan||g.text||"unknown query",y=!d.data.error,C=d.data.database.host+":"+d.data.database.port;m.trackDependency({target:C,data:v,name:v,duration:d.data.duration,success:y,resultCode:y?"0":"1",time:d.data.time,dependencyTypeName:"postgres"})}))},d.enable=function Iw(v,y){v?(0===g.length&&m.channel.subscribe("postgres",d.subscriber),g.push(y)):0===(g=g.filter((function(d){return d!=y}))).length&&m.channel.unsubscribe("postgres",d.subscriber)}})),ji=l(((d,m)=>{"use strict";var v=d&&d.__spreadArrays||function(){for(var d=0,m=0,g=arguments.length;m<g;m++)d+=arguments[m].length;var v=Array(d),y=0;for(m=0;m<g;m++)for(var C=arguments[m],_=0,T=C.length;_<T;_++,y++)v[y]=C[_];return v},y=g(13685),C=g(95687),_=I(),T=qr(),b=Vr(),A=Di(),P=yi(),R=Yr(),k=zr(),M=Wr(),O=function(){function e(d){if(e.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=d}return e.prototype.enable=function(d){this._isEnabled=d,this._isEnabled&&!this._isInitialized&&this._initialize(),M.IsInitialized&&(Oi().enable(!0,this._client),xi().enable(d,this._client),Li().enable(d,this._client),Fi().enable(d,this._client),Ui().enable(d,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._initialize=function(){var d=this;this._isInitialized=!0;var m=y.request,g=C.request,i=function(m,g){var v=!g[e.disableCollectionRequestOption]&&!m[e.alreadyAutoCollectedFlag];g.headers&&g.headers["user-agent"]&&-1!==g.headers["user-agent"].toString().indexOf("azsdk-js")&&(v=!1),m[e.alreadyAutoCollectedFlag]=!0,m&&g&&v&&(P.CorrelationContextManager.wrapEmitter(m),e.trackRequest(d._client,{options:g,request:m}))};y.request=function(d){for(var g=[],C=1;C<arguments.length;C++)g[C-1]=arguments[C];var _=m.call.apply(m,v([y,d],g));return i(_,d),_},C.request=function(d){for(var m=[],y=1;y<arguments.length;y++)m[y-1]=arguments[y];var _=g.call.apply(g,v([C,d],m));return i(_,d),_},y.get=function(d){for(var m,g=[],C=1;C<arguments.length;C++)g[C-1]=arguments[C];var _=(m=y.request).call.apply(m,v([y,d],g));return _.end(),_},C.get=function(d){for(var m,g=[],y=1;y<arguments.length;y++)g[y-1]=arguments[y];var _=(m=C.request).call.apply(m,v([C,d],g));return _.end(),_}},e.trackRequest=function(d,m){if(m.options&&m.request&&d){var g,v,y=new A(m.options,m.request),C=P.CorrelationContextManager.getCurrentContext();if(C&&C.operation&&C.operation.traceparent&&k.isValidTraceId(C.operation.traceparent.traceId))C.operation.traceparent.updateSpanId(),g=C.operation.traceparent.getBackCompatRequestId();else if(R.w3cEnabled){v=(I=new k).toString(),g=I.getBackCompatRequestId()}else g=C&&C.operation&&C.operation.parentId+e.requestNumber+++".";if(T.canIncludeCorrelationHeader(d,y.getUrl())&&m.request.getHeader&&m.request.setHeader&&d.config&&d.config.correlationId){var M=m.request.getHeader(b.requestContextHeader);try{T.safeIncludeCorrelationHeader(d,m.request,M)}catch(d){_.warn("Request-Context header could not be set. Correlation of requests may be lost",d)}if(C&&C.operation)try{if(m.request.setHeader(b.requestIdHeader,g),d.config.ignoreLegacyHeaders||(m.request.setHeader(b.parentIdHeader,C.operation.id),m.request.setHeader(b.rootIdHeader,g)),v||C.operation.traceparent)m.request.setHeader(b.traceparentHeader,v||C.operation.traceparent.toString());else if(R.w3cEnabled){var I=(new k).toString();m.request.setHeader(b.traceparentHeader,I)}if(C.operation.tracestate){var O=C.operation.tracestate.toString();O&&m.request.setHeader(b.traceStateHeader,O)}var x=C.customProperties.serializeToHeader();x&&m.request.setHeader(b.correlationContextHeader,x)}catch(d){_.warn("Correlation headers could not be set. Correlation of requests may be lost.",d)}}m.request.on&&(m.request.on("response",(function(v){y.onResponse(v);var C=y.getDependencyTelemetry(m,g);C.contextObjects=C.contextObjects||{},C.contextObjects["http.RequestOptions"]=m.options,C.contextObjects["http.ClientRequest"]=m.request,C.contextObjects["http.ClientResponse"]=v,d.trackDependency(C)})),m.request.on("error",(function(v){y.onError(v);var C=y.getDependencyTelemetry(m,g);C.contextObjects=C.contextObjects||{},C.contextObjects["http.RequestOptions"]=m.options,C.contextObjects["http.ClientRequest"]=m.request,C.contextObjects.Error=v,d.trackDependency(C)})),m.request.on("abort",(function(){y.onError(new Error);var v=y.getDependencyTelemetry(m,g);v.contextObjects=v.contextObjects||{},v.contextObjects["http.RequestOptions"]=m.options,v.contextObjects["http.ClientRequest"]=m.request,d.trackDependency(v)})))}else _.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!m.options,!m.request,!d)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.disableCollectionRequestOption="disableAppInsightsAutoCollection",e.requestNumber=1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();m.exports=O})),Bi=l(((d,m)=>{"use strict";var v=g(22037),y=wi(),C=qr(),_=Mi(),T=ji(),b=function(){function e(d){this._collectionInterval=9e5,this._vmData={},this._azInst_vmId="",this._azInst_subscriptionId="",this._azInst_osType="",e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=d}return e.prototype.enable=function(d,m){var g=this;this._isEnabled=d,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),d?this._handle||(this._handle=setInterval((function(){return g.trackHeartBeat(m,(function(){}))}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=null)},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackHeartBeat=function(d,m){var g=this,C=!1,T={},b=_.sdkVersion;T.sdk=b,T.osType=v.type(),process.env.WEBSITE_SITE_NAME?(T.appSrv_SiteName=process.env.WEBSITE_SITE_NAME||"",T.appSrv_wsStamp=process.env.WEBSITE_HOME_STAMPNAME||"",T.appSrv_wsHost=process.env.WEBSITE_HOSTNAME||""):process.env.FUNCTIONS_WORKER_RUNTIME?T.azfunction_appId=process.env.WEBSITE_HOSTNAME:d&&(void 0===this._isVM?(C=!0,this._getAzureComputeMetadata(d,(function(){g._isVM&&Object.keys(g._vmData).length>0&&(T.azInst_vmId=g._vmData.vmId||"",T.azInst_subscriptionId=g._vmData.subscriptionId||"",T.azInst_osType=g._vmData.osType||"",g._azInst_vmId=g._vmData.vmId||"",g._azInst_subscriptionId=g._vmData.subscriptionId||"",g._azInst_osType=g._vmData.osType||""),g._client.trackMetric({name:y.HeartBeatMetricName,value:0,properties:T}),m()}))):this._isVM&&(T.azInst_vmId=this._azInst_vmId,T.azInst_subscriptionId=this._azInst_subscriptionId,T.azInst_osType=this._azInst_osType)),C||(this._client.trackMetric({name:y.HeartBeatMetricName,value:0,properties:T}),m())},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.prototype._getAzureComputeMetadata=function(d,m){var g,v=this,y=((g={method:"GET"})[T.disableCollectionRequestOption]=!0,g.headers={Metadata:"True"},g),_=C.makeRequest(d,"http://169.254.169.254/metadata/instance/compute?api-version=2017-12-01&format=json",y,(function(d){if(200===d.statusCode){v._isVM=!0;var g="";d.on("data",(function(d){g+=d})),d.on("end",(function(){v._vmData=v._isJSON(g)?JSON.parse(g):{},m()}))}else m()}));_&&(_.on("error",(function(d){d&&d.message&&d.message.indexOf("ENETUNREACH")>-1&&(v._isVM=!1),m()})),_.end())},e.prototype._isJSON=function(d){try{return JSON.parse(d)&&!!d}catch{return!1}},e}();m.exports=b})),Hi=l(((d,m)=>{"use strict";var v=g(13685),y=g(95687),C=I(),_=qr(),T=Vr(),b=Jn(),A=yi(),P=Ai(),R=function(){function e(d){if(e.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=d}return e.prototype.enable=function(d){this._isEnabled=d,(this._isAutoCorrelating||this._isEnabled||P.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},e.prototype.useAutoCorrelation=function(d,m){d&&!this._isAutoCorrelating?A.CorrelationContextManager.enable(m):!d&&this._isAutoCorrelating&&A.CorrelationContextManager.disable(),this._isAutoCorrelating=d},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},e.prototype._generateCorrelationContext=function(d){if(this._isAutoCorrelating)return A.CorrelationContextManager.generateContextObject(d.getOperationId(this._client.context.tags),d.getRequestId(),d.getOperationName(this._client.context.tags),d.getCorrelationContextHeader(),d.getTraceparent(),d.getTracestate())},e.prototype._initialize=function(){var d=this;this._isInitialized=!0;var r=function(m){if(m){if("function"!=typeof m)throw new Error("onRequest handler must be a function");return function(g,v){A.CorrelationContextManager.wrapEmitter(g),A.CorrelationContextManager.wrapEmitter(v);var y=g&&!g[e.alreadyAutoCollectedFlag];if(g&&y){var C=new b(g),_=d._generateCorrelationContext(C);A.CorrelationContextManager.runWithContext(_,(function(){d._isEnabled&&(g[e.alreadyAutoCollectedFlag]=!0,e.trackRequest(d._client,{request:g,response:v},C)),"function"==typeof m&&m(g,v)}))}else"function"==typeof m&&m(g,v)}}},n=function(d){var m=d.addListener.bind(d);d.addListener=function(d,g){switch(d){case"request":case"checkContinue":return m(d,r(g));default:return m(d,g)}},d.on=d.addListener},m=v.createServer;v.createServer=function(d,g){if(g&&"function"==typeof g){var v=m(d,r(g));return n(v),v}v=m(r(d));return n(v),v};var g=y.createServer;y.createServer=function(d,m){var v=g(d,r(m));return n(v),v}},e.trackRequestSync=function(d,m){if(m.request&&m.response&&d){e.addResponseCorrelationIdHeader(d,m.response);var g=A.CorrelationContextManager.getCurrentContext(),v=new b(m.request,g&&g.operation.parentId);g&&(g.operation.id=v.getOperationId(d.context.tags)||g.operation.id,g.operation.name=v.getOperationName(d.context.tags)||g.operation.name,g.operation.parentId=v.getRequestId()||g.operation.parentId,g.customProperties.addHeaderData(v.getCorrelationContextHeader())),e.endRequest(d,v,m,m.duration,m.error)}else C.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!m.request,!m.response,!d)},e.trackRequest=function(d,m,g){if(m.request&&m.response&&d){var v=A.CorrelationContextManager.getCurrentContext(),y=g||new b(m.request,v&&v.operation.parentId);_.canIncludeCorrelationHeader(d,y.getUrl())&&e.addResponseCorrelationIdHeader(d,m.response),v&&!g&&(v.operation.id=y.getOperationId(d.context.tags)||v.operation.id,v.operation.name=y.getOperationName(d.context.tags)||v.operation.name,v.operation.parentId=y.getOperationParentId(d.context.tags)||v.operation.parentId,v.customProperties.addHeaderData(y.getCorrelationContextHeader())),m.response.once&&m.response.once("finish",(function(){e.endRequest(d,y,m,null,null)})),m.request.on&&m.request.on("error",(function(g){e.endRequest(d,y,m,null,g)})),m.request.on&&m.request.on("aborted",(function(){e.endRequest(d,y,m,null,"The request has been aborted and the network socket has closed.")}))}else C.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!m.request,!m.response,!d)},e.addResponseCorrelationIdHeader=function(d,m){if(d.config&&d.config.correlationId&&m.getHeader&&m.setHeader&&!m.headersSent){var g=m.getHeader(T.requestContextHeader);_.safeIncludeCorrelationHeader(d,m,g)}},e.endRequest=function(d,m,g,v,y){y?m.onError(y,v):m.onResponse(g.response,v);var C=m.getRequestTelemetry(g);if(C.tagOverrides=m.getRequestTags(d.context.tags),g.tagOverrides)for(var _ in g.tagOverrides)C.tagOverrides[_]=g.tagOverrides[_];var T=m.getLegacyRootId();T&&(C.properties.ai_legacyRootId=T),C.contextObjects=C.contextObjects||{},C.contextObjects["http.ServerRequest"]=g.request,C.contextObjects["http.ServerResponse"]=g.response,d.trackRequest(C)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1,A.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();m.exports=R})),Wi=l(((d,m)=>{"use strict";var v=d&&d.__assign||function(){return v=Object.assign||function(d){for(var m,g=1,v=arguments.length;g<v;g++)for(var y in m=arguments[g])Object.prototype.hasOwnProperty.call(m,y)&&(d[y]=m[y]);return d},v.apply(this,arguments)},y=g(22037),C=Gn(),_=wi(),T=qr(),b=I(),A=T.w3cTraceId(),P=function(){function e(){}return e.createQuickPulseEnvelope=function(d,m,g,v){var C=y&&"function"==typeof y.hostname&&y.hostname()||"Unknown",_=v.tags&&v.keys&&v.keys.cloudRoleInstance&&v.tags[v.keys.cloudRoleInstance]||C,T=v.tags&&v.keys&&v.keys.cloudRole&&v.tags[v.keys.cloudRole]||null;return{Documents:m.length>0?m:null,InstrumentationKey:g.instrumentationKey||"",Metrics:d.length>0?d:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:v.tags[v.keys.internalSdkVersion],StreamId:A,MachineName:C,Instance:_,RoleName:T}},e.createQuickPulseMetric=function(d){return{Name:d.name,Value:d.value,Weight:d.count||1}},e.telemetryEnvelopeToQuickPulseDocument=function(d){switch(d.data.baseType){case C.TelemetryTypeString.Event:return e.createQuickPulseEventDocument(d);case C.TelemetryTypeString.Exception:return e.createQuickPulseExceptionDocument(d);case C.TelemetryTypeString.Trace:return e.createQuickPulseTraceDocument(d);case C.TelemetryTypeString.Dependency:return e.createQuickPulseDependencyDocument(d);case C.TelemetryTypeString.Request:return e.createQuickPulseRequestDocument(d)}return null},e.createQuickPulseEventDocument=function(d){var m=e.createQuickPulseDocument(d),g=d.data.baseData.name;return v(v({},m),{Name:g})},e.createQuickPulseTraceDocument=function(d){var m=e.createQuickPulseDocument(d),g=d.data.baseData.severityLevel||0;return v(v({},m),{Message:d.data.baseData.message,SeverityLevel:C.SeverityLevel[g]})},e.createQuickPulseExceptionDocument=function(d){var m=e.createQuickPulseDocument(d),g=d.data.baseData.exceptions,y="",C="",_="";return g&&g.length>0&&(g[0].parsedStack&&g[0].parsedStack.length>0?g[0].parsedStack.forEach((function(d){y+=d.assembly+"\n"})):g[0].stack&&g[0].stack.length>0&&(y=g[0].stack),C=g[0].message,_=g[0].typeName),v(v({},m),{Exception:y,ExceptionMessage:C,ExceptionType:_})},e.createQuickPulseRequestDocument=function(d){var m=e.createQuickPulseDocument(d),g=d.data.baseData;return v(v({},m),{Name:g.name,Success:g.success,Duration:g.duration,ResponseCode:g.responseCode,OperationName:g.name})},e.createQuickPulseDependencyDocument=function(d){var m=e.createQuickPulseDocument(d),g=d.data.baseData;return v(v({},m),{Name:g.name,Target:g.target,Success:g.success,Duration:g.duration,ResultCode:g.resultCode,CommandName:g.data,OperationName:m.OperationId,DependencyTypeName:g.type})},e.createQuickPulseDocument=function(d){var m,g;return d.data.baseType?(g=_.TelemetryTypeStringToQuickPulseType[d.data.baseType],m=_.TelemetryTypeStringToQuickPulseDocumentType[d.data.baseType]):b.warn("Document type invalid; not sending live metric document",d.data.baseType),{DocumentType:m,__type:g,OperationId:d.tags[e.keys.operationId],Version:"1.0",Properties:e.aggregateProperties(d)}},e.aggregateProperties=function(d){var m=[],g=d.data.baseData.measurements||{};for(var v in g)if(g.hasOwnProperty(v)){var y={key:v,value:g[v]};m.push(y)}var C=d.data.baseData.properties||{};for(var v in C)if(C.hasOwnProperty(v)){y={key:v,value:C[v]};m.push(y)}return m},e.keys=new C.ContextTagKeys,e}();m.exports=P})),Vi=l(((d,m)=>{"use strict";m.exports={getTransmissionTime:function(){return 1e4*(Date.now()+621355968e5)}}})),$i=l(((d,m)=>{"use strict";var v=d&&d.__awaiter||function(d,m,g,v){return new(g||(g=Promise))((function(y,C){function o(d){try{c(v.next(d))}catch(d){C(d)}}function u(d){try{c(v.throw(d))}catch(d){C(d)}}function c(d){d.done?y(d.value):function i(d){return d instanceof g?d:new g((function(m){m(d)}))}(d.value).then(o,u)}c((v=v.apply(d,m||[])).next())}))},y=d&&d.__generator||function(d,m){var g,v,y,C,_={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return C={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(C[Symbol.iterator]=function(){return this}),C;function o(C){return function(T){return function u(C){if(g)throw new TypeError("Generator is already executing.");for(;_;)try{if(g=1,v&&(y=2&C[0]?v.return:C[0]?v.throw||((y=v.return)&&y.call(v),0):v.next)&&!(y=y.call(v,C[1])).done)return y;switch(v=0,y&&(C=[2&C[0],y.value]),C[0]){case 0:case 1:y=C;break;case 4:return _.label++,{value:C[1],done:!1};case 5:_.label++,v=C[1],C=[0];continue;case 7:C=_.ops.pop(),_.trys.pop();continue;default:if(!(y=(y=_.trys).length>0&&y[y.length-1])&&(6===C[0]||2===C[0])){_=0;continue}if(3===C[0]&&(!y||C[1]>y[0]&&C[1]<y[3])){_.label=C[1];break}if(6===C[0]&&_.label<y[1]){_.label=y[1],y=C;break}if(y&&_.label<y[2]){_.label=y[2],_.ops.push(C);break}y[2]&&_.ops.pop(),_.trys.pop();continue}C=m.call(d,_)}catch(d){C=[6,d],v=0}finally{g=y=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([C,T])}}},C=g(95687),_=ji(),T=I(),b=Vi(),A=qr(),P="POST",R="x-ms-qps-transmission-time",k="x-ms-qps-service-polling-interval-hint",M="x-ms-qps-service-endpoint-redirect",O="x-ms-qps-instance-name",x="x-ms-qps-stream-id",L="x-ms-qps-machine-name",U="x-ms-qps-role-name",j="x-ms-qps-invariant-version",B="x-ms-qps-subscribed",V=function(){function e(d){this._config=d,this._consecutiveErrors=0}return e.prototype.ping=function(d,m,g){var v=[{name:x,value:d.StreamId},{name:L,value:d.MachineName},{name:U,value:d.RoleName},{name:O,value:d.Instance},{name:j,value:d.InvariantVersion.toString()}];this._submitData(d,m,g,"ping",v)},e.prototype.post=function(d,m,g){return v(this,void 0,void 0,(function(){return y(this,(function(v){switch(v.label){case 0:return[4,this._submitData([d],m,g,"post")];case 1:return v.sent(),[2]}}))}))},e.prototype._submitData=function(d,m,g,T,I){return v(this,void 0,void 0,(function(){var v,O,x,L,U,j=this;return y(this,(function(y){return v=JSON.stringify(d),(L={})[_.disableCollectionRequestOption]=!0,L.host=m&&m.length>0?m:this._config.quickPulseHost,L.method=P,L.path="/QuickPulseService.svc/"+T+"?ikey="+this._config.instrumentationKey,L.headers=((U={Expect:"100-continue"})[R]=b.getTransmissionTime(),U["Content-Type"]="application/json",U["Content-Length"]=Buffer.byteLength(v),U),O=L,I&&I.length>0&&I.forEach((function(d){return O.headers[d.name]=d.value})),this._config.httpsAgent?O.agent=this._config.httpsAgent:O.agent=A.tlsRestrictedAgent,(x=C.request(O,(function(d){if(200==d.statusCode){var m="true"===d.headers[B],v=d.headers[M]?d.headers[M].toString():null,y=d.headers[k]?parseInt(d.headers[k].toString()):null;j._consecutiveErrors=0,g(m,d,v,y)}else j._onError("StatusCode:"+d.statusCode+" StatusMessage:"+d.statusMessage),g()}))).on("error",(function(d){j._onError(d),g()})),x.write(v),x.end(),[2]}))}))},e.prototype._onError=function(d){this._consecutiveErrors++;var m="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";this._consecutiveErrors%e.MAX_QPS_FAILURES_BEFORE_WARN==0?(m="Live Metrics endpoint could not be reached "+this._consecutiveErrors+" consecutive times. Most recent error:",T.warn(e.TAG,m,d)):T.info(e.TAG,m,d)},e.TAG="QuickPulseSender",e.MAX_QPS_FAILURES_BEFORE_WARN=25,e}();m.exports=V})),qi=l(((d,m)=>{"use strict";var g=d&&d.__awaiter||function(d,m,g,v){return new(g||(g=Promise))((function(y,C){function o(d){try{c(v.next(d))}catch(d){C(d)}}function u(d){try{c(v.throw(d))}catch(d){C(d)}}function c(d){d.done?y(d.value):function i(d){return d instanceof g?d:new g((function(m){m(d)}))}(d.value).then(o,u)}c((v=v.apply(d,m||[])).next())}))},v=d&&d.__generator||function(d,m){var g,v,y,C,_={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return C={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(C[Symbol.iterator]=function(){return this}),C;function o(C){return function(T){return function u(C){if(g)throw new TypeError("Generator is already executing.");for(;_;)try{if(g=1,v&&(y=2&C[0]?v.return:C[0]?v.throw||((y=v.return)&&y.call(v),0):v.next)&&!(y=y.call(v,C[1])).done)return y;switch(v=0,y&&(C=[2&C[0],y.value]),C[0]){case 0:case 1:y=C;break;case 4:return _.label++,{value:C[1],done:!1};case 5:_.label++,v=C[1],C=[0];continue;case 7:C=_.ops.pop(),_.trys.pop();continue;default:if(!(y=(y=_.trys).length>0&&y[y.length-1])&&(6===C[0]||2===C[0])){_=0;continue}if(3===C[0]&&(!y||C[1]>y[0]&&C[1]<y[3])){_.label=C[1];break}if(6===C[0]&&_.label<y[1]){_.label=y[1],y=C;break}if(y&&_.label<y[2]){_.label=y[2],_.ops.push(C);break}y[2]&&_.ops.pop(),_.trys.pop();continue}C=m.call(d,_)}catch(d){C=[6,d],v=0}finally{g=y=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([C,T])}}},y=I(),C=Wi(),_=$i(),T=wi(),b=Mi(),A=function(){function e(d,m){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this._redirectedHost=null,this._pollingIntervalHint=-1,this.config=d,this.context=m||new b,this._sender=new _(this.config),this._isEnabled=!1}return e.prototype.addCollector=function(d){this._collectors.push(d)},e.prototype.trackMetric=function(d){this._addMetric(d)},e.prototype.addDocument=function(d){var m=C.telemetryEnvelopeToQuickPulseDocument(d);m&&this._documents.push(m)},e.prototype.enable=function(d){d&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!d&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},e.prototype.enableCollectors=function(d){this._collectors.forEach((function(m){m.enable(d)}))},e.prototype._addMetric=function(d){var m=d.value,g=d.count||1,v=T.PerformanceToQuickPulseCounter[d.name];v&&(this._metrics[v]?(this._metrics[v].Value=(this._metrics[v].Value*this._metrics[v].Weight+m*g)/(this._metrics[v].Weight+g),this._metrics[v].Weight+=g):(this._metrics[v]=C.createQuickPulseMetric(d),this._metrics[v].Name=v,this._metrics[v].Weight=1))},e.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},e.prototype._goQuickPulse=function(){return g(this,void 0,void 0,(function(){var d,m,g,y,_=this;return v(this,(function(v){switch(v.label){case 0:return d=Object.keys(this._metrics).map((function(d){return _._metrics[d]})),m=C.createQuickPulseEnvelope(d,this._documents.slice(),this.config,this.context),this._resetQuickPulseBuffer(),this._isCollectingData?[4,this._post(m)]:[3,2];case 1:return v.sent(),[3,3];case 2:this._ping(m),v.label=3;case 3:return g=this._pollingIntervalHint>0?this._pollingIntervalHint:e.PING_INTERVAL,y=this._isCollectingData?e.POST_INTERVAL:g,this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,y=e.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(y=e.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),y),this._handle.unref(),[2]}}))}))},e.prototype._ping=function(d){this._sender.ping(d,this._redirectedHost,this._quickPulseDone.bind(this))},e.prototype._post=function(d){return g(this,void 0,void 0,(function(){return v(this,(function(m){switch(m.label){case 0:return[4,this._sender.post(d,this._redirectedHost,this._quickPulseDone.bind(this))];case 1:return m.sent(),[2]}}))}))},e.prototype._quickPulseDone=function(d,m,g,v){null!=d?(this._isCollectingData!==d&&(y.info("Live Metrics sending data",d),this.enableCollectors(d)),this._isCollectingData=d,g&&g.length>0&&(this._redirectedHost=g,y.info("Redirecting endpoint to: ",g)),v&&v>0&&(this._pollingIntervalHint=v),m&&m.statusCode<300&&m.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},e.MAX_POST_WAIT_TIME=2e4,e.MAX_PING_WAIT_TIME=6e4,e.FALLBACK_INTERVAL=6e4,e.PING_INTERVAL=5e3,e.POST_INTERVAL=1e3,e}();m.exports=A})),Yi=l(((d,m)=>{"use strict";var g=wi(),v=function(){function e(){}return e.parse=function(d){if(!d)return{};var m=d.split(e._FIELDS_SEPARATOR).reduce((function(d,m){var g=m.split(e._FIELD_KEY_VALUE_SEPARATOR);if(2===g.length){var v=g[0].toLowerCase(),y=g[1];d[v]=y}return d}),{});if(Object.keys(m).length>0){if(m.endpointsuffix){var v=m.location?m.location+".":"";m.ingestionendpoint=m.ingestionendpoint||"https://"+v+"dc."+m.endpointsuffix,m.liveendpoint=m.liveendpoint||"https://"+v+"live."+m.endpointsuffix}m.ingestionendpoint=m.ingestionendpoint||g.DEFAULT_BREEZE_ENDPOINT,m.liveendpoint=m.liveendpoint||g.DEFAULT_LIVEMETRICS_ENDPOINT}return m},e._FIELDS_SEPARATOR=";",e._FIELD_KEY_VALUE_SEPARATOR="=",e}();m.exports=v})),Gi=l(((d,m)=>{"use strict";var v=Yr(),y=Yi(),C=(I(),wi()),_=g(57310),T=function(){function e(d){var m=this;this.endpointBase=C.DEFAULT_BREEZE_ENDPOINT;var g=process.env[e.ENV_connectionString],v=y.parse(d),T=y.parse(g),b=!v.instrumentationkey&&Object.keys(v).length>0?null:d;this.instrumentationKey=v.instrumentationkey||b||T.instrumentationkey||e._getInstrumentationKey(),e._validateInstrumentationKey(this.instrumentationKey),this.endpointUrl=(v.ingestionendpoint||T.ingestionendpoint||this.endpointBase)+"/v2.1/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=3e4,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.setCorrelationId=function(d){return m.correlationId=d},this.proxyHttpUrl=process.env[e.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[e.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=v.ingestionendpoint||T.ingestionendpoint||process.env[e.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=v.liveendpoint||T.liveendpoint||process.env[e.ENV_quickPulseHost]||C.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&&(this._quickPulseHost=_.parse(this._quickPulseHost).host)}return Object.defineProperty(e.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(d){v.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=d,this.correlationId=v.correlationIdPrefix,v.queryCorrelationId(this,this.setCorrelationId)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(d){this._quickPulseHost=d},enumerable:!1,configurable:!0}),e._getInstrumentationKey=function(){var d=process.env[e.ENV_iKey]||process.env[e.ENV_azurePrefix+e.ENV_iKey]||process.env[e.legacy_ENV_iKey]||process.env[e.ENV_azurePrefix+e.legacy_ENV_iKey];if(!d||""==d)throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return d},e._validateInstrumentationKey=function(d){return new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(d)},e.ENV_azurePrefix="APPSETTING_",e.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",e.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",e.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",e.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",e.ENV_connectionString="APPLICATIONINSIGHTS_CONNECTION_STRING",e.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",e.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",e.ENV_http_proxy="http_proxy",e.ENV_https_proxy="https_proxy",e}();m.exports=T})),Ki=l((d=>{"use strict";var m=d&&d.__assign||function(){return m=Object.assign||function(d){for(var m,g=1,v=arguments.length;g<v;g++)for(var y in m=arguments[g])Object.prototype.hasOwnProperty.call(m,y)&&(d[y]=m[y]);return d},m.apply(this,arguments)};Object.defineProperty(d,"__esModule",{value:!0}),d.AutoCollectNativePerformance=void 0;var v=Gi(),y=Mi(),C=I(),_=function(){function e(d){this._disabledMetrics={},e.INSTANCE&&e.INSTANCE.dispose(),e.INSTANCE=this,this._client=d}return e.isNodeVersionCompatible=function(){var d=process.versions.node.split(".");return parseInt(d[0])>=6},e.prototype.enable=function(d,m,v){var y=this;if(void 0===m&&(m={}),void 0===v&&(v=6e4),e.isNodeVersionCompatible()){if(null==e._metricsAvailable&&d&&!this._isInitialized)try{var _=g(Object(function webpackMissingModule(){var d=new Error("Cannot find module 'applicationinsights-native-metrics'");throw d.code="MODULE_NOT_FOUND",d}()));e._emitter=new _,e._metricsAvailable=!0,C.info("Native metrics module successfully loaded!")}catch{return void(e._metricsAvailable=!1)}this._isEnabled=d,this._disabledMetrics=m,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&e._emitter?(e._emitter.enable(!0,v),this._handle||(this._handle=setInterval((function(){return y._trackNativeMetrics()}),v),this._handle.unref())):e._emitter&&(e._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},e.prototype.dispose=function(){this.enable(!1)},e.parseEnabled=function(d){var g=process.env[v.ENV_nativeMetricsDisableAll],y=process.env[v.ENV_nativeMetricsDisablers];if(g)return{isEnabled:!1,disabledMetrics:{}};if(y){var C=y.split(","),_={};if(C.length>0)for(var T=0,b=C;T<b.length;T++){_[b[T]]=!0}return"object"==typeof d?{isEnabled:!0,disabledMetrics:m(m({},d),_)}:{isEnabled:d,disabledMetrics:_}}return"boolean"==typeof d?{isEnabled:d,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:d}},e.prototype._trackNativeMetrics=function(){var d=!0;"object"!=typeof this._isEnabled&&(d=this._isEnabled),d&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},e.prototype._trackGarbageCollection=function(){var d;if(!this._disabledMetrics.gc){var m=e._emitter.getGCData();for(var g in m){var v=m[g].metrics,C=g+" Garbage Collection Duration",_=Math.sqrt(v.sumSquares/v.count-Math.pow(v.total/v.count,2))||0;this._client.trackMetric({name:C,value:v.total,count:v.count,max:v.max,min:v.min,stdDev:_,tagOverrides:(d={},d[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+y.sdkVersion,d)})}}},e.prototype._trackEventLoop=function(){var d;if(!this._disabledMetrics.loop){var m=e._emitter.getLoopData().loopUsage;if(0!=m.count){var g=Math.sqrt(m.sumSquares/m.count-Math.pow(m.total/m.count,2))||0;this._client.trackMetric({name:"Event Loop CPU Time",value:m.total,count:m.count,min:m.min,max:m.max,stdDev:g,tagOverrides:(d={},d[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+y.sdkVersion,d)})}}},e.prototype._trackHeapUsage=function(){var d,m,g;if(!this._disabledMetrics.heap){var v=process.memoryUsage(),C=v.heapUsed,_=v.heapTotal,T=v.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:C,count:1,tagOverrides:(d={},d[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+y.sdkVersion,d)}),this._client.trackMetric({name:"Memory Total (Heap)",value:_,count:1,tagOverrides:(m={},m[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+y.sdkVersion,m)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:T-_,count:1,tagOverrides:(g={},g[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+y.sdkVersion,g)})}},e}();d.AutoCollectNativePerformance=_})),Ji=l(((d,m)=>{"use strict";var g=I(),v=function(){function e(d,m,g,v){this._buffer=[],this._lastSend=0,this._isDisabled=d,this._getBatchSize=m,this._getBatchIntervalMs=g,this._sender=v}return e.prototype.setUseDiskRetryCaching=function(d,m,g){this._sender.setDiskRetryMode(d,m,g)},e.prototype.send=function(d){var m=this;if(!this._isDisabled()){if(!d)return void g.warn("Cannot send null/undefined telemetry");if(this._buffer.push(d),this._buffer.length>=this._getBatchSize())return void this.triggerSend(!1);!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout((function(){m._timeoutHandle=null,m.triggerSend(!1)}),this._getBatchIntervalMs()))}},e.prototype.triggerSend=function(d,m){var g=this._buffer.length<1;g||(d?(this._sender.saveOnCrash(this._buffer),"function"==typeof m&&m("data saved on crash")):this._sender.send(this._buffer,m)),this._lastSend=+new Date,this._buffer=[],clearTimeout(this._timeoutHandle),this._timeoutHandle=null,g&&"function"==typeof m&&m("no data to send")},e}();m.exports=v})),Xi=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.azureRoleEnvironmentTelemetryProcessor=void 0,d.azureRoleEnvironmentTelemetryProcessor=function ox(d,m){process.env.WEBSITE_SITE_NAME&&(d.tags[m.keys.cloudRole]=process.env.WEBSITE_SITE_NAME)}})),Qi=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.getSamplingHashCode=d.samplingTelemetryProcessor=void 0;var m=Gn();function gT(d){var m=2147483647,g=5381;if(!d)return 0;for(;d.length<8;)d+=d;for(var v=0;v<d.length;v++)g=((g<<5)+g|0)+d.charCodeAt(v)|0;return(g=g<=-2147483648?m:Math.abs(g))/m*100}d.samplingTelemetryProcessor=function ux(d,g){var v=d.sampleRate;return!!(null==v||v>=100||d.data&&m.TelemetryType.Metric===m.baseTypeToTelemetryType(d.data.baseType))||(g.correlationContext&&g.correlationContext.operation?gT(g.correlationContext.operation.id)<v:100*Math.random()<v)},d.getSamplingHashCode=gT})),es=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.performanceMetricsTelemetryProcessor=void 0;var m=Ai(),g=Gn();d.performanceMetricsTelemetryProcessor=function cx(d,v){switch(v&&v.addDocument(d),d.data.baseType){case g.TelemetryTypeString.Exception:m.countException();break;case g.TelemetryTypeString.Request:var y=d.data.baseData;m.countRequest(y.duration,y.success);break;case g.TelemetryTypeString.Dependency:var C=d.data.baseData;m.countDependency(C.duration,C.success)}return!0}})),ts=l((d=>{"use strict";var m=d&&d.__assign||function(){return m=Object.assign||function(d){for(var m,g=1,v=arguments.length;g<v;g++)for(var y in m=arguments[g])Object.prototype.hasOwnProperty.call(m,y)&&(d[y]=m[y]);return d},m.apply(this,arguments)};Object.defineProperty(d,"__esModule",{value:!0}),d.preAggregatedMetricsTelemetryProcessor=void 0;var g=Gn(),v=Ni(),y=Gn();d.preAggregatedMetricsTelemetryProcessor=function fx(d,C){if(v.isEnabled())switch(d.data.baseType){case y.TelemetryTypeString.Exception:var _=d.data.baseData;_.properties=m(m({},_.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Exceptions', Ver:'1.1')"});var T={cloudRoleInstance:d.tags[C.keys.cloudRoleInstance],cloudRoleName:d.tags[C.keys.cloudRole]};v.countException(T);break;case y.TelemetryTypeString.Trace:var b=d.data.baseData;b.properties=m(m({},b.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Traces', Ver:'1.1')"});var A={cloudRoleInstance:d.tags[C.keys.cloudRoleInstance],cloudRoleName:d.tags[C.keys.cloudRole],traceSeverityLevel:g.SeverityLevel[b.severity]};v.countTrace(A);break;case y.TelemetryTypeString.Request:var P=d.data.baseData;P.properties=m(m({},P.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});var R={cloudRoleInstance:d.tags[C.keys.cloudRoleInstance],cloudRoleName:d.tags[C.keys.cloudRole],operationSynthetic:d.tags[C.keys.operationSyntheticSource],requestSuccess:P.success,requestResultCode:P.responseCode};v.countRequest(P.duration,R);break;case y.TelemetryTypeString.Dependency:var k=d.data.baseData;k.properties=m(m({},k.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"});var M={cloudRoleInstance:d.tags[C.keys.cloudRoleInstance],cloudRoleName:d.tags[C.keys.cloudRole],operationSynthetic:d.tags[C.keys.operationSyntheticSource],dependencySuccess:k.success,dependencyType:k.type,dependencyTarget:k.target,dependencyResultCode:k.resultCode};v.countDependency(k.duration,M)}return!0}})),rs=l((d=>{"use strict";var m=d&&d.__createBinding||(Object.create?function(d,m,g,v){void 0===v&&(v=g),Object.defineProperty(d,v,{enumerable:!0,get:function(){return m[g]}})}:function(d,m,g,v){void 0===v&&(v=g),d[v]=m[g]}),g=d&&d.__exportStar||function(d,g){for(var v in d)"default"!==v&&!Object.prototype.hasOwnProperty.call(g,v)&&m(g,d,v)};Object.defineProperty(d,"__esModule",{value:!0}),g(Xi(),d),g(Qi(),d),g(es(),d),g(ts(),d)})),ns=l(((d,m)=>{"use strict";var v=d&&d.__awaiter||function(d,m,g,v){return new(g||(g=Promise))((function(y,C){function o(d){try{c(v.next(d))}catch(d){C(d)}}function u(d){try{c(v.throw(d))}catch(d){C(d)}}function c(d){d.done?y(d.value):function i(d){return d instanceof g?d:new g((function(m){m(d)}))}(d.value).then(o,u)}c((v=v.apply(d,m||[])).next())}))},y=d&&d.__generator||function(d,m){var g,v,y,C,_={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return C={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(C[Symbol.iterator]=function(){return this}),C;function o(C){return function(T){return function u(C){if(g)throw new TypeError("Generator is already executing.");for(;_;)try{if(g=1,v&&(y=2&C[0]?v.return:C[0]?v.throw||((y=v.return)&&y.call(v),0):v.next)&&!(y=y.call(v,C[1])).done)return y;switch(v=0,y&&(C=[2&C[0],y.value]),C[0]){case 0:case 1:y=C;break;case 4:return _.label++,{value:C[1],done:!1};case 5:_.label++,v=C[1],C=[0];continue;case 7:C=_.ops.pop(),_.trys.pop();continue;default:if(!(y=(y=_.trys).length>0&&y[y.length-1])&&(6===C[0]||2===C[0])){_=0;continue}if(3===C[0]&&(!y||C[1]>y[0]&&C[1]<y[3])){_.label=C[1];break}if(6===C[0]&&_.label<y[1]){_.label=y[1],y=C;break}if(y&&_.label<y[2]){_.label=y[2],_.ops.push(C);break}y[2]&&_.ops.pop(),_.trys.pop();continue}C=m.call(d,_)}catch(d){C=[6,d],v=0}finally{g=y=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([C,T])}}},C=g(57147),_=g(22037),T=g(71017),b=g(59796),A=g(32081),P=I(),R=ji(),k=qr(),M=function(){function e(d,m,g){if(this._redirectedHost=null,this._config=d,this._onSuccess=m,this._onError=g,this._enableDiskRetryMode=!1,this._resendInterval=e.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=e.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,this._numConsecutiveRedirects=0,this._resendTimer=null,this._fileCleanupTimer=null,this._tempDir=T.join(_.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey),!e.OS_PROVIDES_FILE_PROTECTION)if(e.USE_ICACLS){try{e.OS_PROVIDES_FILE_PROTECTION=C.existsSync(e.ICACLS_PATH)}catch{}e.OS_PROVIDES_FILE_PROTECTION||P.warn(e.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else e.OS_PROVIDES_FILE_PROTECTION=!0}return e.prototype.setDiskRetryMode=function(d,m,g){var v=this;this._enableDiskRetryMode=e.OS_PROVIDES_FILE_PROTECTION&&d,"number"==typeof m&&m>=0&&(this._resendInterval=Math.floor(m)),"number"==typeof g&&g>=0&&(this._maxBytesOnDisk=Math.floor(g)),d&&!e.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,P.warn(e.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.")),this._enableDiskRetryMode?this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout((function(){v._fileCleanupTask()}),e.CLEANUP_TIMEOUT),this._fileCleanupTimer.unref()):this._fileCleanupTimer&&clearTimeout(this._fileCleanupTimer)},e.prototype.send=function(d,m){return v(this,void 0,void 0,(function(){var g,v,C,_,T=this;return y(this,(function(y){return d&&(g=this._redirectedHost||this._config.endpointUrl,v={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}},C="",d.forEach((function(d){var m=T._stringify(d);"string"==typeof m&&(C+=m+"\n")})),C.length>0&&(C=C.substring(0,C.length-1)),_=Buffer.from?Buffer.from(C):new Buffer(C),b.gzip(_,(function(y,C){var b=C;y?(P.warn(y),b=_,v.headers["Content-Length"]=_.length.toString()):(v.headers["Content-Encoding"]="gzip",v.headers["Content-Length"]=C.length.toString()),P.info(e.TAG,v),v[R.disableCollectionRequestOption]=!0;var A=k.makeRequest(T._config,g,v,(function(g){g.setEncoding("utf-8");var v="";g.on("data",(function(d){v+=d})),g.on("end",(function(){if(T._numConsecutiveFailures=0,T._enableDiskRetryMode)if(200===g.statusCode)T._resendTimer||(T._resendTimer=setTimeout((function(){T._resendTimer=null,T._sendFirstFileOnDisk()}),T._resendInterval),T._resendTimer.unref());else if(T._isRetriable(g.statusCode))try{var y=JSON.parse(v),C=[];y.errors.forEach((function(m){T._isRetriable(m.statusCode)&&C.push(d[m.index])})),C.length>0&&T._storeToDisk(C)}catch{T._storeToDisk(d)}if(307===g.statusCode||308===g.statusCode)if(T._numConsecutiveRedirects++,T._numConsecutiveRedirects<10){var _=g.headers.location?g.headers.location.toString():null;_&&(T._redirectedHost=_,T.send(d,m))}else"function"==typeof m&&m("Error sending telemetry because of circular redirects.");else T._numConsecutiveRedirects=0,"function"==typeof m&&m(v),P.info(e.TAG,v),"function"==typeof T._onSuccess&&T._onSuccess(v)}))}));A.on("error",(function(g){if(T._numConsecutiveFailures++,!T._enableDiskRetryMode||T._numConsecutiveFailures>0&&T._numConsecutiveFailures%e.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var v="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";T._enableDiskRetryMode&&(v="Ingestion endpoint could not be reached "+T._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),P.warn(e.TAG,v,k.dumpObj(g))}else{v="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:";P.info(e.TAG,v,k.dumpObj(g))}T._onErrorHelper(g),"function"==typeof m&&(g&&m(k.dumpObj(g)),m("Error sending telemetry")),T._enableDiskRetryMode&&T._storeToDisk(d)})),A.write(b),A.end()}))),[2]}))}))},e.prototype.saveOnCrash=function(d){this._enableDiskRetryMode&&this._storeToDiskSync(this._stringify(d))},e.prototype._isRetriable=function(d){return 206===d||408===d||429===d||439===d||500===d||503===d},e.prototype._runICACLS=function(d,m){var g=A.spawn(e.ICACLS_PATH,d,{windowsHide:!0});g.on("error",(function(d){return m(d)})),g.on("close",(function(d,g){return m(0===d?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+d+")"))}))},e.prototype._runICACLSSync=function(d){if(!A.spawnSync)throw new Error("Could not synchronously call ICACLS under current version of Node.js");var m=A.spawnSync(e.ICACLS_PATH,d,{windowsHide:!0});if(m.error)throw m.error;if(0!==m.status)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+m.status+")")},e.prototype._getACLIdentity=function(d){if(e.ACL_IDENTITY)return d(null,e.ACL_IDENTITY);var m=A.spawn(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),g="";m.stdout.on("data",(function(d){return g+=d})),m.on("error",(function(m){return d(m,null)})),m.on("close",(function(m,v){return e.ACL_IDENTITY=g&&g.trim(),d(0===m?null:new Error("Getting ACL identity did not succeed (PS returned code "+m+")"),e.ACL_IDENTITY)}))},e.prototype._getACLIdentitySync=function(){if(e.ACL_IDENTITY)return e.ACL_IDENTITY;if(A.spawnSync){var d=A.spawnSync(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(d.error)throw d.error;if(0!==d.status)throw new Error("Getting ACL identity did not succeed (PS returned code "+d.status+")");return e.ACL_IDENTITY=d.stdout&&d.stdout.toString().trim(),e.ACL_IDENTITY}throw new Error("Could not synchronously get ACL identity under current version of Node.js")},e.prototype._getACLArguments=function(d,m){return[d,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",m+":(OI)(CI)F","/inheritance:r"]},e.prototype._applyACLRules=function(d,m){var g=this;return e.USE_ICACLS?void 0!==e.ACLED_DIRECTORIES[d]?m(e.ACLED_DIRECTORIES[d]?null:new Error("Setting ACL restrictions did not succeed (cached result)")):(e.ACLED_DIRECTORIES[d]=!1,void this._getACLIdentity((function(v,y){if(v)return e.ACLED_DIRECTORIES[d]=!1,m(v);g._runICACLS(g._getACLArguments(d,y),(function(g){return e.ACLED_DIRECTORIES[d]=!g,m(g)}))}))):m(null)},e.prototype._applyACLRulesSync=function(d){if(e.USE_ICACLS){if(void 0===e.ACLED_DIRECTORIES[d])return this._runICACLSSync(this._getACLArguments(d,this._getACLIdentitySync())),void(e.ACLED_DIRECTORIES[d]=!0);if(!e.ACLED_DIRECTORIES[d])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},e.prototype._confirmDirExists=function(d,m){var g=this;C.lstat(d,(function(v,y){v&&"ENOENT"===v.code?C.mkdir(d,(function(v){v&&"EEXIST"!==v.code?m(v):g._applyACLRules(d,m)})):!v&&y.isDirectory()?g._applyACLRules(d,m):m(v||new Error("Path existed but was not a directory"))}))},e.prototype._getShallowDirectorySize=function(d,m){C.readdir(d,(function(g,v){if(g)return m(g,-1);var y=null,_=0,b=0;if(0!==v.length)for(var A=0;A<v.length;A++)C.stat(T.join(d,v[A]),(function(d,g){b++,d?y=d:g.isFile()&&(_+=g.size),b===v.length&&m(y,y?-1:_)}));else m(null,0)}))},e.prototype._getShallowDirectorySizeSync=function(d){for(var m=C.readdirSync(d),g=0,v=0;v<m.length;v++)g+=C.statSync(T.join(d,m[v])).size;return g},e.prototype._storeToDisk=function(d){var m=this;P.info(e.TAG,"Checking existence of data storage directory: "+this._tempDir),this._confirmDirExists(this._tempDir,(function(g){if(g)return P.warn(e.TAG,"Error while checking/creating directory: "+(g&&g.message)),void m._onErrorHelper(g);m._getShallowDirectorySize(m._tempDir,(function(g,v){if(g||v<0)return P.warn(e.TAG,"Error while checking directory size: "+(g&&g.message)),void m._onErrorHelper(g);if(v>m._maxBytesOnDisk)P.warn(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+v);else{var y=(new Date).getTime()+".ai.json",_=T.join(m._tempDir,y);P.info(e.TAG,"saving data to disk at: "+_),C.writeFile(_,m._stringify(d),{mode:384},(function(d){return m._onErrorHelper(d)}))}}))}))},e.prototype._storeToDiskSync=function(d){try{P.info(e.TAG,"Checking existence of data storage directory: "+this._tempDir),C.existsSync(this._tempDir)||C.mkdirSync(this._tempDir),this._applyACLRulesSync(this._tempDir);var m=this._getShallowDirectorySizeSync(this._tempDir);if(m>this._maxBytesOnDisk)return void P.info(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+m);var g=(new Date).getTime()+".ai.json",v=T.join(this._tempDir,g);P.info(e.TAG,"saving data before crash to disk at: "+v),C.writeFileSync(v,d,{mode:384})}catch(d){P.warn(e.TAG,"Error while saving data to disk: "+(d&&d.message)),this._onErrorHelper(d)}},e.prototype._sendFirstFileOnDisk=function(){var d=this;C.exists(this._tempDir,(function(m){m&&C.readdir(d._tempDir,(function(m,g){if(m)d._onErrorHelper(m);else if((g=g.filter((function(d){return T.basename(d).indexOf(".ai.json")>-1}))).length>0){var v=g[0],y=T.join(d._tempDir,v);C.readFile(y,(function(m,g){m?d._onErrorHelper(m):C.unlink(y,(function(m){if(m)d._onErrorHelper(m);else try{var v=JSON.parse(g.toString());d.send(v)}catch(d){P.warn("Failed to read persisted file",d)}}))}))}}))}))},e.prototype._onErrorHelper=function(d){"function"==typeof this._onError&&this._onError(d)},e.prototype._stringify=function(d){try{return JSON.stringify(d)}catch(m){P.warn("Failed to serialize payload",m,d)}},e.prototype._fileCleanupTask=function(){var d=this;C.exists(this._tempDir,(function(m){m&&C.readdir(d._tempDir,(function(m,g){m?d._onErrorHelper(m):(g=g.filter((function(d){return T.basename(d).indexOf(".ai.json")>-1}))).length>0&&g.forEach((function(m){var g=new Date(parseInt(m.split(".ai.json")[0]));if(new Date(+new Date-e.FILE_RETEMPTION_PERIOD)>g){var v=T.join(d._tempDir,m);C.unlink(v,(function(m){m&&d._onErrorHelper(m)}))}}))}))}))},e.TAG="Sender",e.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",e.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",e.ACLED_DIRECTORIES={},e.ACL_IDENTITY=null,e.WAIT_BETWEEN_RESEND=6e4,e.MAX_BYTES_ON_DISK=52428800,e.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,e.CLEANUP_TIMEOUT=36e5,e.FILE_RETEMPTION_PERIOD=6048e5,e.TEMPDIR_PREFIX="appInsights-node",e.OS_PROVIDES_FILE_PROTECTION=!1,e.USE_ICACLS="Windows_NT"===_.type(),e}();m.exports=M})),ss=l(((d,m)=>{"use strict";var g=Gn(),v=qr(),y=yi(),C=function(){function e(){}return e.createEnvelope=function(d,m,y,C,_){var T=null;switch(m){case g.TelemetryType.Trace:T=e.createTraceData(d);break;case g.TelemetryType.Dependency:T=e.createDependencyData(d);break;case g.TelemetryType.Event:T=e.createEventData(d);break;case g.TelemetryType.Exception:T=e.createExceptionData(d);break;case g.TelemetryType.Request:T=e.createRequestData(d);break;case g.TelemetryType.Metric:T=e.createMetricData(d);break;case g.TelemetryType.Availability:T=e.createAvailabilityData(d);break;case g.TelemetryType.PageView:T=e.createPageViewData(d)}if(y&&g.domainSupportsProperties(T.baseData)){if(T&&T.baseData)if(T.baseData.properties)for(var b in y)T.baseData.properties[b]||(T.baseData.properties[b]=y[b]);else T.baseData.properties=y;T.baseData.properties=v.validateStringMap(T.baseData.properties)}var A=_&&_.instrumentationKey||"",P=new g.Envelope;return P.data=T,P.iKey=A,P.name="Microsoft.ApplicationInsights."+A.replace(/-/g,"")+"."+T.baseType.substr(0,T.baseType.length-4),P.tags=this.getTags(C,d.tagOverrides),P.time=(new Date).toISOString(),P.ver=1,P.sampleRate=_?_.samplingPercentage:100,m===g.TelemetryType.Metric&&(P.sampleRate=100),P},e.createTraceData=function(d){var m=new g.MessageData;m.message=d.message,m.properties=d.properties,isNaN(d.severity)?m.severityLevel=g.SeverityLevel.Information:m.severityLevel=d.severity;var v=new g.Data;return v.baseType=g.telemetryTypeToBaseType(g.TelemetryType.Trace),v.baseData=m,v},e.createDependencyData=function(d){var m=new g.RemoteDependencyData;"string"==typeof d.name&&(m.name=d.name.length>1024?d.name.slice(0,1021)+"...":d.name),m.data=d.data,m.target=d.target,m.duration=v.msToTimeSpan(d.duration),m.success=d.success,m.type=d.dependencyTypeName,m.properties=d.properties,m.resultCode=d.resultCode?d.resultCode+"":"",d.id?m.id=d.id:m.id=v.w3cTraceId();var y=new g.Data;return y.baseType=g.telemetryTypeToBaseType(g.TelemetryType.Dependency),y.baseData=m,y},e.createEventData=function(d){var m=new g.EventData;m.name=d.name,m.properties=d.properties,m.measurements=d.measurements;var v=new g.Data;return v.baseType=g.telemetryTypeToBaseType(g.TelemetryType.Event),v.baseData=m,v},e.createExceptionData=function(d){var m=new g.ExceptionData;m.properties=d.properties,isNaN(d.severity)?m.severityLevel=g.SeverityLevel.Error:m.severityLevel=d.severity,m.measurements=d.measurements,m.exceptions=[];var y=d.exception.stack,C=new g.ExceptionDetails;C.message=d.exception.message,C.typeName=d.exception.name,C.parsedStack=this.parseStack(y),C.hasFullStack=v.isArray(C.parsedStack)&&C.parsedStack.length>0,m.exceptions.push(C);var _=new g.Data;return _.baseType=g.telemetryTypeToBaseType(g.TelemetryType.Exception),_.baseData=m,_},e.createRequestData=function(d){var m=new g.RequestData;d.id?m.id=d.id:m.id=v.w3cTraceId(),m.name=d.name,m.url=d.url,m.source=d.source,m.duration=v.msToTimeSpan(d.duration),m.responseCode=d.resultCode?d.resultCode+"":"",m.success=d.success,m.properties=d.properties;var y=new g.Data;return y.baseType=g.telemetryTypeToBaseType(g.TelemetryType.Request),y.baseData=m,y},e.createMetricData=function(d){var m=new g.MetricData;m.metrics=[];var v=new g.DataPoint;v.count=isNaN(d.count)?1:d.count,v.kind=g.DataPointType.Aggregation,v.max=isNaN(d.max)?d.value:d.max,v.min=isNaN(d.min)?d.value:d.min,v.name=d.name,v.stdDev=isNaN(d.stdDev)?0:d.stdDev,v.value=d.value,m.metrics.push(v),m.properties=d.properties;var y=new g.Data;return y.baseType=g.telemetryTypeToBaseType(g.TelemetryType.Metric),y.baseData=m,y},e.createAvailabilityData=function(d){var m=new g.AvailabilityData;d.id?m.id=d.id:m.id=v.w3cTraceId(),m.name=d.name,m.duration=v.msToTimeSpan(d.duration),m.success=d.success,m.runLocation=d.runLocation,m.message=d.message,m.measurements=d.measurements,m.properties=d.properties;var y=new g.Data;return y.baseType=g.telemetryTypeToBaseType(g.TelemetryType.Availability),y.baseData=m,y},e.createPageViewData=function(d){var m=new g.PageViewData;m.name=d.name,m.duration=v.msToTimeSpan(d.duration),m.url=d.url,m.measurements=d.measurements,m.properties=d.properties;var y=new g.Data;return y.baseType=g.telemetryTypeToBaseType(g.TelemetryType.PageView),y.baseData=m,y},e.getTags=function(d,m){var g=y.CorrelationContextManager.getCurrentContext(),v={};if(d&&d.tags)for(var C in d.tags)v[C]=d.tags[C];if(m)for(var C in m)v[C]=m[C];return g&&(v[d.keys.operationId]=v[d.keys.operationId]||g.operation.id,v[d.keys.operationName]=v[d.keys.operationName]||g.operation.name,v[d.keys.operationParentId]=v[d.keys.operationParentId]||g.operation.parentId),v},e.parseStack=function(d){var m=void 0;if("string"==typeof d){var g=d.split("\n");m=[];for(var v=0,y=0,C=0;C<=g.length;C++){var T=g[C];if(_.regex.test(T)){var b=new _(g[C],v++);y+=b.sizeInBytes,m.push(b)}}if(y>32768)for(var A=0,P=m.length-1,R=0,k=A,M=P;A<P;){if((R+=m[A].sizeInBytes+m[P].sizeInBytes)>32768){var I=M-k+1;m.splice(k,I);break}k=A,M=P,A++,P--}}return m},e}(),_=function(){function e(d,m){this.sizeInBytes=0,this.level=m,this.method="<no_method>",this.assembly=v.trim(d);var g=d.match(e.regex);g&&g.length>=5&&(this.method=v.trim(g[2])||this.method,this.fileName=v.trim(g[4])||"<no_filename>",this.line=parseInt(g[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=e.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return e.regex=/^(\s+at)?(.*?)(\@|\s\(|\s)([^\(\n]+):(\d+):(\d+)(\)?)$/,e.baseSize=58,e}();m.exports=C})),os=l(((d,m)=>{"use strict";var v=g(57310),y=Gi(),C=Mi(),_=Gn(),T=Ji(),b=rs(),A=yi(),P=ns(),R=qr(),k=I(),M=ss(),O=function(){function e(d){this._telemetryProcessors=[],this._enableAzureProperties=!1;var m=new y(d);this.config=m,this.context=new C,this.commonProperties={};var g=new P(this.config);this.channel=new T((function(){return m.disableAppInsights}),(function(){return m.maxBatchSize}),(function(){return m.maxBatchIntervalMs}),g)}return e.prototype.trackAvailability=function(d){this.track(d,_.TelemetryType.Availability)},e.prototype.trackPageView=function(d){this.track(d,_.TelemetryType.PageView)},e.prototype.trackTrace=function(d){this.track(d,_.TelemetryType.Trace)},e.prototype.trackMetric=function(d){this.track(d,_.TelemetryType.Metric)},e.prototype.trackException=function(d){d&&d.exception&&!R.isError(d.exception)&&(d.exception=new Error(d.exception.toString())),this.track(d,_.TelemetryType.Exception)},e.prototype.trackEvent=function(d){this.track(d,_.TelemetryType.Event)},e.prototype.trackRequest=function(d){this.track(d,_.TelemetryType.Request)},e.prototype.trackDependency=function(d){d&&!d.target&&d.data&&(d.target=v.parse(d.data).host),this.track(d,_.TelemetryType.Dependency)},e.prototype.flush=function(d){this.channel.triggerSend(!!d&&!!d.isAppCrashing,d?d.callback:void 0)},e.prototype.track=function(d,m){if(d&&_.telemetryTypeToBaseType(m)){var g=M.createEnvelope(d,m,this.commonProperties,this.context,this.config);d.time&&(g.time=d.time.toISOString()),this._enableAzureProperties&&b.azureRoleEnvironmentTelemetryProcessor(g,this.context);var v=this.runTelemetryProcessors(g,d.contextObjects);v=v&&b.samplingTelemetryProcessor(g,{correlationContext:A.CorrelationContextManager.getCurrentContext()}),b.preAggregatedMetricsTelemetryProcessor(g,this.context),v&&(b.performanceMetricsTelemetryProcessor(g,this.quickPulseClient),this.channel.send(g))}else k.warn("track() requires telemetry object and telemetryType to be specified.")},e.prototype.setAutoPopulateAzureProperties=function(d){this._enableAzureProperties=d},e.prototype.addTelemetryProcessor=function(d){this._telemetryProcessors.push(d)},e.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},e.prototype.runTelemetryProcessors=function(d,m){var g=!0,v=this._telemetryProcessors.length;if(0===v)return g;(m=m||{}).correlationContext=A.CorrelationContextManager.getCurrentContext();for(var y=0;y<v;++y)try{var C=this._telemetryProcessors[y];if(C&&!1===C.apply(null,[d,m])){g=!1;break}}catch(m){g=!0,k.warn("One of telemetry processors failed, telemetry item will be sent.",m,d)}return g&&(d&&d.tags&&(d.tags=R.validateStringMap(d.tags)),d&&d.data&&d.data.baseData&&d.data.baseData.properties&&(d.data.baseData.properties=R.validateStringMap(d.data.baseData.properties))),g},e}();m.exports=O})),cs=l(((d,m)=>{"use strict";var g,v=d&&d.__extends||(g=function(d,m){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(d[g]=m[g])})(d,m)},function(d,m){function n(){this.constructor=d}g(d,m),d.prototype=null===m?Object.create(m):(n.prototype=m.prototype,new n)}),y=os(),C=Hi(),_=ji(),T=I(),b=function(d){function t(){return null!==d&&d.apply(this,arguments)||this}return v(t,d),t.prototype.trackNodeHttpRequestSync=function(d){d&&d.request&&d.response&&d.duration?C.trackRequestSync(this,d):T.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},t.prototype.trackNodeHttpRequest=function(d){(d.duration||d.error)&&T.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),d&&d.request&&d.response?C.trackRequest(this,d):T.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},t.prototype.trackNodeHttpDependency=function(d){d&&d.request?_.trackRequest(this,d):T.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},t}(y);m.exports=b})),ls=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0})})),ds=l((d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.dispose=d.Configuration=d.wrapWithCorrelationContext=d.startOperation=d.getCorrelationContext=d.start=d.setup=d.liveMetricsClient=d.defaultClient=d.DistributedTracingModes=void 0;var m,g,v=yi(),y=Ti(),C=bi(),_=Ai(),T=Ni(),b=Bi(),A=ji(),P=Hi(),R=Yr(),k=I(),M=qi(),O=Ki();d.TelemetryClient=cs(),d.Contracts=Gn(),d.azureFunctionsTypes=ls(),(g=m=d.DistributedTracingModes||(d.DistributedTracingModes={}))[g.AI=0]="AI",g[g.AI_AND_W3C=1]="AI_AND_W3C";var x,L,U,j,B,V,$,q,Y,z,G,J=!0,X=!1,te=!0,re=!0,ie=!0,se=!1,oe=!0,ae=!0,ce=!0,le=!0,de=!1,he=!0,pe=void 0,me=void 0,fe=!1;function rA(){return d.defaultClient?(fe=!0,U.enable(J,X),j.enable(te),B.enable(re),V.enable(ie),$.enable(se,d.defaultClient.config),q.enable(he,L),Y.useAutoCorrelation(le,x),Y.enable(oe),z.enable(ae),d.liveMetricsClient&&de&&d.liveMetricsClient.enable(de)):k.warn("Start cannot be called before setup"),ge}d.setup=function kx(m){return d.defaultClient?k.info("The default client is already setup"):(d.defaultClient=new d.TelemetryClient(m),U=new y(d.defaultClient),j=new C(d.defaultClient),B=new _(d.defaultClient),V=new T(d.defaultClient),$=new b(d.defaultClient),Y=new P(d.defaultClient),z=new A(d.defaultClient),q||(q=new O.AutoCollectNativePerformance(d.defaultClient))),d.defaultClient&&d.defaultClient.channel&&d.defaultClient.channel.setUseDiskRetryCaching(ce,pe,me),ge},d.start=rA,d.getCorrelationContext=function Hx(){return le?v.CorrelationContextManager.getCurrentContext():null},d.startOperation=function Ux(d,m){return v.CorrelationContextManager.startOperation(d,m)},d.wrapWithCorrelationContext=function Bx(d,m){return v.CorrelationContextManager.wrapCallback(d,m)};var ge=function(){function e(){}return e.setDistributedTracingMode=function(d){return R.w3cEnabled=d===m.AI_AND_W3C,e},e.setAutoCollectConsole=function(d,m){return void 0===m&&(m=!1),J=d,X=m,fe&&U.enable(d,m),e},e.setAutoCollectExceptions=function(d){return te=d,fe&&j.enable(d),e},e.setAutoCollectPerformance=function(d,m){void 0===m&&(m=!0),re=d;var g=O.AutoCollectNativePerformance.parseEnabled(m);return he=g.isEnabled,L=g.disabledMetrics,fe&&(B.enable(d),q.enable(g.isEnabled,g.disabledMetrics)),e},e.setAutoCollectPreAggregatedMetrics=function(d){return ie=d,fe&&V.enable(d),e},e.setAutoCollectHeartbeat=function(m){return se=m,fe&&$.enable(m,d.defaultClient.config),e},e.setAutoCollectRequests=function(d){return oe=d,fe&&Y.enable(d),e},e.setAutoCollectDependencies=function(d){return ae=d,fe&&z.enable(d),e},e.setAutoDependencyCorrelation=function(d,m){return le=d,x=m,fe&&Y.useAutoCorrelation(d,m),e},e.setUseDiskRetryCaching=function(m,g,v){return ce=m,pe=g,me=v,d.defaultClient&&d.defaultClient.channel&&d.defaultClient.channel.setUseDiskRetryCaching(m,g,v),e},e.setInternalLogging=function(d,m){return void 0===d&&(d=!1),void 0===m&&(m=!0),k.enableDebug=d,k.disableWarnings=!m,e},e.setSendLiveMetrics=function(m){return void 0===m&&(m=!1),d.defaultClient?(!d.liveMetricsClient&&m?(d.liveMetricsClient=new M(d.defaultClient.config,null),G=new _(d.liveMetricsClient,1e3,!0),d.liveMetricsClient.addCollector(G),d.defaultClient.quickPulseClient=d.liveMetricsClient):d.liveMetricsClient&&d.liveMetricsClient.enable(m),de=m,e):(k.warn("Live metrics client cannot be setup without the default client"),e)},e.start=rA,e}();d.Configuration=ge,d.dispose=function Fx(){R.w3cEnabled=!0,d.defaultClient=null,fe=!1,U&&U.dispose(),j&&j.dispose(),B&&B.dispose(),V&&V.dispose(),$&&$.dispose(),q&&q.dispose(),Y&&Y.dispose(),z&&z.dispose(),d.liveMetricsClient&&(d.liveMetricsClient.enable(!1),de=!1,d.liveMetricsClient=void 0)}})),us={};((d,m)=>{for(var g in m)C(d,g,{get:m[g],enumerable:!0})})(us,{default:()=>gs}),d.exports=(v=us,Dp(C({},"__esModule",{value:!0}),v));var hs=nn(g(22037)),ps=nn(g(89496)),ms=nn(g(95687)),fs=class{constructor(d){this.vscodeAPI=d}getTelemetryLevel(){try{let d=this.vscodeAPI.env.telemetryConfiguration;return d.isUsageEnabled&&d.isErrorsEnabled&&d.isCrashEnabled?"on":d.isErrorsEnabled&&d.isCrashEnabled?"error":"off"}catch{return void 0!==this.vscodeAPI.env.isTelemetryEnabled?this.vscodeAPI.env.isTelemetryEnabled?"on":"off":this.vscodeAPI.workspace.getConfiguration("telemetry").get("enableTelemetry")?"on":"off"}}static applyReplacements(d,m){for(let g of Object.keys(d))for(let v of m)v.lookup.test(g)&&(void 0!==v.replacementString?d[g]=v.replacementString:delete d[g])}static shouldUseOneDataSystemSDK(d){return 74===d.length&&"-"===d[32]&&"-"===d[41]&&"-"===d[46]&&"-"===d[51]&&"-"===d[56]&&"-"===d[69]}static getInstance(d){return fs._instance||(fs._instance=new fs(d)),fs._instance}},wp=async(d,m,v)=>{let y=await(async(d,m,v)=>{let y=await Promise.resolve().then(g.bind(g,65526)),C=await Promise.resolve().then(g.bind(g,6107)),_=new y.AppInsightsCore,T=new C.PostChannel,b={instrumentationKey:d,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[T]]};if(v){b.extensionConfig={};let d={alwaysUseXhrOverride:!0,httpXHROverride:v};b.extensionConfig[T.identifier]=d}let A=m.workspace.getConfiguration("telemetry").get("internalTesting");return _.initialize(b,[]),_.addTelemetryInitializer((d=>{!A||(d.ext=d.ext??{},d.ext.utc=d.ext.utc??{},d.ext.utc.flags=8462029)})),_})(d,m,v);return{logEvent:(d,m)=>{try{null==y||y.track({name:d,baseData:{name:d,properties:null==m?void 0:m.properties,measurements:null==m?void 0:m.measurements}})}catch(d){throw new Error("Failed to log event to app insights!\n"+d.message)}},logException:(d,m)=>{throw new Error("1DS SDK does not support logging exceptions, please use logEvent for exception tracking")},flush:async()=>{try{null==y||y.unload()}catch(d){throw new Error("Failed to flush app insights!\n"+d.message)}}}},Gx=async(d,m)=>{let g;try{process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL="1";let m=await Promise.resolve().then((()=>nn(ds())));m.defaultClient?(g=new m.TelemetryClient(d),g.channel.setUseDiskRetryCaching(!0)):(m.setup(d).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setAutoCollectHeartbeat(!1).setUseDiskRetryCaching(!0).start(),g=m.defaultClient),ps&&ps.env&&(g.context.tags[g.context.keys.userId]=ps.env.machineId,g.context.tags[g.context.keys.sessionId]=ps.env.sessionId,g.context.tags[g.context.keys.cloudRole]=ps.env.appName,g.context.tags[g.context.keys.cloudRoleInstance]=ps.env.appName),d&&0===d.indexOf("AIF-")&&(g.config.endpointUrl="https://mobile.events.data.microsoft.com/collect/v1")}catch(d){return Promise.reject("Failed to initialize app insights!\n"+d.message)}return null!=m&&m.length&&function Vx(d,m){d.addTelemetryProcessor((d=>(Array.isArray(d.tags)?d.tags.forEach((d=>fs.applyReplacements(d,m))):d.tags&&fs.applyReplacements(d.tags,m),d.data.baseData&&fs.applyReplacements(d.data.baseData,m),!0)))}(g,m),{logEvent:(d,m)=>{try{null==g||g.trackEvent({name:d,properties:null==m?void 0:m.properties,measurements:null==m?void 0:m.measurements})}catch(d){throw new Error("Failed to log event to app insights!\n"+d.message)}},logException:(d,m)=>{try{null==g||g.trackException({exception:d,properties:null==m?void 0:m.properties,measurements:null==m?void 0:m.measurements})}catch(d){throw new Error("Failed to log exception to app insights!\n"+d.message)}},flush:async()=>{try{null==g||g.flush()}catch(d){throw new Error("Failed to flush app insights!\n"+d.message)}}}};var gs=class extends class{constructor(d,m,g,v,y,C){this.extensionId=d,this.extensionVersion=m,this.telemetryAppender=g,this.osShim=v,this.vscodeAPI=y,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!C,this.updateUserOptStatus(),void 0!==y.env.onDidChangeTelemetryEnabled?(this.disposables.push(y.env.onDidChangeTelemetryEnabled((()=>this.updateUserOptStatus()))),this.disposables.push(y.workspace.onDidChangeConfiguration((()=>this.updateUserOptStatus())))):this.disposables.push(y.workspace.onDidChangeConfiguration((()=>this.updateUserOptStatus())))}updateUserOptStatus(){let d=fs.getInstance(this.vscodeAPI).getTelemetryLevel();this.userOptIn="on"===d,this.errorOptIn="error"===d||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(d){if(!d)return"none";let m="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach((g=>{0===d.indexOf(`${g}`)&&(m=g)})),m}get extension(){return void 0===this._extension&&(this._extension=this.vscodeAPI.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(d,m){if(null===d||"object"!=typeof d||"function"!=typeof m)return d;let g={};for(let v in d)g[v]=m(v,d[v]);return g}shouldSendErrorTelemetry(){return!1!==this.errorOptIn&&(!this.firstParty||!(this.vscodeAPI.env.remoteName&&"other"===this.cleanRemoteName(this.vscodeAPI.env.remoteName)))}getCommonProperties(){let d={};if(d["common.os"]=this.osShim.platform,d["common.nodeArch"]=this.osShim.architecture,d["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),d["common.extname"]=this.extensionId,d["common.extversion"]=this.extensionVersion,this.vscodeAPI&&this.vscodeAPI.env){switch(d["common.vscodemachineid"]=this.vscodeAPI.env.machineId,d["common.vscodesessionid"]=this.vscodeAPI.env.sessionId,d["common.vscodeversion"]=this.vscodeAPI.version,d["common.isnewappinstall"]=this.vscodeAPI.env.isNewAppInstall?this.vscodeAPI.env.isNewAppInstall.toString():"false",d["common.product"]=this.vscodeAPI.env.appHost,this.vscodeAPI.env.uiKind){case this.vscodeAPI.UIKind.Web:d["common.uikind"]="web";break;case this.vscodeAPI.UIKind.Desktop:d["common.uikind"]="desktop";break;default:d["common.uikind"]="unknown"}d["common.remotename"]=this.cleanRemoteName(this.vscodeAPI.env.remoteName)}return d}anonymizeFilePaths(d,m){let g;if(null==d)return"";let v=[];""!==this.vscodeAPI.env.appRoot&&v.push(new RegExp(this.vscodeAPI.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&v.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let y=d;if(m){let m=[];for(let y of v)for(;(g=y.exec(d))&&g;)m.push([g.index,y.lastIndex]);let C=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,_=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,T=0;for(y="";(g=_.exec(d))&&g;)g[0]&&!C.test(g[0])&&m.every((([d,m])=>g.index<d||g.index>=m))&&(y+=d.substring(T,g.index)+"<REDACTED: user-file-path>",T=_.lastIndex);T<d.length&&(y+=d.substr(T))}for(let d of v)y=y.replace(d,"");return y}removePropertiesWithPossibleUserInfo(d){if("object"!=typeof d)return;let m={};for(let g of Object.keys(d)){let v=d[g];if(!v)continue;let y=/@[a-zA-Z0-9-.]+/,C=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/.test(v.toLowerCase())?m[g]="<REDACTED: secret>":y.test(v)?m[g]="<REDACTED: email>":C.test(v)?m[g]="<REDACTED: token>":m[g]=v}return m}get telemetryLevel(){switch(fs.getInstance(this.vscodeAPI).getTelemetryLevel()){case"on":return"all";case"error":return"error";case"off":return"off"}}internalSendTelemetryEvent(d,m,g,v,y){if((this.userOptIn||y)&&""!==d){if(m=St(St({},m),this.getCommonProperties()),v){let d=this.cloneAndChange(m,((d,m)=>this.anonymizeFilePaths(m,this.firstParty)));m=this.removePropertiesWithPossibleUserInfo(d)}m=m??{},g=g??{},d=`${this.extensionId}/${d}`,this.telemetryAppender.logEvent(d,{properties:m,measurements:g})}}sendTelemetryEvent(d,m,g){this.internalSendTelemetryEvent(d,m,g,!0,!1)}sendRawTelemetryEvent(d,m,g){this.internalSendTelemetryEvent(d,m,g,!1,!1)}sendDangerousTelemetryEvent(d,m,g,v=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryEvent(d,m,g,v,!0)}internalSendTelemetryErrorEvent(d,m,g,v,y){if((this.shouldSendErrorTelemetry()||y)&&""!==d){if(m=St(St({},m),this.getCommonProperties()),v){let d=this.cloneAndChange(m,((d,m)=>this.anonymizeFilePaths(m,this.firstParty)));m=this.removePropertiesWithPossibleUserInfo(d)}m=m??{},g=g??{},d=`${this.extensionId}/${d}`,this.telemetryAppender.logEvent(d,{properties:m,measurements:g})}}sendTelemetryErrorEvent(d,m,g){this.internalSendTelemetryErrorEvent(d,m,g,!0,!1)}sendDangerousTelemetryErrorEvent(d,m,g,v=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryErrorEvent(d,m,g,v,!0)}internalSendTelemetryException(d,m,g,v,y){if((this.shouldSendErrorTelemetry()||y)&&d){if(m=St(St({},m),this.getCommonProperties()),v){let g=this.cloneAndChange(m,((d,m)=>this.anonymizeFilePaths(m,this.firstParty)));d.stack&&(d.stack=this.anonymizeFilePaths(d.stack,this.firstParty)),m=this.removePropertiesWithPossibleUserInfo(g)}m=m??{},g=g??{},this.telemetryAppender.logException(d,{properties:m,measurements:g})}}sendTelemetryException(d,m,g){this.internalSendTelemetryException(d,m,g,!0,!1)}sendDangerousTelemetryException(d,m,g,v=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryException(d,m,g,v,!0)}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map((d=>d.dispose())))}}{constructor(d,m,g,v,y){let s=d=>Gx(d,y);fs.shouldUseOneDataSystemSDK(g)&&(s=d=>wp(d,ps,function $x(){return{sendPOST:(d,m)=>{let g={method:"POST",headers:Np(St({},d.headers),{"Content-Type":"application/json","Content-Length":Buffer.byteLength(d.data)})};try{let v=ms.request(d.urlString,g,(d=>{d.on("data",(function(g){m(d.statusCode??200,d.headers,g.toString())})),d.on("error",(function(){m(0,{})}))}));v.write(d.data),v.end()}catch{m(0,{})}}}}()));let C=new class{constructor(d,m){this._instantiationStatus=0,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=m,this._key=d}logEvent(d,m){this._telemetryClient?this._telemetryClient.logEvent(d,m):2!==this._instantiationStatus&&this._eventQueue.push({eventName:d,data:m})}logException(d,m){this._telemetryClient?this._telemetryClient.logException(d,m):2!==this._instantiationStatus&&this._exceptionQueue.push({exception:d,data:m})}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach((({eventName:d,data:m})=>this.logEvent(d,m))),this._eventQueue=[],this._exceptionQueue.forEach((({exception:d,data:m})=>this.logException(d,m))),this._exceptionQueue=[]}instantiateAppender(){0===this._instantiationStatus&&(this._instantiationStatus=1,this._clientFactory(this._key).then((d=>{this._telemetryClient=d,this._instantiationStatus=2,this._flushQueues()})).catch((d=>{console.error(d),this._instantiationStatus=2})))}}(g,s);g&&(0===g.indexOf("AIF-")||fs.shouldUseOneDataSystemSDK(g))&&(v=!0),super(d,m,C,{release:hs.release(),platform:hs.platform(),architecture:hs.arch()},ps,v)}}},76113:d=>{function webpackEmptyContext(d){var m=new Error("Cannot find module '"+d+"'");throw m.code="MODULE_NOT_FOUND",m}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id=76113,d.exports=webpackEmptyContext},82446:d=>{function webpackEmptyContext(d){var m=new Error("Cannot find module '"+d+"'");throw m.code="MODULE_NOT_FOUND",m}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id=82446,d.exports=webpackEmptyContext},28359:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var v=g(73076);class AbortSignal extends v.EventTarget{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){const d=y.get(this);if("boolean"!=typeof d)throw new TypeError("Expected 'this' to be an 'AbortSignal' object, but got "+(null===this?"null":typeof this));return d}}v.defineEventAttribute(AbortSignal.prototype,"abort");const y=new WeakMap;Object.defineProperties(AbortSignal.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(AbortSignal.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class AbortController{constructor(){C.set(this,function createAbortSignal(){const d=Object.create(AbortSignal.prototype);return v.EventTarget.call(d),y.set(d,!1),d}())}get signal(){return getSignal(this)}abort(){!function abortSignal(d){!1===y.get(d)&&(y.set(d,!0),d.dispatchEvent({type:"abort"}))}(getSignal(this))}}const C=new WeakMap;function getSignal(d){const m=C.get(d);if(null==m)throw new TypeError("Expected 'this' to be an 'AbortController' object, but got "+(null===d?"null":typeof d));return m}Object.defineProperties(AbortController.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(AbortController.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),m.AbortController=AbortController,m.AbortSignal=AbortSignal,m.default=AbortController,d.exports=AbortController,d.exports.AbortController=d.exports.default=AbortController,d.exports.AbortSignal=AbortSignal},31325:function(d,m,g){"use strict";var v=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};const y=g(82361),C=v(g(53084)),_=v(g(49860)),T=C.default("agent-base");function isSecureEndpoint(){const{stack:d}=new Error;return"string"==typeof d&&d.split("\n").some((d=>-1!==d.indexOf("(https.js:")||-1!==d.indexOf("node:https:")))}function createAgent(d,m){return new createAgent.Agent(d,m)}!function(d){class Agent extends y.EventEmitter{constructor(d,m){super();let g=m;"function"==typeof d?this.callback=d:d&&(g=d),this.timeout=null,g&&"number"==typeof g.timeout&&(this.timeout=g.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return"number"==typeof this.explicitDefaultPort?this.explicitDefaultPort:isSecureEndpoint()?443:80}set defaultPort(d){this.explicitDefaultPort=d}get protocol(){return"string"==typeof this.explicitProtocol?this.explicitProtocol:isSecureEndpoint()?"https:":"http:"}set protocol(d){this.explicitProtocol=d}callback(d,m,g){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(d,m){const g=Object.assign({},m);"boolean"!=typeof g.secureEndpoint&&(g.secureEndpoint=isSecureEndpoint()),null==g.host&&(g.host="localhost"),null==g.port&&(g.port=g.secureEndpoint?443:80),null==g.protocol&&(g.protocol=g.secureEndpoint?"https:":"http:"),g.host&&g.path&&delete g.path,delete g.agent,delete g.hostname,delete g._defaultAgent,delete g.defaultPort,delete g.createConnection,d._last=!0,d.shouldKeepAlive=!1;let v=!1,y=null;const C=g.timeout||this.timeout,onerror=m=>{d._hadError||(d.emit("error",m),d._hadError=!0)},ontimeout=()=>{y=null,v=!0;const d=new Error(`A "socket" was not created for HTTP request before ${C}ms`);d.code="ETIMEOUT",onerror(d)},callbackError=d=>{v||(null!==y&&(clearTimeout(y),y=null),onerror(d))},onsocket=m=>{if(v)return;if(null!=y&&(clearTimeout(y),y=null),function isAgent(d){return Boolean(d)&&"function"==typeof d.addRequest}(m))return T("Callback returned another Agent instance %o",m.constructor.name),void m.addRequest(d,g);if(m)return m.once("free",(()=>{this.freeSocket(m,g)})),void d.onSocket(m);const C=new Error(`no Duplex stream was returned to agent-base for \`${d.method} ${d.path}\``);onerror(C)};if("function"==typeof this.callback){this.promisifiedCallback||(this.callback.length>=3?(T("Converting legacy callback function to promise"),this.promisifiedCallback=_.default(this.callback)):this.promisifiedCallback=this.callback),"number"==typeof C&&C>0&&(y=setTimeout(ontimeout,C)),"port"in g&&"number"!=typeof g.port&&(g.port=Number(g.port));try{T("Resolving socket for %o request: %o",g.protocol,`${d.method} ${d.path}`),Promise.resolve(this.promisifiedCallback(d,g)).then(onsocket,callbackError)}catch(d){Promise.reject(d).catch(callbackError)}}else onerror(new Error("`callback` is not defined"))}freeSocket(d,m){T("Freeing socket %o %o",d.constructor.name,m),d.destroy()}destroy(){T("Destroying agent %o",this.constructor.name)}}d.Agent=Agent,d.prototype=d.Agent.prototype}(createAgent||(createAgent={})),d.exports=createAgent},49860:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.default=function promisify(d){return function(m,g){return new Promise(((v,y)=>{d.call(this,m,g,((d,m)=>{d?y(d):v(m)}))}))}}},60591:(d,m,g)=>{m.formatArgs=function formatArgs(m){if(m[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+m[0]+(this.useColors?"%c ":" ")+"+"+d.exports.humanize(this.diff),!this.useColors)return;const g="color: "+this.color;m.splice(1,0,g,"color: inherit");let v=0,y=0;m[0].replace(/%[a-zA-Z%]/g,(d=>{"%%"!==d&&(v++,"%c"===d&&(y=v))})),m.splice(y,0,g)},m.save=function save(d){try{d?m.storage.setItem("debug",d):m.storage.removeItem("debug")}catch(d){}},m.load=function load(){let d;try{d=m.storage.getItem("debug")}catch(d){}!d&&"undefined"!=typeof process&&"env"in process&&(d=process.env.DEBUG);return d},m.useColors=function useColors(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},m.storage=function localstorage(){try{return localStorage}catch(d){}}(),m.destroy=(()=>{let d=!1;return()=>{d||(d=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),m.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],m.log=console.debug||console.log||(()=>{}),d.exports=g(69631)(m);const{formatters:v}=d.exports;v.j=function(d){try{return JSON.stringify(d)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}},69631:(d,m,g)=>{d.exports=function setup(d){function createDebug(d){let m,g=null;function debug(...d){if(!debug.enabled)return;const g=debug,v=Number(new Date),y=v-(m||v);g.diff=y,g.prev=m,g.curr=v,m=v,d[0]=createDebug.coerce(d[0]),"string"!=typeof d[0]&&d.unshift("%O");let C=0;d[0]=d[0].replace(/%([a-zA-Z%])/g,((m,v)=>{if("%%"===m)return"%";C++;const y=createDebug.formatters[v];if("function"==typeof y){const v=d[C];m=y.call(g,v),d.splice(C,1),C--}return m})),createDebug.formatArgs.call(g,d);(g.log||createDebug.log).apply(g,d)}return debug.namespace=d,debug.useColors=createDebug.useColors(),debug.color=createDebug.selectColor(d),debug.extend=extend,debug.destroy=createDebug.destroy,Object.defineProperty(debug,"enabled",{enumerable:!0,configurable:!1,get:()=>null===g?createDebug.enabled(d):g,set:d=>{g=d}}),"function"==typeof createDebug.init&&createDebug.init(debug),debug}function extend(d,m){const g=createDebug(this.namespace+(void 0===m?":":m)+d);return g.log=this.log,g}function toNamespace(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}return createDebug.debug=createDebug,createDebug.default=createDebug,createDebug.coerce=function coerce(d){if(d instanceof Error)return d.stack||d.message;return d},createDebug.disable=function disable(){const d=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map((d=>"-"+d))].join(",");return createDebug.enable(""),d},createDebug.enable=function enable(d){let m;createDebug.save(d),createDebug.names=[],createDebug.skips=[];const g=("string"==typeof d?d:"").split(/[\s,]+/),v=g.length;for(m=0;m<v;m++)g[m]&&("-"===(d=g[m].replace(/\*/g,".*?"))[0]?createDebug.skips.push(new RegExp("^"+d.substr(1)+"$")):createDebug.names.push(new RegExp("^"+d+"$")))},createDebug.enabled=function enabled(d){if("*"===d[d.length-1])return!0;let m,g;for(m=0,g=createDebug.skips.length;m<g;m++)if(createDebug.skips[m].test(d))return!1;for(m=0,g=createDebug.names.length;m<g;m++)if(createDebug.names[m].test(d))return!0;return!1},createDebug.humanize=g(22275),createDebug.destroy=function destroy(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(d).forEach((m=>{createDebug[m]=d[m]})),createDebug.names=[],createDebug.skips=[],createDebug.formatters={},createDebug.selectColor=function selectColor(d){let m=0;for(let g=0;g<d.length;g++)m=(m<<5)-m+d.charCodeAt(g),m|=0;return createDebug.colors[Math.abs(m)%createDebug.colors.length]},createDebug.enable(createDebug.load()),createDebug}},53084:(d,m,g)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?d.exports=g(60591):d.exports=g(77101)},77101:(d,m,g)=>{const v=g(76224),y=g(73837);m.init=function init(d){d.inspectOpts={};const g=Object.keys(m.inspectOpts);for(let v=0;v<g.length;v++)d.inspectOpts[g[v]]=m.inspectOpts[g[v]]},m.log=function log(...d){return process.stderr.write(y.format(...d)+"\n")},m.formatArgs=function formatArgs(g){const{namespace:v,useColors:y}=this;if(y){const m=this.color,y="[3"+(m<8?m:"8;5;"+m),C=`  ${y};1m${v} [0m`;g[0]=C+g[0].split("\n").join("\n"+C),g.push(y+"m+"+d.exports.humanize(this.diff)+"[0m")}else g[0]=function getDate(){if(m.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+v+" "+g[0]},m.save=function save(d){d?process.env.DEBUG=d:delete process.env.DEBUG},m.load=function load(){return process.env.DEBUG},m.useColors=function useColors(){return"colors"in m.inspectOpts?Boolean(m.inspectOpts.colors):v.isatty(process.stderr.fd)},m.destroy=y.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),m.colors=[6,2,3,4,5,1];try{const d=g(37013);d&&(d.stderr||d).level>=2&&(m.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(d){}m.inspectOpts=Object.keys(process.env).filter((d=>/^debug_/i.test(d))).reduce(((d,m)=>{const g=m.substring(6).toLowerCase().replace(/_([a-z])/g,((d,m)=>m.toUpperCase()));let v=process.env[m];return v=!!/^(yes|on|true|enabled)$/i.test(v)||!/^(no|off|false|disabled)$/i.test(v)&&("null"===v?null:Number(v)),d[g]=v,d}),{}),d.exports=g(69631)(m);const{formatters:C}=d.exports;C.o=function(d){return this.inspectOpts.colors=this.useColors,y.inspect(d,this.inspectOpts).split("\n").map((d=>d.trim())).join(" ")},C.O=function(d){return this.inspectOpts.colors=this.useColors,y.inspect(d,this.inspectOpts)}},22275:d=>{var m=1e3,g=60*m,v=60*g,y=24*v,C=7*y,_=365.25*y;function plural(d,m,g,v){var y=m>=1.5*g;return Math.round(d/g)+" "+v+(y?"s":"")}d.exports=function(d,T){T=T||{};var b=typeof d;if("string"===b&&d.length>0)return function parse(d){if((d=String(d)).length>100)return;var T=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(!T)return;var b=parseFloat(T[1]);switch((T[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return b*_;case"weeks":case"week":case"w":return b*C;case"days":case"day":case"d":return b*y;case"hours":case"hour":case"hrs":case"hr":case"h":return b*v;case"minutes":case"minute":case"mins":case"min":case"m":return b*g;case"seconds":case"second":case"secs":case"sec":case"s":return b*m;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return b;default:return}}(d);if("number"===b&&isFinite(d))return T.long?function fmtLong(d){var C=Math.abs(d);if(C>=y)return plural(d,C,y,"day");if(C>=v)return plural(d,C,v,"hour");if(C>=g)return plural(d,C,g,"minute");if(C>=m)return plural(d,C,m,"second");return d+" ms"}(d):function fmtShort(d){var C=Math.abs(d);if(C>=y)return Math.round(d/y)+"d";if(C>=v)return Math.round(d/v)+"h";if(C>=g)return Math.round(d/g)+"m";if(C>=m)return Math.round(d/m)+"s";return d+"ms"}(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))}},2787:(d,m,g)=>{"use strict";
/*!
 * ansi-colors <https://github.com/doowb/ansi-colors>
 *
 * Copyright (c) 2015-2017, Brian Woodward.
 * Released under the MIT License.
 */var v=g(37278);m.bgblack=function bgblack(d){return v(40,49,d)},m.bgblue=function bgblue(d){return v(44,49,d)},m.bgcyan=function bgcyan(d){return v(46,49,d)},m.bggreen=function bggreen(d){return v(42,49,d)},m.bgmagenta=function bgmagenta(d){return v(45,49,d)},m.bgred=function bgred(d){return v(41,49,d)},m.bgwhite=function bgwhite(d){return v(47,49,d)},m.bgyellow=function bgyellow(d){return v(43,49,d)},m.black=function black(d){return v(30,39,d)},m.blue=function blue(d){return v(34,39,d)},m.bold=function bold(d){return v(1,22,d)},m.cyan=function cyan(d){return v(36,39,d)},m.dim=function dim(d){return v(2,22,d)},m.gray=function gray(d){return v(90,39,d)},m.green=function green(d){return v(32,39,d)},m.grey=function grey(d){return v(90,39,d)},m.hidden=function hidden(d){return v(8,28,d)},m.inverse=function inverse(d){return v(7,27,d)},m.italic=function italic(d){return v(3,23,d)},m.magenta=function magenta(d){return v(35,39,d)},m.red=function red(d){return v(31,39,d)},m.reset=function reset(d){return v(0,0,d)},m.strikethrough=function strikethrough(d){return v(9,29,d)},m.underline=function underline(d){return v(4,24,d)},m.white=function white(d){return v(37,39,d)},m.yellow=function yellow(d){return v(33,39,d)}},37278:d=>{"use strict";d.exports=function(d,m,g){return"["+d+"m"+g+"["+m+"m"}},15040:(d,m,g)=>{var v=g(32081),y=g(57147),C=g(71017);d.exports=function arch(){if("x64"===process.arch)return"x64";if("darwin"===process.platform)return"x64";if("win32"===process.platform){var d=!1;try{d=!(!process.env.SYSTEMROOT||!y.statSync(process.env.SYSTEMROOT))}catch(d){}var m=d?process.env.SYSTEMROOT:"C:\\Windows",g=!1;try{g=!!y.statSync(C.join(m,"sysnative"))}catch(d){}return g?"x64":"x86"}return"linux"===process.platform&&"64\n"===v.execSync("getconf LONG_BIT",{encoding:"utf8"})?"x64":"x86"}},27092:d=>{const m=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];let g;const log10=d=>d<1e5?d<100?d<10?0:1:d<1e4?d<1e3?2:3:4:d<1e7?d<1e6?5:6:d<1e9?d<1e8?7:8:9;function alphabeticalCompare(d,g){if(d===g)return 0;if(~~d===d&&~~g===g){if(0===d||0===g)return d<g?-1:1;if(d<0||g<0){if(g>=0)return-1;if(d>=0)return 1;d=-d,g=-g}const v=log10(d),y=log10(g);let C=0;return v<y?(d*=m[y-v-1],g/=10,C=-1):v>y&&(g*=m[v-y-1],d/=10,C=1),d===g?C:d<g?-1:1}const v=String(d),y=String(g);return v===y?0:v<y?-1:1}function makeAscendingRun(d,m,v,y){let C=m+1;if(C===v)return 1;if(y(d[C++],d[m])<0){for(;C<v&&y(d[C],d[C-1])<0;)C++;reverseRun(d,m,C),reverseRun(g,m,C)}else for(;C<v&&y(d[C],d[C-1])>=0;)C++;return C-m}function reverseRun(d,m,g){for(g--;m<g;){const v=d[m];d[m++]=d[g],d[g--]=v}}function binaryInsertionSort(d,m,v,y,C){for(y===m&&y++;y<v;y++){const v=d[y],_=g[y];let T=m,b=y;for(;T<b;){const m=T+b>>>1;C(v,d[m])<0?b=m:T=m+1}let A=y-T;switch(A){case 3:d[T+3]=d[T+2],g[T+3]=g[T+2];case 2:d[T+2]=d[T+1],g[T+2]=g[T+1];case 1:d[T+1]=d[T],g[T+1]=g[T];break;default:for(;A>0;)d[T+A]=d[T+A-1],g[T+A]=g[T+A-1],A--}d[T]=v,g[T]=_}}function gallopLeft(d,m,g,v,y,C){let _=0,T=0,b=1;if(C(d,m[g+y])>0){for(T=v-y;b<T&&C(d,m[g+y+b])>0;)_=b,b=1+(b<<1),b<=0&&(b=T);b>T&&(b=T),_+=y,b+=y}else{for(T=y+1;b<T&&C(d,m[g+y-b])<=0;)_=b,b=1+(b<<1),b<=0&&(b=T);b>T&&(b=T);const v=_;_=y-b,b=y-v}for(_++;_<b;){const v=_+(b-_>>>1);C(d,m[g+v])>0?_=v+1:b=v}return b}function gallopRight(d,m,g,v,y,C){let _=0,T=0,b=1;if(C(d,m[g+y])<0){for(T=y+1;b<T&&C(d,m[g+y-b])<0;)_=b,b=1+(b<<1),b<=0&&(b=T);b>T&&(b=T);const v=_;_=y-b,b=y-v}else{for(T=v-y;b<T&&C(d,m[g+y+b])>=0;)_=b,b=1+(b<<1),b<=0&&(b=T);b>T&&(b=T),_+=y,b+=y}for(_++;_<b;){const v=_+(b-_>>>1);C(d,m[g+v])<0?b=v:_=v+1}return b}class TimSort{constructor(d,m){this.array=d,this.compare=m;const{length:g}=d;this.length=g,this.minGallop=7,this.tmpStorageLength=g<512?g>>>1:256,this.tmp=new Array(this.tmpStorageLength),this.tmpIndex=new Array(this.tmpStorageLength),this.stackLength=g<120?5:g<1542?10:g<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength),this.stackSize=0}pushRun(d,m){this.runStart[this.stackSize]=d,this.runLength[this.stackSize]=m,this.stackSize+=1}mergeRuns(){for(;this.stackSize>1;){let d=this.stackSize-2;if(d>=1&&this.runLength[d-1]<=this.runLength[d]+this.runLength[d+1]||d>=2&&this.runLength[d-2]<=this.runLength[d]+this.runLength[d-1])this.runLength[d-1]<this.runLength[d+1]&&d--;else if(this.runLength[d]>this.runLength[d+1])break;this.mergeAt(d)}}forceMergeRuns(){for(;this.stackSize>1;){let d=this.stackSize-2;d>0&&this.runLength[d-1]<this.runLength[d+1]&&d--,this.mergeAt(d)}}mergeAt(d){const{compare:m}=this,{array:g}=this;let v=this.runStart[d],y=this.runLength[d];const C=this.runStart[d+1];let _=this.runLength[d+1];this.runLength[d]=y+_,d===this.stackSize-3&&(this.runStart[d+1]=this.runStart[d+2],this.runLength[d+1]=this.runLength[d+2]),this.stackSize--;const T=gallopRight(g[C],g,v,y,0,m);v+=T,y-=T,0!==y&&(_=gallopLeft(g[v+y-1],g,C,_,_-1,m),0!==_&&(y<=_?this.mergeLow(v,y,C,_):this.mergeHigh(v,y,C,_)))}mergeLow(d,m,v,y){const{compare:C}=this,{array:_}=this,{tmp:T}=this,{tmpIndex:b}=this;let A=0;for(A=0;A<m;A++)T[A]=_[d+A],b[A]=g[d+A];let P=0,R=v,k=d;if(_[k]=_[R],g[k]=g[R],k++,R++,0==--y){for(A=0;A<m;A++)_[k+A]=T[P+A],g[k+A]=b[P+A];return}if(1===m){for(A=0;A<y;A++)_[k+A]=_[R+A],g[k+A]=g[R+A];return _[k+y]=T[P],void(g[k+y]=b[P])}let{minGallop:M}=this;for(;;){let d=0,v=0,I=!1;do{if(C(_[R],T[P])<0){if(_[k]=_[R],g[k]=g[R],k++,R++,v++,d=0,0==--y){I=!0;break}}else if(_[k]=T[P],g[k]=b[P],k++,P++,d++,v=0,1==--m){I=!0;break}}while((d|v)<M);if(I)break;do{if(d=gallopRight(_[R],T,P,m,0,C),0!==d){for(A=0;A<d;A++)_[k+A]=T[P+A],g[k+A]=b[P+A];if(k+=d,P+=d,(m-=d)<=1){I=!0;break}}if(_[k]=_[R],g[k]=g[R],k++,R++,0==--y){I=!0;break}if(v=gallopLeft(T[P],_,R,y,0,C),0!==v){for(A=0;A<v;A++)_[k+A]=_[R+A],g[k+A]=g[R+A];if(k+=v,R+=v,0===(y-=v)){I=!0;break}}if(_[k]=T[P],g[k]=b[P],k++,P++,1==--m){I=!0;break}M--}while(d>=7||v>=7);if(I)break;M<0&&(M=0),M+=2}if(this.minGallop=M,M<1&&(this.minGallop=1),1===m){for(A=0;A<y;A++)_[k+A]=_[R+A],g[k+A]=g[R+A];_[k+y]=T[P],g[k+y]=b[P]}else{if(0===m)throw new Error("mergeLow preconditions were not respected");for(A=0;A<m;A++)_[k+A]=T[P+A],g[k+A]=b[P+A]}}mergeHigh(d,m,v,y){const{compare:C}=this,{array:_}=this,{tmp:T}=this,{tmpIndex:b}=this;let A=0;for(A=0;A<y;A++)T[A]=_[v+A],b[A]=g[v+A];let P=d+m-1,R=y-1,k=v+y-1,M=0,I=0;if(_[k]=_[P],g[k]=g[P],k--,P--,0==--m){for(M=k-(y-1),A=0;A<y;A++)_[M+A]=T[A],g[M+A]=b[A];return}if(1===y){for(k-=m,P-=m,I=k+1,M=P+1,A=m-1;A>=0;A--)_[I+A]=_[M+A],g[I+A]=g[M+A];return _[k]=T[R],void(g[k]=b[R])}let{minGallop:O}=this;for(;;){let v=0,x=0,L=!1;do{if(C(T[R],_[P])<0){if(_[k]=_[P],g[k]=g[P],k--,P--,v++,x=0,0==--m){L=!0;break}}else if(_[k]=T[R],g[k]=b[R],k--,R--,x++,v=0,1==--y){L=!0;break}}while((v|x)<O);if(L)break;do{if(v=m-gallopRight(T[R],_,d,m,m-1,C),0!==v){for(k-=v,P-=v,m-=v,I=k+1,M=P+1,A=v-1;A>=0;A--)_[I+A]=_[M+A],g[I+A]=g[M+A];if(0===m){L=!0;break}}if(_[k]=T[R],g[k]=b[R],k--,R--,1==--y){L=!0;break}if(x=y-gallopLeft(_[P],T,0,y,y-1,C),0!==x){for(k-=x,R-=x,y-=x,I=k+1,M=R+1,A=0;A<x;A++)_[I+A]=T[M+A],g[I+A]=b[M+A];if(y<=1){L=!0;break}}if(_[k]=_[P],g[k]=g[P],k--,P--,0==--m){L=!0;break}O--}while(v>=7||x>=7);if(L)break;O<0&&(O=0),O+=2}if(this.minGallop=O,O<1&&(this.minGallop=1),1===y){for(k-=m,P-=m,I=k+1,M=P+1,A=m-1;A>=0;A--)_[I+A]=_[M+A],g[I+A]=g[M+A];_[k]=T[R],g[k]=b[R]}else{if(0===y)throw new Error("mergeHigh preconditions were not respected");for(M=k-(y-1),A=0;A<y;A++)_[M+A]=T[A],g[M+A]=b[A]}}}d.exports={sort:function sort(d,m,v,y){if(!Array.isArray(d))throw new TypeError(`The "array" argument must be an array. Received ${d}`);g=[];const{length:C}=d;let _=0;for(;_<C;)g[_]=_++;m?"function"!=typeof m&&(y=v,v=m,m=alphabeticalCompare):m=alphabeticalCompare,v||(v=0),y||(y=C);let T=y-v;if(T<2)return g;let b=0;if(T<32)return b=makeAscendingRun(d,v,y,m),binaryInsertionSort(d,v,y,v+b,m),g;const A=new TimSort(d,m),P=function minRunLength(d){let m=0;for(;d>=32;)m|=1&d,d>>=1;return d+m}(T);do{if(b=makeAscendingRun(d,v,y,m),b<P){let g=T;g>P&&(g=P),binaryInsertionSort(d,v,v+g,v+b,m),b=g}A.pushRun(v,b),A.mergeRuns(),T-=b,v+=b}while(0!==T);return A.forceMergeRuns(),g}}},78419:(d,m,g)=>{"use strict";const v=g(22812),y=g(31984),C=v.define("OCSPRequest",(function(){this.seq().obj(this.key("tbsRequest").use(_),this.key("optionalSignature").optional().explicit(0).use(T))}));m.OCSPRequest=C;const _=v.define("TBSRequest",(function(){this.seq().obj(this.key("version").def("v1").explicit(0).use(y.Version),this.key("requestorName").optional().explicit(1).use(y.GeneralName),this.key("requestList").seqof(b),this.key("requestExtensions").optional().explicit(2).seqof(y.Extension))}));m.TBSRequest=_;const T=v.define("Signature",(function(){this.seq().obj(this.key("signatureAlgorithm").use(y.AlgorithmIdentifier),this.key("signature").bitstr(),this.key("certs").optional().explicit(0).seqof(y.Certificate))}));m.Signature=T;const b=v.define("Request",(function(){this.seq().obj(this.key("reqCert").use(U),this.key("singleRequestExtensions").optional().explicit(0).seqof(y.Extension))}));m.Request=b;const A=v.define("OCSPResponse",(function(){this.seq().obj(this.key("responseStatus").use(P),this.key("responseBytes").optional().explicit(0).seq().obj(this.key("responseType").objid({"1 3 6 1 5 5 7 48 1 1":"id-pkix-ocsp-basic"}),this.key("response").octstr()))}));m.OCSPResponse=A;const P=v.define("ResponseStatus",(function(){this.enum({0:"successful",1:"malformed_request",2:"internal_error",3:"try_later",5:"sig_required",6:"unauthorized"})}));m.ResponseStatus=P;const R=v.define("BasicOCSPResponse",(function(){this.seq().obj(this.key("tbsResponseData").use(k),this.key("signatureAlgorithm").use(y.AlgorithmIdentifier),this.key("signature").bitstr(),this.key("certs").optional().explicit(0).seqof(y.Certificate))}));m.BasicOCSPResponse=R;const k=v.define("ResponseData",(function(){this.seq().obj(this.key("version").def("v1").explicit(0).use(y.Version),this.key("responderID").use(M),this.key("producedAt").gentime(),this.key("responses").seqof(O),this.key("responseExtensions").optional().explicit(1).seqof(y.Extension))}));m.ResponseData=k;const M=v.define("ResponderId",(function(){this.choice({byName:this.explicit(1).use(y.Name),byKey:this.explicit(2).use(I)})}));m.ResponderID=M;const I=v.define("KeyHash",(function(){this.octstr()}));m.KeyHash=I;const O=v.define("SingleResponse",(function(){this.seq().obj(this.key("certId").use(U),this.key("certStatus").use(x),this.key("thisUpdate").gentime(),this.key("nextUpdate").optional().explicit(0).gentime(),this.key("singleExtensions").optional().explicit(1).seqof(y.Extension))}));m.SingleResponse=O;const x=v.define("CertStatus",(function(){this.choice({good:this.implicit(0).null_(),revoked:this.implicit(1).use(L),unknown:this.implicit(2).null_()})}));m.CertStatus=x;const L=v.define("RevokedInfo",(function(){this.seq().obj(this.key("revocationTime").gentime(),this.key("revocationReason").optional().explicit(0).use(y.ReasonCode))}));m.RevokedInfo=L;const U=v.define("CertID",(function(){this.seq().obj(this.key("hashAlgorithm").use(y.AlgorithmIdentifier),this.key("issuerNameHash").octstr(),this.key("issuerKeyHash").octstr(),this.key("serialNumber").use(y.CertificateSerialNumber))}));m.CertID=U;const j=v.define("Nonce",(function(){this.octstr()}));m.Nonce=j,m["id-pkix-ocsp"]=[1,3,6,1,5,5,7,48,1],m["id-pkix-ocsp-nonce"]=[1,3,6,1,5,5,7,48,1,2]},31984:(d,m,g)=>{"use strict";const v=g(3672),y=m,C={"2 5 29 9":"subjectDirectoryAttributes","2 5 29 14":"subjectKeyIdentifier","2 5 29 15":"keyUsage","2 5 29 17":"subjectAlternativeName","2 5 29 18":"issuerAlternativeName","2 5 29 19":"basicConstraints","2 5 29 20":"cRLNumber","2 5 29 21":"reasonCode","2 5 29 24":"invalidityDate","2 5 29 27":"deltaCRLIndicator","2 5 29 28":"issuingDistributionPoint","2 5 29 29":"certificateIssuer","2 5 29 30":"nameConstraints","2 5 29 31":"cRLDistributionPoints","2 5 29 32":"certificatePolicies","2 5 29 33":"policyMappings","2 5 29 35":"authorityKeyIdentifier","2 5 29 36":"policyConstraints","2 5 29 37":"extendedKeyUsage","2 5 29 46":"freshestCRL","2 5 29 54":"inhibitAnyPolicy","1 3 6 1 5 5 7 1 1":"authorityInformationAccess","1 3 6 1 5 5 7 11":"subjectInformationAccess"},_=v.define("CertificateList",(function(){this.seq().obj(this.key("tbsCertList").use(I),this.key("signatureAlgorithm").use(T),this.key("signature").bitstr())}));y.CertificateList=_;const T=v.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}));y.AlgorithmIdentifier=T;const b=v.define("Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(A),this.key("signatureAlgorithm").use(T),this.key("signature").bitstr())}));y.Certificate=b;const A=v.define("TBSCertificate",(function(){this.seq().obj(this.key("version").def("v1").explicit(0).use(P),this.key("serialNumber").int(),this.key("signature").use(T),this.key("issuer").use(L),this.key("validity").use(R),this.key("subject").use(L),this.key("subjectPublicKeyInfo").use(M),this.key("issuerUniqueID").optional().implicit(1).bitstr(),this.key("subjectUniqueID").optional().implicit(2).bitstr(),this.key("extensions").optional().explicit(3).seqof(x))}));y.TBSCertificate=A;const P=v.define("Version",(function(){this.int({0:"v1",1:"v2",2:"v3"})}));y.Version=P;const R=v.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(k),this.key("notAfter").use(k))}));y.Validity=R;const k=v.define("Time",(function(){this.choice({utcTime:this.utctime(),genTime:this.gentime()})}));y.Time=k;const M=v.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(T),this.key("subjectPublicKey").bitstr())}));y.SubjectPublicKeyInfo=M;const I=v.define("TBSCertList",(function(){this.seq().obj(this.key("version").optional().int(),this.key("signature").use(T),this.key("issuer").use(L),this.key("thisUpdate").use(k),this.key("nextUpdate").use(k),this.key("revokedCertificates").optional().seqof(O),this.key("crlExtensions").explicit(0).optional().seqof(x))}));y.TBSCertList=I;const O=v.define("RevokedCertificate",(function(){this.seq().obj(this.key("userCertificate").use(ie),this.key("revocationDate").use(k),this.key("crlEntryExtensions").optional().seqof(x))})),x=v.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(C),this.key("critical").bool().def(!1),this.key("extnValue").octstr().contains((function(d){const m=Ct[d.extnID];return m||v.define("OctString",(function(){this.any()}))})))}));y.Extension=x;const L=v.define("Name",(function(){this.choice({rdnSequence:this.use($)})}));y.Name=L;const U=v.define("GeneralName",(function(){this.choice({otherName:this.implicit(0).use(B),rfc822Name:this.implicit(1).ia5str(),dNSName:this.implicit(2).ia5str(),directoryName:this.explicit(4).use(L),ediPartyName:this.implicit(5).use(V),uniformResourceIdentifier:this.implicit(6).ia5str(),iPAddress:this.implicit(7).octstr(),registeredID:this.implicit(8).objid()})}));y.GeneralName=U;const j=v.define("GeneralNames",(function(){this.seqof(U)}));y.GeneralNames=j;const B=v.define("AnotherName",(function(){this.seq().obj(this.key("type-id").objid(),this.key("value").explicit(0).any())}));y.AnotherName=B;const V=v.define("EDIPartyName",(function(){this.seq().obj(this.key("nameAssigner").implicit(0).optional().use(X),this.key("partyName").implicit(1).use(X))}));y.EDIPartyName=V;const $=v.define("RDNSequence",(function(){this.seqof(q)}));y.RDNSequence=$;const q=v.define("RelativeDistinguishedName",(function(){this.setof(Y)}));y.RelativeDistinguishedName=q;const Y=v.define("AttributeTypeAndValue",(function(){this.seq().obj(this.key("type").use(G),this.key("value").use(J))}));y.AttributeTypeAndValue=Y;const z=v.define("Attribute",(function(){this.seq().obj(this.key("type").use(G),this.key("values").setof(J))}));y.Attribute=z;const G=v.define("AttributeType",(function(){this.objid()}));y.AttributeType=G;const J=v.define("AttributeValue",(function(){this.any()}));y.AttributeValue=J;const X=v.define("DirectoryString",(function(){this.choice({teletexString:this.t61str(),printableString:this.printstr(),universalString:this.unistr(),utf8String:this.utf8str(),bmpString:this.bmpstr()})}));y.DirectoryString=X;const te=v.define("AuthorityKeyIdentifier",(function(){this.seq().obj(this.key("keyIdentifier").implicit(0).optional().use(re),this.key("authorityCertIssuer").implicit(1).optional().use(j),this.key("authorityCertSerialNumber").implicit(2).optional().use(ie))}));y.AuthorityKeyIdentifier=te;const re=v.define("KeyIdentifier",(function(){this.octstr()}));y.KeyIdentifier=re;const ie=v.define("CertificateSerialNumber",(function(){this.int()}));y.CertificateSerialNumber=ie;const se=v.define("ORAddress",(function(){this.seq().obj(this.key("builtInStandardAttributes").use(oe),this.key("builtInDomainDefinedAttributes").optional().use(Se),this.key("extensionAttributes").optional().use(Ce))}));y.ORAddress=se;const oe=v.define("BuiltInStandardAttributes",(function(){this.seq().obj(this.key("countryName").optional().use(ae),this.key("administrationDomainName").optional().use(ce),this.key("networkAddress").implicit(0).optional().use(le),this.key("terminalIdentifier").implicit(1).optional().use(he),this.key("privateDomainName").explicit(2).optional().use(pe),this.key("organizationName").implicit(3).optional().use(me),this.key("numericUserIdentifier").implicit(4).optional().use(fe),this.key("personalName").implicit(5).optional().use(ge),this.key("organizationalUnitNames").implicit(6).optional().use(ve))}));y.BuiltInStandardAttributes=oe;const ae=v.define("CountryName",(function(){this.choice({x121DccCode:this.numstr(),iso3166Alpha2Code:this.printstr()})}));y.CountryName=ae;const ce=v.define("AdministrationDomainName",(function(){this.choice({numeric:this.numstr(),printable:this.printstr()})}));y.AdministrationDomainName=ce;const le=v.define("NetworkAddress",(function(){this.use(de)}));y.NetworkAddress=le;const de=v.define("X121Address",(function(){this.numstr()}));y.X121Address=de;const he=v.define("TerminalIdentifier",(function(){this.printstr()}));y.TerminalIdentifier=he;const pe=v.define("PrivateDomainName",(function(){this.choice({numeric:this.numstr(),printable:this.printstr()})}));y.PrivateDomainName=pe;const me=v.define("OrganizationName",(function(){this.printstr()}));y.OrganizationName=me;const fe=v.define("NumericUserIdentifier",(function(){this.numstr()}));y.NumericUserIdentifier=fe;const ge=v.define("PersonalName",(function(){this.set().obj(this.key("surname").implicit(0).printstr(),this.key("givenName").implicit(1).printstr(),this.key("initials").implicit(2).printstr(),this.key("generationQualifier").implicit(3).printstr())}));y.PersonalName=ge;const ve=v.define("OrganizationalUnitNames",(function(){this.seqof(ye)}));y.OrganizationalUnitNames=ve;const ye=v.define("OrganizationalUnitName",(function(){this.printstr()}));y.OrganizationalUnitName=ye;const Se=v.define("BuiltInDomainDefinedAttributes",(function(){this.seqof(Ee)}));y.BuiltInDomainDefinedAttributes=Se;const Ee=v.define("BuiltInDomainDefinedAttribute",(function(){this.seq().obj(this.key("type").printstr(),this.key("value").printstr())}));y.BuiltInDomainDefinedAttribute=Ee;const Ce=v.define("ExtensionAttributes",(function(){this.seqof(_e)}));y.ExtensionAttributes=Ce;const _e=v.define("ExtensionAttribute",(function(){this.seq().obj(this.key("extensionAttributeType").implicit(0).int(),this.key("extensionAttributeValue").any().explicit(1).int())}));y.ExtensionAttribute=_e;const Te=v.define("SubjectKeyIdentifier",(function(){this.use(re)}));y.SubjectKeyIdentifier=Te;const be=v.define("KeyUsage",(function(){this.bitstr()}));y.KeyUsage=be;const Ae=v.define("CertificatePolicies",(function(){this.seqof(Pe)}));y.CertificatePolicies=Ae;const Pe=v.define("PolicyInformation",(function(){this.seq().obj(this.key("policyIdentifier").use(ke),this.key("policyQualifiers").optional().use(Ne))}));y.PolicyInformation=Pe;const ke=v.define("CertPolicyId",(function(){this.objid()}));y.CertPolicyId=ke;const Ne=v.define("PolicyQualifiers",(function(){this.seqof(De)}));y.PolicyQualifiers=Ne;const De=v.define("PolicyQualifierInfo",(function(){this.seq().obj(this.key("policyQualifierId").use(Ie),this.key("qualifier").any())}));y.PolicyQualifierInfo=De;const Ie=v.define("PolicyQualifierId",(function(){this.objid()}));y.PolicyQualifierId=Ie;const Oe=v.define("PolicyMappings",(function(){this.seqof(xe)}));y.PolicyMappings=Oe;const xe=v.define("PolicyMapping",(function(){this.seq().obj(this.key("issuerDomainPolicy").use(ke),this.key("subjectDomainPolicy").use(ke))}));y.PolicyMapping=xe;const Le=v.define("SubjectAlternativeName",(function(){this.use(j)}));y.SubjectAlternativeName=Le;const Fe=v.define("IssuerAlternativeName",(function(){this.use(j)}));y.IssuerAlternativeName=Fe;const Ue=v.define("SubjectDirectoryAttributes",(function(){this.seqof(z)}));y.SubjectDirectoryAttributes=Ue;const je=v.define("BasicConstraints",(function(){this.seq().obj(this.key("cA").bool().def(!1),this.key("pathLenConstraint").optional().int())}));y.BasicConstraints=je;const Be=v.define("NameConstraints",(function(){this.seq().obj(this.key("permittedSubtrees").implicit(0).optional().use(He),this.key("excludedSubtrees").implicit(1).optional().use(He))}));y.NameConstraints=Be;const He=v.define("GeneralSubtrees",(function(){this.seqof($e)}));y.GeneralSubtrees=He;const $e=v.define("GeneralSubtree",(function(){this.seq().obj(this.key("base").use(U),this.key("minimum").implicit(0).def(0).use(qe),this.key("maximum").implicit(0).optional().use(qe))}));y.GeneralSubtree=$e;const qe=v.define("BaseDistance",(function(){this.int()}));y.BaseDistance=qe;const ze=v.define("PolicyConstraints",(function(){this.seq().obj(this.key("requireExplicitPolicy").implicit(0).optional().use(Ge),this.key("inhibitPolicyMapping").implicit(1).optional().use(Ge))}));y.PolicyConstraints=ze;const Ge=v.define("SkipCerts",(function(){this.int()}));y.SkipCerts=Ge;const Je=v.define("ExtendedKeyUsage",(function(){this.seqof(Xe)}));y.ExtendedKeyUsage=Je;const Xe=v.define("KeyPurposeId",(function(){this.objid()}));y.KeyPurposeId=Xe;const Ze=v.define("CRLDistributionPoints",(function(){this.seqof(et)}));y.CRLDistributionPoints=Ze;const et=v.define("DistributionPoint",(function(){this.seq().obj(this.key("distributionPoint").optional().explicit(0).use(tt),this.key("reasons").optional().implicit(1).use(rt),this.key("cRLIssuer").optional().implicit(2).use(j))}));y.DistributionPoint=et;const tt=v.define("DistributionPointName",(function(){this.choice({fullName:this.implicit(0).use(j),nameRelativeToCRLIssuer:this.implicit(1).use(q)})}));y.DistributionPointName=tt;const rt=v.define("ReasonFlags",(function(){this.bitstr()}));y.ReasonFlags=rt;const nt=v.define("InhibitAnyPolicy",(function(){this.use(Ge)}));y.InhibitAnyPolicy=nt;const it=v.define("FreshestCRL",(function(){this.use(Ze)}));y.FreshestCRL=it;const ot=v.define("AuthorityInfoAccessSyntax",(function(){this.seqof(ct)}));y.AuthorityInfoAccessSyntax=ot;const ct=v.define("AccessDescription",(function(){this.seq().obj(this.key("accessMethod").objid(),this.key("accessLocation").use(U))}));y.AccessDescription=ct;const dt=v.define("SubjectInformationAccess",(function(){this.seqof(ct)}));y.SubjectInformationAccess=dt;const ut=v.define("CRLNumber",(function(){this.int()}));y.CRLNumber=ut;const ht=v.define("DeltaCRLIndicator",(function(){this.use(ut)}));y.DeltaCRLIndicator=ht;const pt=v.define("IssuingDistributionPoint",(function(){this.seq().obj(this.key("distributionPoint").explicit(0).optional().use(tt),this.key("onlyContainsUserCerts").implicit(1).def(!1).bool(),this.key("onlyContainsCACerts").implicit(2).def(!1).bool(),this.key("onlySomeReasons").implicit(3).optional().use(rt),this.key("indirectCRL").implicit(4).def(!1).bool(),this.key("onlyContainsAttributeCerts").implicit(5).def(!1).bool())}));y.IssuingDistributionPoint=pt;const mt=v.define("ReasonCode",(function(){this.enum({0:"unspecified",1:"keyCompromise",2:"cACompromise",3:"affiliationChanged",4:"superseded",5:"cessationOfOperation",6:"certificateHold",8:"removeFromCRL",9:"privilegeWithdrawn",10:"aACompromise"})}));y.ReasonCode=mt;const ft=v.define("InvalidityDate",(function(){this.gentime()}));y.InvalidityDate=ft;const yt=v.define("CertificateIssuer",(function(){this.use(j)}));y.CertificateIssuer=yt;const Ct={subjectDirectoryAttributes:Ue,subjectKeyIdentifier:Te,keyUsage:be,subjectAlternativeName:Le,issuerAlternativeName:Fe,basicConstraints:je,cRLNumber:ut,reasonCode:mt,invalidityDate:ft,deltaCRLIndicator:ht,issuingDistributionPoint:pt,certificateIssuer:yt,nameConstraints:Be,cRLDistributionPoints:Ze,certificatePolicies:Ae,policyMappings:Oe,authorityKeyIdentifier:te,policyConstraints:ze,extendedKeyUsage:Je,freshestCRL:it,inhibitAnyPolicy:nt,authorityInformationAccess:ot,subjectInformationAccess:dt}},3672:(d,m,g)=>{"use strict";const v=m;v.bignum=g(62197),v.define=g(43320).define,v.base=g(4028),v.constants=g(48183),v.decoders=g(6693),v.encoders=g(17077)},43320:(d,m,g)=>{"use strict";const v=g(17077),y=g(6693),C=g(98874);function Entity(d,m){this.name=d,this.body=m,this.decoders={},this.encoders={}}m.define=function define(d,m){return new Entity(d,m)},Entity.prototype._createNamed=function createNamed(d){const m=this.name;function Generated(d){this._initNamed(d,m)}return C(Generated,d),Generated.prototype._initNamed=function _initNamed(m,g){d.call(this,m,g)},new Generated(this)},Entity.prototype._getDecoder=function _getDecoder(d){return d=d||"der",this.decoders.hasOwnProperty(d)||(this.decoders[d]=this._createNamed(y[d])),this.decoders[d]},Entity.prototype.decode=function decode(d,m,g){return this._getDecoder(m).decode(d,g)},Entity.prototype._getEncoder=function _getEncoder(d){return d=d||"der",this.encoders.hasOwnProperty(d)||(this.encoders[d]=this._createNamed(v[d])),this.encoders[d]},Entity.prototype.encode=function encode(d,m,g){return this._getEncoder(m).encode(d,g)}},47765:(d,m,g)=>{"use strict";const v=g(98874),y=g(35804).b,C=g(27654).Buffer;function DecoderBuffer(d,m){y.call(this,m),C.isBuffer(d)?(this.base=d,this.offset=0,this.length=d.length):this.error("Input not Buffer")}function EncoderBuffer(d,m){if(Array.isArray(d))this.length=0,this.value=d.map((function(d){return EncoderBuffer.isEncoderBuffer(d)||(d=new EncoderBuffer(d,m)),this.length+=d.length,d}),this);else if("number"==typeof d){if(!(0<=d&&d<=255))return m.error("non-byte EncoderBuffer value");this.value=d,this.length=1}else if("string"==typeof d)this.value=d,this.length=C.byteLength(d);else{if(!C.isBuffer(d))return m.error("Unsupported type: "+typeof d);this.value=d,this.length=d.length}}v(DecoderBuffer,y),m.C=DecoderBuffer,DecoderBuffer.isDecoderBuffer=function isDecoderBuffer(d){if(d instanceof DecoderBuffer)return!0;return"object"==typeof d&&C.isBuffer(d.base)&&"DecoderBuffer"===d.constructor.name&&"number"==typeof d.offset&&"number"==typeof d.length&&"function"==typeof d.save&&"function"==typeof d.restore&&"function"==typeof d.isEmpty&&"function"==typeof d.readUInt8&&"function"==typeof d.skip&&"function"==typeof d.raw},DecoderBuffer.prototype.save=function save(){return{offset:this.offset,reporter:y.prototype.save.call(this)}},DecoderBuffer.prototype.restore=function restore(d){const m=new DecoderBuffer(this.base);return m.offset=d.offset,m.length=this.offset,this.offset=d.offset,y.prototype.restore.call(this,d.reporter),m},DecoderBuffer.prototype.isEmpty=function isEmpty(){return this.offset===this.length},DecoderBuffer.prototype.readUInt8=function readUInt8(d){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(d||"DecoderBuffer overrun")},DecoderBuffer.prototype.skip=function skip(d,m){if(!(this.offset+d<=this.length))return this.error(m||"DecoderBuffer overrun");const g=new DecoderBuffer(this.base);return g._reporterState=this._reporterState,g.offset=this.offset,g.length=this.offset+d,this.offset+=d,g},DecoderBuffer.prototype.raw=function raw(d){return this.base.slice(d?d.offset:this.offset,this.length)},m.R=EncoderBuffer,EncoderBuffer.isEncoderBuffer=function isEncoderBuffer(d){if(d instanceof EncoderBuffer)return!0;return"object"==typeof d&&"EncoderBuffer"===d.constructor.name&&"number"==typeof d.length&&"function"==typeof d.join},EncoderBuffer.prototype.join=function join(d,m){return d||(d=C.alloc(this.length)),m||(m=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(g){g.join(d,m),m+=g.length})):("number"==typeof this.value?d[m]=this.value:"string"==typeof this.value?d.write(this.value,m):C.isBuffer(this.value)&&this.value.copy(d,m),m+=this.length)),d}},4028:(d,m,g)=>{"use strict";const v=m;v.Reporter=g(35804).b,v.DecoderBuffer=g(47765).C,v.EncoderBuffer=g(47765).R,v.Node=g(76917)},76917:(d,m,g)=>{"use strict";const v=g(35804).b,y=g(47765).R,C=g(47765).C,_=g(79561),T=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],b=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(T);function Node(d,m,g){const v={};this._baseState=v,v.name=g,v.enc=d,v.parent=m||null,v.children=null,v.tag=null,v.args=null,v.reverseArgs=null,v.choice=null,v.optional=!1,v.any=!1,v.obj=!1,v.use=null,v.useDecoder=null,v.key=null,v.default=null,v.explicit=null,v.implicit=null,v.contains=null,v.parent||(v.children=[],this._wrap())}d.exports=Node;const A=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Node.prototype.clone=function clone(){const d=this._baseState,m={};A.forEach((function(g){m[g]=d[g]}));const g=new this.constructor(m.parent);return g._baseState=m,g},Node.prototype._wrap=function wrap(){const d=this._baseState;b.forEach((function(m){this[m]=function _wrappedMethod(){const g=new this.constructor(this);return d.children.push(g),g[m].apply(g,arguments)}}),this)},Node.prototype._init=function init(d){const m=this._baseState;_(null===m.parent),d.call(this),m.children=m.children.filter((function(d){return d._baseState.parent===this}),this),_.equal(m.children.length,1,"Root node can have only one child")},Node.prototype._useArgs=function useArgs(d){const m=this._baseState,g=d.filter((function(d){return d instanceof this.constructor}),this);d=d.filter((function(d){return!(d instanceof this.constructor)}),this),0!==g.length&&(_(null===m.children),m.children=g,g.forEach((function(d){d._baseState.parent=this}),this)),0!==d.length&&(_(null===m.args),m.args=d,m.reverseArgs=d.map((function(d){if("object"!=typeof d||d.constructor!==Object)return d;const m={};return Object.keys(d).forEach((function(g){g==(0|g)&&(g|=0);const v=d[g];m[v]=g})),m})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(d){Node.prototype[d]=function _overrided(){const m=this._baseState;throw new Error(d+" not implemented for encoding: "+m.enc)}})),T.forEach((function(d){Node.prototype[d]=function _tagMethod(){const m=this._baseState,g=Array.prototype.slice.call(arguments);return _(null===m.tag),m.tag=d,this._useArgs(g),this}})),Node.prototype.use=function use(d){_(d);const m=this._baseState;return _(null===m.use),m.use=d,this},Node.prototype.optional=function optional(){return this._baseState.optional=!0,this},Node.prototype.def=function def(d){const m=this._baseState;return _(null===m.default),m.default=d,m.optional=!0,this},Node.prototype.explicit=function explicit(d){const m=this._baseState;return _(null===m.explicit&&null===m.implicit),m.explicit=d,this},Node.prototype.implicit=function implicit(d){const m=this._baseState;return _(null===m.explicit&&null===m.implicit),m.implicit=d,this},Node.prototype.obj=function obj(){const d=this._baseState,m=Array.prototype.slice.call(arguments);return d.obj=!0,0!==m.length&&this._useArgs(m),this},Node.prototype.key=function key(d){const m=this._baseState;return _(null===m.key),m.key=d,this},Node.prototype.any=function any(){return this._baseState.any=!0,this},Node.prototype.choice=function choice(d){const m=this._baseState;return _(null===m.choice),m.choice=d,this._useArgs(Object.keys(d).map((function(m){return d[m]}))),this},Node.prototype.contains=function contains(d){const m=this._baseState;return _(null===m.use),m.contains=d,this},Node.prototype._decode=function decode(d,m){const g=this._baseState;if(null===g.parent)return d.wrapResult(g.children[0]._decode(d,m));let v,y=g.default,_=!0,T=null;if(null!==g.key&&(T=d.enterKey(g.key)),g.optional){let v=null;if(null!==g.explicit?v=g.explicit:null!==g.implicit?v=g.implicit:null!==g.tag&&(v=g.tag),null!==v||g.any){if(_=this._peekTag(d,v,g.any),d.isError(_))return _}else{const v=d.save();try{null===g.choice?this._decodeGeneric(g.tag,d,m):this._decodeChoice(d,m),_=!0}catch(d){_=!1}d.restore(v)}}if(g.obj&&_&&(v=d.enterObject()),_){if(null!==g.explicit){const m=this._decodeTag(d,g.explicit);if(d.isError(m))return m;d=m}const v=d.offset;if(null===g.use&&null===g.choice){let m;g.any&&(m=d.save());const v=this._decodeTag(d,null!==g.implicit?g.implicit:g.tag,g.any);if(d.isError(v))return v;g.any?y=d.raw(m):d=v}if(m&&m.track&&null!==g.tag&&m.track(d.path(),v,d.length,"tagged"),m&&m.track&&null!==g.tag&&m.track(d.path(),d.offset,d.length,"content"),g.any||(y=null===g.choice?this._decodeGeneric(g.tag,d,m):this._decodeChoice(d,m)),d.isError(y))return y;if(g.any||null!==g.choice||null===g.children||g.children.forEach((function decodeChildren(g){g._decode(d,m)})),g.contains&&("octstr"===g.tag||"bitstr"===g.tag)){const v=new C(y);y=this._getUse(g.contains,d._reporterState.obj)._decode(v,m)}}return g.obj&&_&&(y=d.leaveObject(v)),null===g.key||null===y&&!0!==_?null!==T&&d.exitKey(T):d.leaveKey(T,g.key,y),y},Node.prototype._decodeGeneric=function decodeGeneric(d,m,g){const v=this._baseState;return"seq"===d||"set"===d?null:"seqof"===d||"setof"===d?this._decodeList(m,d,v.args[0],g):/str$/.test(d)?this._decodeStr(m,d,g):"objid"===d&&v.args?this._decodeObjid(m,v.args[0],v.args[1],g):"objid"===d?this._decodeObjid(m,null,null,g):"gentime"===d||"utctime"===d?this._decodeTime(m,d,g):"null_"===d?this._decodeNull(m,g):"bool"===d?this._decodeBool(m,g):"objDesc"===d?this._decodeStr(m,d,g):"int"===d||"enum"===d?this._decodeInt(m,v.args&&v.args[0],g):null!==v.use?this._getUse(v.use,m._reporterState.obj)._decode(m,g):m.error("unknown tag: "+d)},Node.prototype._getUse=function _getUse(d,m){const g=this._baseState;return g.useDecoder=this._use(d,m),_(null===g.useDecoder._baseState.parent),g.useDecoder=g.useDecoder._baseState.children[0],g.implicit!==g.useDecoder._baseState.implicit&&(g.useDecoder=g.useDecoder.clone(),g.useDecoder._baseState.implicit=g.implicit),g.useDecoder},Node.prototype._decodeChoice=function decodeChoice(d,m){const g=this._baseState;let v=null,y=!1;return Object.keys(g.choice).some((function(C){const _=d.save(),T=g.choice[C];try{const g=T._decode(d,m);if(d.isError(g))return!1;v={type:C,value:g},y=!0}catch(m){return d.restore(_),!1}return!0}),this),y?v:d.error("Choice not matched")},Node.prototype._createEncoderBuffer=function createEncoderBuffer(d){return new y(d,this.reporter)},Node.prototype._encode=function encode(d,m,g){const v=this._baseState;if(null!==v.default&&v.default===d)return;const y=this._encodeValue(d,m,g);return void 0===y||this._skipDefault(y,m,g)?void 0:y},Node.prototype._encodeValue=function encode(d,m,g){const y=this._baseState;if(null===y.parent)return y.children[0]._encode(d,m||new v);let C=null;if(this.reporter=m,y.optional&&void 0===d){if(null===y.default)return;d=y.default}let _=null,T=!1;if(y.any)C=this._createEncoderBuffer(d);else if(y.choice)C=this._encodeChoice(d,m);else if(y.contains)_=this._getUse(y.contains,g)._encode(d,m),T=!0;else if(y.children)_=y.children.map((function(g){if("null_"===g._baseState.tag)return g._encode(null,m,d);if(null===g._baseState.key)return m.error("Child should have a key");const v=m.enterKey(g._baseState.key);if("object"!=typeof d)return m.error("Child expected, but input is not object");const y=g._encode(d[g._baseState.key],m,d);return m.leaveKey(v),y}),this).filter((function(d){return d})),_=this._createEncoderBuffer(_);else if("seqof"===y.tag||"setof"===y.tag){if(!y.args||1!==y.args.length)return m.error("Too many args for : "+y.tag);if(!Array.isArray(d))return m.error("seqof/setof, but data is not Array");const g=this.clone();g._baseState.implicit=null,_=this._createEncoderBuffer(d.map((function(g){const v=this._baseState;return this._getUse(v.args[0],d)._encode(g,m)}),g))}else null!==y.use?C=this._getUse(y.use,g)._encode(d,m):(_=this._encodePrimitive(y.tag,d),T=!0);if(!y.any&&null===y.choice){const d=null!==y.implicit?y.implicit:y.tag,g=null===y.implicit?"universal":"context";null===d?null===y.use&&m.error("Tag could be omitted only for .use()"):null===y.use&&(C=this._encodeComposite(d,T,g,_))}return null!==y.explicit&&(C=this._encodeComposite(y.explicit,!1,"context",C)),C},Node.prototype._encodeChoice=function encodeChoice(d,m){const g=this._baseState,v=g.choice[d.type];return v||_(!1,d.type+" not found in "+JSON.stringify(Object.keys(g.choice))),v._encode(d.value,m)},Node.prototype._encodePrimitive=function encodePrimitive(d,m){const g=this._baseState;if(/str$/.test(d))return this._encodeStr(m,d);if("objid"===d&&g.args)return this._encodeObjid(m,g.reverseArgs[0],g.args[1]);if("objid"===d)return this._encodeObjid(m,null,null);if("gentime"===d||"utctime"===d)return this._encodeTime(m,d);if("null_"===d)return this._encodeNull();if("int"===d||"enum"===d)return this._encodeInt(m,g.args&&g.reverseArgs[0]);if("bool"===d)return this._encodeBool(m);if("objDesc"===d)return this._encodeStr(m,d);throw new Error("Unsupported tag: "+d)},Node.prototype._isNumstr=function isNumstr(d){return/^[0-9 ]*$/.test(d)},Node.prototype._isPrintstr=function isPrintstr(d){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(d)}},35804:(d,m,g)=>{"use strict";const v=g(98874);function Reporter(d){this._reporterState={obj:null,path:[],options:d||{},errors:[]}}function ReporterError(d,m){this.path=d,this.rethrow(m)}m.b=Reporter,Reporter.prototype.isError=function isError(d){return d instanceof ReporterError},Reporter.prototype.save=function save(){const d=this._reporterState;return{obj:d.obj,pathLen:d.path.length}},Reporter.prototype.restore=function restore(d){const m=this._reporterState;m.obj=d.obj,m.path=m.path.slice(0,d.pathLen)},Reporter.prototype.enterKey=function enterKey(d){return this._reporterState.path.push(d)},Reporter.prototype.exitKey=function exitKey(d){const m=this._reporterState;m.path=m.path.slice(0,d-1)},Reporter.prototype.leaveKey=function leaveKey(d,m,g){const v=this._reporterState;this.exitKey(d),null!==v.obj&&(v.obj[m]=g)},Reporter.prototype.path=function path(){return this._reporterState.path.join("/")},Reporter.prototype.enterObject=function enterObject(){const d=this._reporterState,m=d.obj;return d.obj={},m},Reporter.prototype.leaveObject=function leaveObject(d){const m=this._reporterState,g=m.obj;return m.obj=d,g},Reporter.prototype.error=function error(d){let m;const g=this._reporterState,v=d instanceof ReporterError;if(m=v?d:new ReporterError(g.path.map((function(d){return"["+JSON.stringify(d)+"]"})).join(""),d.message||d,d.stack),!g.options.partial)throw m;return v||g.errors.push(m),m},Reporter.prototype.wrapResult=function wrapResult(d){const m=this._reporterState;return m.options.partial?{result:this.isError(d)?null:d,errors:m.errors}:d},v(ReporterError,Error),ReporterError.prototype.rethrow=function rethrow(d){if(this.message=d+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ReporterError),!this.stack)try{throw new Error(this.message)}catch(d){this.stack=d.stack}return this}},15286:(d,m)=>{"use strict";function reverse(d){const m={};return Object.keys(d).forEach((function(g){(0|g)==g&&(g|=0);const v=d[g];m[v]=g})),m}m.tagClass={0:"universal",1:"application",2:"context",3:"private"},m.tagClassByName=reverse(m.tagClass),m.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},m.tagByName=reverse(m.tag)},48183:(d,m,g)=>{"use strict";const v=m;v._reverse=function reverse(d){const m={};return Object.keys(d).forEach((function(g){(0|g)==g&&(g|=0);const v=d[g];m[v]=g})),m},v.der=g(15286)},15666:(d,m,g)=>{"use strict";const v=g(98874),y=g(62197),C=g(47765).C,_=g(76917),T=g(15286);function DERDecoder(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new DERNode,this.tree._init(d.body)}function DERNode(d){_.call(this,"der",d)}function derDecodeTag(d,m){let g=d.readUInt8(m);if(d.isError(g))return g;const v=T.tagClass[g>>6],y=0==(32&g);if(31==(31&g)){let v=g;for(g=0;128==(128&v);){if(v=d.readUInt8(m),d.isError(v))return v;g<<=7,g|=127&v}}else g&=31;return{cls:v,primitive:y,tag:g,tagStr:T.tag[g]}}function derDecodeLen(d,m,g){let v=d.readUInt8(g);if(d.isError(v))return v;if(!m&&128===v)return null;if(0==(128&v))return v;const y=127&v;if(y>4)return d.error("length octect is too long");v=0;for(let m=0;m<y;m++){v<<=8;const m=d.readUInt8(g);if(d.isError(m))return m;v|=m}return v}d.exports=DERDecoder,DERDecoder.prototype.decode=function decode(d,m){return C.isDecoderBuffer(d)||(d=new C(d,m)),this.tree._decode(d,m)},v(DERNode,_),DERNode.prototype._peekTag=function peekTag(d,m,g){if(d.isEmpty())return!1;const v=d.save(),y=derDecodeTag(d,'Failed to peek tag: "'+m+'"');return d.isError(y)?y:(d.restore(v),y.tag===m||y.tagStr===m||y.tagStr+"of"===m||g)},DERNode.prototype._decodeTag=function decodeTag(d,m,g){const v=derDecodeTag(d,'Failed to decode tag of "'+m+'"');if(d.isError(v))return v;let y=derDecodeLen(d,v.primitive,'Failed to get length of "'+m+'"');if(d.isError(y))return y;if(!g&&v.tag!==m&&v.tagStr!==m&&v.tagStr+"of"!==m)return d.error('Failed to match tag: "'+m+'"');if(v.primitive||null!==y)return d.skip(y,'Failed to match body of: "'+m+'"');const C=d.save(),_=this._skipUntilEnd(d,'Failed to skip indefinite length body: "'+this.tag+'"');return d.isError(_)?_:(y=d.offset-C.offset,d.restore(C),d.skip(y,'Failed to match body of: "'+m+'"'))},DERNode.prototype._skipUntilEnd=function skipUntilEnd(d,m){for(;;){const g=derDecodeTag(d,m);if(d.isError(g))return g;const v=derDecodeLen(d,g.primitive,m);if(d.isError(v))return v;let y;if(y=g.primitive||null!==v?d.skip(v):this._skipUntilEnd(d,m),d.isError(y))return y;if("end"===g.tagStr)break}},DERNode.prototype._decodeList=function decodeList(d,m,g,v){const y=[];for(;!d.isEmpty();){const m=this._peekTag(d,"end");if(d.isError(m))return m;const C=g.decode(d,"der",v);if(d.isError(C)&&m)break;y.push(C)}return y},DERNode.prototype._decodeStr=function decodeStr(d,m){if("bitstr"===m){const m=d.readUInt8();return d.isError(m)?m:{unused:m,data:d.raw()}}if("bmpstr"===m){const m=d.raw();if(m.length%2==1)return d.error("Decoding of string type: bmpstr length mismatch");let g="";for(let d=0;d<m.length/2;d++)g+=String.fromCharCode(m.readUInt16BE(2*d));return g}if("numstr"===m){const m=d.raw().toString("ascii");return this._isNumstr(m)?m:d.error("Decoding of string type: numstr unsupported characters")}if("octstr"===m)return d.raw();if("objDesc"===m)return d.raw();if("printstr"===m){const m=d.raw().toString("ascii");return this._isPrintstr(m)?m:d.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(m)?d.raw().toString():d.error("Decoding of string type: "+m+" unsupported")},DERNode.prototype._decodeObjid=function decodeObjid(d,m,g){let v;const y=[];let C=0,_=0;for(;!d.isEmpty();)_=d.readUInt8(),C<<=7,C|=127&_,0==(128&_)&&(y.push(C),C=0);128&_&&y.push(C);const T=y[0]/40|0,b=y[0]%40;if(v=g?y:[T,b].concat(y.slice(1)),m){let d=m[v.join(" ")];void 0===d&&(d=m[v.join(".")]),void 0!==d&&(v=d)}return v},DERNode.prototype._decodeTime=function decodeTime(d,m){const g=d.raw().toString();let v,y,C,_,T,b;if("gentime"===m)v=0|g.slice(0,4),y=0|g.slice(4,6),C=0|g.slice(6,8),_=0|g.slice(8,10),T=0|g.slice(10,12),b=0|g.slice(12,14);else{if("utctime"!==m)return d.error("Decoding "+m+" time is not supported yet");v=0|g.slice(0,2),y=0|g.slice(2,4),C=0|g.slice(4,6),_=0|g.slice(6,8),T=0|g.slice(8,10),b=0|g.slice(10,12),v=v<70?2e3+v:1900+v}return Date.UTC(v,y-1,C,_,T,b,0)},DERNode.prototype._decodeNull=function decodeNull(){return null},DERNode.prototype._decodeBool=function decodeBool(d){const m=d.readUInt8();return d.isError(m)?m:0!==m},DERNode.prototype._decodeInt=function decodeInt(d,m){const g=d.raw();let v=new y(g);return m&&(v=m[v.toString(10)]||v),v},DERNode.prototype._use=function use(d,m){return"function"==typeof d&&(d=d(m)),d._getDecoder("der").tree}},6693:(d,m,g)=>{"use strict";const v=m;v.der=g(15666),v.pem=g(98303)},98303:(d,m,g)=>{"use strict";const v=g(98874),y=g(27654).Buffer,C=g(15666);function PEMDecoder(d){C.call(this,d),this.enc="pem"}v(PEMDecoder,C),d.exports=PEMDecoder,PEMDecoder.prototype.decode=function decode(d,m){const g=d.toString().split(/[\r\n]+/g),v=m.label.toUpperCase(),_=/^-----(BEGIN|END) ([^-]+)-----$/;let T=-1,b=-1;for(let d=0;d<g.length;d++){const m=g[d].match(_);if(null!==m&&m[2]===v){if(-1!==T){if("END"!==m[1])break;b=d;break}if("BEGIN"!==m[1])break;T=d}}if(-1===T||-1===b)throw new Error("PEM section not found for: "+v);const A=g.slice(T+1,b).join("");A.replace(/[^a-z0-9+/=]+/gi,"");const P=y.from(A,"base64");return C.prototype.decode.call(this,P,m)}},57997:(d,m,g)=>{"use strict";const v=g(98874),y=g(27654).Buffer,C=g(76917),_=g(15286);function DEREncoder(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new DERNode,this.tree._init(d.body)}function DERNode(d){C.call(this,"der",d)}function two(d){return d<10?"0"+d:d}d.exports=DEREncoder,DEREncoder.prototype.encode=function encode(d,m){return this.tree._encode(d,m).join()},v(DERNode,C),DERNode.prototype._encodeComposite=function encodeComposite(d,m,g,v){const C=function encodeTag(d,m,g,v){let y;"seqof"===d?d="seq":"setof"===d&&(d="set");if(_.tagByName.hasOwnProperty(d))y=_.tagByName[d];else{if("number"!=typeof d||(0|d)!==d)return v.error("Unknown tag: "+d);y=d}if(y>=31)return v.error("Multi-octet tag encoding unsupported");m||(y|=32);return y|=_.tagClassByName[g||"universal"]<<6,y}(d,m,g,this.reporter);if(v.length<128){const d=y.alloc(2);return d[0]=C,d[1]=v.length,this._createEncoderBuffer([d,v])}let T=1;for(let d=v.length;d>=256;d>>=8)T++;const b=y.alloc(2+T);b[0]=C,b[1]=128|T;for(let d=1+T,m=v.length;m>0;d--,m>>=8)b[d]=255&m;return this._createEncoderBuffer([b,v])},DERNode.prototype._encodeStr=function encodeStr(d,m){if("bitstr"===m)return this._createEncoderBuffer([0|d.unused,d.data]);if("bmpstr"===m){const m=y.alloc(2*d.length);for(let g=0;g<d.length;g++)m.writeUInt16BE(d.charCodeAt(g),2*g);return this._createEncoderBuffer(m)}return"numstr"===m?this._isNumstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===m?this._isPrintstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(m)||"objDesc"===m?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: "+m+" unsupported")},DERNode.prototype._encodeObjid=function encodeObjid(d,m,g){if("string"==typeof d){if(!m)return this.reporter.error("string objid given, but no values map found");if(!m.hasOwnProperty(d))return this.reporter.error("objid not found in values map");d=m[d].split(/[\s.]+/g);for(let m=0;m<d.length;m++)d[m]|=0}else if(Array.isArray(d)){d=d.slice();for(let m=0;m<d.length;m++)d[m]|=0}if(!Array.isArray(d))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(d));if(!g){if(d[1]>=40)return this.reporter.error("Second objid identifier OOB");d.splice(0,2,40*d[0]+d[1])}let v=0;for(let m=0;m<d.length;m++){let g=d[m];for(v++;g>=128;g>>=7)v++}const C=y.alloc(v);let _=C.length-1;for(let m=d.length-1;m>=0;m--){let g=d[m];for(C[_--]=127&g;(g>>=7)>0;)C[_--]=128|127&g}return this._createEncoderBuffer(C)},DERNode.prototype._encodeTime=function encodeTime(d,m){let g;const v=new Date(d);return"gentime"===m?g=[two(v.getUTCFullYear()),two(v.getUTCMonth()+1),two(v.getUTCDate()),two(v.getUTCHours()),two(v.getUTCMinutes()),two(v.getUTCSeconds()),"Z"].join(""):"utctime"===m?g=[two(v.getUTCFullYear()%100),two(v.getUTCMonth()+1),two(v.getUTCDate()),two(v.getUTCHours()),two(v.getUTCMinutes()),two(v.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+m+" time is not supported yet"),this._encodeStr(g,"octstr")},DERNode.prototype._encodeNull=function encodeNull(){return this._createEncoderBuffer("")},DERNode.prototype._encodeInt=function encodeInt(d,m){if("string"==typeof d){if(!m)return this.reporter.error("String int or enum given, but no values map");if(!m.hasOwnProperty(d))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(d));d=m[d]}if("number"!=typeof d&&!y.isBuffer(d)){const m=d.toArray();!d.sign&&128&m[0]&&m.unshift(0),d=y.from(m)}if(y.isBuffer(d)){let m=d.length;0===d.length&&m++;const g=y.alloc(m);return d.copy(g),0===d.length&&(g[0]=0),this._createEncoderBuffer(g)}if(d<128)return this._createEncoderBuffer(d);if(d<256)return this._createEncoderBuffer([0,d]);let g=1;for(let m=d;m>=256;m>>=8)g++;const v=new Array(g);for(let m=v.length-1;m>=0;m--)v[m]=255&d,d>>=8;return 128&v[0]&&v.unshift(0),this._createEncoderBuffer(y.from(v))},DERNode.prototype._encodeBool=function encodeBool(d){return this._createEncoderBuffer(d?255:0)},DERNode.prototype._use=function use(d,m){return"function"==typeof d&&(d=d(m)),d._getEncoder("der").tree},DERNode.prototype._skipDefault=function skipDefault(d,m,g){const v=this._baseState;let y;if(null===v.default)return!1;const C=d.join();if(void 0===v.defaultBuffer&&(v.defaultBuffer=this._encodeValue(v.default,m,g).join()),C.length!==v.defaultBuffer.length)return!1;for(y=0;y<C.length;y++)if(C[y]!==v.defaultBuffer[y])return!1;return!0}},17077:(d,m,g)=>{"use strict";const v=m;v.der=g(57997),v.pem=g(68147)},68147:(d,m,g)=>{"use strict";const v=g(98874),y=g(57997);function PEMEncoder(d){y.call(this,d),this.enc="pem"}v(PEMEncoder,y),d.exports=PEMEncoder,PEMEncoder.prototype.encode=function encode(d,m){const g=y.prototype.encode.call(this,d).toString("base64"),v=["-----BEGIN "+m.label+"-----"];for(let d=0;d<g.length;d+=64)v.push(g.slice(d,d+64));return v.push("-----END "+m.label+"-----"),v.join("\n")}},22812:(d,m,g)=>{var v=m;v.bignum=g(62197),v.define=g(45192).define,v.base=g(84798),v.constants=g(96906),v.decoders=g(18211),v.encoders=g(89116)},45192:(d,m,g)=>{var v=g(22812),y=g(98874);function Entity(d,m){this.name=d,this.body=m,this.decoders={},this.encoders={}}m.define=function define(d,m){return new Entity(d,m)},Entity.prototype._createNamed=function createNamed(d){var m;try{m=g(26144).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(d){m=function(d){this._initNamed(d)}}return y(m,d),m.prototype._initNamed=function initnamed(m){d.call(this,m)},new m(this)},Entity.prototype._getDecoder=function _getDecoder(d){return d=d||"der",this.decoders.hasOwnProperty(d)||(this.decoders[d]=this._createNamed(v.decoders[d])),this.decoders[d]},Entity.prototype.decode=function decode(d,m,g){return this._getDecoder(m).decode(d,g)},Entity.prototype._getEncoder=function _getEncoder(d){return d=d||"der",this.encoders.hasOwnProperty(d)||(this.encoders[d]=this._createNamed(v.encoders[d])),this.encoders[d]},Entity.prototype.encode=function encode(d,m,g){return this._getEncoder(m).encode(d,g)}},47362:(d,m,g)=>{var v=g(98874),y=g(84798).Reporter,C=g(14300).Buffer;function DecoderBuffer(d,m){y.call(this,m),C.isBuffer(d)?(this.base=d,this.offset=0,this.length=d.length):this.error("Input not Buffer")}function EncoderBuffer(d,m){if(Array.isArray(d))this.length=0,this.value=d.map((function(d){return d instanceof EncoderBuffer||(d=new EncoderBuffer(d,m)),this.length+=d.length,d}),this);else if("number"==typeof d){if(!(0<=d&&d<=255))return m.error("non-byte EncoderBuffer value");this.value=d,this.length=1}else if("string"==typeof d)this.value=d,this.length=C.byteLength(d);else{if(!C.isBuffer(d))return m.error("Unsupported type: "+typeof d);this.value=d,this.length=d.length}}v(DecoderBuffer,y),m.C=DecoderBuffer,DecoderBuffer.prototype.save=function save(){return{offset:this.offset,reporter:y.prototype.save.call(this)}},DecoderBuffer.prototype.restore=function restore(d){var m=new DecoderBuffer(this.base);return m.offset=d.offset,m.length=this.offset,this.offset=d.offset,y.prototype.restore.call(this,d.reporter),m},DecoderBuffer.prototype.isEmpty=function isEmpty(){return this.offset===this.length},DecoderBuffer.prototype.readUInt8=function readUInt8(d){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(d||"DecoderBuffer overrun")},DecoderBuffer.prototype.skip=function skip(d,m){if(!(this.offset+d<=this.length))return this.error(m||"DecoderBuffer overrun");var g=new DecoderBuffer(this.base);return g._reporterState=this._reporterState,g.offset=this.offset,g.length=this.offset+d,this.offset+=d,g},DecoderBuffer.prototype.raw=function raw(d){return this.base.slice(d?d.offset:this.offset,this.length)},m.R=EncoderBuffer,EncoderBuffer.prototype.join=function join(d,m){return d||(d=new C(this.length)),m||(m=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(g){g.join(d,m),m+=g.length})):("number"==typeof this.value?d[m]=this.value:"string"==typeof this.value?d.write(this.value,m):C.isBuffer(this.value)&&this.value.copy(d,m),m+=this.length)),d}},84798:(d,m,g)=>{var v=m;v.Reporter=g(80126).b,v.DecoderBuffer=g(47362).C,v.EncoderBuffer=g(47362).R,v.Node=g(80847)},80847:(d,m,g)=>{var v=g(84798).Reporter,y=g(84798).EncoderBuffer,C=g(84798).DecoderBuffer,_=g(79561),T=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],b=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(T);function Node(d,m){var g={};this._baseState=g,g.enc=d,g.parent=m||null,g.children=null,g.tag=null,g.args=null,g.reverseArgs=null,g.choice=null,g.optional=!1,g.any=!1,g.obj=!1,g.use=null,g.useDecoder=null,g.key=null,g.default=null,g.explicit=null,g.implicit=null,g.contains=null,g.parent||(g.children=[],this._wrap())}d.exports=Node;var A=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Node.prototype.clone=function clone(){var d=this._baseState,m={};A.forEach((function(g){m[g]=d[g]}));var g=new this.constructor(m.parent);return g._baseState=m,g},Node.prototype._wrap=function wrap(){var d=this._baseState;b.forEach((function(m){this[m]=function _wrappedMethod(){var g=new this.constructor(this);return d.children.push(g),g[m].apply(g,arguments)}}),this)},Node.prototype._init=function init(d){var m=this._baseState;_(null===m.parent),d.call(this),m.children=m.children.filter((function(d){return d._baseState.parent===this}),this),_.equal(m.children.length,1,"Root node can have only one child")},Node.prototype._useArgs=function useArgs(d){var m=this._baseState,g=d.filter((function(d){return d instanceof this.constructor}),this);d=d.filter((function(d){return!(d instanceof this.constructor)}),this),0!==g.length&&(_(null===m.children),m.children=g,g.forEach((function(d){d._baseState.parent=this}),this)),0!==d.length&&(_(null===m.args),m.args=d,m.reverseArgs=d.map((function(d){if("object"!=typeof d||d.constructor!==Object)return d;var m={};return Object.keys(d).forEach((function(g){g==(0|g)&&(g|=0);var v=d[g];m[v]=g})),m})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(d){Node.prototype[d]=function _overrided(){var m=this._baseState;throw new Error(d+" not implemented for encoding: "+m.enc)}})),T.forEach((function(d){Node.prototype[d]=function _tagMethod(){var m=this._baseState,g=Array.prototype.slice.call(arguments);return _(null===m.tag),m.tag=d,this._useArgs(g),this}})),Node.prototype.use=function use(d){_(d);var m=this._baseState;return _(null===m.use),m.use=d,this},Node.prototype.optional=function optional(){return this._baseState.optional=!0,this},Node.prototype.def=function def(d){var m=this._baseState;return _(null===m.default),m.default=d,m.optional=!0,this},Node.prototype.explicit=function explicit(d){var m=this._baseState;return _(null===m.explicit&&null===m.implicit),m.explicit=d,this},Node.prototype.implicit=function implicit(d){var m=this._baseState;return _(null===m.explicit&&null===m.implicit),m.implicit=d,this},Node.prototype.obj=function obj(){var d=this._baseState,m=Array.prototype.slice.call(arguments);return d.obj=!0,0!==m.length&&this._useArgs(m),this},Node.prototype.key=function key(d){var m=this._baseState;return _(null===m.key),m.key=d,this},Node.prototype.any=function any(){return this._baseState.any=!0,this},Node.prototype.choice=function choice(d){var m=this._baseState;return _(null===m.choice),m.choice=d,this._useArgs(Object.keys(d).map((function(m){return d[m]}))),this},Node.prototype.contains=function contains(d){var m=this._baseState;return _(null===m.use),m.contains=d,this},Node.prototype._decode=function decode(d,m){var g=this._baseState;if(null===g.parent)return d.wrapResult(g.children[0]._decode(d,m));var v,y=g.default,_=!0,T=null;if(null!==g.key&&(T=d.enterKey(g.key)),g.optional){var b=null;if(null!==g.explicit?b=g.explicit:null!==g.implicit?b=g.implicit:null!==g.tag&&(b=g.tag),null!==b||g.any){if(_=this._peekTag(d,b,g.any),d.isError(_))return _}else{var A=d.save();try{null===g.choice?this._decodeGeneric(g.tag,d,m):this._decodeChoice(d,m),_=!0}catch(d){_=!1}d.restore(A)}}if(g.obj&&_&&(v=d.enterObject()),_){if(null!==g.explicit){var P=this._decodeTag(d,g.explicit);if(d.isError(P))return P;d=P}var R=d.offset;if(null===g.use&&null===g.choice){if(g.any)A=d.save();var k=this._decodeTag(d,null!==g.implicit?g.implicit:g.tag,g.any);if(d.isError(k))return k;g.any?y=d.raw(A):d=k}if(m&&m.track&&null!==g.tag&&m.track(d.path(),R,d.length,"tagged"),m&&m.track&&null!==g.tag&&m.track(d.path(),d.offset,d.length,"content"),y=g.any?y:null===g.choice?this._decodeGeneric(g.tag,d,m):this._decodeChoice(d,m),d.isError(y))return y;if(g.any||null!==g.choice||null===g.children||g.children.forEach((function decodeChildren(g){g._decode(d,m)})),g.contains&&("octstr"===g.tag||"bitstr"===g.tag)){var M=new C(y);y=this._getUse(g.contains,d._reporterState.obj)._decode(M,m)}}return g.obj&&_&&(y=d.leaveObject(v)),null===g.key||null===y&&!0!==_?null!==T&&d.exitKey(T):d.leaveKey(T,g.key,y),y},Node.prototype._decodeGeneric=function decodeGeneric(d,m,g){var v=this._baseState;return"seq"===d||"set"===d?null:"seqof"===d||"setof"===d?this._decodeList(m,d,v.args[0],g):/str$/.test(d)?this._decodeStr(m,d,g):"objid"===d&&v.args?this._decodeObjid(m,v.args[0],v.args[1],g):"objid"===d?this._decodeObjid(m,null,null,g):"gentime"===d||"utctime"===d?this._decodeTime(m,d,g):"null_"===d?this._decodeNull(m,g):"bool"===d?this._decodeBool(m,g):"objDesc"===d?this._decodeStr(m,d,g):"int"===d||"enum"===d?this._decodeInt(m,v.args&&v.args[0],g):null!==v.use?this._getUse(v.use,m._reporterState.obj)._decode(m,g):m.error("unknown tag: "+d)},Node.prototype._getUse=function _getUse(d,m){var g=this._baseState;return g.useDecoder=this._use(d,m),_(null===g.useDecoder._baseState.parent),g.useDecoder=g.useDecoder._baseState.children[0],g.implicit!==g.useDecoder._baseState.implicit&&(g.useDecoder=g.useDecoder.clone(),g.useDecoder._baseState.implicit=g.implicit),g.useDecoder},Node.prototype._decodeChoice=function decodeChoice(d,m){var g=this._baseState,v=null,y=!1;return Object.keys(g.choice).some((function(C){var _=d.save(),T=g.choice[C];try{var b=T._decode(d,m);if(d.isError(b))return!1;v={type:C,value:b},y=!0}catch(m){return d.restore(_),!1}return!0}),this),y?v:d.error("Choice not matched")},Node.prototype._createEncoderBuffer=function createEncoderBuffer(d){return new y(d,this.reporter)},Node.prototype._encode=function encode(d,m,g){var v=this._baseState;if(null===v.default||v.default!==d){var y=this._encodeValue(d,m,g);if(void 0!==y&&!this._skipDefault(y,m,g))return y}},Node.prototype._encodeValue=function encode(d,m,g){var y=this._baseState;if(null===y.parent)return y.children[0]._encode(d,m||new v);var C=null;if(this.reporter=m,y.optional&&void 0===d){if(null===y.default)return;d=y.default}var _=null,T=!1;if(y.any)C=this._createEncoderBuffer(d);else if(y.choice)C=this._encodeChoice(d,m);else if(y.contains)_=this._getUse(y.contains,g)._encode(d,m),T=!0;else if(y.children)_=y.children.map((function(g){if("null_"===g._baseState.tag)return g._encode(null,m,d);if(null===g._baseState.key)return m.error("Child should have a key");var v=m.enterKey(g._baseState.key);if("object"!=typeof d)return m.error("Child expected, but input is not object");var y=g._encode(d[g._baseState.key],m,d);return m.leaveKey(v),y}),this).filter((function(d){return d})),_=this._createEncoderBuffer(_);else if("seqof"===y.tag||"setof"===y.tag){if(!y.args||1!==y.args.length)return m.error("Too many args for : "+y.tag);if(!Array.isArray(d))return m.error("seqof/setof, but data is not Array");var b=this.clone();b._baseState.implicit=null,_=this._createEncoderBuffer(d.map((function(g){var v=this._baseState;return this._getUse(v.args[0],d)._encode(g,m)}),b))}else null!==y.use?C=this._getUse(y.use,g)._encode(d,m):(_=this._encodePrimitive(y.tag,d),T=!0);if(!y.any&&null===y.choice){var A=null!==y.implicit?y.implicit:y.tag,P=null===y.implicit?"universal":"context";null===A?null===y.use&&m.error("Tag could be omitted only for .use()"):null===y.use&&(C=this._encodeComposite(A,T,P,_))}return null!==y.explicit&&(C=this._encodeComposite(y.explicit,!1,"context",C)),C},Node.prototype._encodeChoice=function encodeChoice(d,m){var g=this._baseState,v=g.choice[d.type];return v||_(!1,d.type+" not found in "+JSON.stringify(Object.keys(g.choice))),v._encode(d.value,m)},Node.prototype._encodePrimitive=function encodePrimitive(d,m){var g=this._baseState;if(/str$/.test(d))return this._encodeStr(m,d);if("objid"===d&&g.args)return this._encodeObjid(m,g.reverseArgs[0],g.args[1]);if("objid"===d)return this._encodeObjid(m,null,null);if("gentime"===d||"utctime"===d)return this._encodeTime(m,d);if("null_"===d)return this._encodeNull();if("int"===d||"enum"===d)return this._encodeInt(m,g.args&&g.reverseArgs[0]);if("bool"===d)return this._encodeBool(m);if("objDesc"===d)return this._encodeStr(m,d);throw new Error("Unsupported tag: "+d)},Node.prototype._isNumstr=function isNumstr(d){return/^[0-9 ]*$/.test(d)},Node.prototype._isPrintstr=function isPrintstr(d){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(d)}},80126:(d,m,g)=>{var v=g(98874);function Reporter(d){this._reporterState={obj:null,path:[],options:d||{},errors:[]}}function ReporterError(d,m){this.path=d,this.rethrow(m)}m.b=Reporter,Reporter.prototype.isError=function isError(d){return d instanceof ReporterError},Reporter.prototype.save=function save(){var d=this._reporterState;return{obj:d.obj,pathLen:d.path.length}},Reporter.prototype.restore=function restore(d){var m=this._reporterState;m.obj=d.obj,m.path=m.path.slice(0,d.pathLen)},Reporter.prototype.enterKey=function enterKey(d){return this._reporterState.path.push(d)},Reporter.prototype.exitKey=function exitKey(d){var m=this._reporterState;m.path=m.path.slice(0,d-1)},Reporter.prototype.leaveKey=function leaveKey(d,m,g){var v=this._reporterState;this.exitKey(d),null!==v.obj&&(v.obj[m]=g)},Reporter.prototype.path=function path(){return this._reporterState.path.join("/")},Reporter.prototype.enterObject=function enterObject(){var d=this._reporterState,m=d.obj;return d.obj={},m},Reporter.prototype.leaveObject=function leaveObject(d){var m=this._reporterState,g=m.obj;return m.obj=d,g},Reporter.prototype.error=function error(d){var m,g=this._reporterState,v=d instanceof ReporterError;if(m=v?d:new ReporterError(g.path.map((function(d){return"["+JSON.stringify(d)+"]"})).join(""),d.message||d,d.stack),!g.options.partial)throw m;return v||g.errors.push(m),m},Reporter.prototype.wrapResult=function wrapResult(d){var m=this._reporterState;return m.options.partial?{result:this.isError(d)?null:d,errors:m.errors}:d},v(ReporterError,Error),ReporterError.prototype.rethrow=function rethrow(d){if(this.message=d+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ReporterError),!this.stack)try{throw new Error(this.message)}catch(d){this.stack=d.stack}return this}},4131:(d,m,g)=>{var v=g(96906);m.tagClass={0:"universal",1:"application",2:"context",3:"private"},m.tagClassByName=v._reverse(m.tagClass),m.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},m.tagByName=v._reverse(m.tag)},96906:(d,m,g)=>{var v=m;v._reverse=function reverse(d){var m={};return Object.keys(d).forEach((function(g){(0|g)==g&&(g|=0);var v=d[g];m[v]=g})),m},v.der=g(4131)},41066:(d,m,g)=>{var v=g(98874),y=g(22812),C=y.base,_=y.bignum,T=y.constants.der;function DERDecoder(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new DERNode,this.tree._init(d.body)}function DERNode(d){C.Node.call(this,"der",d)}function derDecodeTag(d,m){var g=d.readUInt8(m);if(d.isError(g))return g;var v=T.tagClass[g>>6],y=0==(32&g);if(31==(31&g)){var C=g;for(g=0;128==(128&C);){if(C=d.readUInt8(m),d.isError(C))return C;g<<=7,g|=127&C}}else g&=31;return{cls:v,primitive:y,tag:g,tagStr:T.tag[g]}}function derDecodeLen(d,m,g){var v=d.readUInt8(g);if(d.isError(v))return v;if(!m&&128===v)return null;if(0==(128&v))return v;var y=127&v;if(y>4)return d.error("length octect is too long");v=0;for(var C=0;C<y;C++){v<<=8;var _=d.readUInt8(g);if(d.isError(_))return _;v|=_}return v}d.exports=DERDecoder,DERDecoder.prototype.decode=function decode(d,m){return d instanceof C.DecoderBuffer||(d=new C.DecoderBuffer(d,m)),this.tree._decode(d,m)},v(DERNode,C.Node),DERNode.prototype._peekTag=function peekTag(d,m,g){if(d.isEmpty())return!1;var v=d.save(),y=derDecodeTag(d,'Failed to peek tag: "'+m+'"');return d.isError(y)?y:(d.restore(v),y.tag===m||y.tagStr===m||y.tagStr+"of"===m||g)},DERNode.prototype._decodeTag=function decodeTag(d,m,g){var v=derDecodeTag(d,'Failed to decode tag of "'+m+'"');if(d.isError(v))return v;var y=derDecodeLen(d,v.primitive,'Failed to get length of "'+m+'"');if(d.isError(y))return y;if(!g&&v.tag!==m&&v.tagStr!==m&&v.tagStr+"of"!==m)return d.error('Failed to match tag: "'+m+'"');if(v.primitive||null!==y)return d.skip(y,'Failed to match body of: "'+m+'"');var C=d.save(),_=this._skipUntilEnd(d,'Failed to skip indefinite length body: "'+this.tag+'"');return d.isError(_)?_:(y=d.offset-C.offset,d.restore(C),d.skip(y,'Failed to match body of: "'+m+'"'))},DERNode.prototype._skipUntilEnd=function skipUntilEnd(d,m){for(;;){var g=derDecodeTag(d,m);if(d.isError(g))return g;var v,y=derDecodeLen(d,g.primitive,m);if(d.isError(y))return y;if(v=g.primitive||null!==y?d.skip(y):this._skipUntilEnd(d,m),d.isError(v))return v;if("end"===g.tagStr)break}},DERNode.prototype._decodeList=function decodeList(d,m,g,v){for(var y=[];!d.isEmpty();){var C=this._peekTag(d,"end");if(d.isError(C))return C;var _=g.decode(d,"der",v);if(d.isError(_)&&C)break;y.push(_)}return y},DERNode.prototype._decodeStr=function decodeStr(d,m){if("bitstr"===m){var g=d.readUInt8();return d.isError(g)?g:{unused:g,data:d.raw()}}if("bmpstr"===m){var v=d.raw();if(v.length%2==1)return d.error("Decoding of string type: bmpstr length mismatch");for(var y="",C=0;C<v.length/2;C++)y+=String.fromCharCode(v.readUInt16BE(2*C));return y}if("numstr"===m){var _=d.raw().toString("ascii");return this._isNumstr(_)?_:d.error("Decoding of string type: numstr unsupported characters")}if("octstr"===m)return d.raw();if("objDesc"===m)return d.raw();if("printstr"===m){var T=d.raw().toString("ascii");return this._isPrintstr(T)?T:d.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(m)?d.raw().toString():d.error("Decoding of string type: "+m+" unsupported")},DERNode.prototype._decodeObjid=function decodeObjid(d,m,g){for(var v,y=[],C=0;!d.isEmpty();){var _=d.readUInt8();C<<=7,C|=127&_,0==(128&_)&&(y.push(C),C=0)}128&_&&y.push(C);var T=y[0]/40|0,b=y[0]%40;if(v=g?y:[T,b].concat(y.slice(1)),m){var A=m[v.join(" ")];void 0===A&&(A=m[v.join(".")]),void 0!==A&&(v=A)}return v},DERNode.prototype._decodeTime=function decodeTime(d,m){var g=d.raw().toString();if("gentime"===m)var v=0|g.slice(0,4),y=0|g.slice(4,6),C=0|g.slice(6,8),_=0|g.slice(8,10),T=0|g.slice(10,12),b=0|g.slice(12,14);else{if("utctime"!==m)return d.error("Decoding "+m+" time is not supported yet");v=0|g.slice(0,2),y=0|g.slice(2,4),C=0|g.slice(4,6),_=0|g.slice(6,8),T=0|g.slice(8,10),b=0|g.slice(10,12);v=v<70?2e3+v:1900+v}return Date.UTC(v,y-1,C,_,T,b,0)},DERNode.prototype._decodeNull=function decodeNull(d){return null},DERNode.prototype._decodeBool=function decodeBool(d){var m=d.readUInt8();return d.isError(m)?m:0!==m},DERNode.prototype._decodeInt=function decodeInt(d,m){var g=d.raw(),v=new _(g);return m&&(v=m[v.toString(10)]||v),v},DERNode.prototype._use=function use(d,m){return"function"==typeof d&&(d=d(m)),d._getDecoder("der").tree}},18211:(d,m,g)=>{var v=m;v.der=g(41066),v.pem=g(63956)},63956:(d,m,g)=>{var v=g(98874),y=g(14300).Buffer,C=g(41066);function PEMDecoder(d){C.call(this,d),this.enc="pem"}v(PEMDecoder,C),d.exports=PEMDecoder,PEMDecoder.prototype.decode=function decode(d,m){for(var g=d.toString().split(/[\r\n]+/g),v=m.label.toUpperCase(),_=/^-----(BEGIN|END) ([^-]+)-----$/,T=-1,b=-1,A=0;A<g.length;A++){var P=g[A].match(_);if(null!==P&&P[2]===v){if(-1!==T){if("END"!==P[1])break;b=A;break}if("BEGIN"!==P[1])break;T=A}}if(-1===T||-1===b)throw new Error("PEM section not found for: "+v);var R=g.slice(T+1,b).join("");R.replace(/[^a-z0-9\+\/=]+/gi,"");var k=new y(R,"base64");return C.prototype.decode.call(this,k,m)}},95758:(d,m,g)=>{var v=g(98874),y=g(14300).Buffer,C=g(22812),_=C.base,T=C.constants.der;function DEREncoder(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new DERNode,this.tree._init(d.body)}function DERNode(d){_.Node.call(this,"der",d)}function two(d){return d<10?"0"+d:d}d.exports=DEREncoder,DEREncoder.prototype.encode=function encode(d,m){return this.tree._encode(d,m).join()},v(DERNode,_.Node),DERNode.prototype._encodeComposite=function encodeComposite(d,m,g,v){var C,_=function encodeTag(d,m,g,v){var y;"seqof"===d?d="seq":"setof"===d&&(d="set");if(T.tagByName.hasOwnProperty(d))y=T.tagByName[d];else{if("number"!=typeof d||(0|d)!==d)return v.error("Unknown tag: "+d);y=d}if(y>=31)return v.error("Multi-octet tag encoding unsupported");m||(y|=32);return y|=T.tagClassByName[g||"universal"]<<6}(d,m,g,this.reporter);if(v.length<128)return(C=new y(2))[0]=_,C[1]=v.length,this._createEncoderBuffer([C,v]);for(var b=1,A=v.length;A>=256;A>>=8)b++;(C=new y(2+b))[0]=_,C[1]=128|b;A=1+b;for(var P=v.length;P>0;A--,P>>=8)C[A]=255&P;return this._createEncoderBuffer([C,v])},DERNode.prototype._encodeStr=function encodeStr(d,m){if("bitstr"===m)return this._createEncoderBuffer([0|d.unused,d.data]);if("bmpstr"===m){for(var g=new y(2*d.length),v=0;v<d.length;v++)g.writeUInt16BE(d.charCodeAt(v),2*v);return this._createEncoderBuffer(g)}return"numstr"===m?this._isNumstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===m?this._isPrintstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(m)||"objDesc"===m?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: "+m+" unsupported")},DERNode.prototype._encodeObjid=function encodeObjid(d,m,g){if("string"==typeof d){if(!m)return this.reporter.error("string objid given, but no values map found");if(!m.hasOwnProperty(d))return this.reporter.error("objid not found in values map");d=m[d].split(/[\s\.]+/g);for(var v=0;v<d.length;v++)d[v]|=0}else if(Array.isArray(d)){d=d.slice();for(v=0;v<d.length;v++)d[v]|=0}if(!Array.isArray(d))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(d));if(!g){if(d[1]>=40)return this.reporter.error("Second objid identifier OOB");d.splice(0,2,40*d[0]+d[1])}var C=0;for(v=0;v<d.length;v++){var _=d[v];for(C++;_>=128;_>>=7)C++}var T=new y(C),b=T.length-1;for(v=d.length-1;v>=0;v--){_=d[v];for(T[b--]=127&_;(_>>=7)>0;)T[b--]=128|127&_}return this._createEncoderBuffer(T)},DERNode.prototype._encodeTime=function encodeTime(d,m){var g,v=new Date(d);return"gentime"===m?g=[two(v.getFullYear()),two(v.getUTCMonth()+1),two(v.getUTCDate()),two(v.getUTCHours()),two(v.getUTCMinutes()),two(v.getUTCSeconds()),"Z"].join(""):"utctime"===m?g=[two(v.getFullYear()%100),two(v.getUTCMonth()+1),two(v.getUTCDate()),two(v.getUTCHours()),two(v.getUTCMinutes()),two(v.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+m+" time is not supported yet"),this._encodeStr(g,"octstr")},DERNode.prototype._encodeNull=function encodeNull(){return this._createEncoderBuffer("")},DERNode.prototype._encodeInt=function encodeInt(d,m){if("string"==typeof d){if(!m)return this.reporter.error("String int or enum given, but no values map");if(!m.hasOwnProperty(d))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(d));d=m[d]}if("number"!=typeof d&&!y.isBuffer(d)){var g=d.toArray();!d.sign&&128&g[0]&&g.unshift(0),d=new y(g)}if(y.isBuffer(d)){var v=d.length;0===d.length&&v++;var C=new y(v);return d.copy(C),0===d.length&&(C[0]=0),this._createEncoderBuffer(C)}if(d<128)return this._createEncoderBuffer(d);if(d<256)return this._createEncoderBuffer([0,d]);v=1;for(var _=d;_>=256;_>>=8)v++;for(_=(C=new Array(v)).length-1;_>=0;_--)C[_]=255&d,d>>=8;return 128&C[0]&&C.unshift(0),this._createEncoderBuffer(new y(C))},DERNode.prototype._encodeBool=function encodeBool(d){return this._createEncoderBuffer(d?255:0)},DERNode.prototype._use=function use(d,m){return"function"==typeof d&&(d=d(m)),d._getEncoder("der").tree},DERNode.prototype._skipDefault=function skipDefault(d,m,g){var v,y=this._baseState;if(null===y.default)return!1;var C=d.join();if(void 0===y.defaultBuffer&&(y.defaultBuffer=this._encodeValue(y.default,m,g).join()),C.length!==y.defaultBuffer.length)return!1;for(v=0;v<C.length;v++)if(C[v]!==y.defaultBuffer[v])return!1;return!0}},89116:(d,m,g)=>{var v=m;v.der=g(95758),v.pem=g(99245)},99245:(d,m,g)=>{var v=g(98874),y=g(95758);function PEMEncoder(d){y.call(this,d),this.enc="pem"}v(PEMEncoder,y),d.exports=PEMEncoder,PEMEncoder.prototype.encode=function encode(d,m){for(var g=y.prototype.encode.call(this,d).toString("base64"),v=["-----BEGIN "+m.label+"-----"],C=0;C<g.length;C+=64)v.push(g.slice(C,C+64));return v.push("-----END "+m.label+"-----"),v.join("\n")}},83384:d=>{d.exports={newInvalidAsn1Error:function(d){var m=new Error;return m.name="InvalidAsn1Error",m.message=d||"",m}}},66981:(d,m,g)=>{var v=g(83384),y=g(83020),C=g(41855),_=g(20144);for(var T in d.exports={Reader:C,Writer:_},y)y.hasOwnProperty(T)&&(d.exports[T]=y[T]);for(var b in v)v.hasOwnProperty(b)&&(d.exports[b]=v[b])},41855:(d,m,g)=>{var v=g(39491),y=g(27654).Buffer,C=g(83020),_=g(83384).newInvalidAsn1Error;function Reader(d){if(!d||!y.isBuffer(d))throw new TypeError("data must be a node Buffer");this._buf=d,this._size=d.length,this._len=0,this._offset=0}Object.defineProperty(Reader.prototype,"length",{enumerable:!0,get:function(){return this._len}}),Object.defineProperty(Reader.prototype,"offset",{enumerable:!0,get:function(){return this._offset}}),Object.defineProperty(Reader.prototype,"remain",{get:function(){return this._size-this._offset}}),Object.defineProperty(Reader.prototype,"buffer",{get:function(){return this._buf.slice(this._offset)}}),Reader.prototype.readByte=function(d){if(this._size-this._offset<1)return null;var m=255&this._buf[this._offset];return d||(this._offset+=1),m},Reader.prototype.peek=function(){return this.readByte(!0)},Reader.prototype.readLength=function(d){if(void 0===d&&(d=this._offset),d>=this._size)return null;var m=255&this._buf[d++];if(null===m)return null;if(128==(128&m)){if(0===(m&=127))throw _("Indefinite length not supported");if(m>4)throw _("encoding too long");if(this._size-d<m)return null;this._len=0;for(var g=0;g<m;g++)this._len=(this._len<<8)+(255&this._buf[d++])}else this._len=m;return d},Reader.prototype.readSequence=function(d){var m=this.peek();if(null===m)return null;if(void 0!==d&&d!==m)throw _("Expected 0x"+d.toString(16)+": got 0x"+m.toString(16));var g=this.readLength(this._offset+1);return null===g?null:(this._offset=g,m)},Reader.prototype.readInt=function(){return this._readTag(C.Integer)},Reader.prototype.readBoolean=function(){return 0!==this._readTag(C.Boolean)},Reader.prototype.readEnumeration=function(){return this._readTag(C.Enumeration)},Reader.prototype.readString=function(d,m){d||(d=C.OctetString);var g=this.peek();if(null===g)return null;if(g!==d)throw _("Expected 0x"+d.toString(16)+": got 0x"+g.toString(16));var v=this.readLength(this._offset+1);if(null===v)return null;if(this.length>this._size-v)return null;if(this._offset=v,0===this.length)return m?y.alloc(0):"";var T=this._buf.slice(this._offset,this._offset+this.length);return this._offset+=this.length,m?T:T.toString("utf8")},Reader.prototype.readOID=function(d){d||(d=C.OID);var m=this.readString(d,!0);if(null===m)return null;for(var g=[],v=0,y=0;y<m.length;y++){var _=255&m[y];v<<=7,v+=127&_,0==(128&_)&&(g.push(v),v=0)}return v=g.shift(),g.unshift(v%40),g.unshift(v/40>>0),g.join(".")},Reader.prototype._readTag=function(d){v.ok(void 0!==d);var m=this.peek();if(null===m)return null;if(m!==d)throw _("Expected 0x"+d.toString(16)+": got 0x"+m.toString(16));var g=this.readLength(this._offset+1);if(null===g)return null;if(this.length>4)throw _("Integer too long: "+this.length);if(this.length>this._size-g)return null;this._offset=g;for(var y=this._buf[this._offset],C=0,T=0;T<this.length;T++)C<<=8,C|=255&this._buf[this._offset++];return 128==(128&y)&&4!==T&&(C-=1<<8*T),C>>0},d.exports=Reader},83020:d=>{d.exports={EOC:0,Boolean:1,Integer:2,BitString:3,OctetString:4,Null:5,OID:6,ObjectDescriptor:7,External:8,Real:9,Enumeration:10,PDV:11,Utf8String:12,RelativeOID:13,Sequence:16,Set:17,NumericString:18,PrintableString:19,T61String:20,VideotexString:21,IA5String:22,UTCTime:23,GeneralizedTime:24,GraphicString:25,VisibleString:26,GeneralString:28,UniversalString:29,CharacterString:30,BMPString:31,Constructor:32,Context:128}},20144:(d,m,g)=>{var v=g(39491),y=g(27654).Buffer,C=g(83020),_=g(83384).newInvalidAsn1Error,T={size:1024,growthFactor:8};function Writer(d){d=function merge(d,m){return v.ok(d),v.equal(typeof d,"object"),v.ok(m),v.equal(typeof m,"object"),Object.getOwnPropertyNames(d).forEach((function(g){if(!m[g]){var v=Object.getOwnPropertyDescriptor(d,g);Object.defineProperty(m,g,v)}})),m}(T,d||{}),this._buf=y.alloc(d.size||1024),this._size=this._buf.length,this._offset=0,this._options=d,this._seq=[]}Object.defineProperty(Writer.prototype,"buffer",{get:function(){if(this._seq.length)throw _(this._seq.length+" unended sequence(s)");return this._buf.slice(0,this._offset)}}),Writer.prototype.writeByte=function(d){if("number"!=typeof d)throw new TypeError("argument must be a Number");this._ensure(1),this._buf[this._offset++]=d},Writer.prototype.writeInt=function(d,m){if("number"!=typeof d)throw new TypeError("argument must be a Number");"number"!=typeof m&&(m=C.Integer);for(var g=4;(0==(4286578688&d)||-8388608==(4286578688&d))&&g>1;)g--,d<<=8;if(g>4)throw _("BER ints cannot be > 0xffffffff");for(this._ensure(2+g),this._buf[this._offset++]=m,this._buf[this._offset++]=g;g-- >0;)this._buf[this._offset++]=(4278190080&d)>>>24,d<<=8},Writer.prototype.writeNull=function(){this.writeByte(C.Null),this.writeByte(0)},Writer.prototype.writeEnumeration=function(d,m){if("number"!=typeof d)throw new TypeError("argument must be a Number");return"number"!=typeof m&&(m=C.Enumeration),this.writeInt(d,m)},Writer.prototype.writeBoolean=function(d,m){if("boolean"!=typeof d)throw new TypeError("argument must be a Boolean");"number"!=typeof m&&(m=C.Boolean),this._ensure(3),this._buf[this._offset++]=m,this._buf[this._offset++]=1,this._buf[this._offset++]=d?255:0},Writer.prototype.writeString=function(d,m){if("string"!=typeof d)throw new TypeError("argument must be a string (was: "+typeof d+")");"number"!=typeof m&&(m=C.OctetString);var g=y.byteLength(d);this.writeByte(m),this.writeLength(g),g&&(this._ensure(g),this._buf.write(d,this._offset),this._offset+=g)},Writer.prototype.writeBuffer=function(d,m){if("number"!=typeof m)throw new TypeError("tag must be a number");if(!y.isBuffer(d))throw new TypeError("argument must be a buffer");this.writeByte(m),this.writeLength(d.length),this._ensure(d.length),d.copy(this._buf,this._offset,0,d.length),this._offset+=d.length},Writer.prototype.writeStringArray=function(d){if(!d instanceof Array)throw new TypeError("argument must be an Array[String]");var m=this;d.forEach((function(d){m.writeString(d)}))},Writer.prototype.writeOID=function(d,m){if("string"!=typeof d)throw new TypeError("argument must be a string");if("number"!=typeof m&&(m=C.OID),!/^([0-9]+\.){3,}[0-9]+$/.test(d))throw new Error("argument is not a valid OID string");var g=d.split("."),v=[];v.push(40*parseInt(g[0],10)+parseInt(g[1],10)),g.slice(2).forEach((function(d){!function encodeOctet(d,m){m<128?d.push(m):m<16384?(d.push(m>>>7|128),d.push(127&m)):m<2097152?(d.push(m>>>14|128),d.push(255&(m>>>7|128)),d.push(127&m)):m<268435456?(d.push(m>>>21|128),d.push(255&(m>>>14|128)),d.push(255&(m>>>7|128)),d.push(127&m)):(d.push(255&(m>>>28|128)),d.push(255&(m>>>21|128)),d.push(255&(m>>>14|128)),d.push(255&(m>>>7|128)),d.push(127&m))}(v,parseInt(d,10))}));var y=this;this._ensure(2+v.length),this.writeByte(m),this.writeLength(v.length),v.forEach((function(d){y.writeByte(d)}))},Writer.prototype.writeLength=function(d){if("number"!=typeof d)throw new TypeError("argument must be a Number");if(this._ensure(4),d<=127)this._buf[this._offset++]=d;else if(d<=255)this._buf[this._offset++]=129,this._buf[this._offset++]=d;else if(d<=65535)this._buf[this._offset++]=130,this._buf[this._offset++]=d>>8,this._buf[this._offset++]=d;else{if(!(d<=16777215))throw _("Length too long (> 4 bytes)");this._buf[this._offset++]=131,this._buf[this._offset++]=d>>16,this._buf[this._offset++]=d>>8,this._buf[this._offset++]=d}},Writer.prototype.startSequence=function(d){"number"!=typeof d&&(d=C.Sequence|C.Constructor),this.writeByte(d),this._seq.push(this._offset),this._ensure(3),this._offset+=3},Writer.prototype.endSequence=function(){var d=this._seq.pop(),m=d+3,g=this._offset-m;if(g<=127)this._shift(m,g,-2),this._buf[d]=g;else if(g<=255)this._shift(m,g,-1),this._buf[d]=129,this._buf[d+1]=g;else if(g<=65535)this._buf[d]=130,this._buf[d+1]=g>>8,this._buf[d+2]=g;else{if(!(g<=16777215))throw _("Sequence too long");this._shift(m,g,1),this._buf[d]=131,this._buf[d+1]=g>>16,this._buf[d+2]=g>>8,this._buf[d+3]=g}},Writer.prototype._shift=function(d,m,g){v.ok(void 0!==d),v.ok(void 0!==m),v.ok(g),this._buf.copy(this._buf,d+g,d,d+m),this._offset+=g},Writer.prototype._ensure=function(d){if(v.ok(d),this._size-this._offset<d){var m=this._size*this._options.growthFactor;m-this._offset<d&&(m+=d);var g=y.alloc(m);this._buf.copy(g,0,0,this._offset),this._buf=g,this._size=m}},d.exports=Writer},88199:(d,m,g)=>{var v=g(66981);d.exports={Ber:v,BerReader:v.Reader,BerWriter:v.Writer}},98425:(d,m,g)=>{"use strict";const v=g(71017),y=g(96993),C=g(57147),_=y.denodeify(C.readFile),T=y.denodeify(C.writeFile),b=y.denodeify(C.rename),A=y.denodeify(C.chmod),P=y.denodeify(g(41848)),R=y.denodeify(g(42133)),k=y.denodeify(C.unlink),M=g(22037),I=g(445)("async-disk-cache"),O=g(59796),x=g(90832),L=g(6113),U=g(82300),j=g(32389);x.hasMonitor("async-disk-cache")||x.registerMonitor("async-disk-cache",(function AsyncDiskCacheSchema(){}));const B=g(12958)(),V=v.join(M.tmpdir(),B);function defineFunction(d,m,g){d[m]=function(){const d=x.statsFor("async-disk-cache"),v=d[m]=d[m]||new j;let y;v.start();let C=!0;try{y=g.apply(this,arguments),C=!1}finally{C&&v.stop()}return"function"==typeof y.finally?y.finally((()=>v.stop())):(v.stop(),y)}}function processFile(d,m){return async v=>{let y=await d(v);return!this.supportBuffer||g(51057).isTextSync(!1,y)?(I("convert to string"),y=y.toString()):I("keep data as Buffer"),new U(!0,m,y)}}function handleENOENT(d){if(d&&"ENOENT"===d.code)return U.MISS;throw d}const $={deflate:{in:y.denodeify(O.deflate),out:y.denodeify(O.inflate)},deflateRaw:{in:y.denodeify(O.deflateRaw),out:y.denodeify(O.inflateRaw)},gzip:{in:y.denodeify(O.gzip),out:y.denodeify(O.gunzip)}};class Cache{constructor(d,m){const g=m||{};this.tmpdir=g.location||V,this.compression=g.compression||!1,this.supportBuffer=g.supportBuffer||!1,this.key=d||"default-disk-cache",this.root=v.join(this.tmpdir,"if-you-need-to-delete-this-open-an-issue-async-disk-cache",this.key),I("new Cache { root: %s, compression: %s }",this.root,this.compression)}}defineFunction(Cache.prototype,"clear",(function(){return I("clear: %s",this.root),R(v.join(this.root))})),defineFunction(Cache.prototype,"has",(function(d){const m=this.pathFor(d);return I("has: %s",m),new y.Promise((d=>C.exists(m,d)))})),defineFunction(Cache.prototype,"get",(function(d){const m=this.pathFor(d);return I("get: %s",m),_(m).then(processFile.call(this,this.decompress.bind(this),m),handleENOENT)})),defineFunction(Cache.prototype,"set",(function(d,m){return new y.Promise((g=>{g((async()=>{const g=this.pathFor(d);I("set : %s",g);return await async function writeP(d,m){const g=v.dirname(d),y=Math.random()*q,C=d+".tmp."+y;try{await T(C,m)}catch(d){if(!d||"ENOENT"!==d.code)throw d;await P(g,{mode:"0700"}),await T(C,m)}await b(C,d),await A(d,"600")}(g,await this.compress(m)),g})())}))}));const q=Math.pow(10,(Number.MAX_SAFE_INTEGER+"").length);defineFunction(Cache.prototype,"remove",(function(d){return new y.Promise((m=>{m((async()=>{const m=this.pathFor(d);I("remove : %s",m);try{await k(m)}catch(d){await handleENOENT(d)}})())}))})),defineFunction(Cache.prototype,"pathFor",(function(d){return v.join(this.root,L.createHash("sha1").update(d).digest("hex"))})),defineFunction(Cache.prototype,"decompress",(function(d){return this.compression?$[this.compression].out(d):d})),defineFunction(Cache.prototype,"compress",(function(d){return this.compression?$[this.compression].in(d):d})),d.exports=Cache},82300:d=>{"use strict";d.exports=class CacheEntry{constructor(d,m,g){this.isCached=d,this.key=m,this.value=g}},d.exports.MISS=new d.exports(!1)},32389:d=>{"use strict";d.exports=class Metric{constructor(){this.count=0,this.time=0,this.running=0,this.startTime=void 0}start(){this.startTime=process.hrtime(),this.count++,this.running++}stop(){if(this.running--,this.running>0)return;if(this.running<0)throw new Error("Called stop more times than start was called");let d=process.hrtime(this.startTime);this.time+=1e9*d[0]+d[1],this.startTime=void 0}toJSON(){return{count:this.count,time:this.time}}}},45773:(d,m)=>{"use strict";class Semaphore{constructor(d){this.tasks=[],this.count=d}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let d=this.tasks.shift();if(void 0===d)throw"Unexpected undefined value in tasks list";d()}}acquire(){return new Promise(((d,m)=>{this.tasks.push((()=>{var m=!1;d((()=>{m||(m=!0,this.count++,this.sched())}))})),process&&process.nextTick?process.nextTick(this.sched.bind(this)):setImmediate(this.sched.bind(this))}))}use(d){return this.acquire().then((m=>d().then((d=>(m(),d))).catch((d=>{throw m(),d}))))}}m.Semaphore=Semaphore;m.Mutex=class Mutex extends Semaphore{constructor(){super(1)}}},89644:(d,m,g)=>{d.exports=g(25644)},65748:(d,m,g)=>{"use strict";var v=g(93044),y=g(86955),C=g(97948),_=g(68030),T=g(13685),b=g(95687),A=g(85510).http,P=g(85510).https,R=g(57310),k=g(59796),M=g(19521),I=g(88618),O=g(11935),x=/https:?/;function setProxy(d,m,g){if(d.hostname=m.host,d.host=m.host,d.port=m.port,d.path=g,m.auth){var v=Buffer.from(m.auth.username+":"+m.auth.password,"utf8").toString("base64");d.headers["Proxy-Authorization"]="Basic "+v}d.beforeRedirect=function beforeRedirect(d){d.headers.host=d.host,setProxy(d,m,d.href)}}d.exports=function httpAdapter(d){return new Promise((function dispatchHttpRequest(m,g){var L=function resolve(d){m(d)},U=function reject(d){g(d)},j=d.data,B=d.headers;if("User-Agent"in B||"user-agent"in B?B["User-Agent"]||B["user-agent"]||(delete B["User-Agent"],delete B["user-agent"]):B["User-Agent"]="axios/"+M.version,j&&!v.isStream(j)){if(Buffer.isBuffer(j));else if(v.isArrayBuffer(j))j=Buffer.from(new Uint8Array(j));else{if(!v.isString(j))return U(I("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",d));j=Buffer.from(j,"utf-8")}B["Content-Length"]=j.length}var V=void 0;d.auth&&(V=(d.auth.username||"")+":"+(d.auth.password||""));var $=C(d.baseURL,d.url),q=R.parse($),Y=q.protocol||"http:";if(!V&&q.auth){var z=q.auth.split(":");V=(z[0]||"")+":"+(z[1]||"")}V&&delete B.Authorization;var G=x.test(Y),J=G?d.httpsAgent:d.httpAgent,X={path:_(q.path,d.params,d.paramsSerializer).replace(/^\?/,""),method:d.method.toUpperCase(),headers:B,agent:J,agents:{http:d.httpAgent,https:d.httpsAgent},auth:V};d.socketPath?X.socketPath=d.socketPath:(X.hostname=q.hostname,X.port=q.port);var te,re=d.proxy;if(!re&&!1!==re){var ie=Y.slice(0,-1)+"_proxy",se=process.env[ie]||process.env[ie.toUpperCase()];if(se){var oe=R.parse(se),ae=process.env.no_proxy||process.env.NO_PROXY,ce=!0;if(ae)ce=!ae.split(",").map((function trim(d){return d.trim()})).some((function proxyMatch(d){return!!d&&("*"===d||("."===d[0]&&q.hostname.substr(q.hostname.length-d.length)===d||q.hostname===d))}));if(ce&&(re={host:oe.hostname,port:oe.port,protocol:oe.protocol},oe.auth)){var le=oe.auth.split(":");re.auth={username:le[0],password:le[1]}}}}re&&(X.headers.host=q.hostname+(q.port?":"+q.port:""),setProxy(X,re,Y+"//"+q.hostname+(q.port?":"+q.port:"")+X.path));var de=G&&(!re||x.test(re.protocol));d.transport?te=d.transport:0===d.maxRedirects?te=de?b:T:(d.maxRedirects&&(X.maxRedirects=d.maxRedirects),te=de?P:A),d.maxBodyLength>-1&&(X.maxBodyLength=d.maxBodyLength);var he=te.request(X,(function handleResponse(m){if(!he.aborted){var g=m,C=m.req||he;if(204!==m.statusCode&&"HEAD"!==C.method&&!1!==d.decompress)switch(m.headers["content-encoding"]){case"gzip":case"compress":case"deflate":g=g.pipe(k.createUnzip()),delete m.headers["content-encoding"]}var _={status:m.statusCode,statusText:m.statusMessage,headers:m.headers,config:d,request:C};if("stream"===d.responseType)_.data=g,y(L,U,_);else{var T=[],b=0;g.on("data",(function handleStreamData(m){T.push(m),b+=m.length,d.maxContentLength>-1&&b>d.maxContentLength&&(g.destroy(),U(I("maxContentLength size of "+d.maxContentLength+" exceeded",d,null,C)))})),g.on("error",(function handleStreamError(m){he.aborted||U(O(m,d,null,C))})),g.on("end",(function handleStreamEnd(){var m=Buffer.concat(T);"arraybuffer"!==d.responseType&&(m=m.toString(d.responseEncoding),d.responseEncoding&&"utf8"!==d.responseEncoding||(m=v.stripBOM(m))),_.data=m,y(L,U,_)}))}}}));if(he.on("error",(function handleRequestError(m){he.aborted&&"ERR_FR_TOO_MANY_REDIRECTS"!==m.code||U(O(m,d,null,he))})),d.timeout){var pe=parseInt(d.timeout,10);if(isNaN(pe))return void U(I("error trying to parse `config.timeout` to int",d,"ERR_PARSE_TIMEOUT",he));he.setTimeout(pe,(function handleRequestTimeout(){he.abort(),U(I("timeout of "+pe+"ms exceeded",d,d.transitional&&d.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",he))}))}d.cancelToken&&d.cancelToken.promise.then((function onCanceled(d){he.aborted||(he.abort(),U(d))})),v.isStream(j)?j.on("error",(function handleStreamError(m){U(O(m,d,null,he))})).pipe(he):he.end(j)}))}},70353:(d,m,g)=>{"use strict";var v=g(93044),y=g(86955),C=g(92233),_=g(68030),T=g(97948),b=g(51875),A=g(60842),P=g(88618);d.exports=function xhrAdapter(d){return new Promise((function dispatchXhrRequest(m,g){var R=d.data,k=d.headers,M=d.responseType;v.isFormData(R)&&delete k["Content-Type"];var I=new XMLHttpRequest;if(d.auth){var O=d.auth.username||"",x=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";k.Authorization="Basic "+btoa(O+":"+x)}var L=T(d.baseURL,d.url);function onloadend(){if(I){var v="getAllResponseHeaders"in I?b(I.getAllResponseHeaders()):null,C={data:M&&"text"!==M&&"json"!==M?I.response:I.responseText,status:I.status,statusText:I.statusText,headers:v,config:d,request:I};y(m,g,C),I=null}}if(I.open(d.method.toUpperCase(),_(L,d.params,d.paramsSerializer),!0),I.timeout=d.timeout,"onloadend"in I?I.onloadend=onloadend:I.onreadystatechange=function handleLoad(){I&&4===I.readyState&&(0!==I.status||I.responseURL&&0===I.responseURL.indexOf("file:"))&&setTimeout(onloadend)},I.onabort=function handleAbort(){I&&(g(P("Request aborted",d,"ECONNABORTED",I)),I=null)},I.onerror=function handleError(){g(P("Network Error",d,null,I)),I=null},I.ontimeout=function handleTimeout(){var m="timeout of "+d.timeout+"ms exceeded";d.timeoutErrorMessage&&(m=d.timeoutErrorMessage),g(P(m,d,d.transitional&&d.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",I)),I=null},v.isStandardBrowserEnv()){var U=(d.withCredentials||A(L))&&d.xsrfCookieName?C.read(d.xsrfCookieName):void 0;U&&(k[d.xsrfHeaderName]=U)}"setRequestHeader"in I&&v.forEach(k,(function setRequestHeader(d,m){void 0===R&&"content-type"===m.toLowerCase()?delete k[m]:I.setRequestHeader(m,d)})),v.isUndefined(d.withCredentials)||(I.withCredentials=!!d.withCredentials),M&&"json"!==M&&(I.responseType=d.responseType),"function"==typeof d.onDownloadProgress&&I.addEventListener("progress",d.onDownloadProgress),"function"==typeof d.onUploadProgress&&I.upload&&I.upload.addEventListener("progress",d.onUploadProgress),d.cancelToken&&d.cancelToken.promise.then((function onCanceled(d){I&&(I.abort(),g(d),I=null)})),R||(R=null),I.send(R)}))}},25644:(d,m,g)=>{"use strict";var v=g(93044),y=g(73644),C=g(62215),_=g(92937);function createInstance(d){var m=new C(d),g=y(C.prototype.request,m);return v.extend(g,C.prototype,m),v.extend(g,m),g}var T=createInstance(g(1439));T.Axios=C,T.create=function create(d){return createInstance(_(T.defaults,d))},T.Cancel=g(26714),T.CancelToken=g(34089),T.isCancel=g(98041),T.all=function all(d){return Promise.all(d)},T.spread=g(70783),T.isAxiosError=g(65587),d.exports=T,d.exports.default=T},26714:d=>{"use strict";function Cancel(d){this.message=d}Cancel.prototype.toString=function toString(){return"Cancel"+(this.message?": "+this.message:"")},Cancel.prototype.__CANCEL__=!0,d.exports=Cancel},34089:(d,m,g)=>{"use strict";var v=g(26714);function CancelToken(d){if("function"!=typeof d)throw new TypeError("executor must be a function.");var m;this.promise=new Promise((function promiseExecutor(d){m=d}));var g=this;d((function cancel(d){g.reason||(g.reason=new v(d),m(g.reason))}))}CancelToken.prototype.throwIfRequested=function throwIfRequested(){if(this.reason)throw this.reason},CancelToken.source=function source(){var d;return{token:new CancelToken((function executor(m){d=m})),cancel:d}},d.exports=CancelToken},98041:d=>{"use strict";d.exports=function isCancel(d){return!(!d||!d.__CANCEL__)}},62215:(d,m,g)=>{"use strict";var v=g(93044),y=g(68030),C=g(946),_=g(6895),T=g(92937),b=g(17525),A=b.validators;function Axios(d){this.defaults=d,this.interceptors={request:new C,response:new C}}Axios.prototype.request=function request(d){"string"==typeof d?(d=arguments[1]||{}).url=arguments[0]:d=d||{},(d=T(this.defaults,d)).method?d.method=d.method.toLowerCase():this.defaults.method?d.method=this.defaults.method.toLowerCase():d.method="get";var m=d.transitional;void 0!==m&&b.assertOptions(m,{silentJSONParsing:A.transitional(A.boolean,"1.0.0"),forcedJSONParsing:A.transitional(A.boolean,"1.0.0"),clarifyTimeoutError:A.transitional(A.boolean,"1.0.0")},!1);var g=[],v=!0;this.interceptors.request.forEach((function unshiftRequestInterceptors(m){"function"==typeof m.runWhen&&!1===m.runWhen(d)||(v=v&&m.synchronous,g.unshift(m.fulfilled,m.rejected))}));var y,C=[];if(this.interceptors.response.forEach((function pushResponseInterceptors(d){C.push(d.fulfilled,d.rejected)})),!v){var P=[_,void 0];for(Array.prototype.unshift.apply(P,g),P=P.concat(C),y=Promise.resolve(d);P.length;)y=y.then(P.shift(),P.shift());return y}for(var R=d;g.length;){var k=g.shift(),M=g.shift();try{R=k(R)}catch(d){M(d);break}}try{y=_(R)}catch(d){return Promise.reject(d)}for(;C.length;)y=y.then(C.shift(),C.shift());return y},Axios.prototype.getUri=function getUri(d){return d=T(this.defaults,d),y(d.url,d.params,d.paramsSerializer).replace(/^\?/,"")},v.forEach(["delete","get","head","options"],(function forEachMethodNoData(d){Axios.prototype[d]=function(m,g){return this.request(T(g||{},{method:d,url:m,data:(g||{}).data}))}})),v.forEach(["post","put","patch"],(function forEachMethodWithData(d){Axios.prototype[d]=function(m,g,v){return this.request(T(v||{},{method:d,url:m,data:g}))}})),d.exports=Axios},946:(d,m,g)=>{"use strict";var v=g(93044);function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function use(d,m,g){return this.handlers.push({fulfilled:d,rejected:m,synchronous:!!g&&g.synchronous,runWhen:g?g.runWhen:null}),this.handlers.length-1},InterceptorManager.prototype.eject=function eject(d){this.handlers[d]&&(this.handlers[d]=null)},InterceptorManager.prototype.forEach=function forEach(d){v.forEach(this.handlers,(function forEachHandler(m){null!==m&&d(m)}))},d.exports=InterceptorManager},97948:(d,m,g)=>{"use strict";var v=g(99192),y=g(48762);d.exports=function buildFullPath(d,m){return d&&!v(m)?y(d,m):m}},88618:(d,m,g)=>{"use strict";var v=g(11935);d.exports=function createError(d,m,g,y,C){var _=new Error(d);return v(_,m,g,y,C)}},6895:(d,m,g)=>{"use strict";var v=g(93044),y=g(38556),C=g(98041),_=g(1439);function throwIfCancellationRequested(d){d.cancelToken&&d.cancelToken.throwIfRequested()}d.exports=function dispatchRequest(d){return throwIfCancellationRequested(d),d.headers=d.headers||{},d.data=y.call(d,d.data,d.headers,d.transformRequest),d.headers=v.merge(d.headers.common||{},d.headers[d.method]||{},d.headers),v.forEach(["delete","get","head","post","put","patch","common"],(function cleanHeaderConfig(m){delete d.headers[m]})),(d.adapter||_.adapter)(d).then((function onAdapterResolution(m){return throwIfCancellationRequested(d),m.data=y.call(d,m.data,m.headers,d.transformResponse),m}),(function onAdapterRejection(m){return C(m)||(throwIfCancellationRequested(d),m&&m.response&&(m.response.data=y.call(d,m.response.data,m.response.headers,d.transformResponse))),Promise.reject(m)}))}},11935:d=>{"use strict";d.exports=function enhanceError(d,m,g,v,y){return d.config=m,g&&(d.code=g),d.request=v,d.response=y,d.isAxiosError=!0,d.toJSON=function toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},d}},92937:(d,m,g)=>{"use strict";var v=g(93044);d.exports=function mergeConfig(d,m){m=m||{};var g={},y=["url","method","data"],C=["headers","auth","proxy","params"],_=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],T=["validateStatus"];function getMergedValue(d,m){return v.isPlainObject(d)&&v.isPlainObject(m)?v.merge(d,m):v.isPlainObject(m)?v.merge({},m):v.isArray(m)?m.slice():m}function mergeDeepProperties(y){v.isUndefined(m[y])?v.isUndefined(d[y])||(g[y]=getMergedValue(void 0,d[y])):g[y]=getMergedValue(d[y],m[y])}v.forEach(y,(function valueFromConfig2(d){v.isUndefined(m[d])||(g[d]=getMergedValue(void 0,m[d]))})),v.forEach(C,mergeDeepProperties),v.forEach(_,(function defaultToConfig2(y){v.isUndefined(m[y])?v.isUndefined(d[y])||(g[y]=getMergedValue(void 0,d[y])):g[y]=getMergedValue(void 0,m[y])})),v.forEach(T,(function merge(v){v in m?g[v]=getMergedValue(d[v],m[v]):v in d&&(g[v]=getMergedValue(void 0,d[v]))}));var b=y.concat(C).concat(_).concat(T),A=Object.keys(d).concat(Object.keys(m)).filter((function filterAxiosKeys(d){return-1===b.indexOf(d)}));return v.forEach(A,mergeDeepProperties),g}},86955:(d,m,g)=>{"use strict";var v=g(88618);d.exports=function settle(d,m,g){var y=g.config.validateStatus;g.status&&y&&!y(g.status)?m(v("Request failed with status code "+g.status,g.config,null,g.request,g)):d(g)}},38556:(d,m,g)=>{"use strict";var v=g(93044),y=g(1439);d.exports=function transformData(d,m,g){var C=this||y;return v.forEach(g,(function transform(g){d=g.call(C,d,m)})),d}},1439:(d,m,g)=>{"use strict";var v=g(93044),y=g(98868),C=g(11935),_={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(d,m){!v.isUndefined(d)&&v.isUndefined(d["Content-Type"])&&(d["Content-Type"]=m)}var T={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function getDefaultAdapter(){var d;return"undefined"!=typeof XMLHttpRequest?d=g(70353):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(d=g(65748)),d}(),transformRequest:[function transformRequest(d,m){return y(m,"Accept"),y(m,"Content-Type"),v.isFormData(d)||v.isArrayBuffer(d)||v.isBuffer(d)||v.isStream(d)||v.isFile(d)||v.isBlob(d)?d:v.isArrayBufferView(d)?d.buffer:v.isURLSearchParams(d)?(setContentTypeIfUnset(m,"application/x-www-form-urlencoded;charset=utf-8"),d.toString()):v.isObject(d)||m&&"application/json"===m["Content-Type"]?(setContentTypeIfUnset(m,"application/json"),function stringifySafely(d,m,g){if(v.isString(d))try{return(m||JSON.parse)(d),v.trim(d)}catch(d){if("SyntaxError"!==d.name)throw d}return(g||JSON.stringify)(d)}(d)):d}],transformResponse:[function transformResponse(d){var m=this.transitional,g=m&&m.silentJSONParsing,y=m&&m.forcedJSONParsing,_=!g&&"json"===this.responseType;if(_||y&&v.isString(d)&&d.length)try{return JSON.parse(d)}catch(d){if(_){if("SyntaxError"===d.name)throw C(d,this,"E_JSON_PARSE");throw d}}return d}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function validateStatus(d){return d>=200&&d<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};v.forEach(["delete","get","head"],(function forEachMethodNoData(d){T.headers[d]={}})),v.forEach(["post","put","patch"],(function forEachMethodWithData(d){T.headers[d]=v.merge(_)})),d.exports=T},73644:d=>{"use strict";d.exports=function bind(d,m){return function wrap(){for(var g=new Array(arguments.length),v=0;v<g.length;v++)g[v]=arguments[v];return d.apply(m,g)}}},68030:(d,m,g)=>{"use strict";var v=g(93044);function encode(d){return encodeURIComponent(d).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}d.exports=function buildURL(d,m,g){if(!m)return d;var y;if(g)y=g(m);else if(v.isURLSearchParams(m))y=m.toString();else{var C=[];v.forEach(m,(function serialize(d,m){null!=d&&(v.isArray(d)?m+="[]":d=[d],v.forEach(d,(function parseValue(d){v.isDate(d)?d=d.toISOString():v.isObject(d)&&(d=JSON.stringify(d)),C.push(encode(m)+"="+encode(d))})))})),y=C.join("&")}if(y){var _=d.indexOf("#");-1!==_&&(d=d.slice(0,_)),d+=(-1===d.indexOf("?")?"?":"&")+y}return d}},48762:d=>{"use strict";d.exports=function combineURLs(d,m){return m?d.replace(/\/+$/,"")+"/"+m.replace(/^\/+/,""):d}},92233:(d,m,g)=>{"use strict";var v=g(93044);d.exports=v.isStandardBrowserEnv()?function standardBrowserEnv(){return{write:function write(d,m,g,y,C,_){var T=[];T.push(d+"="+encodeURIComponent(m)),v.isNumber(g)&&T.push("expires="+new Date(g).toGMTString()),v.isString(y)&&T.push("path="+y),v.isString(C)&&T.push("domain="+C),!0===_&&T.push("secure"),document.cookie=T.join("; ")},read:function read(d){var m=document.cookie.match(new RegExp("(^|;\\s*)("+d+")=([^;]*)"));return m?decodeURIComponent(m[3]):null},remove:function remove(d){this.write(d,"",Date.now()-864e5)}}}():{write:function write(){},read:function read(){return null},remove:function remove(){}}},99192:d=>{"use strict";d.exports=function isAbsoluteURL(d){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(d)}},65587:d=>{"use strict";d.exports=function isAxiosError(d){return"object"==typeof d&&!0===d.isAxiosError}},60842:(d,m,g)=>{"use strict";var v=g(93044);d.exports=v.isStandardBrowserEnv()?function standardBrowserEnv(){var d,m=/(msie|trident)/i.test(navigator.userAgent),g=document.createElement("a");function resolveURL(d){var v=d;return m&&(g.setAttribute("href",v),v=g.href),g.setAttribute("href",v),{href:g.href,protocol:g.protocol?g.protocol.replace(/:$/,""):"",host:g.host,search:g.search?g.search.replace(/^\?/,""):"",hash:g.hash?g.hash.replace(/^#/,""):"",hostname:g.hostname,port:g.port,pathname:"/"===g.pathname.charAt(0)?g.pathname:"/"+g.pathname}}return d=resolveURL(window.location.href),function isURLSameOrigin(m){var g=v.isString(m)?resolveURL(m):m;return g.protocol===d.protocol&&g.host===d.host}}():function isURLSameOrigin(){return!0}},98868:(d,m,g)=>{"use strict";var v=g(93044);d.exports=function normalizeHeaderName(d,m){v.forEach(d,(function processHeader(g,v){v!==m&&v.toUpperCase()===m.toUpperCase()&&(d[m]=g,delete d[v])}))}},51875:(d,m,g)=>{"use strict";var v=g(93044),y=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];d.exports=function parseHeaders(d){var m,g,C,_={};return d?(v.forEach(d.split("\n"),(function parser(d){if(C=d.indexOf(":"),m=v.trim(d.substr(0,C)).toLowerCase(),g=v.trim(d.substr(C+1)),m){if(_[m]&&y.indexOf(m)>=0)return;_[m]="set-cookie"===m?(_[m]?_[m]:[]).concat([g]):_[m]?_[m]+", "+g:g}})),_):_}},70783:d=>{"use strict";d.exports=function spread(d){return function wrap(m){return d.apply(null,m)}}},17525:(d,m,g)=>{"use strict";var v=g(19521),y={};["object","boolean","number","function","string","symbol"].forEach((function(d,m){y[d]=function validator(g){return typeof g===d||"a"+(m<1?"n ":" ")+d}}));var C={},_=v.version.split(".");function isOlderVersion(d,m){for(var g=m?m.split("."):_,v=d.split("."),y=0;y<3;y++){if(g[y]>v[y])return!0;if(g[y]<v[y])return!1}return!1}y.transitional=function transitional(d,m,g){var y=m&&isOlderVersion(m);function formatMessage(d,m){return"[Axios v"+v.version+"] Transitional option '"+d+"'"+m+(g?". "+g:"")}return function(g,v,_){if(!1===d)throw new Error(formatMessage(v," has been removed in "+m));return y&&!C[v]&&(C[v]=!0,console.warn(formatMessage(v," has been deprecated since v"+m+" and will be removed in the near future"))),!d||d(g,v,_)}},d.exports={isOlderVersion,assertOptions:function assertOptions(d,m,g){if("object"!=typeof d)throw new TypeError("options must be an object");for(var v=Object.keys(d),y=v.length;y-- >0;){var C=v[y],_=m[C];if(_){var T=d[C],b=void 0===T||_(T,C,d);if(!0!==b)throw new TypeError("option "+C+" must be "+b)}else if(!0!==g)throw Error("Unknown option "+C)}},validators:y}},93044:(d,m,g)=>{"use strict";var v=g(73644),y=Object.prototype.toString;function isArray(d){return"[object Array]"===y.call(d)}function isUndefined(d){return void 0===d}function isObject(d){return null!==d&&"object"==typeof d}function isPlainObject(d){if("[object Object]"!==y.call(d))return!1;var m=Object.getPrototypeOf(d);return null===m||m===Object.prototype}function isFunction(d){return"[object Function]"===y.call(d)}function forEach(d,m){if(null!=d)if("object"!=typeof d&&(d=[d]),isArray(d))for(var g=0,v=d.length;g<v;g++)m.call(null,d[g],g,d);else for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&m.call(null,d[y],y,d)}d.exports={isArray,isArrayBuffer:function isArrayBuffer(d){return"[object ArrayBuffer]"===y.call(d)},isBuffer:function isBuffer(d){return null!==d&&!isUndefined(d)&&null!==d.constructor&&!isUndefined(d.constructor)&&"function"==typeof d.constructor.isBuffer&&d.constructor.isBuffer(d)},isFormData:function isFormData(d){return"undefined"!=typeof FormData&&d instanceof FormData},isArrayBufferView:function isArrayBufferView(d){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(d):d&&d.buffer&&d.buffer instanceof ArrayBuffer},isString:function isString(d){return"string"==typeof d},isNumber:function isNumber(d){return"number"==typeof d},isObject,isPlainObject,isUndefined,isDate:function isDate(d){return"[object Date]"===y.call(d)},isFile:function isFile(d){return"[object File]"===y.call(d)},isBlob:function isBlob(d){return"[object Blob]"===y.call(d)},isFunction,isStream:function isStream(d){return isObject(d)&&isFunction(d.pipe)},isURLSearchParams:function isURLSearchParams(d){return"undefined"!=typeof URLSearchParams&&d instanceof URLSearchParams},isStandardBrowserEnv:function isStandardBrowserEnv(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach,merge:function merge(){var d={};function assignValue(m,g){isPlainObject(d[g])&&isPlainObject(m)?d[g]=merge(d[g],m):isPlainObject(m)?d[g]=merge({},m):isArray(m)?d[g]=m.slice():d[g]=m}for(var m=0,g=arguments.length;m<g;m++)forEach(arguments[m],assignValue);return d},extend:function extend(d,m,g){return forEach(m,(function assignValue(m,y){d[y]=g&&"function"==typeof m?v(m,g):m})),d},trim:function trim(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")},stripBOM:function stripBOM(d){return 65279===d.charCodeAt(0)&&(d=d.slice(1)),d}}},82294:d=>{"use strict";function balanced(d,m,g){d instanceof RegExp&&(d=maybeMatch(d,g)),m instanceof RegExp&&(m=maybeMatch(m,g));var v=range(d,m,g);return v&&{start:v[0],end:v[1],pre:g.slice(0,v[0]),body:g.slice(v[0]+d.length,v[1]),post:g.slice(v[1]+m.length)}}function maybeMatch(d,m){var g=m.match(d);return g?g[0]:null}function range(d,m,g){var v,y,C,_,T,b=g.indexOf(d),A=g.indexOf(m,b+1),P=b;if(b>=0&&A>0){for(v=[],C=g.length;P>=0&&!T;)P==b?(v.push(P),b=g.indexOf(d,P+1)):1==v.length?T=[v.pop(),A]:((y=v.pop())<C&&(C=y,_=A),A=g.indexOf(m,P+1)),P=b<A&&b>=0?b:A;v.length&&(T=[C,_])}return T}d.exports=balanced,balanced.range=range},60111:d=>{"use strict";const m=new Set(["json","buffer","string"]);d.exports=d=>(...g)=>{const v=new Set;let y,C,_,T="";return g.forEach((d=>{if("string"==typeof d)if(d.toUpperCase()===d){if(y){throw new Error(`Can't set method to ${d}, already set to ${y}.`)}y=d}else if(d.startsWith("http:")||d.startsWith("https:"))T=d;else{if(!m.has(d))throw new Error(`Unknown encoding, ${d}`);C=d}else if("number"==typeof d)v.add(d);else{if("object"!=typeof d)throw new Error("Unknown type: "+typeof d);if(Array.isArray(d)||d instanceof Set)d.forEach((d=>v.add(d)));else{if(_)throw new Error("Cannot set headers twice.");_=d}}})),y||(y="GET"),0===v.size&&v.add(200),d(v,y,C,_,T)}},27157:(d,m,g)=>{"use strict";const v=g(13685),y=g(95687),{URL:C}=g(57310),_=g(58607),T=g(1277),b=g(71139),A=g(60111),P=g(59796),{PassThrough:R}=g(12781),k={};P.createBrotliDecompress&&(k.br=()=>P.createBrotliDecompress()),P.createGunzip&&(k.gzip=()=>P.createGunzip()),P.createInflate&&(k.deflate=()=>P.createInflate());const M=Object.keys(k).join(", ");class StatusError extends Error{constructor(d,...m){let g;super(...m),Error.captureStackTrace(this,StatusError),this.name="StatusError",this.message=d.statusMessage,this.statusCode=d.statusCode,this.json=d.json,this.text=d.text,this.arrayBuffer=d.arrayBuffer,this.headers=d.headers;Object.defineProperty(this,"responseBody",{get:()=>(g||(g=this.arrayBuffer()),g)})}}const decodings=d=>{let m;d.arrayBuffer=()=>{if(m)throw new Error("body stream is locked");return g=d,m=new Promise(((d,m)=>{const v=[];g.on("error",m),g.on("end",(()=>d(Buffer.concat(v)))),g.on("data",(d=>v.push(d)))})),m;var g},d.text=()=>d.arrayBuffer().then((d=>d.toString())),d.json=async()=>{const m=await d.text();try{return JSON.parse(m)}catch(d){throw d.message+=`str"${m}"`,d}}};d.exports=A(((d,m,g,A,P)=>(I,O=null,x={})=>{const L=new C(I=P+(I||""));let U;if("https:"===L.protocol)U=y;else{if("http:"!==L.protocol)throw new Error(`Unknown protocol, ${L.protocol}`);U=v}const j={path:L.pathname+L.search,port:L.port,method:m,headers:{...A||{},...x},hostname:L.hostname};(L.username||L.password)&&(j.auth=[L.username,L.password].join(":"));const B=T(j.headers);return"json"===g&&(B.get("accept")||B.set("accept","application/json")),B.has("accept-encoding")||B.set("accept-encoding",M),new Promise(((m,v)=>{const y=U.request(j,(async y=>((y=(d=>{const m=new R;if(m.statusCode=d.statusCode,m.status=d.statusCode,m.statusMessage=d.statusMessage,m.headers=d.headers,m._response=d,m.headers["content-encoding"]){const g=m.headers["content-encoding"].split(", ").reverse();for(;g.length;){const v=g.shift();if(!k[v])break;{const g=k[v]();g.on("error",(d=>m.emit("error",new Error("ZBufError",d)))),d=d.pipe(g)}}}return d.pipe(m)})(y)).on("error",v),decodings(y),y.status=y.statusCode,d.has(y.statusCode)?g?void("buffer"===g?m(y.arrayBuffer()):"json"===g?m(y.json()):"string"===g&&m(y.text())):m(y):v(new StatusError(y)))));y.on("error",v),O?((O instanceof ArrayBuffer||ArrayBuffer.isView(O))&&(O=b.native(O)),Buffer.isBuffer(O)||("string"==typeof O?O=Buffer.from(O):_(O)?(O.pipe(y),O=null):"object"==typeof O?(B.has("content-type")||y.setHeader("content-type","application/json"),O=Buffer.from(JSON.stringify(O))):v(new Error("Unknown body type."))),O&&(y.setHeader("content-length",O.length),y.end(O))):y.end()}))}))},23196:function(d,m,g){var v;!function(y){"use strict";function safeAdd(d,m){var g=(65535&d)+(65535&m);return(d>>16)+(m>>16)+(g>>16)<<16|65535&g}function md5cmn(d,m,g,v,y,C){return safeAdd(function bitRotateLeft(d,m){return d<<m|d>>>32-m}(safeAdd(safeAdd(m,d),safeAdd(v,C)),y),g)}function md5ff(d,m,g,v,y,C,_){return md5cmn(m&g|~m&v,d,m,y,C,_)}function md5gg(d,m,g,v,y,C,_){return md5cmn(m&v|g&~v,d,m,y,C,_)}function md5hh(d,m,g,v,y,C,_){return md5cmn(m^g^v,d,m,y,C,_)}function md5ii(d,m,g,v,y,C,_){return md5cmn(g^(m|~v),d,m,y,C,_)}function binlMD5(d,m){var g,v,y,C,_;d[m>>5]|=128<<m%32,d[14+(m+64>>>9<<4)]=m;var T=1732584193,b=-271733879,A=-1732584194,P=271733878;for(g=0;g<d.length;g+=16)v=T,y=b,C=A,_=P,T=md5ff(T,b,A,P,d[g],7,-680876936),P=md5ff(P,T,b,A,d[g+1],12,-389564586),A=md5ff(A,P,T,b,d[g+2],17,606105819),b=md5ff(b,A,P,T,d[g+3],22,-1044525330),T=md5ff(T,b,A,P,d[g+4],7,-176418897),P=md5ff(P,T,b,A,d[g+5],12,1200080426),A=md5ff(A,P,T,b,d[g+6],17,-1473231341),b=md5ff(b,A,P,T,d[g+7],22,-45705983),T=md5ff(T,b,A,P,d[g+8],7,1770035416),P=md5ff(P,T,b,A,d[g+9],12,-1958414417),A=md5ff(A,P,T,b,d[g+10],17,-42063),b=md5ff(b,A,P,T,d[g+11],22,-1990404162),T=md5ff(T,b,A,P,d[g+12],7,1804603682),P=md5ff(P,T,b,A,d[g+13],12,-40341101),A=md5ff(A,P,T,b,d[g+14],17,-1502002290),T=md5gg(T,b=md5ff(b,A,P,T,d[g+15],22,1236535329),A,P,d[g+1],5,-165796510),P=md5gg(P,T,b,A,d[g+6],9,-1069501632),A=md5gg(A,P,T,b,d[g+11],14,643717713),b=md5gg(b,A,P,T,d[g],20,-373897302),T=md5gg(T,b,A,P,d[g+5],5,-701558691),P=md5gg(P,T,b,A,d[g+10],9,38016083),A=md5gg(A,P,T,b,d[g+15],14,-660478335),b=md5gg(b,A,P,T,d[g+4],20,-405537848),T=md5gg(T,b,A,P,d[g+9],5,568446438),P=md5gg(P,T,b,A,d[g+14],9,-1019803690),A=md5gg(A,P,T,b,d[g+3],14,-187363961),b=md5gg(b,A,P,T,d[g+8],20,1163531501),T=md5gg(T,b,A,P,d[g+13],5,-1444681467),P=md5gg(P,T,b,A,d[g+2],9,-51403784),A=md5gg(A,P,T,b,d[g+7],14,1735328473),T=md5hh(T,b=md5gg(b,A,P,T,d[g+12],20,-1926607734),A,P,d[g+5],4,-378558),P=md5hh(P,T,b,A,d[g+8],11,-2022574463),A=md5hh(A,P,T,b,d[g+11],16,1839030562),b=md5hh(b,A,P,T,d[g+14],23,-35309556),T=md5hh(T,b,A,P,d[g+1],4,-1530992060),P=md5hh(P,T,b,A,d[g+4],11,1272893353),A=md5hh(A,P,T,b,d[g+7],16,-155497632),b=md5hh(b,A,P,T,d[g+10],23,-1094730640),T=md5hh(T,b,A,P,d[g+13],4,681279174),P=md5hh(P,T,b,A,d[g],11,-358537222),A=md5hh(A,P,T,b,d[g+3],16,-722521979),b=md5hh(b,A,P,T,d[g+6],23,76029189),T=md5hh(T,b,A,P,d[g+9],4,-640364487),P=md5hh(P,T,b,A,d[g+12],11,-421815835),A=md5hh(A,P,T,b,d[g+15],16,530742520),T=md5ii(T,b=md5hh(b,A,P,T,d[g+2],23,-995338651),A,P,d[g],6,-198630844),P=md5ii(P,T,b,A,d[g+7],10,1126891415),A=md5ii(A,P,T,b,d[g+14],15,-1416354905),b=md5ii(b,A,P,T,d[g+5],21,-57434055),T=md5ii(T,b,A,P,d[g+12],6,1700485571),P=md5ii(P,T,b,A,d[g+3],10,-1894986606),A=md5ii(A,P,T,b,d[g+10],15,-1051523),b=md5ii(b,A,P,T,d[g+1],21,-2054922799),T=md5ii(T,b,A,P,d[g+8],6,1873313359),P=md5ii(P,T,b,A,d[g+15],10,-30611744),A=md5ii(A,P,T,b,d[g+6],15,-1560198380),b=md5ii(b,A,P,T,d[g+13],21,1309151649),T=md5ii(T,b,A,P,d[g+4],6,-145523070),P=md5ii(P,T,b,A,d[g+11],10,-1120210379),A=md5ii(A,P,T,b,d[g+2],15,718787259),b=md5ii(b,A,P,T,d[g+9],21,-343485551),T=safeAdd(T,v),b=safeAdd(b,y),A=safeAdd(A,C),P=safeAdd(P,_);return[T,b,A,P]}function binl2rstr(d){var m,g="",v=32*d.length;for(m=0;m<v;m+=8)g+=String.fromCharCode(d[m>>5]>>>m%32&255);return g}function rstr2binl(d){var m,g=[];for(g[(d.length>>2)-1]=void 0,m=0;m<g.length;m+=1)g[m]=0;var v=8*d.length;for(m=0;m<v;m+=8)g[m>>5]|=(255&d.charCodeAt(m/8))<<m%32;return g}function rstr2hex(d){var m,g,v="0123456789abcdef",y="";for(g=0;g<d.length;g+=1)m=d.charCodeAt(g),y+=v.charAt(m>>>4&15)+v.charAt(15&m);return y}function str2rstrUTF8(d){return unescape(encodeURIComponent(d))}function rawMD5(d){return function rstrMD5(d){return binl2rstr(binlMD5(rstr2binl(d),8*d.length))}(str2rstrUTF8(d))}function rawHMACMD5(d,m){return function rstrHMACMD5(d,m){var g,v,y=rstr2binl(d),C=[],_=[];for(C[15]=_[15]=void 0,y.length>16&&(y=binlMD5(y,8*d.length)),g=0;g<16;g+=1)C[g]=909522486^y[g],_[g]=1549556828^y[g];return v=binlMD5(C.concat(rstr2binl(m)),512+8*m.length),binl2rstr(binlMD5(_.concat(v),640))}(str2rstrUTF8(d),str2rstrUTF8(m))}function md5(d,m,g){return m?g?rawHMACMD5(m,d):function hexHMACMD5(d,m){return rstr2hex(rawHMACMD5(d,m))}(m,d):g?rawMD5(d):function hexMD5(d){return rstr2hex(rawMD5(d))}(d)}void 0===(v=function(){return md5}.call(m,g,m,d))||(d.exports=v)}()},62197:function(d,m,g){!function(d,m){"use strict";function assert(d,m){if(!d)throw new Error(m||"Assertion failed")}function inherits(d,m){d.super_=m;var TempCtor=function(){};TempCtor.prototype=m.prototype,d.prototype=new TempCtor,d.prototype.constructor=d}function BN(d,m,g){if(BN.isBN(d))return d;this.negative=0,this.words=null,this.length=0,this.red=null,null!==d&&("le"!==m&&"be"!==m||(g=m,m=10),this._init(d||0,m||10,g||"be"))}var v;"object"==typeof d?d.exports=BN:m.BN=BN,BN.BN=BN,BN.wordSize=26;try{v=g(14300).Buffer}catch(d){}function parseHex(d,m,g){for(var v=0,y=Math.min(d.length,g),C=m;C<y;C++){var _=d.charCodeAt(C)-48;v<<=4,v|=_>=49&&_<=54?_-49+10:_>=17&&_<=22?_-17+10:15&_}return v}function parseBase(d,m,g,v){for(var y=0,C=Math.min(d.length,g),_=m;_<C;_++){var T=d.charCodeAt(_)-48;y*=v,y+=T>=49?T-49+10:T>=17?T-17+10:T}return y}BN.isBN=function isBN(d){return d instanceof BN||null!==d&&"object"==typeof d&&d.constructor.wordSize===BN.wordSize&&Array.isArray(d.words)},BN.max=function max(d,m){return d.cmp(m)>0?d:m},BN.min=function min(d,m){return d.cmp(m)<0?d:m},BN.prototype._init=function init(d,m,g){if("number"==typeof d)return this._initNumber(d,m,g);if("object"==typeof d)return this._initArray(d,m,g);"hex"===m&&(m=16),assert(m===(0|m)&&m>=2&&m<=36);var v=0;"-"===(d=d.toString().replace(/\s+/g,""))[0]&&v++,16===m?this._parseHex(d,v):this._parseBase(d,m,v),"-"===d[0]&&(this.negative=1),this.strip(),"le"===g&&this._initArray(this.toArray(),m,g)},BN.prototype._initNumber=function _initNumber(d,m,g){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[67108863&d],this.length=1):d<4503599627370496?(this.words=[67108863&d,d/67108864&67108863],this.length=2):(assert(d<9007199254740992),this.words=[67108863&d,d/67108864&67108863,1],this.length=3),"le"===g&&this._initArray(this.toArray(),m,g)},BN.prototype._initArray=function _initArray(d,m,g){if(assert("number"==typeof d.length),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var y,C,_=0;if("be"===g)for(v=d.length-1,y=0;v>=0;v-=3)C=d[v]|d[v-1]<<8|d[v-2]<<16,this.words[y]|=C<<_&67108863,this.words[y+1]=C>>>26-_&67108863,(_+=24)>=26&&(_-=26,y++);else if("le"===g)for(v=0,y=0;v<d.length;v+=3)C=d[v]|d[v+1]<<8|d[v+2]<<16,this.words[y]|=C<<_&67108863,this.words[y+1]=C>>>26-_&67108863,(_+=24)>=26&&(_-=26,y++);return this.strip()},BN.prototype._parseHex=function _parseHex(d,m){this.length=Math.ceil((d.length-m)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var v,y,C=0;for(g=d.length-6,v=0;g>=m;g-=6)y=parseHex(d,g,g+6),this.words[v]|=y<<C&67108863,this.words[v+1]|=y>>>26-C&4194303,(C+=24)>=26&&(C-=26,v++);g+6!==m&&(y=parseHex(d,m,g+6),this.words[v]|=y<<C&67108863,this.words[v+1]|=y>>>26-C&4194303),this.strip()},BN.prototype._parseBase=function _parseBase(d,m,g){this.words=[0],this.length=1;for(var v=0,y=1;y<=67108863;y*=m)v++;v--,y=y/m|0;for(var C=d.length-g,_=C%v,T=Math.min(C,C-_)+g,b=0,A=g;A<T;A+=v)b=parseBase(d,A,A+v,m),this.imuln(y),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b);if(0!==_){var P=1;for(b=parseBase(d,A,d.length,m),A=0;A<_;A++)P*=m;this.imuln(P),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b)}},BN.prototype.copy=function copy(d){d.words=new Array(this.length);for(var m=0;m<this.length;m++)d.words[m]=this.words[m];d.length=this.length,d.negative=this.negative,d.red=this.red},BN.prototype.clone=function clone(){var d=new BN(null);return this.copy(d),d},BN.prototype._expand=function _expand(d){for(;this.length<d;)this.words[this.length++]=0;return this},BN.prototype.strip=function strip(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function _normSign(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},BN.prototype.inspect=function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],C=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function smallMulTo(d,m,g){g.negative=m.negative^d.negative;var v=d.length+m.length|0;g.length=v,v=v-1|0;var y=0|d.words[0],C=0|m.words[0],_=y*C,T=67108863&_,b=_/67108864|0;g.words[0]=T;for(var A=1;A<v;A++){for(var P=b>>>26,R=67108863&b,k=Math.min(A,m.length-1),M=Math.max(0,A-d.length+1);M<=k;M++){var I=A-M|0;P+=(_=(y=0|d.words[I])*(C=0|m.words[M])+R)/67108864|0,R=67108863&_}g.words[A]=0|R,b=0|P}return 0!==b?g.words[A]=0|b:g.length--,g.strip()}BN.prototype.toString=function toString(d,m){var g;if(m=0|m||1,16===(d=d||10)||"hex"===d){g="";for(var v=0,T=0,b=0;b<this.length;b++){var A=this.words[b],P=(16777215&(A<<v|T)).toString(16);g=0!==(T=A>>>24-v&16777215)||b!==this.length-1?y[6-P.length]+P+g:P+g,(v+=2)>=26&&(v-=26,b--)}for(0!==T&&(g=T.toString(16)+g);g.length%m!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}if(d===(0|d)&&d>=2&&d<=36){var R=C[d],k=_[d];g="";var M=this.clone();for(M.negative=0;!M.isZero();){var I=M.modn(k).toString(d);g=(M=M.idivn(k)).isZero()?I+g:y[R-I.length]+I+g}for(this.isZero()&&(g="0"+g);g.length%m!=0;)g="0"+g;return 0!==this.negative&&(g="-"+g),g}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function toNumber(){var d=this.words[0];return 2===this.length?d+=67108864*this.words[1]:3===this.length&&1===this.words[2]?d+=4503599627370496+67108864*this.words[1]:this.length>2&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-d:d},BN.prototype.toJSON=function toJSON(){return this.toString(16)},BN.prototype.toBuffer=function toBuffer(d,m){return assert(void 0!==v),this.toArrayLike(v,d,m)},BN.prototype.toArray=function toArray(d,m){return this.toArrayLike(Array,d,m)},BN.prototype.toArrayLike=function toArrayLike(d,m,g){var v=this.byteLength(),y=g||Math.max(1,v);assert(v<=y,"byte array longer than desired length"),assert(y>0,"Requested array length <= 0"),this.strip();var C,_,T="le"===m,b=new d(y),A=this.clone();if(T){for(_=0;!A.isZero();_++)C=A.andln(255),A.iushrn(8),b[_]=C;for(;_<y;_++)b[_]=0}else{for(_=0;_<y-v;_++)b[_]=0;for(_=0;!A.isZero();_++)C=A.andln(255),A.iushrn(8),b[y-_-1]=C}return b},Math.clz32?BN.prototype._countBits=function _countBits(d){return 32-Math.clz32(d)}:BN.prototype._countBits=function _countBits(d){var m=d,g=0;return m>=4096&&(g+=13,m>>>=13),m>=64&&(g+=7,m>>>=7),m>=8&&(g+=4,m>>>=4),m>=2&&(g+=2,m>>>=2),g+m},BN.prototype._zeroBits=function _zeroBits(d){if(0===d)return 26;var m=d,g=0;return 0==(8191&m)&&(g+=13,m>>>=13),0==(127&m)&&(g+=7,m>>>=7),0==(15&m)&&(g+=4,m>>>=4),0==(3&m)&&(g+=2,m>>>=2),0==(1&m)&&g++,g},BN.prototype.bitLength=function bitLength(){var d=this.words[this.length-1],m=this._countBits(d);return 26*(this.length-1)+m},BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;for(var d=0,m=0;m<this.length;m++){var g=this._zeroBits(this.words[m]);if(d+=g,26!==g)break}return d},BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function toTwos(d){return 0!==this.negative?this.abs().inotn(d).iaddn(1):this.clone()},BN.prototype.fromTwos=function fromTwos(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function isNeg(){return 0!==this.negative},BN.prototype.neg=function neg(){return this.clone().ineg()},BN.prototype.ineg=function ineg(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function iuor(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]|d.words[m];return this.strip()},BN.prototype.ior=function ior(d){return assert(0==(this.negative|d.negative)),this.iuor(d)},BN.prototype.or=function or(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},BN.prototype.uor=function uor(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},BN.prototype.iuand=function iuand(d){var m;m=this.length>d.length?d:this;for(var g=0;g<m.length;g++)this.words[g]=this.words[g]&d.words[g];return this.length=m.length,this.strip()},BN.prototype.iand=function iand(d){return assert(0==(this.negative|d.negative)),this.iuand(d)},BN.prototype.and=function and(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},BN.prototype.uand=function uand(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},BN.prototype.iuxor=function iuxor(d){var m,g;this.length>d.length?(m=this,g=d):(m=d,g=this);for(var v=0;v<g.length;v++)this.words[v]=m.words[v]^g.words[v];if(this!==m)for(;v<m.length;v++)this.words[v]=m.words[v];return this.length=m.length,this.strip()},BN.prototype.ixor=function ixor(d){return assert(0==(this.negative|d.negative)),this.iuxor(d)},BN.prototype.xor=function xor(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},BN.prototype.uxor=function uxor(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},BN.prototype.inotn=function inotn(d){assert("number"==typeof d&&d>=0);var m=0|Math.ceil(d/26),g=d%26;this._expand(m),g>0&&m--;for(var v=0;v<m;v++)this.words[v]=67108863&~this.words[v];return g>0&&(this.words[v]=~this.words[v]&67108863>>26-g),this.strip()},BN.prototype.notn=function notn(d){return this.clone().inotn(d)},BN.prototype.setn=function setn(d,m){assert("number"==typeof d&&d>=0);var g=d/26|0,v=d%26;return this._expand(g+1),this.words[g]=m?this.words[g]|1<<v:this.words[g]&~(1<<v),this.strip()},BN.prototype.iadd=function iadd(d){var m,g,v;if(0!==this.negative&&0===d.negative)return this.negative=0,m=this.isub(d),this.negative^=1,this._normSign();if(0===this.negative&&0!==d.negative)return d.negative=0,m=this.isub(d),d.negative=1,m._normSign();this.length>d.length?(g=this,v=d):(g=d,v=this);for(var y=0,C=0;C<v.length;C++)m=(0|g.words[C])+(0|v.words[C])+y,this.words[C]=67108863&m,y=m>>>26;for(;0!==y&&C<g.length;C++)m=(0|g.words[C])+y,this.words[C]=67108863&m,y=m>>>26;if(this.length=g.length,0!==y)this.words[this.length]=y,this.length++;else if(g!==this)for(;C<g.length;C++)this.words[C]=g.words[C];return this},BN.prototype.add=function add(d){var m;return 0!==d.negative&&0===this.negative?(d.negative=0,m=this.sub(d),d.negative^=1,m):0===d.negative&&0!==this.negative?(this.negative=0,m=d.sub(this),this.negative=1,m):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},BN.prototype.isub=function isub(d){if(0!==d.negative){d.negative=0;var m=this.iadd(d);return d.negative=1,m._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var g,v,y=this.cmp(d);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(g=this,v=d):(g=d,v=this);for(var C=0,_=0;_<v.length;_++)C=(m=(0|g.words[_])-(0|v.words[_])+C)>>26,this.words[_]=67108863&m;for(;0!==C&&_<g.length;_++)C=(m=(0|g.words[_])+C)>>26,this.words[_]=67108863&m;if(0===C&&_<g.length&&g!==this)for(;_<g.length;_++)this.words[_]=g.words[_];return this.length=Math.max(this.length,_),g!==this&&(this.negative=1),this.strip()},BN.prototype.sub=function sub(d){return this.clone().isub(d)};var T=function comb10MulTo(d,m,g){var v,y,C,_=d.words,T=m.words,b=g.words,A=0,P=0|_[0],R=8191&P,k=P>>>13,M=0|_[1],I=8191&M,O=M>>>13,x=0|_[2],L=8191&x,U=x>>>13,j=0|_[3],B=8191&j,V=j>>>13,$=0|_[4],q=8191&$,Y=$>>>13,z=0|_[5],G=8191&z,J=z>>>13,X=0|_[6],te=8191&X,re=X>>>13,ie=0|_[7],se=8191&ie,oe=ie>>>13,ae=0|_[8],ce=8191&ae,le=ae>>>13,de=0|_[9],he=8191&de,pe=de>>>13,me=0|T[0],fe=8191&me,ge=me>>>13,ve=0|T[1],ye=8191&ve,Se=ve>>>13,Ee=0|T[2],Ce=8191&Ee,_e=Ee>>>13,Te=0|T[3],be=8191&Te,Ae=Te>>>13,Pe=0|T[4],ke=8191&Pe,Ne=Pe>>>13,De=0|T[5],Ie=8191&De,Oe=De>>>13,xe=0|T[6],Le=8191&xe,Fe=xe>>>13,Ue=0|T[7],je=8191&Ue,Be=Ue>>>13,He=0|T[8],$e=8191&He,qe=He>>>13,ze=0|T[9],Ge=8191&ze,Je=ze>>>13;g.negative=d.negative^m.negative,g.length=19;var Xe=(A+(v=Math.imul(R,fe))|0)+((8191&(y=(y=Math.imul(R,ge))+Math.imul(k,fe)|0))<<13)|0;A=((C=Math.imul(k,ge))+(y>>>13)|0)+(Xe>>>26)|0,Xe&=67108863,v=Math.imul(I,fe),y=(y=Math.imul(I,ge))+Math.imul(O,fe)|0,C=Math.imul(O,ge);var Ze=(A+(v=v+Math.imul(R,ye)|0)|0)+((8191&(y=(y=y+Math.imul(R,Se)|0)+Math.imul(k,ye)|0))<<13)|0;A=((C=C+Math.imul(k,Se)|0)+(y>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,v=Math.imul(L,fe),y=(y=Math.imul(L,ge))+Math.imul(U,fe)|0,C=Math.imul(U,ge),v=v+Math.imul(I,ye)|0,y=(y=y+Math.imul(I,Se)|0)+Math.imul(O,ye)|0,C=C+Math.imul(O,Se)|0;var et=(A+(v=v+Math.imul(R,Ce)|0)|0)+((8191&(y=(y=y+Math.imul(R,_e)|0)+Math.imul(k,Ce)|0))<<13)|0;A=((C=C+Math.imul(k,_e)|0)+(y>>>13)|0)+(et>>>26)|0,et&=67108863,v=Math.imul(B,fe),y=(y=Math.imul(B,ge))+Math.imul(V,fe)|0,C=Math.imul(V,ge),v=v+Math.imul(L,ye)|0,y=(y=y+Math.imul(L,Se)|0)+Math.imul(U,ye)|0,C=C+Math.imul(U,Se)|0,v=v+Math.imul(I,Ce)|0,y=(y=y+Math.imul(I,_e)|0)+Math.imul(O,Ce)|0,C=C+Math.imul(O,_e)|0;var tt=(A+(v=v+Math.imul(R,be)|0)|0)+((8191&(y=(y=y+Math.imul(R,Ae)|0)+Math.imul(k,be)|0))<<13)|0;A=((C=C+Math.imul(k,Ae)|0)+(y>>>13)|0)+(tt>>>26)|0,tt&=67108863,v=Math.imul(q,fe),y=(y=Math.imul(q,ge))+Math.imul(Y,fe)|0,C=Math.imul(Y,ge),v=v+Math.imul(B,ye)|0,y=(y=y+Math.imul(B,Se)|0)+Math.imul(V,ye)|0,C=C+Math.imul(V,Se)|0,v=v+Math.imul(L,Ce)|0,y=(y=y+Math.imul(L,_e)|0)+Math.imul(U,Ce)|0,C=C+Math.imul(U,_e)|0,v=v+Math.imul(I,be)|0,y=(y=y+Math.imul(I,Ae)|0)+Math.imul(O,be)|0,C=C+Math.imul(O,Ae)|0;var rt=(A+(v=v+Math.imul(R,ke)|0)|0)+((8191&(y=(y=y+Math.imul(R,Ne)|0)+Math.imul(k,ke)|0))<<13)|0;A=((C=C+Math.imul(k,Ne)|0)+(y>>>13)|0)+(rt>>>26)|0,rt&=67108863,v=Math.imul(G,fe),y=(y=Math.imul(G,ge))+Math.imul(J,fe)|0,C=Math.imul(J,ge),v=v+Math.imul(q,ye)|0,y=(y=y+Math.imul(q,Se)|0)+Math.imul(Y,ye)|0,C=C+Math.imul(Y,Se)|0,v=v+Math.imul(B,Ce)|0,y=(y=y+Math.imul(B,_e)|0)+Math.imul(V,Ce)|0,C=C+Math.imul(V,_e)|0,v=v+Math.imul(L,be)|0,y=(y=y+Math.imul(L,Ae)|0)+Math.imul(U,be)|0,C=C+Math.imul(U,Ae)|0,v=v+Math.imul(I,ke)|0,y=(y=y+Math.imul(I,Ne)|0)+Math.imul(O,ke)|0,C=C+Math.imul(O,Ne)|0;var nt=(A+(v=v+Math.imul(R,Ie)|0)|0)+((8191&(y=(y=y+Math.imul(R,Oe)|0)+Math.imul(k,Ie)|0))<<13)|0;A=((C=C+Math.imul(k,Oe)|0)+(y>>>13)|0)+(nt>>>26)|0,nt&=67108863,v=Math.imul(te,fe),y=(y=Math.imul(te,ge))+Math.imul(re,fe)|0,C=Math.imul(re,ge),v=v+Math.imul(G,ye)|0,y=(y=y+Math.imul(G,Se)|0)+Math.imul(J,ye)|0,C=C+Math.imul(J,Se)|0,v=v+Math.imul(q,Ce)|0,y=(y=y+Math.imul(q,_e)|0)+Math.imul(Y,Ce)|0,C=C+Math.imul(Y,_e)|0,v=v+Math.imul(B,be)|0,y=(y=y+Math.imul(B,Ae)|0)+Math.imul(V,be)|0,C=C+Math.imul(V,Ae)|0,v=v+Math.imul(L,ke)|0,y=(y=y+Math.imul(L,Ne)|0)+Math.imul(U,ke)|0,C=C+Math.imul(U,Ne)|0,v=v+Math.imul(I,Ie)|0,y=(y=y+Math.imul(I,Oe)|0)+Math.imul(O,Ie)|0,C=C+Math.imul(O,Oe)|0;var it=(A+(v=v+Math.imul(R,Le)|0)|0)+((8191&(y=(y=y+Math.imul(R,Fe)|0)+Math.imul(k,Le)|0))<<13)|0;A=((C=C+Math.imul(k,Fe)|0)+(y>>>13)|0)+(it>>>26)|0,it&=67108863,v=Math.imul(se,fe),y=(y=Math.imul(se,ge))+Math.imul(oe,fe)|0,C=Math.imul(oe,ge),v=v+Math.imul(te,ye)|0,y=(y=y+Math.imul(te,Se)|0)+Math.imul(re,ye)|0,C=C+Math.imul(re,Se)|0,v=v+Math.imul(G,Ce)|0,y=(y=y+Math.imul(G,_e)|0)+Math.imul(J,Ce)|0,C=C+Math.imul(J,_e)|0,v=v+Math.imul(q,be)|0,y=(y=y+Math.imul(q,Ae)|0)+Math.imul(Y,be)|0,C=C+Math.imul(Y,Ae)|0,v=v+Math.imul(B,ke)|0,y=(y=y+Math.imul(B,Ne)|0)+Math.imul(V,ke)|0,C=C+Math.imul(V,Ne)|0,v=v+Math.imul(L,Ie)|0,y=(y=y+Math.imul(L,Oe)|0)+Math.imul(U,Ie)|0,C=C+Math.imul(U,Oe)|0,v=v+Math.imul(I,Le)|0,y=(y=y+Math.imul(I,Fe)|0)+Math.imul(O,Le)|0,C=C+Math.imul(O,Fe)|0;var ot=(A+(v=v+Math.imul(R,je)|0)|0)+((8191&(y=(y=y+Math.imul(R,Be)|0)+Math.imul(k,je)|0))<<13)|0;A=((C=C+Math.imul(k,Be)|0)+(y>>>13)|0)+(ot>>>26)|0,ot&=67108863,v=Math.imul(ce,fe),y=(y=Math.imul(ce,ge))+Math.imul(le,fe)|0,C=Math.imul(le,ge),v=v+Math.imul(se,ye)|0,y=(y=y+Math.imul(se,Se)|0)+Math.imul(oe,ye)|0,C=C+Math.imul(oe,Se)|0,v=v+Math.imul(te,Ce)|0,y=(y=y+Math.imul(te,_e)|0)+Math.imul(re,Ce)|0,C=C+Math.imul(re,_e)|0,v=v+Math.imul(G,be)|0,y=(y=y+Math.imul(G,Ae)|0)+Math.imul(J,be)|0,C=C+Math.imul(J,Ae)|0,v=v+Math.imul(q,ke)|0,y=(y=y+Math.imul(q,Ne)|0)+Math.imul(Y,ke)|0,C=C+Math.imul(Y,Ne)|0,v=v+Math.imul(B,Ie)|0,y=(y=y+Math.imul(B,Oe)|0)+Math.imul(V,Ie)|0,C=C+Math.imul(V,Oe)|0,v=v+Math.imul(L,Le)|0,y=(y=y+Math.imul(L,Fe)|0)+Math.imul(U,Le)|0,C=C+Math.imul(U,Fe)|0,v=v+Math.imul(I,je)|0,y=(y=y+Math.imul(I,Be)|0)+Math.imul(O,je)|0,C=C+Math.imul(O,Be)|0;var ct=(A+(v=v+Math.imul(R,$e)|0)|0)+((8191&(y=(y=y+Math.imul(R,qe)|0)+Math.imul(k,$e)|0))<<13)|0;A=((C=C+Math.imul(k,qe)|0)+(y>>>13)|0)+(ct>>>26)|0,ct&=67108863,v=Math.imul(he,fe),y=(y=Math.imul(he,ge))+Math.imul(pe,fe)|0,C=Math.imul(pe,ge),v=v+Math.imul(ce,ye)|0,y=(y=y+Math.imul(ce,Se)|0)+Math.imul(le,ye)|0,C=C+Math.imul(le,Se)|0,v=v+Math.imul(se,Ce)|0,y=(y=y+Math.imul(se,_e)|0)+Math.imul(oe,Ce)|0,C=C+Math.imul(oe,_e)|0,v=v+Math.imul(te,be)|0,y=(y=y+Math.imul(te,Ae)|0)+Math.imul(re,be)|0,C=C+Math.imul(re,Ae)|0,v=v+Math.imul(G,ke)|0,y=(y=y+Math.imul(G,Ne)|0)+Math.imul(J,ke)|0,C=C+Math.imul(J,Ne)|0,v=v+Math.imul(q,Ie)|0,y=(y=y+Math.imul(q,Oe)|0)+Math.imul(Y,Ie)|0,C=C+Math.imul(Y,Oe)|0,v=v+Math.imul(B,Le)|0,y=(y=y+Math.imul(B,Fe)|0)+Math.imul(V,Le)|0,C=C+Math.imul(V,Fe)|0,v=v+Math.imul(L,je)|0,y=(y=y+Math.imul(L,Be)|0)+Math.imul(U,je)|0,C=C+Math.imul(U,Be)|0,v=v+Math.imul(I,$e)|0,y=(y=y+Math.imul(I,qe)|0)+Math.imul(O,$e)|0,C=C+Math.imul(O,qe)|0;var dt=(A+(v=v+Math.imul(R,Ge)|0)|0)+((8191&(y=(y=y+Math.imul(R,Je)|0)+Math.imul(k,Ge)|0))<<13)|0;A=((C=C+Math.imul(k,Je)|0)+(y>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(he,ye),y=(y=Math.imul(he,Se))+Math.imul(pe,ye)|0,C=Math.imul(pe,Se),v=v+Math.imul(ce,Ce)|0,y=(y=y+Math.imul(ce,_e)|0)+Math.imul(le,Ce)|0,C=C+Math.imul(le,_e)|0,v=v+Math.imul(se,be)|0,y=(y=y+Math.imul(se,Ae)|0)+Math.imul(oe,be)|0,C=C+Math.imul(oe,Ae)|0,v=v+Math.imul(te,ke)|0,y=(y=y+Math.imul(te,Ne)|0)+Math.imul(re,ke)|0,C=C+Math.imul(re,Ne)|0,v=v+Math.imul(G,Ie)|0,y=(y=y+Math.imul(G,Oe)|0)+Math.imul(J,Ie)|0,C=C+Math.imul(J,Oe)|0,v=v+Math.imul(q,Le)|0,y=(y=y+Math.imul(q,Fe)|0)+Math.imul(Y,Le)|0,C=C+Math.imul(Y,Fe)|0,v=v+Math.imul(B,je)|0,y=(y=y+Math.imul(B,Be)|0)+Math.imul(V,je)|0,C=C+Math.imul(V,Be)|0,v=v+Math.imul(L,$e)|0,y=(y=y+Math.imul(L,qe)|0)+Math.imul(U,$e)|0,C=C+Math.imul(U,qe)|0;var ut=(A+(v=v+Math.imul(I,Ge)|0)|0)+((8191&(y=(y=y+Math.imul(I,Je)|0)+Math.imul(O,Ge)|0))<<13)|0;A=((C=C+Math.imul(O,Je)|0)+(y>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(he,Ce),y=(y=Math.imul(he,_e))+Math.imul(pe,Ce)|0,C=Math.imul(pe,_e),v=v+Math.imul(ce,be)|0,y=(y=y+Math.imul(ce,Ae)|0)+Math.imul(le,be)|0,C=C+Math.imul(le,Ae)|0,v=v+Math.imul(se,ke)|0,y=(y=y+Math.imul(se,Ne)|0)+Math.imul(oe,ke)|0,C=C+Math.imul(oe,Ne)|0,v=v+Math.imul(te,Ie)|0,y=(y=y+Math.imul(te,Oe)|0)+Math.imul(re,Ie)|0,C=C+Math.imul(re,Oe)|0,v=v+Math.imul(G,Le)|0,y=(y=y+Math.imul(G,Fe)|0)+Math.imul(J,Le)|0,C=C+Math.imul(J,Fe)|0,v=v+Math.imul(q,je)|0,y=(y=y+Math.imul(q,Be)|0)+Math.imul(Y,je)|0,C=C+Math.imul(Y,Be)|0,v=v+Math.imul(B,$e)|0,y=(y=y+Math.imul(B,qe)|0)+Math.imul(V,$e)|0,C=C+Math.imul(V,qe)|0;var ht=(A+(v=v+Math.imul(L,Ge)|0)|0)+((8191&(y=(y=y+Math.imul(L,Je)|0)+Math.imul(U,Ge)|0))<<13)|0;A=((C=C+Math.imul(U,Je)|0)+(y>>>13)|0)+(ht>>>26)|0,ht&=67108863,v=Math.imul(he,be),y=(y=Math.imul(he,Ae))+Math.imul(pe,be)|0,C=Math.imul(pe,Ae),v=v+Math.imul(ce,ke)|0,y=(y=y+Math.imul(ce,Ne)|0)+Math.imul(le,ke)|0,C=C+Math.imul(le,Ne)|0,v=v+Math.imul(se,Ie)|0,y=(y=y+Math.imul(se,Oe)|0)+Math.imul(oe,Ie)|0,C=C+Math.imul(oe,Oe)|0,v=v+Math.imul(te,Le)|0,y=(y=y+Math.imul(te,Fe)|0)+Math.imul(re,Le)|0,C=C+Math.imul(re,Fe)|0,v=v+Math.imul(G,je)|0,y=(y=y+Math.imul(G,Be)|0)+Math.imul(J,je)|0,C=C+Math.imul(J,Be)|0,v=v+Math.imul(q,$e)|0,y=(y=y+Math.imul(q,qe)|0)+Math.imul(Y,$e)|0,C=C+Math.imul(Y,qe)|0;var pt=(A+(v=v+Math.imul(B,Ge)|0)|0)+((8191&(y=(y=y+Math.imul(B,Je)|0)+Math.imul(V,Ge)|0))<<13)|0;A=((C=C+Math.imul(V,Je)|0)+(y>>>13)|0)+(pt>>>26)|0,pt&=67108863,v=Math.imul(he,ke),y=(y=Math.imul(he,Ne))+Math.imul(pe,ke)|0,C=Math.imul(pe,Ne),v=v+Math.imul(ce,Ie)|0,y=(y=y+Math.imul(ce,Oe)|0)+Math.imul(le,Ie)|0,C=C+Math.imul(le,Oe)|0,v=v+Math.imul(se,Le)|0,y=(y=y+Math.imul(se,Fe)|0)+Math.imul(oe,Le)|0,C=C+Math.imul(oe,Fe)|0,v=v+Math.imul(te,je)|0,y=(y=y+Math.imul(te,Be)|0)+Math.imul(re,je)|0,C=C+Math.imul(re,Be)|0,v=v+Math.imul(G,$e)|0,y=(y=y+Math.imul(G,qe)|0)+Math.imul(J,$e)|0,C=C+Math.imul(J,qe)|0;var mt=(A+(v=v+Math.imul(q,Ge)|0)|0)+((8191&(y=(y=y+Math.imul(q,Je)|0)+Math.imul(Y,Ge)|0))<<13)|0;A=((C=C+Math.imul(Y,Je)|0)+(y>>>13)|0)+(mt>>>26)|0,mt&=67108863,v=Math.imul(he,Ie),y=(y=Math.imul(he,Oe))+Math.imul(pe,Ie)|0,C=Math.imul(pe,Oe),v=v+Math.imul(ce,Le)|0,y=(y=y+Math.imul(ce,Fe)|0)+Math.imul(le,Le)|0,C=C+Math.imul(le,Fe)|0,v=v+Math.imul(se,je)|0,y=(y=y+Math.imul(se,Be)|0)+Math.imul(oe,je)|0,C=C+Math.imul(oe,Be)|0,v=v+Math.imul(te,$e)|0,y=(y=y+Math.imul(te,qe)|0)+Math.imul(re,$e)|0,C=C+Math.imul(re,qe)|0;var ft=(A+(v=v+Math.imul(G,Ge)|0)|0)+((8191&(y=(y=y+Math.imul(G,Je)|0)+Math.imul(J,Ge)|0))<<13)|0;A=((C=C+Math.imul(J,Je)|0)+(y>>>13)|0)+(ft>>>26)|0,ft&=67108863,v=Math.imul(he,Le),y=(y=Math.imul(he,Fe))+Math.imul(pe,Le)|0,C=Math.imul(pe,Fe),v=v+Math.imul(ce,je)|0,y=(y=y+Math.imul(ce,Be)|0)+Math.imul(le,je)|0,C=C+Math.imul(le,Be)|0,v=v+Math.imul(se,$e)|0,y=(y=y+Math.imul(se,qe)|0)+Math.imul(oe,$e)|0,C=C+Math.imul(oe,qe)|0;var yt=(A+(v=v+Math.imul(te,Ge)|0)|0)+((8191&(y=(y=y+Math.imul(te,Je)|0)+Math.imul(re,Ge)|0))<<13)|0;A=((C=C+Math.imul(re,Je)|0)+(y>>>13)|0)+(yt>>>26)|0,yt&=67108863,v=Math.imul(he,je),y=(y=Math.imul(he,Be))+Math.imul(pe,je)|0,C=Math.imul(pe,Be),v=v+Math.imul(ce,$e)|0,y=(y=y+Math.imul(ce,qe)|0)+Math.imul(le,$e)|0,C=C+Math.imul(le,qe)|0;var Ct=(A+(v=v+Math.imul(se,Ge)|0)|0)+((8191&(y=(y=y+Math.imul(se,Je)|0)+Math.imul(oe,Ge)|0))<<13)|0;A=((C=C+Math.imul(oe,Je)|0)+(y>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,v=Math.imul(he,$e),y=(y=Math.imul(he,qe))+Math.imul(pe,$e)|0,C=Math.imul(pe,qe);var _t=(A+(v=v+Math.imul(ce,Ge)|0)|0)+((8191&(y=(y=y+Math.imul(ce,Je)|0)+Math.imul(le,Ge)|0))<<13)|0;A=((C=C+Math.imul(le,Je)|0)+(y>>>13)|0)+(_t>>>26)|0,_t&=67108863;var Tt=(A+(v=Math.imul(he,Ge))|0)+((8191&(y=(y=Math.imul(he,Je))+Math.imul(pe,Ge)|0))<<13)|0;return A=((C=Math.imul(pe,Je))+(y>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,b[0]=Xe,b[1]=Ze,b[2]=et,b[3]=tt,b[4]=rt,b[5]=nt,b[6]=it,b[7]=ot,b[8]=ct,b[9]=dt,b[10]=ut,b[11]=ht,b[12]=pt,b[13]=mt,b[14]=ft,b[15]=yt,b[16]=Ct,b[17]=_t,b[18]=Tt,0!==A&&(b[19]=A,g.length++),g};function jumboMulTo(d,m,g){return(new FFTM).mulp(d,m,g)}function FFTM(d,m){this.x=d,this.y=m}Math.imul||(T=smallMulTo),BN.prototype.mulTo=function mulTo(d,m){var g,v=this.length+d.length;return g=10===this.length&&10===d.length?T(this,d,m):v<63?smallMulTo(this,d,m):v<1024?function bigMulTo(d,m,g){g.negative=m.negative^d.negative,g.length=d.length+m.length;for(var v=0,y=0,C=0;C<g.length-1;C++){var _=y;y=0;for(var T=67108863&v,b=Math.min(C,m.length-1),A=Math.max(0,C-d.length+1);A<=b;A++){var P=C-A,R=(0|d.words[P])*(0|m.words[A]),k=67108863&R;T=67108863&(k=k+T|0),y+=(_=(_=_+(R/67108864|0)|0)+(k>>>26)|0)>>>26,_&=67108863}g.words[C]=T,v=_,_=y}return 0!==v?g.words[C]=v:g.length--,g.strip()}(this,d,m):jumboMulTo(this,d,m),g},FFTM.prototype.makeRBT=function makeRBT(d){for(var m=new Array(d),g=BN.prototype._countBits(d)-1,v=0;v<d;v++)m[v]=this.revBin(v,g,d);return m},FFTM.prototype.revBin=function revBin(d,m,g){if(0===d||d===g-1)return d;for(var v=0,y=0;y<m;y++)v|=(1&d)<<m-y-1,d>>=1;return v},FFTM.prototype.permute=function permute(d,m,g,v,y,C){for(var _=0;_<C;_++)v[_]=m[d[_]],y[_]=g[d[_]]},FFTM.prototype.transform=function transform(d,m,g,v,y,C){this.permute(C,d,m,g,v,y);for(var _=1;_<y;_<<=1)for(var T=_<<1,b=Math.cos(2*Math.PI/T),A=Math.sin(2*Math.PI/T),P=0;P<y;P+=T)for(var R=b,k=A,M=0;M<_;M++){var I=g[P+M],O=v[P+M],x=g[P+M+_],L=v[P+M+_],U=R*x-k*L;L=R*L+k*x,x=U,g[P+M]=I+x,v[P+M]=O+L,g[P+M+_]=I-x,v[P+M+_]=O-L,M!==T&&(U=b*R-A*k,k=b*k+A*R,R=U)}},FFTM.prototype.guessLen13b=function guessLen13b(d,m){var g=1|Math.max(m,d),v=1&g,y=0;for(g=g/2|0;g;g>>>=1)y++;return 1<<y+1+v},FFTM.prototype.conjugate=function conjugate(d,m,g){if(!(g<=1))for(var v=0;v<g/2;v++){var y=d[v];d[v]=d[g-v-1],d[g-v-1]=y,y=m[v],m[v]=-m[g-v-1],m[g-v-1]=-y}},FFTM.prototype.normalize13b=function normalize13b(d,m){for(var g=0,v=0;v<m/2;v++){var y=8192*Math.round(d[2*v+1]/m)+Math.round(d[2*v]/m)+g;d[v]=67108863&y,g=y<67108864?0:y/67108864|0}return d},FFTM.prototype.convert13b=function convert13b(d,m,g,v){for(var y=0,C=0;C<m;C++)y+=0|d[C],g[2*C]=8191&y,y>>>=13,g[2*C+1]=8191&y,y>>>=13;for(C=2*m;C<v;++C)g[C]=0;assert(0===y),assert(0==(-8192&y))},FFTM.prototype.stub=function stub(d){for(var m=new Array(d),g=0;g<d;g++)m[g]=0;return m},FFTM.prototype.mulp=function mulp(d,m,g){var v=2*this.guessLen13b(d.length,m.length),y=this.makeRBT(v),C=this.stub(v),_=new Array(v),T=new Array(v),b=new Array(v),A=new Array(v),P=new Array(v),R=new Array(v),k=g.words;k.length=v,this.convert13b(d.words,d.length,_,v),this.convert13b(m.words,m.length,A,v),this.transform(_,C,T,b,v,y),this.transform(A,C,P,R,v,y);for(var M=0;M<v;M++){var I=T[M]*P[M]-b[M]*R[M];b[M]=T[M]*R[M]+b[M]*P[M],T[M]=I}return this.conjugate(T,b,v),this.transform(T,b,k,C,v,y),this.conjugate(k,C,v),this.normalize13b(k,v),g.negative=d.negative^m.negative,g.length=d.length+m.length,g.strip()},BN.prototype.mul=function mul(d){var m=new BN(null);return m.words=new Array(this.length+d.length),this.mulTo(d,m)},BN.prototype.mulf=function mulf(d){var m=new BN(null);return m.words=new Array(this.length+d.length),jumboMulTo(this,d,m)},BN.prototype.imul=function imul(d){return this.clone().mulTo(d,this)},BN.prototype.imuln=function imuln(d){assert("number"==typeof d),assert(d<67108864);for(var m=0,g=0;g<this.length;g++){var v=(0|this.words[g])*d,y=(67108863&v)+(67108863&m);m>>=26,m+=v/67108864|0,m+=y>>>26,this.words[g]=67108863&y}return 0!==m&&(this.words[g]=m,this.length++),this},BN.prototype.muln=function muln(d){return this.clone().imuln(d)},BN.prototype.sqr=function sqr(){return this.mul(this)},BN.prototype.isqr=function isqr(){return this.imul(this.clone())},BN.prototype.pow=function pow(d){var m=function toBitArray(d){for(var m=new Array(d.bitLength()),g=0;g<m.length;g++){var v=g/26|0,y=g%26;m[g]=(d.words[v]&1<<y)>>>y}return m}(d);if(0===m.length)return new BN(1);for(var g=this,v=0;v<m.length&&0===m[v];v++,g=g.sqr());if(++v<m.length)for(var y=g.sqr();v<m.length;v++,y=y.sqr())0!==m[v]&&(g=g.mul(y));return g},BN.prototype.iushln=function iushln(d){assert("number"==typeof d&&d>=0);var m,g=d%26,v=(d-g)/26,y=67108863>>>26-g<<26-g;if(0!==g){var C=0;for(m=0;m<this.length;m++){var _=this.words[m]&y,T=(0|this.words[m])-_<<g;this.words[m]=T|C,C=_>>>26-g}C&&(this.words[m]=C,this.length++)}if(0!==v){for(m=this.length-1;m>=0;m--)this.words[m+v]=this.words[m];for(m=0;m<v;m++)this.words[m]=0;this.length+=v}return this.strip()},BN.prototype.ishln=function ishln(d){return assert(0===this.negative),this.iushln(d)},BN.prototype.iushrn=function iushrn(d,m,g){var v;assert("number"==typeof d&&d>=0),v=m?(m-m%26)/26:0;var y=d%26,C=Math.min((d-y)/26,this.length),_=67108863^67108863>>>y<<y,T=g;if(v-=C,v=Math.max(0,v),T){for(var b=0;b<C;b++)T.words[b]=this.words[b];T.length=C}if(0===C);else if(this.length>C)for(this.length-=C,b=0;b<this.length;b++)this.words[b]=this.words[b+C];else this.words[0]=0,this.length=1;var A=0;for(b=this.length-1;b>=0&&(0!==A||b>=v);b--){var P=0|this.words[b];this.words[b]=A<<26-y|P>>>y,A=P&_}return T&&0!==A&&(T.words[T.length++]=A),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},BN.prototype.ishrn=function ishrn(d,m,g){return assert(0===this.negative),this.iushrn(d,m,g)},BN.prototype.shln=function shln(d){return this.clone().ishln(d)},BN.prototype.ushln=function ushln(d){return this.clone().iushln(d)},BN.prototype.shrn=function shrn(d){return this.clone().ishrn(d)},BN.prototype.ushrn=function ushrn(d){return this.clone().iushrn(d)},BN.prototype.testn=function testn(d){assert("number"==typeof d&&d>=0);var m=d%26,g=(d-m)/26,v=1<<m;return!(this.length<=g)&&!!(this.words[g]&v)},BN.prototype.imaskn=function imaskn(d){assert("number"==typeof d&&d>=0);var m=d%26,g=(d-m)/26;if(assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=g)return this;if(0!==m&&g++,this.length=Math.min(g,this.length),0!==m){var v=67108863^67108863>>>m<<m;this.words[this.length-1]&=v}return this.strip()},BN.prototype.maskn=function maskn(d){return this.clone().imaskn(d)},BN.prototype.iaddn=function iaddn(d){return assert("number"==typeof d),assert(d<67108864),d<0?this.isubn(-d):0!==this.negative?1===this.length&&(0|this.words[0])<d?(this.words[0]=d-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},BN.prototype._iaddn=function _iaddn(d){this.words[0]+=d;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},BN.prototype.isubn=function isubn(d){if(assert("number"==typeof d),assert(d<67108864),d<0)return this.iaddn(-d);if(0!==this.negative)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this.strip()},BN.prototype.addn=function addn(d){return this.clone().iaddn(d)},BN.prototype.subn=function subn(d){return this.clone().isubn(d)},BN.prototype.iabs=function iabs(){return this.negative=0,this},BN.prototype.abs=function abs(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function _ishlnsubmul(d,m,g){var v,y,C=d.length+g;this._expand(C);var _=0;for(v=0;v<d.length;v++){y=(0|this.words[v+g])+_;var T=(0|d.words[v])*m;_=((y-=67108863&T)>>26)-(T/67108864|0),this.words[v+g]=67108863&y}for(;v<this.length-g;v++)_=(y=(0|this.words[v+g])+_)>>26,this.words[v+g]=67108863&y;if(0===_)return this.strip();for(assert(-1===_),_=0,v=0;v<this.length;v++)_=(y=-(0|this.words[v])+_)>>26,this.words[v]=67108863&y;return this.negative=1,this.strip()},BN.prototype._wordDiv=function _wordDiv(d,m){var g=(this.length,d.length),v=this.clone(),y=d,C=0|y.words[y.length-1];0!==(g=26-this._countBits(C))&&(y=y.ushln(g),v.iushln(g),C=0|y.words[y.length-1]);var _,T=v.length-y.length;if("mod"!==m){(_=new BN(null)).length=T+1,_.words=new Array(_.length);for(var b=0;b<_.length;b++)_.words[b]=0}var A=v.clone()._ishlnsubmul(y,1,T);0===A.negative&&(v=A,_&&(_.words[T]=1));for(var P=T-1;P>=0;P--){var R=67108864*(0|v.words[y.length+P])+(0|v.words[y.length+P-1]);for(R=Math.min(R/C|0,67108863),v._ishlnsubmul(y,R,P);0!==v.negative;)R--,v.negative=0,v._ishlnsubmul(y,1,P),v.isZero()||(v.negative^=1);_&&(_.words[P]=R)}return _&&_.strip(),v.strip(),"div"!==m&&0!==g&&v.iushrn(g),{div:_||null,mod:v}},BN.prototype.divmod=function divmod(d,m,g){return assert(!d.isZero()),this.isZero()?{div:new BN(0),mod:new BN(0)}:0!==this.negative&&0===d.negative?(C=this.neg().divmod(d,m),"mod"!==m&&(v=C.div.neg()),"div"!==m&&(y=C.mod.neg(),g&&0!==y.negative&&y.iadd(d)),{div:v,mod:y}):0===this.negative&&0!==d.negative?(C=this.divmod(d.neg(),m),"mod"!==m&&(v=C.div.neg()),{div:v,mod:C.mod}):0!=(this.negative&d.negative)?(C=this.neg().divmod(d.neg(),m),"div"!==m&&(y=C.mod.neg(),g&&0!==y.negative&&y.isub(d)),{div:C.div,mod:y}):d.length>this.length||this.cmp(d)<0?{div:new BN(0),mod:this}:1===d.length?"div"===m?{div:this.divn(d.words[0]),mod:null}:"mod"===m?{div:null,mod:new BN(this.modn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new BN(this.modn(d.words[0]))}:this._wordDiv(d,m);var v,y,C},BN.prototype.div=function div(d){return this.divmod(d,"div",!1).div},BN.prototype.mod=function mod(d){return this.divmod(d,"mod",!1).mod},BN.prototype.umod=function umod(d){return this.divmod(d,"mod",!0).mod},BN.prototype.divRound=function divRound(d){var m=this.divmod(d);if(m.mod.isZero())return m.div;var g=0!==m.div.negative?m.mod.isub(d):m.mod,v=d.ushrn(1),y=d.andln(1),C=g.cmp(v);return C<0||1===y&&0===C?m.div:0!==m.div.negative?m.div.isubn(1):m.div.iaddn(1)},BN.prototype.modn=function modn(d){assert(d<=67108863);for(var m=(1<<26)%d,g=0,v=this.length-1;v>=0;v--)g=(m*g+(0|this.words[v]))%d;return g},BN.prototype.idivn=function idivn(d){assert(d<=67108863);for(var m=0,g=this.length-1;g>=0;g--){var v=(0|this.words[g])+67108864*m;this.words[g]=v/d|0,m=v%d}return this.strip()},BN.prototype.divn=function divn(d){return this.clone().idivn(d)},BN.prototype.egcd=function egcd(d){assert(0===d.negative),assert(!d.isZero());var m=this,g=d.clone();m=0!==m.negative?m.umod(d):m.clone();for(var v=new BN(1),y=new BN(0),C=new BN(0),_=new BN(1),T=0;m.isEven()&&g.isEven();)m.iushrn(1),g.iushrn(1),++T;for(var b=g.clone(),A=m.clone();!m.isZero();){for(var P=0,R=1;0==(m.words[0]&R)&&P<26;++P,R<<=1);if(P>0)for(m.iushrn(P);P-- >0;)(v.isOdd()||y.isOdd())&&(v.iadd(b),y.isub(A)),v.iushrn(1),y.iushrn(1);for(var k=0,M=1;0==(g.words[0]&M)&&k<26;++k,M<<=1);if(k>0)for(g.iushrn(k);k-- >0;)(C.isOdd()||_.isOdd())&&(C.iadd(b),_.isub(A)),C.iushrn(1),_.iushrn(1);m.cmp(g)>=0?(m.isub(g),v.isub(C),y.isub(_)):(g.isub(m),C.isub(v),_.isub(y))}return{a:C,b:_,gcd:g.iushln(T)}},BN.prototype._invmp=function _invmp(d){assert(0===d.negative),assert(!d.isZero());var m=this,g=d.clone();m=0!==m.negative?m.umod(d):m.clone();for(var v,y=new BN(1),C=new BN(0),_=g.clone();m.cmpn(1)>0&&g.cmpn(1)>0;){for(var T=0,b=1;0==(m.words[0]&b)&&T<26;++T,b<<=1);if(T>0)for(m.iushrn(T);T-- >0;)y.isOdd()&&y.iadd(_),y.iushrn(1);for(var A=0,P=1;0==(g.words[0]&P)&&A<26;++A,P<<=1);if(A>0)for(g.iushrn(A);A-- >0;)C.isOdd()&&C.iadd(_),C.iushrn(1);m.cmp(g)>=0?(m.isub(g),y.isub(C)):(g.isub(m),C.isub(y))}return(v=0===m.cmpn(1)?y:C).cmpn(0)<0&&v.iadd(d),v},BN.prototype.gcd=function gcd(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var m=this.clone(),g=d.clone();m.negative=0,g.negative=0;for(var v=0;m.isEven()&&g.isEven();v++)m.iushrn(1),g.iushrn(1);for(;;){for(;m.isEven();)m.iushrn(1);for(;g.isEven();)g.iushrn(1);var y=m.cmp(g);if(y<0){var C=m;m=g,g=C}else if(0===y||0===g.cmpn(1))break;m.isub(g)}return g.iushln(v)},BN.prototype.invm=function invm(d){return this.egcd(d).a.umod(d)},BN.prototype.isEven=function isEven(){return 0==(1&this.words[0])},BN.prototype.isOdd=function isOdd(){return 1==(1&this.words[0])},BN.prototype.andln=function andln(d){return this.words[0]&d},BN.prototype.bincn=function bincn(d){assert("number"==typeof d);var m=d%26,g=(d-m)/26,v=1<<m;if(this.length<=g)return this._expand(g+1),this.words[g]|=v,this;for(var y=v,C=g;0!==y&&C<this.length;C++){var _=0|this.words[C];y=(_+=y)>>>26,_&=67108863,this.words[C]=_}return 0!==y&&(this.words[C]=y,this.length++),this},BN.prototype.isZero=function isZero(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function cmpn(d){var m,g=d<0;if(0!==this.negative&&!g)return-1;if(0===this.negative&&g)return 1;if(this.strip(),this.length>1)m=1;else{g&&(d=-d),assert(d<=67108863,"Number is too big");var v=0|this.words[0];m=v===d?0:v<d?-1:1}return 0!==this.negative?0|-m:m},BN.prototype.cmp=function cmp(d){if(0!==this.negative&&0===d.negative)return-1;if(0===this.negative&&0!==d.negative)return 1;var m=this.ucmp(d);return 0!==this.negative?0|-m:m},BN.prototype.ucmp=function ucmp(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var m=0,g=this.length-1;g>=0;g--){var v=0|this.words[g],y=0|d.words[g];if(v!==y){v<y?m=-1:v>y&&(m=1);break}}return m},BN.prototype.gtn=function gtn(d){return 1===this.cmpn(d)},BN.prototype.gt=function gt(d){return 1===this.cmp(d)},BN.prototype.gten=function gten(d){return this.cmpn(d)>=0},BN.prototype.gte=function gte(d){return this.cmp(d)>=0},BN.prototype.ltn=function ltn(d){return-1===this.cmpn(d)},BN.prototype.lt=function lt(d){return-1===this.cmp(d)},BN.prototype.lten=function lten(d){return this.cmpn(d)<=0},BN.prototype.lte=function lte(d){return this.cmp(d)<=0},BN.prototype.eqn=function eqn(d){return 0===this.cmpn(d)},BN.prototype.eq=function eq(d){return 0===this.cmp(d)},BN.red=function red(d){return new Red(d)},BN.prototype.toRed=function toRed(d){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),d.convertTo(this)._forceRed(d)},BN.prototype.fromRed=function fromRed(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function _forceRed(d){return this.red=d,this},BN.prototype.forceRed=function forceRed(d){return assert(!this.red,"Already a number in reduction context"),this._forceRed(d)},BN.prototype.redAdd=function redAdd(d){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},BN.prototype.redIAdd=function redIAdd(d){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},BN.prototype.redSub=function redSub(d){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},BN.prototype.redISub=function redISub(d){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},BN.prototype.redShl=function redShl(d){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},BN.prototype.redMul=function redMul(d){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},BN.prototype.redIMul=function redIMul(d){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},BN.prototype.redSqr=function redSqr(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function redISqr(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function redSqrt(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function redInvm(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function redNeg(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function redPow(d){return assert(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var b={k256:null,p224:null,p192:null,p25519:null};function MPrime(d,m){this.name=d,this.p=new BN(m,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(d){if("string"==typeof d){var m=BN._prime(d);this.m=m.p,this.prime=m}else assert(d.gtn(1),"modulus must be greater than 1"),this.m=d,this.prime=null}function Mont(d){Red.call(this,d),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}MPrime.prototype._tmp=function _tmp(){var d=new BN(null);return d.words=new Array(Math.ceil(this.n/13)),d},MPrime.prototype.ireduce=function ireduce(d){var m,g=d;do{this.split(g,this.tmp),m=(g=(g=this.imulK(g)).iadd(this.tmp)).bitLength()}while(m>this.n);var v=m<this.n?-1:g.ucmp(this.p);return 0===v?(g.words[0]=0,g.length=1):v>0?g.isub(this.p):void 0!==g.strip?g.strip():g._strip(),g},MPrime.prototype.split=function split(d,m){d.iushrn(this.n,0,m)},MPrime.prototype.imulK=function imulK(d){return d.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function split(d,m){for(var g=4194303,v=Math.min(d.length,9),y=0;y<v;y++)m.words[y]=d.words[y];if(m.length=v,d.length<=9)return d.words[0]=0,void(d.length=1);var C=d.words[9];for(m.words[m.length++]=C&g,y=10;y<d.length;y++){var _=0|d.words[y];d.words[y-10]=(_&g)<<4|C>>>22,C=_}C>>>=22,d.words[y-10]=C,0===C&&d.length>10?d.length-=10:d.length-=9},K256.prototype.imulK=function imulK(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var m=0,g=0;g<d.length;g++){var v=0|d.words[g];m+=977*v,d.words[g]=67108863&m,m=64*v+(m/67108864|0)}return 0===d.words[d.length-1]&&(d.length--,0===d.words[d.length-1]&&d.length--),d},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function imulK(d){for(var m=0,g=0;g<d.length;g++){var v=19*(0|d.words[g])+m,y=67108863&v;v>>>=26,d.words[g]=y,m=v}return 0!==m&&(d.words[d.length++]=m),d},BN._prime=function prime(d){if(b[d])return b[d];var prime;if("k256"===d)prime=new K256;else if("p224"===d)prime=new P224;else if("p192"===d)prime=new P192;else{if("p25519"!==d)throw new Error("Unknown prime "+d);prime=new P25519}return b[d]=prime,prime},Red.prototype._verify1=function _verify1(d){assert(0===d.negative,"red works only with positives"),assert(d.red,"red works only with red numbers")},Red.prototype._verify2=function _verify2(d,m){assert(0==(d.negative|m.negative),"red works only with positives"),assert(d.red&&d.red===m.red,"red works only with red numbers")},Red.prototype.imod=function imod(d){return this.prime?this.prime.ireduce(d)._forceRed(this):d.umod(this.m)._forceRed(this)},Red.prototype.neg=function neg(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},Red.prototype.add=function add(d,m){this._verify2(d,m);var g=d.add(m);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},Red.prototype.iadd=function iadd(d,m){this._verify2(d,m);var g=d.iadd(m);return g.cmp(this.m)>=0&&g.isub(this.m),g},Red.prototype.sub=function sub(d,m){this._verify2(d,m);var g=d.sub(m);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},Red.prototype.isub=function isub(d,m){this._verify2(d,m);var g=d.isub(m);return g.cmpn(0)<0&&g.iadd(this.m),g},Red.prototype.shl=function shl(d,m){return this._verify1(d),this.imod(d.ushln(m))},Red.prototype.imul=function imul(d,m){return this._verify2(d,m),this.imod(d.imul(m))},Red.prototype.mul=function mul(d,m){return this._verify2(d,m),this.imod(d.mul(m))},Red.prototype.isqr=function isqr(d){return this.imul(d,d.clone())},Red.prototype.sqr=function sqr(d){return this.mul(d,d)},Red.prototype.sqrt=function sqrt(d){if(d.isZero())return d.clone();var m=this.m.andln(3);if(assert(m%2==1),3===m){var g=this.m.add(new BN(1)).iushrn(2);return this.pow(d,g)}for(var v=this.m.subn(1),y=0;!v.isZero()&&0===v.andln(1);)y++,v.iushrn(1);assert(!v.isZero());var C=new BN(1).toRed(this),_=C.redNeg(),T=this.m.subn(1).iushrn(1),b=this.m.bitLength();for(b=new BN(2*b*b).toRed(this);0!==this.pow(b,T).cmp(_);)b.redIAdd(_);for(var A=this.pow(b,v),P=this.pow(d,v.addn(1).iushrn(1)),R=this.pow(d,v),k=y;0!==R.cmp(C);){for(var M=R,I=0;0!==M.cmp(C);I++)M=M.redSqr();assert(I<k);var O=this.pow(A,new BN(1).iushln(k-I-1));P=P.redMul(O),A=O.redSqr(),R=R.redMul(A),k=I}return P},Red.prototype.invm=function invm(d){var m=d._invmp(this.m);return 0!==m.negative?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},Red.prototype.pow=function pow(d,m){if(m.isZero())return new BN(1).toRed(this);if(0===m.cmpn(1))return d.clone();var g=new Array(16);g[0]=new BN(1).toRed(this),g[1]=d;for(var v=2;v<g.length;v++)g[v]=this.mul(g[v-1],d);var y=g[0],C=0,_=0,T=m.bitLength()%26;for(0===T&&(T=26),v=m.length-1;v>=0;v--){for(var b=m.words[v],A=T-1;A>=0;A--){var P=b>>A&1;y!==g[0]&&(y=this.sqr(y)),0!==P||0!==C?(C<<=1,C|=P,(4===++_||0===v&&0===A)&&(y=this.mul(y,g[C]),_=0,C=0)):_=0}T=26}return y},Red.prototype.convertTo=function convertTo(d){var m=d.umod(this.m);return m===d?m.clone():m},Red.prototype.convertFrom=function convertFrom(d){var m=d.clone();return m.red=null,m},BN.mont=function mont(d){return new Mont(d)},inherits(Mont,Red),Mont.prototype.convertTo=function convertTo(d){return this.imod(d.ushln(this.shift))},Mont.prototype.convertFrom=function convertFrom(d){var m=this.imod(d.mul(this.rinv));return m.red=null,m},Mont.prototype.imul=function imul(d,m){if(d.isZero()||m.isZero())return d.words[0]=0,d.length=1,d;var g=d.imul(m),v=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=g.isub(v).iushrn(this.shift),C=y;return y.cmp(this.m)>=0?C=y.isub(this.m):y.cmpn(0)<0&&(C=y.iadd(this.m)),C._forceRed(this)},Mont.prototype.mul=function mul(d,m){if(d.isZero()||m.isZero())return new BN(0)._forceRed(this);var g=d.mul(m),v=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y=g.isub(v).iushrn(this.shift),C=y;return y.cmp(this.m)>=0?C=y.isub(this.m):y.cmpn(0)<0&&(C=y.iadd(this.m)),C._forceRed(this)},Mont.prototype.invm=function invm(d){return this.imod(d._invmp(this.m).mul(this.r2))._forceRed(this)}}(d=g.nmd(d),this)},402:(d,m,g)=>{var v=g(64114),y=g(82294);d.exports=function expandTop(d){if(!d)return[];"{}"===d.substr(0,2)&&(d="\\{\\}"+d.substr(2));return expand(function escapeBraces(d){return d.split("\\\\").join(C).split("\\{").join(_).split("\\}").join(T).split("\\,").join(b).split("\\.").join(A)}(d),!0).map(unescapeBraces)};var C="\0SLASH"+Math.random()+"\0",_="\0OPEN"+Math.random()+"\0",T="\0CLOSE"+Math.random()+"\0",b="\0COMMA"+Math.random()+"\0",A="\0PERIOD"+Math.random()+"\0";function numeric(d){return parseInt(d,10)==d?parseInt(d,10):d.charCodeAt(0)}function unescapeBraces(d){return d.split(C).join("\\").split(_).join("{").split(T).join("}").split(b).join(",").split(A).join(".")}function parseCommaParts(d){if(!d)return[""];var m=[],g=y("{","}",d);if(!g)return d.split(",");var v=g.pre,C=g.body,_=g.post,T=v.split(",");T[T.length-1]+="{"+C+"}";var b=parseCommaParts(_);return _.length&&(T[T.length-1]+=b.shift(),T.push.apply(T,b)),m.push.apply(m,T),m}function embrace(d){return"{"+d+"}"}function isPadded(d){return/^-?0\d/.test(d)}function lte(d,m){return d<=m}function gte(d,m){return d>=m}function expand(d,m){var g=[],C=y("{","}",d);if(!C||/\$$/.test(C.pre))return[d];var _,b=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(C.body),A=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(C.body),P=b||A,R=C.body.indexOf(",")>=0;if(!P&&!R)return C.post.match(/,.*\}/)?expand(d=C.pre+"{"+C.body+T+C.post):[d];if(P)_=C.body.split(/\.\./);else if(1===(_=parseCommaParts(C.body)).length&&1===(_=expand(_[0],!1).map(embrace)).length)return(I=C.post.length?expand(C.post,!1):[""]).map((function(d){return C.pre+_[0]+d}));var k,M=C.pre,I=C.post.length?expand(C.post,!1):[""];if(P){var O=numeric(_[0]),x=numeric(_[1]),L=Math.max(_[0].length,_[1].length),U=3==_.length?Math.abs(numeric(_[2])):1,j=lte;x<O&&(U*=-1,j=gte);var B=_.some(isPadded);k=[];for(var V=O;j(V,x);V+=U){var $;if(A)"\\"===($=String.fromCharCode(V))&&($="");else if($=String(V),B){var q=L-$.length;if(q>0){var Y=new Array(q+1).join("0");$=V<0?"-"+Y+$.slice(1):Y+$}}k.push($)}}else k=v(_,(function(d){return expand(d,!1)}));for(var z=0;z<k.length;z++)for(var G=0;G<I.length;G++){var J=M+k[z]+I[G];(!m||P||J)&&g.push(J)}return g}},37077:d=>{d.exports=function allocUnsafe(d){if("number"!=typeof d)throw new TypeError('"size" argument must be a number');if(d<0)throw new RangeError('"size" argument must not be negative');return Buffer.allocUnsafe?Buffer.allocUnsafe(d):new Buffer(d)}},93879:(d,m,g)=>{var v=g(65775),y=g(37077);d.exports=function alloc(d,m,g){if("number"!=typeof d)throw new TypeError('"size" argument must be a number');if(d<0)throw new RangeError('"size" argument must not be negative');if(Buffer.alloc)return Buffer.alloc(d,m,g);var C=y(d);return 0===d?C:void 0===m?v(C,0):("string"!=typeof g&&(g=void 0),v(C,m,g))}},99666:(d,m,g)=>{var v=g(14300).Buffer,y=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function ensureBuffer(d){if(v.isBuffer(d))return d;var m="function"==typeof v.alloc&&"function"==typeof v.from;if("number"==typeof d)return m?v.alloc(d):new v(d);if("string"==typeof d)return m?v.from(d):new v(d);throw new Error("input must be buffer, number, or string, received "+typeof d)}function bufferizeInt(d){var m=ensureBuffer(4);return m.writeInt32BE(d,0),m}function _crc32(d,m){d=ensureBuffer(d),v.isBuffer(m)&&(m=m.readUInt32BE(0));for(var g=-1^~~m,C=0;C<d.length;C++)g=y[255&(g^d[C])]^g>>>8;return-1^g}function crc32(){return bufferizeInt(_crc32.apply(null,arguments))}"undefined"!=typeof Int32Array&&(y=new Int32Array(y)),crc32.signed=function(){return _crc32.apply(null,arguments)},crc32.unsigned=function(){return _crc32.apply(null,arguments)>>>0},d.exports=crc32},65775:d=>{var m=function(){try{if(!Buffer.isEncoding("latin1"))return!1;var d=Buffer.alloc?Buffer.alloc(4):new Buffer(4);return d.fill("ab","ucs2"),"61006200"===d.toString("hex")}catch(d){return!1}}();function fillWithNumber(d,m,g,v){if(g<0||v>d.length)throw new RangeError("Out of range index");return g>>>=0,(v=void 0===v?d.length:v>>>0)>g&&d.fill(m,g,v),d}d.exports=function fill(d,g,v,y,C){if(m)return d.fill(g,v,y,C);if("number"==typeof g)return fillWithNumber(d,g,v,y);if("string"==typeof g){if("string"==typeof v?(C=v,v=0,y=d.length):"string"==typeof y&&(C=y,y=d.length),void 0!==C&&"string"!=typeof C)throw new TypeError("encoding must be a string");if("latin1"===C&&(C="binary"),"string"==typeof C&&!Buffer.isEncoding(C))throw new TypeError("Unknown encoding: "+C);if(""===g)return fillWithNumber(d,0,v,y);if(function isSingleByte(d){return 1===d.length&&d.charCodeAt(0)<256}(g))return fillWithNumber(d,g.charCodeAt(0),v,y);g=new Buffer(g,C)}return Buffer.isBuffer(g)?function fillWithBuffer(d,m,g,v){if(g<0||v>d.length)throw new RangeError("Out of range index");if(v<=g)return d;g>>>=0,v=void 0===v?d.length:v>>>0;for(var y=g,C=m.length;y<=v-C;)m.copy(d,y),y+=C;return y!==v&&m.copy(d,y,0,v-y),d}(d,g,v,y):fillWithNumber(d,0,v,y)}},30314:d=>{var m=Object.prototype.toString,g="function"==typeof Buffer.alloc&&"function"==typeof Buffer.allocUnsafe&&"function"==typeof Buffer.from;d.exports=function bufferFrom(d,v,y){if("number"==typeof d)throw new TypeError('"value" argument must not be a number');return function isArrayBuffer(d){return"ArrayBuffer"===m.call(d).slice(8,-1)}(d)?function fromArrayBuffer(d,m,v){m>>>=0;var y=d.byteLength-m;if(y<0)throw new RangeError("'offset' is out of bounds");if(void 0===v)v=y;else if((v>>>=0)>y)throw new RangeError("'length' is out of bounds");return g?Buffer.from(d.slice(m,m+v)):new Buffer(new Uint8Array(d.slice(m,m+v)))}(d,v,y):"string"==typeof d?function fromString(d,m){if("string"==typeof m&&""!==m||(m="utf8"),!Buffer.isEncoding(m))throw new TypeError('"encoding" must be a valid string encoding');return g?Buffer.from(d,m):new Buffer(d,m)}(d,v):g?Buffer.from(d):new Buffer(d)}},2765:d=>{"use strict";d.exports={mask:(d,m,g,v,y)=>{for(var C=0;C<y;C++)g[v+C]=d[C]^m[3&C]},unmask:(d,m)=>{const g=d.length;for(var v=0;v<g;v++)d[v]^=m[3&v]}}},14015:(d,m,g)=>{"use strict";try{d.exports=g(89038)(__dirname)}catch(m){d.exports=g(2765)}},44210:(d,m,g)=>{"use strict";const v=g(3987);v.from=(d,m)=>{if(d instanceof DataView)return d;if(d instanceof ArrayBuffer)return new DataView(d);let g;if("string"==typeof d){if(m){if("base64"===m)return g=Uint8Array.from(atob(d),(d=>d.charCodeAt(0))).buffer,new DataView(g)}else m="utf-8";if("utf-8"!==m)throw new Error("Browser support for encodings other than utf-8 not implemented");return new DataView((new TextEncoder).encode(d).buffer)}if("object"==typeof d&&ArrayBuffer.isView(d))return d.byteLength===d.buffer.byteLength?new DataView(d.buffer):new DataView(d.buffer,d.byteOffset,d.byteLength);throw new Error("Unkown type. Cannot convert to ArrayBuffer")},v.toString=(d,m)=>{d=v(d,m);const g=new Uint8Array(d.buffer,d.byteOffset,d.byteLength),y=String.fromCharCode(...g);return"base64"===m?btoa(y):y},v.native=(d,m)=>d instanceof Uint8Array?d:(d=v.from(d,m),new Uint8Array(d.buffer,d.byteOffset,d.byteLength)),process.browser&&(v._randomFill=(...d)=>crypto.getRandomValues(...d)),d.exports=v},3987:d=>{"use strict";const bytes=(d,m)=>bytes.from(d,m);bytes.sorter=(d,m)=>{const g=((d,m)=>d.byteLength===m.byteLength||d.byteLength>m.byteLength?d.byteLength:m.byteLength)(d=bytes(d),m=bytes(m));let v=0;for(;v<g-1;){if(v>=d.byteLength)return 1;if(v>=m.byteLength)return-1;if(d.getUint8(v)<m.getUint8(v))return-1;if(d.getUint8(v)>m.getUint8(v))return 1;v++}return 0},bytes.compare=(d,m)=>!bytes.sorter(d,m),bytes.memcopy=(d,m)=>{const g=bytes(d,m);return g.buffer.slice(g.byteOffset,g.byteOffset+g.byteLength)},bytes.arrayBuffer=(d,m)=>(d=bytes(d,m)).buffer.byteLength===d.byteLength?d.buffer:d.buffer.slice(d.byteOffset,d.byteOffset+d.byteLength);const sliceOptions=(d,m=0,g=null)=>(d=bytes(d),g=(null===g?d.byteLength:g)-m,[d.buffer,d.byteOffset+m,g]);bytes.slice=(d,m,g)=>new DataView(...sliceOptions(d,m,g)),bytes.memcopySlice=(d,m,g)=>{const[v,y,C]=sliceOptions(d,m,g);return v.slice(y,C+y)},bytes.typedArray=(d,m=Uint8Array)=>new m((d=bytes(d)).buffer,d.byteOffset,d.byteLength/m.BYTES_PER_ELEMENT),bytes.concat=d=>{const m=(d=(d=Array.from(d)).map((d=>bytes(d)))).reduce(((d,m)=>d+m.byteLength),0),g=new Uint8Array(m);let v=0;for(const m of d){const d=bytes.typedArray(m);g.set(d,v),v+=d.byteLength}return g.buffer};const m=65536;bytes.random=d=>{const g=new ArrayBuffer(d);if(d>m){let d=0;for(;d<g.byteLength;){let v;v=d+m>g.byteLength?g.byteLength-d:m;const y=new Uint8Array(g,d,v);d+=m,bytes._randomFill(y)}}else{const d=new Uint8Array(g);bytes._randomFill(d)}return g},d.exports=bytes},71139:(d,m,g)=>{"use strict";const v=g(6113),y=g(44210).from,C=g(3987);C.from=(d,m)=>d instanceof DataView?d:d instanceof ArrayBuffer?new DataView(d):("string"==typeof d&&(d=Buffer.from(d,m)),Buffer.isBuffer(d)?new DataView(d.buffer,d.byteOffset,d.byteLength):y(d,m)),C.toString=(d,m)=>(d=C(d),Buffer.from(d.buffer,d.byteOffset,d.byteLength).toString(m)),C.native=(d,m)=>Buffer.isBuffer(d)?d:(d=C(d,m),Buffer.from(d.buffer,d.byteOffset,d.byteLength)),C._randomFill=v.randomFillSync,d.exports=C},65433:function(d,m){"use strict";var g,v=this&&this.__extends||(g=function(d,m){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var g in m)m.hasOwnProperty(g)&&(d[g]=m[g])},g(d,m)},function(d,m){function __(){this.constructor=d}g(d,m),d.prototype=null===m?Object.create(m):(__.prototype=m.prototype,new __)});Object.defineProperty(m,"__esModule",{value:!0});var NOOP=function(){},y=function(){function CancellationToken(d,m){this._isCancelled=d,this.canBeCancelled=m,this._callbacks=new Set}return Object.defineProperty(CancellationToken.prototype,"isCancelled",{get:function(){return this._isCancelled},enumerable:!0,configurable:!0}),Object.defineProperty(CancellationToken.prototype,"reason",{get:function(){if(this.isCancelled)return this._reason;throw new Error("This token is not cancelled.")},enumerable:!0,configurable:!0}),CancellationToken.prototype.racePromise=function(d){var m=this;return this.canBeCancelled?new Promise((function(g,v){var y=m.onCancelled((function(d){return v(new CancellationToken.CancellationError(d))}));d.then((function(d){g(d),y()}),(function(d){v(d),y()}))})):d},CancellationToken.prototype.throwIfCancelled=function(){if(this._isCancelled)throw new CancellationToken.CancellationError(this._reason)},CancellationToken.prototype.onCancelled=function(d){var m=this;return this.canBeCancelled?this.isCancelled?(d(this.reason),NOOP):(this._callbacks.add(d),function(){return m._callbacks&&m._callbacks.delete(d)}):NOOP},CancellationToken.create=function(){var d=new CancellationToken(!1,!0);return{token:d,cancel:function(m){d._isCancelled||(d._isCancelled=!0,d._reason=m,d._callbacks.forEach((function(d){return d(m)})),delete d._callbacks)}}},CancellationToken.timeout=function(d){var m=CancellationToken.create(),g=m.token,v=m.cancel,y=setTimeout((function(){return v(CancellationToken.timeout)}),d);return{token:g,cancel:function(d){g._isCancelled||(clearTimeout(y),v(d))}}},CancellationToken.all=function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];if(d.some((function(d){return!d.canBeCancelled})))return CancellationToken.CONTINUE;var g=CancellationToken.create(),v=d.length,handleNextTokenCancelled=function(){if(0==--v){var m=d.map((function(d){return d._reason}));g.cancel(m)}};return d.forEach((function(d){return d.onCancelled(handleNextTokenCancelled)})),g.token},CancellationToken.race=function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];for(var g=0,v=d;g<v.length;g++){var y=v[g];if(y._isCancelled)return y}var C,_=CancellationToken.create(),handleAnyTokenCancelled=function(d){C.forEach((function(d){return d()})),_.cancel(d)};return C=d.map((function(d){return d.onCancelled(handleAnyTokenCancelled)})),_.token},CancellationToken.CANCELLED=new CancellationToken(!0,!0),CancellationToken.CONTINUE=new CancellationToken(!1,!1),CancellationToken}();!function(d){var m=function(d){function CancellationError(m){var g=d.call(this,"Operation cancelled")||this;return g.reason=m,Object.setPrototypeOf(g,CancellationError.prototype),g}return v(CancellationError,d),CancellationError}(Error);d.CancellationError=m}(y||(y={})),m.default=y},23771:(d,m,g)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var v=g(65433);m.default=v.default},1277:d=>{function Caseless(d){this.dict=d||{}}Caseless.prototype.set=function(d,m,g){if("object"!=typeof d){void 0===g&&(g=!0);var v=this.has(d);return!g&&v?this.dict[v]=this.dict[v]+","+m:this.dict[v||d]=m,v}for(var y in d)this.set(y,d[y],m)},Caseless.prototype.has=function(d){for(var m=Object.keys(this.dict),g=(d=d.toLowerCase(),0);g<m.length;g++)if(m[g].toLowerCase()===d)return m[g];return!1},Caseless.prototype.get=function(d){var m,g;d=d.toLowerCase();var v=this.dict;return Object.keys(v).forEach((function(y){g=y.toLowerCase(),d===g&&(m=v[y])})),m},Caseless.prototype.swap=function(d){var m=this.has(d);if(m!==d){if(!m)throw new Error('There is no header than matches "'+d+'"');this.dict[d]=this.dict[m],delete this.dict[m]}},Caseless.prototype.del=function(d){var m=this.has(d);return delete this.dict[m||d]},d.exports=function(d){return new Caseless(d)},d.exports.httpify=function(d,m){var g=new Caseless(m);return d.setHeader=function(d,m,v){if(void 0!==m)return g.set(d,m,v)},d.hasHeader=function(d){return g.has(d)},d.getHeader=function(d){return g.get(d)},d.removeHeader=function(d){return g.del(d)},d.headers=g.dict,g}},86566:d=>{"use strict";var m;d.exports=(m=()=>{},d=>(d.catch(m),d))},27747:d=>{
/*!
Copyright (C) 2013-2017 by Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
var m="~",g="\\x"+("0"+m.charCodeAt(0).toString(16)).slice(-2),v="\\"+g,y=new RegExp(g,"g"),C=new RegExp(v,"g"),_=new RegExp("(?:^|([^\\\\]))"+v),T=[].indexOf||function(d){for(var m=this.length;m--&&this[m]!==d;);return m},b=String;function regenerate(d,g,v){return g instanceof Array?function regenerateArray(d,m,g){for(var v=0,y=m.length;v<y;v++)m[v]=regenerate(d,m[v],g);return m}(d,g,v):g instanceof b?g.length?v.hasOwnProperty(g)?v[g]:v[g]=function retrieveFromPath(d,g){for(var v=0,y=g.length;v<y;d=d[g[v++].replace(C,m)]);return d}(d,g.split(m)):d:g instanceof Object?function regenerateObject(d,m,g){for(var v in m)m.hasOwnProperty(v)&&(m[v]=regenerate(d,m[v],g));return m}(d,g,v):g}var A={stringify:function stringify(d,C,_,b){return A.parser.stringify(d,function generateReplacer(d,C,_){var b,A,P=!1,R=!!C,k=[],M=[d],I=[d],O=[_?m:"[Circular]"],x=d,L=1;return R&&(A="object"==typeof C?function(d,m){return""!==d&&C.indexOf(d)<0?void 0:m}:C),function(d,C){return R&&(C=A.call(this,d,C)),P?(x!==this&&(b=L-T.call(M,this)-1,L-=b,M.splice(L,M.length),k.splice(L-1,k.length),x=this),"object"==typeof C&&C?(T.call(M,C)<0&&M.push(x=C),L=M.length,(b=T.call(I,C))<0?(b=I.push(C)-1,_?(k.push((""+d).replace(y,g)),O[b]=m+k.join(m)):O[b]=O[0]):C=O[b]):"string"==typeof C&&_&&(C=C.replace(g,v).replace(m,g))):P=!0,C}}(d,C,!b),_)},parse:function parse(d,y){return A.parser.parse(d,function generateReviver(d){return function(y,C){var T="string"==typeof C;return T&&C.charAt(0)===m?new b(C.slice(1)):(""===y&&(C=regenerate(C,C,{})),T&&(C=C.replace(_,"$1~").replace(v,g)),d?d.call(this,y,C):C)}}(y))},parser:JSON};d.exports=A},84663:(d,m,g)=>{"use strict";const v=g(7516),y=g(91850),C=g(77999),_=g(22458);function platform(){switch(process.platform){case"darwin":return C;case"win32":return _;case"android":if("/data/data/com.termux/files/usr"!==process.env.PREFIX)throw new Error("You need to install Termux for this module to work on Android: https://termux.com");return v;default:return y}}m.write=d=>"string"!=typeof d?Promise.reject(new TypeError("Expected a string, got "+typeof d)):platform().copy({input:d}).then((()=>{})),m.read=()=>platform().paste({stripEof:!1}),m.writeSync=d=>{if("string"!=typeof d)throw new TypeError("Expected a string, got "+typeof d);platform().copySync({input:d})},m.readSync=()=>platform().pasteSync({stripEof:!1}).stdout},91850:(d,m,g)=>{"use strict";const v=g(71017),y=g(21188),handler=d=>{if("ENOENT"===d.code)throw new Error("Couldn't find the required `xsel` binary. On Debian/Ubuntu you can install it with: sudo apt install xsel");throw d},C=v.join(__dirname,"../fallbacks/linux/xsel");d.exports={copy:d=>y(C,["--clipboard","--input"],d).catch((()=>y("xsel",["--clipboard","--input"],d))).catch(handler),paste:d=>y.stdout(C,["--clipboard","--output"],d).catch((()=>y.stdout("xsel",["--clipboard","--output"],d))).catch(handler),copySync:d=>{try{return y.sync(C,["--clipboard","--input"],d)}catch(m){try{return y.sync("xsel",["--clipboard","--input"],d)}catch(d){handler(d)}}},pasteSync:d=>{try{return y.sync(C,["--clipboard","--output"],d)}catch(m){try{return y.sync("xsel",["--clipboard","--output"],d)}catch(d){handler(d)}}}}},77999:(d,m,g)=>{"use strict";const v=g(21188),y=Object.assign({},process.env,{LC_CTYPE:"UTF-8"});d.exports={copy:d=>v("pbcopy",Object.assign({},d,{env:y})),paste:d=>v.stdout("pbpaste",Object.assign({},d,{env:y})),copySync:d=>v.sync("pbcopy",Object.assign({},d,{env:y})),pasteSync:d=>v.sync("pbpaste",Object.assign({},d,{env:y}))}},7516:(d,m,g)=>{"use strict";const v=g(21188),handler=d=>{if("ENOENT"===d.code)throw new Error("Couldn't find the termux-api scripts. You can install them with: apt install termux-api");throw d};d.exports={copy:d=>v("termux-clipboard-set",d).catch(handler),paste:d=>v.stdout("termux-clipboard-get",d).catch(handler),copySync:d=>{try{return v.sync("termux-clipboard-set",d)}catch(d){handler(d)}},pasteSync:d=>{try{return v.sync("termux-clipboard-get",d)}catch(d){handler(d)}}}},22458:(d,m,g)=>{"use strict";const v=g(71017),y=g(21188),C="x64"===g(15040)()?v.join(__dirname,"../fallbacks/windows/clipboard_x86_64.exe"):v.join(__dirname,"../fallbacks/windows/clipboard_i686.exe");d.exports={copy:d=>y(C,["--copy"],d),paste:d=>y.stdout(C,["--paste"],d),copySync:d=>y.sync(C,["--copy"],d),pasteSync:d=>y.sync(C,["--paste"],d)}},27436:(d,m,g)=>{"use strict";var v=g(32081),y=g(67730),C=g(78541),_=v.spawnSync;function spawn(d,m,g){var _,T;return _=y(d,m,g),T=v.spawn(_.command,_.args,_.options),C.hookChildProcess(T,_),T}d.exports=spawn,d.exports.spawn=spawn,d.exports.sync=function spawnSync(d,m,v){var T,b;if(!_)try{_=g(Object(function webpackMissingModule(){var d=new Error("Cannot find module 'spawn-sync'");throw d.code="MODULE_NOT_FOUND",d}()))}catch(d){throw new Error("In order to use spawnSync on node 0.10 or older, you must install spawn-sync:\n\n  npm install spawn-sync --save")}return T=y(d,m,v),(b=_(T.command,T.args,T.options)).error=b.error||C.verifyENOENTSync(b.status,T),b},d.exports._parse=y,d.exports._enoent=C},78541:(d,m,g)=>{"use strict";var v="win32"===process.platform,y=g(87443),C=0===process.version.indexOf("v0.10.");function notFoundError(d,m){var g;return(g=new Error(m+" "+d+" ENOENT")).code=g.errno="ENOENT",g.syscall=m+" "+d,g}function verifyENOENT(d,m){return v&&1===d&&!m.file?notFoundError(m.original,"spawn"):null}d.exports.hookChildProcess=function hookChildProcess(d,m){var g;v&&(g=d.emit,d.emit=function(v,y){var C;return"exit"===v&&(C=verifyENOENT(y,m))?g.call(d,"error",C):g.apply(d,arguments)})},d.exports.verifyENOENT=verifyENOENT,d.exports.verifyENOENTSync=function verifyENOENTSync(d,m){return v&&1===d&&!m.file||C&&-1===d&&(m.file=v?m.file:y(m.original),!m.file)?notFoundError(m.original,"spawnSync"):null},d.exports.notFoundError=notFoundError},67730:(d,m,g)=>{"use strict";var v=g(87443),y=g(52899),C=g(31860),_=g(44190),T=g(68308),b="win32"===process.platform,A=/\.(?:com|exe)$/i,P=parseInt(process.version.substr(1).split(".")[0],10)>=6||4===parseInt(process.version.substr(1).split(".")[0],10)&&parseInt(process.version.substr(1).split(".")[1],10)>=8;d.exports=function parse(d,m,g){var R;return m&&!Array.isArray(m)&&(g=m,m=null),R={command:d,args:m=m?m.slice(0):[],options:g=g||{},file:void 0,original:d},g.shell?function parseShell(d){var m;return P||(m=[d.command].concat(d.args).join(" "),b?(d.command="string"==typeof d.options.shell?d.options.shell:process.env.comspec||"cmd.exe",d.args=["/d","/s","/c",'"'+m+'"'],d.options.windowsVerbatimArguments=!0):("string"==typeof d.options.shell?d.command=d.options.shell:"android"===process.platform?d.command="/system/bin/sh":d.command="/bin/sh",d.args=["-c",m])),d}(R):function parseNonShell(d){var m,g,P;return b?(d.file=v(d.command),d.file=d.file||v(d.command,!0),(m=d.file&&T(d.file))?(d.args.unshift(d.file),d.command=m,g=y||!A.test(v(m)||v(m,!0))):g=y||!A.test(d.file),g&&(P="echo"!==d.command,d.command=_(d.command),d.args=d.args.map((function(d){return C(d,P)})),d.args=["/d","/s","/c",'"'+d.command+(d.args.length?" "+d.args.join(" "):"")+'"'],d.command=process.env.comspec||"cmd.exe",d.options.windowsVerbatimArguments=!0),d):d}(R)}},31860:d=>{"use strict";d.exports=function escapeArgument(d,m){return d=""+d,d=m?'"'+(d=(d=d.replace(/(\\*)"/g,'$1$1\\"')).replace(/(\\*)$/,"$1$1"))+'"':d.replace(/([()%!^<>&|;,"'\s])/g,"^$1")}},44190:(d,m,g)=>{"use strict";var v=g(31860);d.exports=function escapeCommand(d){return/^[a-z0-9_-]+$/i.test(d)?d:v(d,!0)}},52899:d=>{"use strict";d.exports=function hasEmptyArgumentBug(){var d;return"win32"===process.platform&&(0===(d=process.version.substr(1).split(".").map((function(d){return parseInt(d,10)})))[0]&&d[1]<12)}()},68308:(d,m,g)=>{"use strict";var v=g(57147),y=g(20692),C=g(14256),_=new y({max:50,maxAge:3e4});d.exports=function readShebang(d){var m,g,y;if(_.has(d))return _.get(d);m=new Buffer(150);try{g=v.openSync(d,"r"),v.readSync(g,m,0,150,0),v.closeSync(g)}catch(d){}return y=C(m.toString()),_.set(d,y),y}},87443:(d,m,g)=>{"use strict";var v=g(71017),y=g(95592),C=new(g(20692))({max:50,maxAge:3e4});d.exports=function resolveCommand(d,m){var g;if(m=!!m,g=C.get(d+"!"+m),C.has(d))return C.get(d);try{g=m?y.sync(d,{pathExt:v.delimiter+(process.env.PATHEXT||"")}):y.sync(d)}catch(d){}return C.set(d+"!"+m,g),g}},21188:(d,m,g)=>{"use strict";const v=g(32081),y=g(73837),C=g(27436),_=g(4998),T=g(9002),b=g(27145),A=g(5597),P=g(47866),R=g(90260),k=g(30924),M=g(56421);function handleArgs(d,m,g){let v;return(g=Object.assign({extendEnv:!0,env:{}},g)).extendEnv&&(g.env=Object.assign({},process.env,g.env)),!0===g.__winShell?(delete g.__winShell,v={command:d,args:m,options:g,file:d,original:d}):v=C._parse(d,m,g),(g=Object.assign({maxBuffer:1e7,stripEof:!0,preferLocal:!0,localDir:v.options.cwd||process.cwd(),encoding:"utf8",reject:!0,cleanup:!0},v.options)).stdio=M(g),g.preferLocal&&(g.env=T.env(Object.assign({},g,{cwd:g.localDir}))),{cmd:v.command,args:v.args,opts:g,parsed:v}}function handleOutput(d,m){return m&&d.stripEof&&(m=_(m)),m}function handleShell(d,m,g){let v="/bin/sh",y=["-c",m];return g=Object.assign({},g),"win32"===process.platform&&(g.__winShell=!0,v=process.env.comspec||"cmd.exe",y=["/s","/c",`"${m}"`],g.windowsVerbatimArguments=!0),g.shell&&(v=g.shell,delete g.shell),d(v,y,g)}function getStream(d,m,g,v){if(!d[m])return null;let y;return y=g?A(d[m],{encoding:g,maxBuffer:v}):A.buffer(d[m],{maxBuffer:v}),y.catch((d=>{throw d.stream=m,d.message=`${m} ${d.message}`,d}))}d.exports=(d,m,g)=>{let y=d;Array.isArray(m)&&m.length>0&&(y+=" "+m.join(" "));const _=handleArgs(d,m,g),T=_.opts.encoding,A=_.opts.maxBuffer;let M,I;try{M=v.spawn(_.cmd,_.args,_.opts)}catch(d){return Promise.reject(d)}_.opts.cleanup&&(I=R((()=>{M.kill()})));let O=null,x=!1;const cleanupTimeout=()=>{O&&(clearTimeout(O),O=null)};_.opts.timeout>0&&(O=setTimeout((()=>{O=null,x=!0,M.kill(_.opts.killSignal)}),_.opts.timeout));const L=new Promise((d=>{M.on("exit",((m,g)=>{cleanupTimeout(),d({code:m,signal:g})})),M.on("error",(m=>{cleanupTimeout(),d({err:m})})),M.stdin&&M.stdin.on("error",(m=>{cleanupTimeout(),d({err:m})}))}));function destroy(){M.stdout&&M.stdout.destroy(),M.stderr&&M.stderr.destroy()}const handlePromise=()=>P(Promise.all([L,getStream(M,"stdout",T,A),getStream(M,"stderr",T,A)]).then((d=>{const m=d[0],g=d[1],v=d[2];let C=m.err;const T=m.code,b=m.signal;if(I&&I(),C||0!==T||null!==b){if(!C){let d="";Array.isArray(_.opts.stdio)?("inherit"!==_.opts.stdio[2]&&(d+=d.length>0?v:`\n${v}`),"inherit"!==_.opts.stdio[1]&&(d+=`\n${g}`)):"inherit"!==_.opts.stdio&&(d=`\n${v}${g}`),C=new Error(`Command failed: ${y}${d}`),C.code=T<0?k(T):T}if(C.killed=C.killed||M.killed,C.stdout=g,C.stderr=v,C.failed=!0,C.signal=b||null,C.cmd=y,C.timedOut=x,!_.opts.reject)return C;throw C}return{stdout:handleOutput(_.opts,g),stderr:handleOutput(_.opts,v),code:0,failed:!1,killed:!1,signal:null,cmd:y,timedOut:!1}})),destroy);return C._enoent.hookChildProcess(M,_.parsed),function handleInput(d,m){const g=m.input;null!=g&&(b(g)?g.pipe(d.stdin):d.stdin.end(g))}(M,_.opts),M.then=(d,m)=>handlePromise().then(d,m),M.catch=d=>handlePromise().catch(d),M},d.exports.stdout=function(){return d.exports.apply(null,arguments).then((d=>d.stdout))},d.exports.stderr=function(){return d.exports.apply(null,arguments).then((d=>d.stderr))},d.exports.shell=(m,g)=>handleShell(d.exports,m,g),d.exports.sync=(d,m,g)=>{const y=handleArgs(d,m,g);if(b(y.opts.input))throw new TypeError("The `input` option cannot be a stream in sync mode");const C=v.spawnSync(y.cmd,y.args,y.opts);if(C.error||0!==C.status)throw C.error||new Error(""===C.stderr?C.stdout:C.stderr);return C.stdout=handleOutput(y.opts,C.stdout),C.stderr=handleOutput(y.opts,C.stderr),C},d.exports.shellSync=(m,g)=>handleShell(d.exports.sync,m,g),d.exports.spawn=y.deprecate(d.exports,"execa.spawn() is deprecated. Use execa() instead.")},30924:d=>{"use strict";let m;try{if(m=process.binding("uv"),"function"!=typeof m.errname)throw new TypeError("uv.errname is not a function")}catch(d){console.error("execa/lib/errname: unable to establish process.binding('uv')",d),m=null}function errname(d,m){if(d)return d.errname(m);if(!(m<0))throw new Error("err >= 0");return`Unknown system error ${m}`}d.exports=d=>errname(m,d),d.exports.__test__=errname},56421:d=>{"use strict";const m=["stdin","stdout","stderr"];d.exports=d=>{if(!d)return null;if(d.stdio&&(d=>m.some((m=>Boolean(d[m]))))(d))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${m.map((d=>`\`${d}\``)).join(", ")}`);if("string"==typeof d.stdio)return d.stdio;const g=d.stdio||[];if(!Array.isArray(g))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof g}\``);const v=[],y=Math.max(g.length,m.length);for(let C=0;C<y;C++){let y=null;void 0!==g[C]?y=g[C]:void 0!==d[m[C]]&&(y=d[m[C]]),v[C]=y}return v}},80507:(d,m,g)=>{"use strict";const v=g(12781).PassThrough;d.exports=d=>{const m=(d=Object.assign({},d)).array;let g=d.encoding;const y="buffer"===g;let C=!1;m?C=!(g||y):g=g||"utf8",y&&(g=null);let _=0;const T=[],b=new v({objectMode:C});return g&&b.setEncoding(g),b.on("data",(d=>{T.push(d),C?_=T.length:_+=d.length})),b.getBufferedValue=()=>m?T:y?Buffer.concat(T,_):T.join(""),b.getBufferedLength=()=>_,b}},5597:(d,m,g)=>{"use strict";const v=g(80507);function getStream(d,m){if(!d)return Promise.reject(new Error("Expected a stream"));const g=(m=Object.assign({maxBuffer:1/0},m)).maxBuffer;let y,C;const _=new Promise(((_,T)=>{const error=d=>{d&&(d.bufferedData=y.getBufferedValue()),T(d)};y=v(m),d.once("error",error),d.pipe(y),y.on("data",(()=>{y.getBufferedLength()>g&&T(new Error("maxBuffer exceeded"))})),y.once("error",error),y.on("end",_),C=()=>{d.unpipe&&d.unpipe(y)}}));return _.then(C,C),_.then((()=>y.getBufferedValue()))}d.exports=getStream,d.exports.buffer=(d,m)=>getStream(d,Object.assign({},m,{encoding:"buffer"})),d.exports.array=(d,m)=>getStream(d,Object.assign({},m,{array:!0}))},27145:d=>{"use strict";var m=d.exports=function(d){return null!==d&&"object"==typeof d&&"function"==typeof d.pipe};m.writable=function(d){return m(d)&&!1!==d.writable&&"function"==typeof d._write&&"object"==typeof d._writableState},m.readable=function(d){return m(d)&&!1!==d.readable&&"function"==typeof d._read&&"object"==typeof d._readableState},m.duplex=function(d){return m.writable(d)&&m.readable(d)},m.transform=function(d){return m.duplex(d)&&"function"==typeof d._transform&&"object"==typeof d._transformState}},20692:(d,m,g)=>{"use strict";d.exports=LRUCache;var v,y=g(76636),C=g(73837),_=g(18808),T=(v="function"==typeof Symbol&&"1"!==process.env._nodeLRUCacheForceNoSymbol?function(d){return Symbol(d)}:function(d){return"_"+d})("max"),b=v("length"),A=v("lengthCalculator"),P=v("allowStale"),R=v("maxAge"),k=v("dispose"),M=v("noDisposeOnSet"),I=v("lruList"),O=v("cache");function naiveLength(){return 1}function LRUCache(d){if(!(this instanceof LRUCache))return new LRUCache(d);"number"==typeof d&&(d={max:d}),d||(d={});var m=this[T]=d.max;(!m||"number"!=typeof m||m<=0)&&(this[T]=1/0);var g=d.length||naiveLength;"function"!=typeof g&&(g=naiveLength),this[A]=g,this[P]=d.stale||!1,this[R]=d.maxAge||0,this[k]=d.dispose,this[M]=d.noDisposeOnSet||!1,this.reset()}function forEachStep(d,m,g,v){var y=g.value;isStale(d,y)&&(del(d,g),d[P]||(y=void 0)),y&&m.call(v,y.value,y.key,d)}function get(d,m,g){var v=d[O].get(m);if(v){var y=v.value;isStale(d,y)?(del(d,v),d[P]||(y=void 0)):g&&d[I].unshiftNode(v),y&&(y=y.value)}return y}function isStale(d,m){if(!m||!m.maxAge&&!d[R])return!1;var g=Date.now()-m.now;return m.maxAge?g>m.maxAge:d[R]&&g>d[R]}function trim(d){if(d[b]>d[T])for(var m=d[I].tail;d[b]>d[T]&&null!==m;){var g=m.prev;del(d,m),m=g}}function del(d,m){if(m){var g=m.value;d[k]&&d[k](g.key,g.value),d[b]-=g.length,d[O].delete(g.key),d[I].removeNode(m)}}function Entry(d,m,g,v,y){this.key=d,this.value=m,this.length=g,this.now=v,this.maxAge=y||0}Object.defineProperty(LRUCache.prototype,"max",{set:function(d){(!d||"number"!=typeof d||d<=0)&&(d=1/0),this[T]=d,trim(this)},get:function(){return this[T]},enumerable:!0}),Object.defineProperty(LRUCache.prototype,"allowStale",{set:function(d){this[P]=!!d},get:function(){return this[P]},enumerable:!0}),Object.defineProperty(LRUCache.prototype,"maxAge",{set:function(d){(!d||"number"!=typeof d||d<0)&&(d=0),this[R]=d,trim(this)},get:function(){return this[R]},enumerable:!0}),Object.defineProperty(LRUCache.prototype,"lengthCalculator",{set:function(d){"function"!=typeof d&&(d=naiveLength),d!==this[A]&&(this[A]=d,this[b]=0,this[I].forEach((function(d){d.length=this[A](d.value,d.key),this[b]+=d.length}),this)),trim(this)},get:function(){return this[A]},enumerable:!0}),Object.defineProperty(LRUCache.prototype,"length",{get:function(){return this[b]},enumerable:!0}),Object.defineProperty(LRUCache.prototype,"itemCount",{get:function(){return this[I].length},enumerable:!0}),LRUCache.prototype.rforEach=function(d,m){m=m||this;for(var g=this[I].tail;null!==g;){var v=g.prev;forEachStep(this,d,g,m),g=v}},LRUCache.prototype.forEach=function(d,m){m=m||this;for(var g=this[I].head;null!==g;){var v=g.next;forEachStep(this,d,g,m),g=v}},LRUCache.prototype.keys=function(){return this[I].toArray().map((function(d){return d.key}),this)},LRUCache.prototype.values=function(){return this[I].toArray().map((function(d){return d.value}),this)},LRUCache.prototype.reset=function(){this[k]&&this[I]&&this[I].length&&this[I].forEach((function(d){this[k](d.key,d.value)}),this),this[O]=new y,this[I]=new _,this[b]=0},LRUCache.prototype.dump=function(){return this[I].map((function(d){if(!isStale(this,d))return{k:d.key,v:d.value,e:d.now+(d.maxAge||0)}}),this).toArray().filter((function(d){return d}))},LRUCache.prototype.dumpLru=function(){return this[I]},LRUCache.prototype.inspect=function(d,m){var g="LRUCache {",v=!1;this[P]&&(g+="\n  allowStale: true",v=!0);var y=this[T];y&&y!==1/0&&(v&&(g+=","),g+="\n  max: "+C.inspect(y,m),v=!0);var _=this[R];_&&(v&&(g+=","),g+="\n  maxAge: "+C.inspect(_,m),v=!0);var k=this[A];k&&k!==naiveLength&&(v&&(g+=","),g+="\n  length: "+C.inspect(this[b],m),v=!0);var M=!1;return this[I].forEach((function(d){M?g+=",\n  ":(v&&(g+=",\n"),M=!0,g+="\n  ");var y=C.inspect(d.key).split("\n").join("\n  "),T={value:d.value};d.maxAge!==_&&(T.maxAge=d.maxAge),k!==naiveLength&&(T.length=d.length),isStale(this,d)&&(T.stale=!0),T=C.inspect(T,m).split("\n").join("\n  "),g+=y+" => "+T})),(M||v)&&(g+="\n"),g+="}"},LRUCache.prototype.set=function(d,m,g){var v=(g=g||this[R])?Date.now():0,y=this[A](m,d);if(this[O].has(d)){if(y>this[T])return del(this,this[O].get(d)),!1;var C=this[O].get(d).value;return this[k]&&(this[M]||this[k](d,C.value)),C.now=v,C.maxAge=g,C.value=m,this[b]+=y-C.length,C.length=y,this.get(d),trim(this),!0}var _=new Entry(d,m,y,v,g);return _.length>this[T]?(this[k]&&this[k](d,m),!1):(this[b]+=_.length,this[I].unshift(_),this[O].set(d,this[I].head),trim(this),!0)},LRUCache.prototype.has=function(d){return!!this[O].has(d)&&!isStale(this,this[O].get(d).value)},LRUCache.prototype.get=function(d){return get(this,d,!0)},LRUCache.prototype.peek=function(d){return get(this,d,!1)},LRUCache.prototype.pop=function(){var d=this[I].tail;return d?(del(this,d),d.value):null},LRUCache.prototype.del=function(d){del(this,this[O].get(d))},LRUCache.prototype.load=function(d){this.reset();for(var m=Date.now(),g=d.length-1;g>=0;g--){var v=d[g],y=v.e||0;if(0===y)this.set(v.k,v.v);else{var C=y-m;C>0&&this.set(v.k,v.v,C)}}},LRUCache.prototype.prune=function(){var d=this;this[O].forEach((function(m,g){get(d,g,!1)}))}},95592:(d,m,g)=>{d.exports=which,which.sync=function whichSync(d,m){for(var g=getPathInfo(d,m=m||{}),v=g.env,C=g.ext,T=g.extExe,b=[],A=0,P=v.length;A<P;A++){var R=v[A];'"'===R.charAt(0)&&'"'===R.slice(-1)&&(R=R.slice(1,-1));var k=y.join(R,d);!R&&/^\.[\\\/]/.test(d)&&(k=d.slice(0,2)+k);for(var M=0,I=C.length;M<I;M++){var O=k+C[M];try{if(_.sync(O,{pathExt:T})){if(!m.all)return O;b.push(O)}}catch(d){}}}if(m.all&&b.length)return b;if(m.nothrow)return null;throw getNotFoundError(d)};var v="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,y=g(71017),C=v?";":":",_=g(5909);function getNotFoundError(d){var m=new Error("not found: "+d);return m.code="ENOENT",m}function getPathInfo(d,m){var g=m.colon||C,y=m.path||process.env.PATH||"",_=[""];y=y.split(g);var T="";return v&&(y.unshift(process.cwd()),_=(T=m.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM").split(g),-1!==d.indexOf(".")&&""!==_[0]&&_.unshift("")),(d.match(/\//)||v&&d.match(/\\/))&&(y=[""]),{env:y,ext:_,extExe:T}}function which(d,m,g){"function"==typeof m&&(g=m,m={});var v=getPathInfo(d,m),C=v.env,T=v.ext,b=v.extExe,A=[];!function F(v,P){if(v===P)return m.all&&A.length?g(null,A):g(getNotFoundError(d));var R=C[v];'"'===R.charAt(0)&&'"'===R.slice(-1)&&(R=R.slice(1,-1));var k=y.join(R,d);!R&&/^\.[\\\/]/.test(d)&&(k=d.slice(0,2)+k),function E(d,y){if(d===y)return F(v+1,P);var C=T[d];_(k+C,{pathExt:b},(function(v,_){if(!v&&_){if(!m.all)return g(null,k+C);A.push(k+C)}return E(d+1,y)}))}(0,T.length)}(0,C.length)}},18808:d=>{function Yallist(d){var m=this;if(m instanceof Yallist||(m=new Yallist),m.tail=null,m.head=null,m.length=0,d&&"function"==typeof d.forEach)d.forEach((function(d){m.push(d)}));else if(arguments.length>0)for(var g=0,v=arguments.length;g<v;g++)m.push(arguments[g]);return m}function push(d,m){d.tail=new Node(m,d.tail,null,d),d.head||(d.head=d.tail),d.length++}function unshift(d,m){d.head=new Node(m,null,d.head,d),d.tail||(d.tail=d.head),d.length++}function Node(d,m,g,v){if(!(this instanceof Node))return new Node(d,m,g,v);this.list=v,this.value=d,m?(m.next=this,this.prev=m):this.prev=null,g?(g.prev=this,this.next=g):this.next=null}d.exports=Yallist,Yallist.Node=Node,Yallist.create=Yallist,Yallist.prototype.removeNode=function(d){if(d.list!==this)throw new Error("removing node which does not belong to this list");var m=d.next,g=d.prev;m&&(m.prev=g),g&&(g.next=m),d===this.head&&(this.head=m),d===this.tail&&(this.tail=g),d.list.length--,d.next=null,d.prev=null,d.list=null},Yallist.prototype.unshiftNode=function(d){if(d!==this.head){d.list&&d.list.removeNode(d);var m=this.head;d.list=this,d.next=m,m&&(m.prev=d),this.head=d,this.tail||(this.tail=d),this.length++}},Yallist.prototype.pushNode=function(d){if(d!==this.tail){d.list&&d.list.removeNode(d);var m=this.tail;d.list=this,d.prev=m,m&&(m.next=d),this.tail=d,this.head||(this.head=d),this.length++}},Yallist.prototype.push=function(){for(var d=0,m=arguments.length;d<m;d++)push(this,arguments[d]);return this.length},Yallist.prototype.unshift=function(){for(var d=0,m=arguments.length;d<m;d++)unshift(this,arguments[d]);return this.length},Yallist.prototype.pop=function(){if(this.tail){var d=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,d}},Yallist.prototype.shift=function(){if(this.head){var d=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,d}},Yallist.prototype.forEach=function(d,m){m=m||this;for(var g=this.head,v=0;null!==g;v++)d.call(m,g.value,v,this),g=g.next},Yallist.prototype.forEachReverse=function(d,m){m=m||this;for(var g=this.tail,v=this.length-1;null!==g;v--)d.call(m,g.value,v,this),g=g.prev},Yallist.prototype.get=function(d){for(var m=0,g=this.head;null!==g&&m<d;m++)g=g.next;if(m===d&&null!==g)return g.value},Yallist.prototype.getReverse=function(d){for(var m=0,g=this.tail;null!==g&&m<d;m++)g=g.prev;if(m===d&&null!==g)return g.value},Yallist.prototype.map=function(d,m){m=m||this;for(var g=new Yallist,v=this.head;null!==v;)g.push(d.call(m,v.value,this)),v=v.next;return g},Yallist.prototype.mapReverse=function(d,m){m=m||this;for(var g=new Yallist,v=this.tail;null!==v;)g.push(d.call(m,v.value,this)),v=v.prev;return g},Yallist.prototype.reduce=function(d,m){var g,v=this.head;if(arguments.length>1)g=m;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");v=this.head.next,g=this.head.value}for(var y=0;null!==v;y++)g=d(g,v.value,y),v=v.next;return g},Yallist.prototype.reduceReverse=function(d,m){var g,v=this.tail;if(arguments.length>1)g=m;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");v=this.tail.prev,g=this.tail.value}for(var y=this.length-1;null!==v;y--)g=d(g,v.value,y),v=v.prev;return g},Yallist.prototype.toArray=function(){for(var d=new Array(this.length),m=0,g=this.head;null!==g;m++)d[m]=g.value,g=g.next;return d},Yallist.prototype.toArrayReverse=function(){for(var d=new Array(this.length),m=0,g=this.tail;null!==g;m++)d[m]=g.value,g=g.prev;return d},Yallist.prototype.slice=function(d,m){(m=m||this.length)<0&&(m+=this.length),(d=d||0)<0&&(d+=this.length);var g=new Yallist;if(m<d||m<0)return g;d<0&&(d=0),m>this.length&&(m=this.length);for(var v=0,y=this.head;null!==y&&v<d;v++)y=y.next;for(;null!==y&&v<m;v++,y=y.next)g.push(y.value);return g},Yallist.prototype.sliceReverse=function(d,m){(m=m||this.length)<0&&(m+=this.length),(d=d||0)<0&&(d+=this.length);var g=new Yallist;if(m<d||m<0)return g;d<0&&(d=0),m>this.length&&(m=this.length);for(var v=this.length,y=this.tail;null!==y&&v>m;v--)y=y.prev;for(;null!==y&&v>d;v--,y=y.prev)g.push(y.value);return g},Yallist.prototype.reverse=function(){for(var d=this.head,m=this.tail,g=d;null!==g;g=g.prev){var v=g.prev;g.prev=g.next,g.next=v}return this.head=m,this.tail=d,this}},11103:d=>{"use strict";d.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},67804:(d,m,g)=>{var v=g(11103),y=g(26047),C={};for(var _ in v)v.hasOwnProperty(_)&&(C[v[_]]=_);var T=d.exports={to:{},get:{}};function clamp(d,m,g){return Math.min(Math.max(m,d),g)}function hexDouble(d){var m=d.toString(16).toUpperCase();return m.length<2?"0"+m:m}T.get=function(d){var m,g;switch(d.substring(0,3).toLowerCase()){case"hsl":m=T.get.hsl(d),g="hsl";break;case"hwb":m=T.get.hwb(d),g="hwb";break;default:m=T.get.rgb(d),g="rgb"}return m?{model:g,value:m}:null},T.get.rgb=function(d){if(!d)return null;var m,g,y,C=[0,0,0,1];if(m=d.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(y=m[2],m=m[1],g=0;g<3;g++){var _=2*g;C[g]=parseInt(m.slice(_,_+2),16)}y&&(C[3]=Math.round(parseInt(y,16)/255*100)/100)}else if(m=d.match(/^#([a-f0-9]{3,4})$/i)){for(y=(m=m[1])[3],g=0;g<3;g++)C[g]=parseInt(m[g]+m[g],16);y&&(C[3]=Math.round(parseInt(y+y,16)/255*100)/100)}else if(m=d.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(g=0;g<3;g++)C[g]=parseInt(m[g+1],0);m[4]&&(C[3]=parseFloat(m[4]))}else{if(!(m=d.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(m=d.match(/(\D+)/))?"transparent"===m[1]?[0,0,0,0]:(C=v[m[1]])?(C[3]=1,C):null:null;for(g=0;g<3;g++)C[g]=Math.round(2.55*parseFloat(m[g+1]));m[4]&&(C[3]=parseFloat(m[4]))}for(g=0;g<3;g++)C[g]=clamp(C[g],0,255);return C[3]=clamp(C[3],0,1),C},T.get.hsl=function(d){if(!d)return null;var m=d.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(m){var g=parseFloat(m[4]);return[(parseFloat(m[1])+360)%360,clamp(parseFloat(m[2]),0,100),clamp(parseFloat(m[3]),0,100),clamp(isNaN(g)?1:g,0,1)]}return null},T.get.hwb=function(d){if(!d)return null;var m=d.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(m){var g=parseFloat(m[4]);return[(parseFloat(m[1])%360+360)%360,clamp(parseFloat(m[2]),0,100),clamp(parseFloat(m[3]),0,100),clamp(isNaN(g)?1:g,0,1)]}return null},T.to.hex=function(){var d=y(arguments);return"#"+hexDouble(d[0])+hexDouble(d[1])+hexDouble(d[2])+(d[3]<1?hexDouble(Math.round(255*d[3])):"")},T.to.rgb=function(){var d=y(arguments);return d.length<4||1===d[3]?"rgb("+Math.round(d[0])+", "+Math.round(d[1])+", "+Math.round(d[2])+")":"rgba("+Math.round(d[0])+", "+Math.round(d[1])+", "+Math.round(d[2])+", "+d[3]+")"},T.to.rgb.percent=function(){var d=y(arguments),m=Math.round(d[0]/255*100),g=Math.round(d[1]/255*100),v=Math.round(d[2]/255*100);return d.length<4||1===d[3]?"rgb("+m+"%, "+g+"%, "+v+"%)":"rgba("+m+"%, "+g+"%, "+v+"%, "+d[3]+")"},T.to.hsl=function(){var d=y(arguments);return d.length<4||1===d[3]?"hsl("+d[0]+", "+d[1]+"%, "+d[2]+"%)":"hsla("+d[0]+", "+d[1]+"%, "+d[2]+"%, "+d[3]+")"},T.to.hwb=function(){var d=y(arguments),m="";return d.length>=4&&1!==d[3]&&(m=", "+d[3]),"hwb("+d[0]+", "+d[1]+"%, "+d[2]+"%"+m+")"},T.to.keyword=function(d){return C[d.slice(0,3)]}},78613:(d,m,g)=>{function objectToString(d){return Object.prototype.toString.call(d)}m.isArray=function isArray(d){return Array.isArray?Array.isArray(d):"[object Array]"===objectToString(d)},m.isBoolean=function isBoolean(d){return"boolean"==typeof d},m.isNull=function isNull(d){return null===d},m.isNullOrUndefined=function isNullOrUndefined(d){return null==d},m.isNumber=function isNumber(d){return"number"==typeof d},m.isString=function isString(d){return"string"==typeof d},m.isSymbol=function isSymbol(d){return"symbol"==typeof d},m.isUndefined=function isUndefined(d){return void 0===d},m.isRegExp=function isRegExp(d){return"[object RegExp]"===objectToString(d)},m.isObject=function isObject(d){return"object"==typeof d&&null!==d},m.isDate=function isDate(d){return"[object Date]"===objectToString(d)},m.isError=function isError(d){return"[object Error]"===objectToString(d)||d instanceof Error},m.isFunction=function isFunction(d){return"function"==typeof d},m.isPrimitive=function isPrimitive(d){return null===d||"boolean"==typeof d||"number"==typeof d||"string"==typeof d||"symbol"==typeof d||void 0===d},m.isBuffer=g(14300).Buffer.isBuffer},48458:(d,m,g)=>{const{isArray:v}=g(78613),{sort:y}=g(27092),{SYMBOL_PREFIXES:C,UNDEFINED:_,symbol:T,copy_comments:b,swap_comments:A}=g(5344),move_comment=(d,m,g,v,y)=>{b(d,m,g+v,g,y)},move_comments=(d,m,g,v,y,C)=>{if(y>0){let _=v;for(;_-- >0;)move_comment(d,m,g+_,y,C);return}let _=0;for(;_<v;){const v=_++;move_comment(d,m,g+v,y,C)}},remove_comments=(d,m)=>{C.forEach((g=>{const v=T(g,m);delete d[v]}))};class CommentArray extends Array{splice(...d){const{length:m}=this,g=super.splice(...d);let[v,y,...C]=d;v<0&&(v+=m),y=1===arguments.length?m-v:Math.min(m-v,y);const{length:_}=C,T=v+y;return move_comments(this,this,T,m-T,_-y,!0),g}slice(...d){const{length:m}=this,g=super.slice(...d);if(!g.length)return new CommentArray;let[v,y]=d;return y===_?y=m:y<0&&(y+=m),v<0?v+=m:v===_&&(v=0),move_comments(g,this,v,y-v,-v),g}unshift(...d){const{length:m}=this,g=super.unshift(...d),{length:v}=d;return v>0&&move_comments(this,this,0,m,v,!0),g}shift(){const d=super.shift(),{length:m}=this;return remove_comments(this,0),move_comments(this,this,1,m,-1,!0),d}reverse(){return super.reverse(),(d=>{const{length:m}=d;let g=0;const v=m/2;for(;g<v;g++)A(d,g,m-g-1)})(this),this}pop(){const d=super.pop();return remove_comments(this,this.length),d}concat(...d){let{length:m}=this;const g=super.concat(...d);return d.length?(move_comments(g,this,0,this.length,0),d.forEach((d=>{const y=m;m+=v(d)?d.length:1,d instanceof CommentArray&&move_comments(g,d,0,d.length,y)})),g):g}sort(...d){const m=y(this,...d.slice(0,1)),g=Object.create(null);return m.forEach(((d,m)=>{if(d===m)return;const v=((d,m)=>{let g=m;for(;g in d;)g=d[g];return g})(g,d);v!==m&&(g[m]=v,A(this,m,v))})),this}}d.exports={CommentArray}},5344:(d,m,g)=>{const v=g(92001),{isObject:y,isArray:C}=g(78613),_="before",T="after-prop",b="after-colon",A="after-value",P="after",R="before-all",k="after-all",M=[_,T,b,A,P],I=[_,R,k].map(Symbol.for),O=void 0,symbol=(d,m)=>Symbol.for(d+":"+m),define=(d,m,g)=>Object.defineProperty(d,m,{value:g,writable:!0,configurable:!0}),copy_comments_by_kind=(d,m,g,y,C,_)=>{const T=symbol(C,y);if(!v(m,T))return;const b=g===y?T:symbol(C,g);define(d,b,m[T]),_&&delete m[T]},copy_comments=(d,m,g,v,y)=>{M.forEach((C=>{copy_comments_by_kind(d,m,g,v,C,y)}))},assign_non_prop_comments=(d,m)=>{I.forEach((g=>{const v=m[g];v&&define(d,g,v)}))};d.exports={SYMBOL_PREFIXES:M,PREFIX_BEFORE:_,PREFIX_AFTER_PROP:T,PREFIX_AFTER_COLON:b,PREFIX_AFTER_VALUE:A,PREFIX_AFTER:P,PREFIX_BEFORE_ALL:R,PREFIX_AFTER_ALL:k,BRACKET_OPEN:"[",BRACKET_CLOSE:"]",CURLY_BRACKET_OPEN:"{",CURLY_BRACKET_CLOSE:"}",COLON:":",COMMA:",",MINUS:"-",EMPTY:"",UNDEFINED:O,symbol,define,copy_comments,swap_comments:(d,m,g)=>{m!==g&&M.forEach((y=>{const C=symbol(y,g);if(!v(d,C))return void copy_comments_by_kind(d,d,g,m,y,!0);const _=d[C];delete d[C],copy_comments_by_kind(d,d,g,m,y,!0),define(d,symbol(y,m),_)}))},assign_non_prop_comments,assign(d,m,g){if(!y(d))throw new TypeError("Cannot convert undefined or null to object");if(!y(m))return d;if(g===O)g=Object.keys(m),assign_non_prop_comments(d,m);else{if(!C(g))throw new TypeError("keys must be array or undefined");0===g.length&&assign_non_prop_comments(d,m)}return((d,m,g)=>(g.forEach((g=>{v(m,g)&&(d[g]=m[g],copy_comments(d,m,g,g))})),d))(d,m,g)}}},56724:(d,m,g)=>{const{parse:v,tokenize:y}=g(27745),C=g(57437),{CommentArray:_}=g(48458),{assign:T}=g(5344);d.exports={parse:v,stringify:C,tokenize:y,CommentArray:_,assign:T}},27745:(d,m,g)=>{const v=g(90671),{CommentArray:y}=g(48458),{PREFIX_BEFORE:C,PREFIX_AFTER_PROP:_,PREFIX_AFTER_COLON:T,PREFIX_AFTER_VALUE:b,PREFIX_AFTER:A,PREFIX_BEFORE_ALL:P,PREFIX_AFTER_ALL:R,BRACKET_OPEN:k,BRACKET_CLOSE:M,CURLY_BRACKET_OPEN:I,CURLY_BRACKET_CLOSE:O,COLON:x,COMMA:L,MINUS:U,EMPTY:j,UNDEFINED:B,define:V,assign_non_prop_comments:$}=g(5344),tokenize=d=>v.tokenize(d,{comment:!0,loc:!0}),q=[];let Y=null,z=null;const G=[];let J,X,te=!1,re=!1,ie=null,se=null,oe=null,ae=null;const clean=()=>{G.length=q.length=0,se=null,J=B},symbolFor=d=>Symbol.for(J!==B?d+x+J:d),transform=(d,m)=>ae?ae(d,m):m,unexpected=()=>{const d=new SyntaxError(`Unexpected token ${oe.value.slice(0,1)}`);throw Object.assign(d,oe.loc.start),d},unexpected_end=()=>{const d=new SyntaxError("Unexpected end of JSON input");throw Object.assign(d,se?se.loc.end:{line:1,column:0}),d},next=()=>{const d=ie[++X];re=oe&&d&&oe.loc.end.line===d.loc.start.line||!1,se=oe,oe=d},type=()=>(oe||unexpected_end(),"Punctuator"===oe.type?oe.value:oe.type),is=d=>type()===d,expect=d=>{is(d)||unexpected()},set_comments_host=d=>{q.push(Y),Y=d},restore_comments_host=()=>{Y=q.pop()},assign_after_comments=()=>{if(!z)return;const d=[];for(const m of z){if(!m.inline)break;d.push(m)}const{length:m}=d;m&&(m===z.length?z=null:z.splice(0,m),V(Y,symbolFor(A),d))},assign_comments=d=>{z&&(V(Y,symbolFor(d),z),z=null)},parse_comments=d=>{const m=[];for(;oe&&(is("LineComment")||is("BlockComment"));){const d={...oe,inline:re};m.push(d),next()}te||m.length&&(d?V(Y,symbolFor(d),m):z=m)},set_prop=(d,m)=>{m&&G.push(J),J=d},restore_prop=()=>{J=G.pop()};function walk(){let d=type();if(d===I)return next(),(()=>{const d={};set_comments_host(d),set_prop(B,!0);let m,g=!1;for(parse_comments();!(is(O)||g&&(assign_comments(b),expect(L),next(),parse_comments(),assign_after_comments(),is(O)));)g=!0,expect("String"),m=JSON.parse(oe.value),set_prop(m),assign_comments(C),next(),parse_comments(_),expect(x),next(),parse_comments(T),d[m]=transform(m,walk()),parse_comments();return g&&assign_comments(A),next(),J=void 0,g||assign_comments(C),restore_comments_host(),restore_prop(),d})();if(d===k)return next(),(()=>{const d=new y;set_comments_host(d),set_prop(B,!0);let m=!1,g=0;for(parse_comments();!(is(M)||m&&(assign_comments(b),expect(L),next(),parse_comments(),assign_after_comments(),is(M)));)m=!0,set_prop(g),assign_comments(C),d[g]=transform(g,walk()),g++,parse_comments();return m&&assign_comments(A),next(),J=void 0,m||assign_comments(C),restore_comments_host(),restore_prop(),d})();let m,g=j;switch(d===U&&(next(),d=type(),g=U),d){case"String":case"Boolean":case"Null":case"Numeric":return m=oe.value,next(),JSON.parse(g+m)}}d.exports={parse:(d,m,g)=>{clean(),ie=tokenize(d),ae=m,te=g,ie.length||unexpected_end(),X=-1,next(),set_comments_host({}),parse_comments(P);let v=walk();var y;return parse_comments(R),oe&&unexpected(),g||null===v||(y=v,Object(y)!==y&&(v=new Object(v)),$(v,Y)),restore_comments_host(),v=transform("",v),clean(),ie.length=0,z=Y=ie=se=oe=ae=null,v},tokenize}},57437:(d,m,g)=>{const{isArray:v,isObject:y,isFunction:C,isNumber:_,isString:T}=g(78613),b=g(34076),{PREFIX_BEFORE_ALL:A,PREFIX_BEFORE:P,PREFIX_AFTER_PROP:R,PREFIX_AFTER_COLON:k,PREFIX_AFTER_VALUE:M,PREFIX_AFTER:I,PREFIX_AFTER_ALL:O,BRACKET_OPEN:x,BRACKET_CLOSE:L,CURLY_BRACKET_OPEN:U,CURLY_BRACKET_CLOSE:j,COLON:B,COMMA:V,EMPTY:$,UNDEFINED:q}=g(5344),Y=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,z="\n",G="null",BEFORE=d=>`${P}:${d}`,AFTER_VALUE=d=>`${M}:${d}`,AFTER=d=>`${I}:${d}`,J={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},quote=d=>`"${(d=>(Y.lastIndex=0,Y.test(d)?d.replace(Y,(d=>{const m=J[d];return"string"==typeof m?m:d})):d))(d)}"`,process_comments=(d,m,g,v)=>{const y=d[Symbol.for(m)];if(!y||!y.length)return $;let C=!1;const _=y.reduce(((d,{inline:m,type:v,value:y})=>(C="LineComment"===v,d+(m?" ":z+g)+((d,m)=>m?`//${d}`:`/*${d}*/`)(y,C))),$);return v||C?_+z+g:_};let X=null,te=$;const join=(d,m,g)=>d?m?d+m.trim()+z+g:d.trimRight()+z+g:m?m.trimRight()+z+g:$,join_content=(d,m,g)=>{const v=process_comments(m,P,g+te,!0);return join(v,d,g)},object_stringify=(d,m)=>{if(!d)return"null";const g=m+te;let y=$,C=$,_=!0;return(v(X)?X:Object.keys(d)).forEach((m=>{const v=stringify(m,d,g);if(v===q)return;_||(y+=V),_=!1;const T=join(C,process_comments(d,BEFORE(m),g),g);y+=T||z+g,y+=quote(m)+process_comments(d,`${R}:${m}`,g)+B+process_comments(d,(d=>`${k}:${d}`)(m),g)+" "+v+process_comments(d,AFTER_VALUE(m),g),C=process_comments(d,AFTER(m),g)})),y+=join(C,process_comments(d,I,g),g),U+join_content(y,d,m)+j};function stringify(d,m,g){let _=m[d];switch(y(_)&&C(_.toJSON)&&(_=_.toJSON(d)),C(X)&&(_=X.call(m,d,_)),typeof _){case"string":return quote(_);case"number":return Number.isFinite(_)?String(_):G;case"boolean":case"null":return String(_);case"object":return v(_)?((d,m)=>{const g=m+te,{length:v}=d;let y=$,C=$;for(let m=0;m<v;m++)0!==m&&(y+=V),y+=join(C,process_comments(d,BEFORE(m),g),g)||z+g,y+=stringify(m,d,g)||G,y+=process_comments(d,AFTER_VALUE(m),g),C=process_comments(d,AFTER(m),g);return y+=join(C,process_comments(d,I,g),g),x+join_content(y,d,m)+L})(_,g):object_stringify(_,g)}}const{toString:re}=Object.prototype,ie=["[object Number]","[object String]","[object Boolean]"];d.exports=(d,m,g)=>{const P=(d=>T(d)?d:_(d)?b(" ",d):$)(g);if(!P)return JSON.stringify(d,m);C(m)||v(m)||(m=null),X=m,te=P;const R=(d=>{if("object"!=typeof d)return!1;const m=re.call(d);return ie.includes(m)})(d)?JSON.stringify(d):stringify("",{"":d},$);return X=null,te=$,y(d)?process_comments(d,A,$).trimLeft()+R+process_comments(d,O,$).trimRight():R}},64114:d=>{d.exports=function(d,g){for(var v=[],y=0;y<d.length;y++){var C=g(d[y],y);m(C)?v.push.apply(v,C):v.push(C)}return v};var m=Array.isArray||function(d){return"[object Array]"===Object.prototype.toString.call(d)}},20101:(d,m,g)=>{var v=g(11258).Writable,y=g(98874),C=g(30314);if("undefined"==typeof Uint8Array)var _=g(19085).U2;else _=Uint8Array;function ConcatStream(d,m){if(!(this instanceof ConcatStream))return new ConcatStream(d,m);"function"==typeof d&&(m=d,d={}),d||(d={});var g=d.encoding,y=!1;g?"u8"!==(g=String(g).toLowerCase())&&"uint8"!==g||(g="uint8array"):y=!0,v.call(this,{objectMode:!0}),this.encoding=g,this.shouldInferEncoding=y,m&&this.on("finish",(function(){m(this.getBody())})),this.body=[]}d.exports=ConcatStream,y(ConcatStream,v),ConcatStream.prototype._write=function(d,m,g){this.body.push(d),g()},ConcatStream.prototype.inferEncoding=function(d){var m=void 0===d?this.body[0]:d;return Buffer.isBuffer(m)?"buffer":"undefined"!=typeof Uint8Array&&m instanceof Uint8Array?"uint8array":Array.isArray(m)?"array":"string"==typeof m?"string":"[object Object]"===Object.prototype.toString.call(m)?"object":"buffer"},ConcatStream.prototype.getBody=function(){return this.encoding||0!==this.body.length?(this.shouldInferEncoding&&(this.encoding=this.inferEncoding()),"array"===this.encoding?function arrayConcat(d){for(var m=[],g=0;g<d.length;g++)m.push.apply(m,d[g]);return m}(this.body):"string"===this.encoding?function stringConcat(d){for(var m=[],g=0;g<d.length;g++){var v=d[g];"string"==typeof v||Buffer.isBuffer(v)?m.push(v):isBufferish(v)?m.push(C(v)):m.push(C(String(v)))}m=Buffer.isBuffer(d[0])?(m=Buffer.concat(m)).toString("utf8"):m.join("");return m}(this.body):"buffer"===this.encoding?function bufferConcat(d){for(var m=[],g=0;g<d.length;g++){var v=d[g];Buffer.isBuffer(v)?m.push(v):isBufferish(v)?m.push(C(v)):m.push(C(String(v)))}return Buffer.concat(m)}(this.body):"uint8array"===this.encoding?function u8Concat(d){for(var m=0,g=0;g<d.length;g++)"string"==typeof d[g]&&(d[g]=C(d[g])),m+=d[g].length;for(var v=new _(m),y=(g=0,0);g<d.length;g++)for(var T=d[g],b=0;b<T.length;b++)v[y++]=T[b];return v}(this.body):this.body):[]};Array.isArray;function isBufferish(d){return"string"==typeof d||function isArrayish(d){return/Array\]$/.test(Object.prototype.toString.call(d))}(d)||d&&"function"==typeof d.subarray}},7646:(d,m)=>{function objectToString(d){return Object.prototype.toString.call(d)}m.isArray=function isArray(d){return Array.isArray?Array.isArray(d):"[object Array]"===objectToString(d)},m.isBoolean=function isBoolean(d){return"boolean"==typeof d},m.isNull=function isNull(d){return null===d},m.isNullOrUndefined=function isNullOrUndefined(d){return null==d},m.isNumber=function isNumber(d){return"number"==typeof d},m.isString=function isString(d){return"string"==typeof d},m.isSymbol=function isSymbol(d){return"symbol"==typeof d},m.isUndefined=function isUndefined(d){return void 0===d},m.isRegExp=function isRegExp(d){return"[object RegExp]"===objectToString(d)},m.isObject=function isObject(d){return"object"==typeof d&&null!==d},m.isDate=function isDate(d){return"[object Date]"===objectToString(d)},m.isError=function isError(d){return"[object Error]"===objectToString(d)||d instanceof Error},m.isFunction=function isFunction(d){return"function"==typeof d},m.isPrimitive=function isPrimitive(d){return null===d||"boolean"==typeof d||"number"==typeof d||"string"==typeof d||"symbol"==typeof d||void 0===d},m.isBuffer=Buffer.isBuffer},38920:function(d,m,g){var v;!function(y){"use strict";var C,_,T,b=(C=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,_=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,T=/[^-+\dA-Z]/g,function(d,m,g,v){if(1!==arguments.length||"string"!==kindOf(d)||/\d/.test(d)||(m=d,d=void 0),(d=d||new Date)instanceof Date||(d=new Date(d)),isNaN(d))throw TypeError("Invalid date");var y=(m=String(b.masks[m]||m||b.masks.default)).slice(0,4);"UTC:"!==y&&"GMT:"!==y||(m=m.slice(4),g=!0,"GMT:"===y&&(v=!0));var A=g?"getUTC":"get",P=d[A+"Date"](),R=d[A+"Day"](),k=d[A+"Month"](),M=d[A+"FullYear"](),I=d[A+"Hours"](),O=d[A+"Minutes"](),x=d[A+"Seconds"](),L=d[A+"Milliseconds"](),U=g?0:d.getTimezoneOffset(),j=getWeek(d),B=getDayOfWeek(d),V={d:P,dd:pad(P),ddd:b.i18n.dayNames[R],dddd:b.i18n.dayNames[R+7],m:k+1,mm:pad(k+1),mmm:b.i18n.monthNames[k],mmmm:b.i18n.monthNames[k+12],yy:String(M).slice(2),yyyy:M,h:I%12||12,hh:pad(I%12||12),H:I,HH:pad(I),M:O,MM:pad(O),s:x,ss:pad(x),l:pad(L,3),L:pad(Math.round(L/10)),t:I<12?b.i18n.timeNames[0]:b.i18n.timeNames[1],tt:I<12?b.i18n.timeNames[2]:b.i18n.timeNames[3],T:I<12?b.i18n.timeNames[4]:b.i18n.timeNames[5],TT:I<12?b.i18n.timeNames[6]:b.i18n.timeNames[7],Z:v?"GMT":g?"UTC":(String(d).match(_)||[""]).pop().replace(T,""),o:(U>0?"-":"+")+pad(100*Math.floor(Math.abs(U)/60)+Math.abs(U)%60,4),S:["th","st","nd","rd"][P%10>3?0:(P%100-P%10!=10)*P%10],W:j,N:B};return m.replace(C,(function(d){return d in V?V[d]:d.slice(1,d.length-1)}))});function pad(d,m){for(d=String(d),m=m||2;d.length<m;)d="0"+d;return d}function getWeek(d){var m=new Date(d.getFullYear(),d.getMonth(),d.getDate());m.setDate(m.getDate()-(m.getDay()+6)%7+3);var g=new Date(m.getFullYear(),0,4);g.setDate(g.getDate()-(g.getDay()+6)%7+3);var v=m.getTimezoneOffset()-g.getTimezoneOffset();m.setHours(m.getHours()-v);var y=(m-g)/6048e5;return 1+Math.floor(y)}function getDayOfWeek(d){var m=d.getDay();return 0===m&&(m=7),m}function kindOf(d){return null===d?"null":void 0===d?"undefined":"object"!=typeof d?typeof d:Array.isArray(d)?"array":{}.toString.call(d).slice(8,-1).toLowerCase()}b.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},b.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},void 0===(v=function(){return b}.call(m,g,m,d))||(d.exports=v)}()},25130:(d,m,g)=>{m.log=function log(...d){return"object"==typeof console&&console.log&&console.log(...d)},m.formatArgs=function formatArgs(m){if(m[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+m[0]+(this.useColors?"%c ":" ")+"+"+d.exports.humanize(this.diff),!this.useColors)return;const g="color: "+this.color;m.splice(1,0,g,"color: inherit");let v=0,y=0;m[0].replace(/%[a-zA-Z%]/g,(d=>{"%%"!==d&&(v++,"%c"===d&&(y=v))})),m.splice(y,0,g)},m.save=function save(d){try{d?m.storage.setItem("debug",d):m.storage.removeItem("debug")}catch(d){}},m.load=function load(){let d;try{d=m.storage.getItem("debug")}catch(d){}!d&&"undefined"!=typeof process&&"env"in process&&(d=process.env.DEBUG);return d},m.useColors=function useColors(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},m.storage=function localstorage(){try{return localStorage}catch(d){}}(),m.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],d.exports=g(87123)(m);const{formatters:v}=d.exports;v.j=function(d){try{return JSON.stringify(d)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}},87123:(d,m,g)=>{d.exports=function setup(d){function selectColor(d){let m=0;for(let g=0;g<d.length;g++)m=(m<<5)-m+d.charCodeAt(g),m|=0;return createDebug.colors[Math.abs(m)%createDebug.colors.length]}function createDebug(d){let m;function debug(...d){if(!debug.enabled)return;const g=debug,v=Number(new Date),y=v-(m||v);g.diff=y,g.prev=m,g.curr=v,m=v,d[0]=createDebug.coerce(d[0]),"string"!=typeof d[0]&&d.unshift("%O");let C=0;d[0]=d[0].replace(/%([a-zA-Z%])/g,((m,v)=>{if("%%"===m)return m;C++;const y=createDebug.formatters[v];if("function"==typeof y){const v=d[C];m=y.call(g,v),d.splice(C,1),C--}return m})),createDebug.formatArgs.call(g,d);(g.log||createDebug.log).apply(g,d)}return debug.namespace=d,debug.enabled=createDebug.enabled(d),debug.useColors=createDebug.useColors(),debug.color=selectColor(d),debug.destroy=destroy,debug.extend=extend,"function"==typeof createDebug.init&&createDebug.init(debug),createDebug.instances.push(debug),debug}function destroy(){const d=createDebug.instances.indexOf(this);return-1!==d&&(createDebug.instances.splice(d,1),!0)}function extend(d,m){const g=createDebug(this.namespace+(void 0===m?":":m)+d);return g.log=this.log,g}function toNamespace(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}return createDebug.debug=createDebug,createDebug.default=createDebug,createDebug.coerce=function coerce(d){if(d instanceof Error)return d.stack||d.message;return d},createDebug.disable=function disable(){const d=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map((d=>"-"+d))].join(",");return createDebug.enable(""),d},createDebug.enable=function enable(d){let m;createDebug.save(d),createDebug.names=[],createDebug.skips=[];const g=("string"==typeof d?d:"").split(/[\s,]+/),v=g.length;for(m=0;m<v;m++)g[m]&&("-"===(d=g[m].replace(/\*/g,".*?"))[0]?createDebug.skips.push(new RegExp("^"+d.substr(1)+"$")):createDebug.names.push(new RegExp("^"+d+"$")));for(m=0;m<createDebug.instances.length;m++){const d=createDebug.instances[m];d.enabled=createDebug.enabled(d.namespace)}},createDebug.enabled=function enabled(d){if("*"===d[d.length-1])return!0;let m,g;for(m=0,g=createDebug.skips.length;m<g;m++)if(createDebug.skips[m].test(d))return!1;for(m=0,g=createDebug.names.length;m<g;m++)if(createDebug.names[m].test(d))return!0;return!1},createDebug.humanize=g(11378),Object.keys(d).forEach((m=>{createDebug[m]=d[m]})),createDebug.instances=[],createDebug.names=[],createDebug.skips=[],createDebug.formatters={},createDebug.selectColor=selectColor,createDebug.enable(createDebug.load()),createDebug}},445:(d,m,g)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?d.exports=g(25130):d.exports=g(48414)},48414:(d,m,g)=>{const v=g(76224),y=g(73837);m.init=function init(d){d.inspectOpts={};const g=Object.keys(m.inspectOpts);for(let v=0;v<g.length;v++)d.inspectOpts[g[v]]=m.inspectOpts[g[v]]},m.log=function log(...d){return process.stderr.write(y.format(...d)+"\n")},m.formatArgs=function formatArgs(g){const{namespace:v,useColors:y}=this;if(y){const m=this.color,y="[3"+(m<8?m:"8;5;"+m),C=`  ${y};1m${v} [0m`;g[0]=C+g[0].split("\n").join("\n"+C),g.push(y+"m+"+d.exports.humanize(this.diff)+"[0m")}else g[0]=function getDate(){if(m.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+v+" "+g[0]},m.save=function save(d){d?process.env.DEBUG=d:delete process.env.DEBUG},m.load=function load(){return process.env.DEBUG},m.useColors=function useColors(){return"colors"in m.inspectOpts?Boolean(m.inspectOpts.colors):v.isatty(process.stderr.fd)},m.colors=[6,2,3,4,5,1];try{const d=g(37013);d&&(d.stderr||d).level>=2&&(m.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(d){}m.inspectOpts=Object.keys(process.env).filter((d=>/^debug_/i.test(d))).reduce(((d,m)=>{const g=m.substring(6).toLowerCase().replace(/_([a-z])/g,((d,m)=>m.toUpperCase()));let v=process.env[m];return v=!!/^(yes|on|true|enabled)$/i.test(v)||!/^(no|off|false|disabled)$/i.test(v)&&("null"===v?null:Number(v)),d[g]=v,d}),{}),d.exports=g(87123)(m);const{formatters:C}=d.exports;C.o=function(d){return this.inspectOpts.colors=this.useColors,y.inspect(d,this.inspectOpts).replace(/\s*\n\s*/g," ")},C.O=function(d){return this.inspectOpts.colors=this.useColors,y.inspect(d,this.inspectOpts)}},15554:d=>{"use strict";var m="%[a-f0-9]{2}",g=new RegExp("("+m+")|([^%]+?)","gi"),v=new RegExp("("+m+")+","gi");function decodeComponents(d,m){try{return[decodeURIComponent(d.join(""))]}catch(d){}if(1===d.length)return d;m=m||1;var g=d.slice(0,m),v=d.slice(m);return Array.prototype.concat.call([],decodeComponents(g),decodeComponents(v))}function decode(d){try{return decodeURIComponent(d)}catch(y){for(var m=d.match(g)||[],v=1;v<m.length;v++)m=(d=decodeComponents(m,v).join("")).match(g)||[];return d}}d.exports=function(d){if("string"!=typeof d)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof d+"`");try{return d=d.replace(/\+/g," "),decodeURIComponent(d)}catch(m){return function customDecodeURIComponent(d){for(var m={"%FE%FF":"��","%FF%FE":"��"},g=v.exec(d);g;){try{m[g[0]]=decodeURIComponent(g[0])}catch(d){var y=decode(g[0]);y!==g[0]&&(m[g[0]]=y)}g=v.exec(d)}m["%C2"]="�";for(var C=Object.keys(m),_=0;_<C.length;_++){var T=C[_];d=d.replace(new RegExp(T,"g"),m[T])}return d}(d)}}},54924:(d,m,g)=>{"use strict";g.r(m),g.d(m,{BotInfo:()=>_,BrowserInfo:()=>v,NodeInfo:()=>y,SearchBotDeviceInfo:()=>C,browserName:()=>browserName,detect:()=>detect,detectOS:()=>detectOS,getNodeVersion:()=>getNodeVersion,parseUserAgent:()=>parseUserAgent});var __spreadArrays=function(){for(var d=0,m=0,g=arguments.length;m<g;m++)d+=arguments[m].length;var v=Array(d),y=0;for(m=0;m<g;m++)for(var C=arguments[m],_=0,T=C.length;_<T;_++,y++)v[y]=C[_];return v},v=function v(d,m,g){this.name=d,this.version=m,this.os=g,this.type="browser"},y=function y(d){this.version=d,this.type="node",this.name="node",this.os=process.platform},C=function C(d,m,g,v){this.name=d,this.version=m,this.os=g,this.bot=v,this.type="bot-device"},_=function _(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},T=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,b=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],A=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(d){return d?parseUserAgent(d):"undefined"!=typeof navigator?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(d){return""!==d&&b.reduce((function(m,g){var v=g[0],y=g[1];if(m)return m;var C=y.exec(d);return!!C&&[v,C]}),!1)}function browserName(d){var m=matchUserAgent(d);return m?m[0]:null}function parseUserAgent(d){var m=matchUserAgent(d);if(!m)return null;var g=m[0],y=m[1];if("searchbot"===g)return new _;var b=y[1]&&y[1].split(/[._]/).slice(0,3);b?b.length<3&&(b=__spreadArrays(b,function createVersionParts(d){for(var m=[],g=0;g<d;g++)m.push("0");return m}(3-b.length))):b=[];var A=b.join("."),P=detectOS(d),R=T.exec(d);return R&&R[1]?new C(g,A,P,R[1]):new v(g,b.join("."),P)}function detectOS(d){for(var m=0,g=A.length;m<g;m++){var v=A[m],y=v[0];if(v[1].exec(d))return y}return null}function getNodeVersion(){return"undefined"!=typeof process&&process.version?new y(process.version.slice(1)):null}},69338:(d,m,g)=>{var v=g(6113);m.DiffieHellmanGroup=v.DiffieHellmanGroup,m.createDiffieHellmanGroup=v.createDiffieHellmanGroup,m.getDiffieHellman=v.getDiffieHellman,m.createDiffieHellman=v.createDiffieHellman,m.DiffieHellman=v.DiffieHellman},70869:(d,m)=>{var g;m=d.exports=SemVer,g="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var d=Array.prototype.slice.call(arguments,0);d.unshift("SEMVER"),console.log.apply(console,d)}:function(){},m.SEMVER_SPEC_VERSION="2.0.0";var v=Number.MAX_SAFE_INTEGER||9007199254740991,y=m.re=[],C=m.src=[],_=m.tokens={},T=0;function tok(d){_[d]=T++}tok("NUMERICIDENTIFIER"),C[_.NUMERICIDENTIFIER]="0|[1-9]\\d*",tok("NUMERICIDENTIFIERLOOSE"),C[_.NUMERICIDENTIFIERLOOSE]="[0-9]+",tok("NONNUMERICIDENTIFIER"),C[_.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",tok("MAINVERSION"),C[_.MAINVERSION]="("+C[_.NUMERICIDENTIFIER]+")\\.("+C[_.NUMERICIDENTIFIER]+")\\.("+C[_.NUMERICIDENTIFIER]+")",tok("MAINVERSIONLOOSE"),C[_.MAINVERSIONLOOSE]="("+C[_.NUMERICIDENTIFIERLOOSE]+")\\.("+C[_.NUMERICIDENTIFIERLOOSE]+")\\.("+C[_.NUMERICIDENTIFIERLOOSE]+")",tok("PRERELEASEIDENTIFIER"),C[_.PRERELEASEIDENTIFIER]="(?:"+C[_.NUMERICIDENTIFIER]+"|"+C[_.NONNUMERICIDENTIFIER]+")",tok("PRERELEASEIDENTIFIERLOOSE"),C[_.PRERELEASEIDENTIFIERLOOSE]="(?:"+C[_.NUMERICIDENTIFIERLOOSE]+"|"+C[_.NONNUMERICIDENTIFIER]+")",tok("PRERELEASE"),C[_.PRERELEASE]="(?:-("+C[_.PRERELEASEIDENTIFIER]+"(?:\\."+C[_.PRERELEASEIDENTIFIER]+")*))",tok("PRERELEASELOOSE"),C[_.PRERELEASELOOSE]="(?:-?("+C[_.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+C[_.PRERELEASEIDENTIFIERLOOSE]+")*))",tok("BUILDIDENTIFIER"),C[_.BUILDIDENTIFIER]="[0-9A-Za-z-]+",tok("BUILD"),C[_.BUILD]="(?:\\+("+C[_.BUILDIDENTIFIER]+"(?:\\."+C[_.BUILDIDENTIFIER]+")*))",tok("FULL"),tok("FULLPLAIN"),C[_.FULLPLAIN]="v?"+C[_.MAINVERSION]+C[_.PRERELEASE]+"?"+C[_.BUILD]+"?",C[_.FULL]="^"+C[_.FULLPLAIN]+"$",tok("LOOSEPLAIN"),C[_.LOOSEPLAIN]="[v=\\s]*"+C[_.MAINVERSIONLOOSE]+C[_.PRERELEASELOOSE]+"?"+C[_.BUILD]+"?",tok("LOOSE"),C[_.LOOSE]="^"+C[_.LOOSEPLAIN]+"$",tok("GTLT"),C[_.GTLT]="((?:<|>)?=?)",tok("XRANGEIDENTIFIERLOOSE"),C[_.XRANGEIDENTIFIERLOOSE]=C[_.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",tok("XRANGEIDENTIFIER"),C[_.XRANGEIDENTIFIER]=C[_.NUMERICIDENTIFIER]+"|x|X|\\*",tok("XRANGEPLAIN"),C[_.XRANGEPLAIN]="[v=\\s]*("+C[_.XRANGEIDENTIFIER]+")(?:\\.("+C[_.XRANGEIDENTIFIER]+")(?:\\.("+C[_.XRANGEIDENTIFIER]+")(?:"+C[_.PRERELEASE]+")?"+C[_.BUILD]+"?)?)?",tok("XRANGEPLAINLOOSE"),C[_.XRANGEPLAINLOOSE]="[v=\\s]*("+C[_.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+C[_.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+C[_.XRANGEIDENTIFIERLOOSE]+")(?:"+C[_.PRERELEASELOOSE]+")?"+C[_.BUILD]+"?)?)?",tok("XRANGE"),C[_.XRANGE]="^"+C[_.GTLT]+"\\s*"+C[_.XRANGEPLAIN]+"$",tok("XRANGELOOSE"),C[_.XRANGELOOSE]="^"+C[_.GTLT]+"\\s*"+C[_.XRANGEPLAINLOOSE]+"$",tok("COERCE"),C[_.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",tok("COERCERTL"),y[_.COERCERTL]=new RegExp(C[_.COERCE],"g"),tok("LONETILDE"),C[_.LONETILDE]="(?:~>?)",tok("TILDETRIM"),C[_.TILDETRIM]="(\\s*)"+C[_.LONETILDE]+"\\s+",y[_.TILDETRIM]=new RegExp(C[_.TILDETRIM],"g");tok("TILDE"),C[_.TILDE]="^"+C[_.LONETILDE]+C[_.XRANGEPLAIN]+"$",tok("TILDELOOSE"),C[_.TILDELOOSE]="^"+C[_.LONETILDE]+C[_.XRANGEPLAINLOOSE]+"$",tok("LONECARET"),C[_.LONECARET]="(?:\\^)",tok("CARETTRIM"),C[_.CARETTRIM]="(\\s*)"+C[_.LONECARET]+"\\s+",y[_.CARETTRIM]=new RegExp(C[_.CARETTRIM],"g");tok("CARET"),C[_.CARET]="^"+C[_.LONECARET]+C[_.XRANGEPLAIN]+"$",tok("CARETLOOSE"),C[_.CARETLOOSE]="^"+C[_.LONECARET]+C[_.XRANGEPLAINLOOSE]+"$",tok("COMPARATORLOOSE"),C[_.COMPARATORLOOSE]="^"+C[_.GTLT]+"\\s*("+C[_.LOOSEPLAIN]+")$|^$",tok("COMPARATOR"),C[_.COMPARATOR]="^"+C[_.GTLT]+"\\s*("+C[_.FULLPLAIN]+")$|^$",tok("COMPARATORTRIM"),C[_.COMPARATORTRIM]="(\\s*)"+C[_.GTLT]+"\\s*("+C[_.LOOSEPLAIN]+"|"+C[_.XRANGEPLAIN]+")",y[_.COMPARATORTRIM]=new RegExp(C[_.COMPARATORTRIM],"g");tok("HYPHENRANGE"),C[_.HYPHENRANGE]="^\\s*("+C[_.XRANGEPLAIN]+")\\s+-\\s+("+C[_.XRANGEPLAIN]+")\\s*$",tok("HYPHENRANGELOOSE"),C[_.HYPHENRANGELOOSE]="^\\s*("+C[_.XRANGEPLAINLOOSE]+")\\s+-\\s+("+C[_.XRANGEPLAINLOOSE]+")\\s*$",tok("STAR"),C[_.STAR]="(<|>)?=?\\s*\\*";for(var b=0;b<T;b++)g(b,C[b]),y[b]||(y[b]=new RegExp(C[b]));function parse(d,m){if(m&&"object"==typeof m||(m={loose:!!m,includePrerelease:!1}),d instanceof SemVer)return d;if("string"!=typeof d)return null;if(d.length>256)return null;if(!(m.loose?y[_.LOOSE]:y[_.FULL]).test(d))return null;try{return new SemVer(d,m)}catch(d){return null}}function SemVer(d,m){if(m&&"object"==typeof m||(m={loose:!!m,includePrerelease:!1}),d instanceof SemVer){if(d.loose===m.loose)return d;d=d.version}else if("string"!=typeof d)throw new TypeError("Invalid Version: "+d);if(d.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof SemVer))return new SemVer(d,m);g("SemVer",d,m),this.options=m,this.loose=!!m.loose;var C=d.trim().match(m.loose?y[_.LOOSE]:y[_.FULL]);if(!C)throw new TypeError("Invalid Version: "+d);if(this.raw=d,this.major=+C[1],this.minor=+C[2],this.patch=+C[3],this.major>v||this.major<0)throw new TypeError("Invalid major version");if(this.minor>v||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>v||this.patch<0)throw new TypeError("Invalid patch version");C[4]?this.prerelease=C[4].split(".").map((function(d){if(/^[0-9]+$/.test(d)){var m=+d;if(m>=0&&m<v)return m}return d})):this.prerelease=[],this.build=C[5]?C[5].split("."):[],this.format()}m.parse=parse,m.valid=function valid(d,m){var g=parse(d,m);return g?g.version:null},m.clean=function clean(d,m){var g=parse(d.trim().replace(/^[=v]+/,""),m);return g?g.version:null},m.SemVer=SemVer,SemVer.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},SemVer.prototype.toString=function(){return this.version},SemVer.prototype.compare=function(d){return g("SemVer.compare",this.version,this.options,d),d instanceof SemVer||(d=new SemVer(d,this.options)),this.compareMain(d)||this.comparePre(d)},SemVer.prototype.compareMain=function(d){return d instanceof SemVer||(d=new SemVer(d,this.options)),compareIdentifiers(this.major,d.major)||compareIdentifiers(this.minor,d.minor)||compareIdentifiers(this.patch,d.patch)},SemVer.prototype.comparePre=function(d){if(d instanceof SemVer||(d=new SemVer(d,this.options)),this.prerelease.length&&!d.prerelease.length)return-1;if(!this.prerelease.length&&d.prerelease.length)return 1;if(!this.prerelease.length&&!d.prerelease.length)return 0;var m=0;do{var v=this.prerelease[m],y=d.prerelease[m];if(g("prerelease compare",m,v,y),void 0===v&&void 0===y)return 0;if(void 0===y)return 1;if(void 0===v)return-1;if(v!==y)return compareIdentifiers(v,y)}while(++m)},SemVer.prototype.compareBuild=function(d){d instanceof SemVer||(d=new SemVer(d,this.options));var m=0;do{var v=this.build[m],y=d.build[m];if(g("prerelease compare",m,v,y),void 0===v&&void 0===y)return 0;if(void 0===y)return 1;if(void 0===v)return-1;if(v!==y)return compareIdentifiers(v,y)}while(++m)},SemVer.prototype.inc=function(d,m){switch(d){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",m);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",m);break;case"prepatch":this.prerelease.length=0,this.inc("patch",m),this.inc("pre",m);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",m),this.inc("pre",m);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var g=this.prerelease.length;--g>=0;)"number"==typeof this.prerelease[g]&&(this.prerelease[g]++,g=-2);-1===g&&this.prerelease.push(0)}m&&(this.prerelease[0]===m?isNaN(this.prerelease[1])&&(this.prerelease=[m,0]):this.prerelease=[m,0]);break;default:throw new Error("invalid increment argument: "+d)}return this.format(),this.raw=this.version,this},m.inc=function inc(d,m,g,v){"string"==typeof g&&(v=g,g=void 0);try{return new SemVer(d,g).inc(m,v).version}catch(d){return null}},m.diff=function diff(d,m){if(eq(d,m))return null;var g=parse(d),v=parse(m),y="";if(g.prerelease.length||v.prerelease.length){y="pre";var C="prerelease"}for(var _ in g)if(("major"===_||"minor"===_||"patch"===_)&&g[_]!==v[_])return y+_;return C},m.compareIdentifiers=compareIdentifiers;var A=/^[0-9]+$/;function compareIdentifiers(d,m){var g=A.test(d),v=A.test(m);return g&&v&&(d=+d,m=+m),d===m?0:g&&!v?-1:v&&!g?1:d<m?-1:1}function compare(d,m,g){return new SemVer(d,g).compare(new SemVer(m,g))}function gt(d,m,g){return compare(d,m,g)>0}function lt(d,m,g){return compare(d,m,g)<0}function eq(d,m,g){return 0===compare(d,m,g)}function neq(d,m,g){return 0!==compare(d,m,g)}function gte(d,m,g){return compare(d,m,g)>=0}function lte(d,m,g){return compare(d,m,g)<=0}function cmp(d,m,g,v){switch(m){case"===":return"object"==typeof d&&(d=d.version),"object"==typeof g&&(g=g.version),d===g;case"!==":return"object"==typeof d&&(d=d.version),"object"==typeof g&&(g=g.version),d!==g;case"":case"=":case"==":return eq(d,g,v);case"!=":return neq(d,g,v);case">":return gt(d,g,v);case">=":return gte(d,g,v);case"<":return lt(d,g,v);case"<=":return lte(d,g,v);default:throw new TypeError("Invalid operator: "+m)}}function Comparator(d,m){if(m&&"object"==typeof m||(m={loose:!!m,includePrerelease:!1}),d instanceof Comparator){if(d.loose===!!m.loose)return d;d=d.value}if(!(this instanceof Comparator))return new Comparator(d,m);g("comparator",d,m),this.options=m,this.loose=!!m.loose,this.parse(d),this.semver===P?this.value="":this.value=this.operator+this.semver.version,g("comp",this)}m.rcompareIdentifiers=function rcompareIdentifiers(d,m){return compareIdentifiers(m,d)},m.major=function major(d,m){return new SemVer(d,m).major},m.minor=function minor(d,m){return new SemVer(d,m).minor},m.patch=function patch(d,m){return new SemVer(d,m).patch},m.compare=compare,m.compareLoose=function compareLoose(d,m){return compare(d,m,!0)},m.compareBuild=function compareBuild(d,m,g){var v=new SemVer(d,g),y=new SemVer(m,g);return v.compare(y)||v.compareBuild(y)},m.rcompare=function rcompare(d,m,g){return compare(m,d,g)},m.sort=function sort(d,g){return d.sort((function(d,v){return m.compareBuild(d,v,g)}))},m.rsort=function rsort(d,g){return d.sort((function(d,v){return m.compareBuild(v,d,g)}))},m.gt=gt,m.lt=lt,m.eq=eq,m.neq=neq,m.gte=gte,m.lte=lte,m.cmp=cmp,m.Comparator=Comparator;var P={};function Range(d,m){if(m&&"object"==typeof m||(m={loose:!!m,includePrerelease:!1}),d instanceof Range)return d.loose===!!m.loose&&d.includePrerelease===!!m.includePrerelease?d:new Range(d.raw,m);if(d instanceof Comparator)return new Range(d.value,m);if(!(this instanceof Range))return new Range(d,m);if(this.options=m,this.loose=!!m.loose,this.includePrerelease=!!m.includePrerelease,this.raw=d,this.set=d.split(/\s*\|\|\s*/).map((function(d){return this.parseRange(d.trim())}),this).filter((function(d){return d.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+d);this.format()}function isSatisfiable(d,m){for(var g=!0,v=d.slice(),y=v.pop();g&&v.length;)g=v.every((function(d){return y.intersects(d,m)})),y=v.pop();return g}function isX(d){return!d||"x"===d.toLowerCase()||"*"===d}function hyphenReplace(d,m,g,v,y,C,_,T,b,A,P,R,k){return((m=isX(g)?"":isX(v)?">="+g+".0.0":isX(y)?">="+g+"."+v+".0":">="+m)+" "+(T=isX(b)?"":isX(A)?"<"+(+b+1)+".0.0":isX(P)?"<"+b+"."+(+A+1)+".0":R?"<="+b+"."+A+"."+P+"-"+R:"<="+T)).trim()}function testSet(d,m,v){for(var y=0;y<d.length;y++)if(!d[y].test(m))return!1;if(m.prerelease.length&&!v.includePrerelease){for(y=0;y<d.length;y++)if(g(d[y].semver),d[y].semver!==P&&d[y].semver.prerelease.length>0){var C=d[y].semver;if(C.major===m.major&&C.minor===m.minor&&C.patch===m.patch)return!0}return!1}return!0}function satisfies(d,m,g){try{m=new Range(m,g)}catch(d){return!1}return m.test(d)}function outside(d,m,g,v){var y,C,_,T,b;switch(d=new SemVer(d,v),m=new Range(m,v),g){case">":y=gt,C=lte,_=lt,T=">",b=">=";break;case"<":y=lt,C=gte,_=gt,T="<",b="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(satisfies(d,m,v))return!1;for(var A=0;A<m.set.length;++A){var R=m.set[A],k=null,M=null;if(R.forEach((function(d){d.semver===P&&(d=new Comparator(">=0.0.0")),k=k||d,M=M||d,y(d.semver,k.semver,v)?k=d:_(d.semver,M.semver,v)&&(M=d)})),k.operator===T||k.operator===b)return!1;if((!M.operator||M.operator===T)&&C(d,M.semver))return!1;if(M.operator===b&&_(d,M.semver))return!1}return!0}Comparator.prototype.parse=function(d){var m=this.options.loose?y[_.COMPARATORLOOSE]:y[_.COMPARATOR],g=d.match(m);if(!g)throw new TypeError("Invalid comparator: "+d);this.operator=void 0!==g[1]?g[1]:"","="===this.operator&&(this.operator=""),g[2]?this.semver=new SemVer(g[2],this.options.loose):this.semver=P},Comparator.prototype.toString=function(){return this.value},Comparator.prototype.test=function(d){if(g("Comparator.test",d,this.options.loose),this.semver===P||d===P)return!0;if("string"==typeof d)try{d=new SemVer(d,this.options)}catch(d){return!1}return cmp(d,this.operator,this.semver,this.options)},Comparator.prototype.intersects=function(d,m){if(!(d instanceof Comparator))throw new TypeError("a Comparator is required");var g;if(m&&"object"==typeof m||(m={loose:!!m,includePrerelease:!1}),""===this.operator)return""===this.value||(g=new Range(d.value,m),satisfies(this.value,g,m));if(""===d.operator)return""===d.value||(g=new Range(this.value,m),satisfies(d.semver,g,m));var v=!(">="!==this.operator&&">"!==this.operator||">="!==d.operator&&">"!==d.operator),y=!("<="!==this.operator&&"<"!==this.operator||"<="!==d.operator&&"<"!==d.operator),C=this.semver.version===d.semver.version,_=!(">="!==this.operator&&"<="!==this.operator||">="!==d.operator&&"<="!==d.operator),T=cmp(this.semver,"<",d.semver,m)&&(">="===this.operator||">"===this.operator)&&("<="===d.operator||"<"===d.operator),b=cmp(this.semver,">",d.semver,m)&&("<="===this.operator||"<"===this.operator)&&(">="===d.operator||">"===d.operator);return v||y||C&&_||T||b},m.Range=Range,Range.prototype.format=function(){return this.range=this.set.map((function(d){return d.join(" ").trim()})).join("||").trim(),this.range},Range.prototype.toString=function(){return this.range},Range.prototype.parseRange=function(d){var m=this.options.loose;d=d.trim();var v=m?y[_.HYPHENRANGELOOSE]:y[_.HYPHENRANGE];d=d.replace(v,hyphenReplace),g("hyphen replace",d),d=d.replace(y[_.COMPARATORTRIM],"$1$2$3"),g("comparator trim",d,y[_.COMPARATORTRIM]),d=(d=(d=d.replace(y[_.TILDETRIM],"$1~")).replace(y[_.CARETTRIM],"$1^")).split(/\s+/).join(" ");var C=m?y[_.COMPARATORLOOSE]:y[_.COMPARATOR],T=d.split(" ").map((function(d){return function parseComparator(d,m){return g("comp",d,m),d=function replaceCarets(d,m){return d.trim().split(/\s+/).map((function(d){return function replaceCaret(d,m){g("caret",d,m);var v=m.loose?y[_.CARETLOOSE]:y[_.CARET];return d.replace(v,(function(m,v,y,C,_){var T;return g("caret",d,m,v,y,C,_),isX(v)?T="":isX(y)?T=">="+v+".0.0 <"+(+v+1)+".0.0":isX(C)?T="0"===v?">="+v+"."+y+".0 <"+v+"."+(+y+1)+".0":">="+v+"."+y+".0 <"+(+v+1)+".0.0":_?(g("replaceCaret pr",_),T="0"===v?"0"===y?">="+v+"."+y+"."+C+"-"+_+" <"+v+"."+y+"."+(+C+1):">="+v+"."+y+"."+C+"-"+_+" <"+v+"."+(+y+1)+".0":">="+v+"."+y+"."+C+"-"+_+" <"+(+v+1)+".0.0"):(g("no pr"),T="0"===v?"0"===y?">="+v+"."+y+"."+C+" <"+v+"."+y+"."+(+C+1):">="+v+"."+y+"."+C+" <"+v+"."+(+y+1)+".0":">="+v+"."+y+"."+C+" <"+(+v+1)+".0.0"),g("caret return",T),T}))}(d,m)})).join(" ")}(d,m),g("caret",d),d=function replaceTildes(d,m){return d.trim().split(/\s+/).map((function(d){return function replaceTilde(d,m){var v=m.loose?y[_.TILDELOOSE]:y[_.TILDE];return d.replace(v,(function(m,v,y,C,_){var T;return g("tilde",d,m,v,y,C,_),isX(v)?T="":isX(y)?T=">="+v+".0.0 <"+(+v+1)+".0.0":isX(C)?T=">="+v+"."+y+".0 <"+v+"."+(+y+1)+".0":_?(g("replaceTilde pr",_),T=">="+v+"."+y+"."+C+"-"+_+" <"+v+"."+(+y+1)+".0"):T=">="+v+"."+y+"."+C+" <"+v+"."+(+y+1)+".0",g("tilde return",T),T}))}(d,m)})).join(" ")}(d,m),g("tildes",d),d=function replaceXRanges(d,m){return g("replaceXRanges",d,m),d.split(/\s+/).map((function(d){return function replaceXRange(d,m){d=d.trim();var v=m.loose?y[_.XRANGELOOSE]:y[_.XRANGE];return d.replace(v,(function(v,y,C,_,T,b){g("xRange",d,v,y,C,_,T,b);var A=isX(C),P=A||isX(_),R=P||isX(T),k=R;return"="===y&&k&&(y=""),b=m.includePrerelease?"-0":"",A?v=">"===y||"<"===y?"<0.0.0-0":"*":y&&k?(P&&(_=0),T=0,">"===y?(y=">=",P?(C=+C+1,_=0,T=0):(_=+_+1,T=0)):"<="===y&&(y="<",P?C=+C+1:_=+_+1),v=y+C+"."+_+"."+T+b):P?v=">="+C+".0.0"+b+" <"+(+C+1)+".0.0"+b:R&&(v=">="+C+"."+_+".0"+b+" <"+C+"."+(+_+1)+".0"+b),g("xRange return",v),v}))}(d,m)})).join(" ")}(d,m),g("xrange",d),d=function replaceStars(d,m){return g("replaceStars",d,m),d.trim().replace(y[_.STAR],"")}(d,m),g("stars",d),d}(d,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(T=T.filter((function(d){return!!d.match(C)}))),T=T.map((function(d){return new Comparator(d,this.options)}),this)},Range.prototype.intersects=function(d,m){if(!(d instanceof Range))throw new TypeError("a Range is required");return this.set.some((function(g){return isSatisfiable(g,m)&&d.set.some((function(d){return isSatisfiable(d,m)&&g.every((function(g){return d.every((function(d){return g.intersects(d,m)}))}))}))}))},m.toComparators=function toComparators(d,m){return new Range(d,m).set.map((function(d){return d.map((function(d){return d.value})).join(" ").trim().split(" ")}))},Range.prototype.test=function(d){if(!d)return!1;if("string"==typeof d)try{d=new SemVer(d,this.options)}catch(d){return!1}for(var m=0;m<this.set.length;m++)if(testSet(this.set[m],d,this.options))return!0;return!1},m.satisfies=satisfies,m.maxSatisfying=function maxSatisfying(d,m,g){var v=null,y=null;try{var C=new Range(m,g)}catch(d){return null}return d.forEach((function(d){C.test(d)&&(v&&-1!==y.compare(d)||(y=new SemVer(v=d,g)))})),v},m.minSatisfying=function minSatisfying(d,m,g){var v=null,y=null;try{var C=new Range(m,g)}catch(d){return null}return d.forEach((function(d){C.test(d)&&(v&&1!==y.compare(d)||(y=new SemVer(v=d,g)))})),v},m.minVersion=function minVersion(d,m){d=new Range(d,m);var g=new SemVer("0.0.0");if(d.test(g))return g;if(g=new SemVer("0.0.0-0"),d.test(g))return g;g=null;for(var v=0;v<d.set.length;++v){d.set[v].forEach((function(d){var m=new SemVer(d.semver.version);switch(d.operator){case">":0===m.prerelease.length?m.patch++:m.prerelease.push(0),m.raw=m.format();case"":case">=":g&&!gt(g,m)||(g=m);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+d.operator)}}))}if(g&&d.test(g))return g;return null},m.validRange=function validRange(d,m){try{return new Range(d,m).range||"*"}catch(d){return null}},m.ltr=function ltr(d,m,g){return outside(d,m,"<",g)},m.gtr=function gtr(d,m,g){return outside(d,m,">",g)},m.outside=outside,m.prerelease=function prerelease(d,m){var g=parse(d,m);return g&&g.prerelease.length?g.prerelease:null},m.intersects=function intersects(d,m,g){return d=new Range(d,g),m=new Range(m,g),d.intersects(m)},m.coerce=function coerce(d,m){if(d instanceof SemVer)return d;"number"==typeof d&&(d=String(d));if("string"!=typeof d)return null;var g=null;if((m=m||{}).rtl){for(var v;(v=y[_.COERCERTL].exec(d))&&(!g||g.index+g[0].length!==d.length);)g&&v.index+v[0].length===g.index+g[0].length||(g=v),y[_.COERCERTL].lastIndex=v.index+v[1].length+v[2].length;y[_.COERCERTL].lastIndex=-1}else g=d.match(y[_.COERCE]);if(null===g)return null;return parse(g[2]+"."+(g[3]||"0")+"."+(g[4]||"0"),m)}},14353:(d,m,g)=>{"use strict";function parseCode(d){const m=Number(d);return isNaN(m)?null:m}function fetchCode(d){return d&&(parseCode(d.exitCode)||parseCode(d.errno)||parseCode(d.code))}g.r(m),g.d(m,{default:()=>Errlop});class Errlop extends Error{constructor(d,m){if(!d)throw new Error("Attempted to create an Errlop without a input");super(d.message||d),this.klass=Errlop,this.parent=m||d.parent,this.ancestors=[];let g=this.parent;for(;g;)this.ancestors.push(g),g=g.parent;let v=fetchCode(d);null==v&&(v=fetchCode(this));for(let d=0;d<this.ancestors.length&&null==v;++d){const m=this.ancestors[d];((y=m)instanceof Error||Errlop.isErrlop(y))&&(v=fetchCode(m))}var y;null!=v&&(this.exitCode=v),this.orphanStack=(d.stack||this.stack).toString(),this.stack=this.ancestors.reduce(((d,m)=>`${d}\n↳ ${m.orphanStack||m.stack||m}`),this.orphanStack)}static create(d,m){return new this(d,m)}static isErrlop(d){return d&&(d instanceof this||d.klass===this)}static ensure(d){return this.isErrlop(d)?d:this.create(d)}}},90671:function(d){!function webpackUniversalModuleDefinition(m,g){d.exports=g()}(0,(function(){return function(d){var m={};function __nested_webpack_require_583__(g){if(m[g])return m[g].exports;var v=m[g]={exports:{},id:g,loaded:!1};return d[g].call(v.exports,v,v.exports,__nested_webpack_require_583__),v.loaded=!0,v.exports}return __nested_webpack_require_583__.m=d,__nested_webpack_require_583__.c=m,__nested_webpack_require_583__.p="",__nested_webpack_require_583__(0)}([function(d,m,g){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var v=g(1),y=g(3),C=g(8),_=g(15);function parse(d,m,g){var _=null,proxyDelegate=function(d,m){g&&g(d,m),_&&_.visit(d,m)},T="function"==typeof g?proxyDelegate:null,b=!1;if(m){b="boolean"==typeof m.comment&&m.comment;var A="boolean"==typeof m.attachComment&&m.attachComment;(b||A)&&((_=new v.CommentHandler).attach=A,m.comment=!0,T=proxyDelegate)}var P,R=!1;m&&"string"==typeof m.sourceType&&(R="module"===m.sourceType),P=m&&"boolean"==typeof m.jsx&&m.jsx?new y.JSXParser(d,m,T):new C.Parser(d,m,T);var k=R?P.parseModule():P.parseScript();return b&&_&&(k.comments=_.comments),P.config.tokens&&(k.tokens=P.tokens),P.config.tolerant&&(k.errors=P.errorHandler.errors),k}m.parse=parse,m.parseModule=function parseModule(d,m,g){var v=m||{};return v.sourceType="module",parse(d,v,g)},m.parseScript=function parseScript(d,m,g){var v=m||{};return v.sourceType="script",parse(d,v,g)},m.tokenize=function tokenize(d,m,g){var v,y=new _.Tokenizer(d,m);v=[];try{for(;;){var C=y.getNextToken();if(!C)break;g&&(C=g(C)),v.push(C)}}catch(d){y.errorHandler.tolerate(d)}return y.errorHandler.tolerant&&(v.errors=y.errors()),v};var T=g(2);m.Syntax=T.Syntax,m.version="4.0.1"},function(d,m,g){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var v=g(2),y=function(){function CommentHandler(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return CommentHandler.prototype.insertInnerComments=function(d,m){if(d.type===v.Syntax.BlockStatement&&0===d.body.length){for(var g=[],y=this.leading.length-1;y>=0;--y){var C=this.leading[y];m.end.offset>=C.start&&(g.unshift(C.comment),this.leading.splice(y,1),this.trailing.splice(y,1))}g.length&&(d.innerComments=g)}},CommentHandler.prototype.findTrailingComments=function(d){var m=[];if(this.trailing.length>0){for(var g=this.trailing.length-1;g>=0;--g){var v=this.trailing[g];v.start>=d.end.offset&&m.unshift(v.comment)}return this.trailing.length=0,m}var y=this.stack[this.stack.length-1];if(y&&y.node.trailingComments){var C=y.node.trailingComments[0];C&&C.range[0]>=d.end.offset&&(m=y.node.trailingComments,delete y.node.trailingComments)}return m},CommentHandler.prototype.findLeadingComments=function(d){for(var m,g=[];this.stack.length>0;){if(!((C=this.stack[this.stack.length-1])&&C.start>=d.start.offset))break;m=C.node,this.stack.pop()}if(m){for(var v=(m.leadingComments?m.leadingComments.length:0)-1;v>=0;--v){var y=m.leadingComments[v];y.range[1]<=d.start.offset&&(g.unshift(y),m.leadingComments.splice(v,1))}return m.leadingComments&&0===m.leadingComments.length&&delete m.leadingComments,g}for(v=this.leading.length-1;v>=0;--v){var C;(C=this.leading[v]).start<=d.start.offset&&(g.unshift(C.comment),this.leading.splice(v,1))}return g},CommentHandler.prototype.visitNode=function(d,m){if(!(d.type===v.Syntax.Program&&d.body.length>0)){this.insertInnerComments(d,m);var g=this.findTrailingComments(m),y=this.findLeadingComments(m);y.length>0&&(d.leadingComments=y),g.length>0&&(d.trailingComments=g),this.stack.push({node:d,start:m.start.offset})}},CommentHandler.prototype.visitComment=function(d,m){var g="L"===d.type[0]?"Line":"Block",v={type:g,value:d.value};if(d.range&&(v.range=d.range),d.loc&&(v.loc=d.loc),this.comments.push(v),this.attach){var y={comment:{type:g,value:d.value,range:[m.start.offset,m.end.offset]},start:m.start.offset};d.loc&&(y.comment.loc=d.loc),d.type=g,this.leading.push(y),this.trailing.push(y)}},CommentHandler.prototype.visit=function(d,m){"LineComment"===d.type||"BlockComment"===d.type?this.visitComment(d,m):this.attach&&this.visitNode(d,m)},CommentHandler}();m.CommentHandler=y},function(d,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(d,m,g){"use strict";var v,y=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var g in m)m.hasOwnProperty(g)&&(d[g]=m[g])},function(d,m){function __(){this.constructor=d}v(d,m),d.prototype=null===m?Object.create(m):(__.prototype=m.prototype,new __)});Object.defineProperty(m,"__esModule",{value:!0});var C=g(4),_=g(5),T=g(6),b=g(7),A=g(8),P=g(13),R=g(14);function getQualifiedElementName(d){var m;switch(d.type){case T.JSXSyntax.JSXIdentifier:m=d.name;break;case T.JSXSyntax.JSXNamespacedName:var g=d;m=getQualifiedElementName(g.namespace)+":"+getQualifiedElementName(g.name);break;case T.JSXSyntax.JSXMemberExpression:var v=d;m=getQualifiedElementName(v.object)+"."+getQualifiedElementName(v.property)}return m}P.TokenName[100]="JSXIdentifier",P.TokenName[101]="JSXText";var k=function(d){function JSXParser(m,g,v){return d.call(this,m,g,v)||this}return y(JSXParser,d),JSXParser.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():d.prototype.parsePrimaryExpression.call(this)},JSXParser.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},JSXParser.prototype.finishJSX=function(){this.nextToken()},JSXParser.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},JSXParser.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},JSXParser.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},JSXParser.prototype.scanXHTMLEntity=function(d){for(var m="&",g=!0,v=!1,y=!1,_=!1;!this.scanner.eof()&&g&&!v;){var T=this.scanner.source[this.scanner.index];if(T===d)break;if(v=";"===T,m+=T,++this.scanner.index,!v)switch(m.length){case 2:y="#"===T;break;case 3:y&&(g=(_="x"===T)||C.Character.isDecimalDigit(T.charCodeAt(0)),y=y&&!_);break;default:g=(g=g&&!(y&&!C.Character.isDecimalDigit(T.charCodeAt(0))))&&!(_&&!C.Character.isHexDigit(T.charCodeAt(0)))}}if(g&&v&&m.length>2){var b=m.substr(1,m.length-2);y&&b.length>1?m=String.fromCharCode(parseInt(b.substr(1),10)):_&&b.length>2?m=String.fromCharCode(parseInt("0"+b.substr(1),16)):y||_||!R.XHTMLEntities[b]||(m=R.XHTMLEntities[b])}return m},JSXParser.prototype.lexJSX=function(){var d=this.scanner.source.charCodeAt(this.scanner.index);if(60===d||62===d||47===d||58===d||61===d||123===d||125===d)return{type:7,value:T=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(34===d||39===d){for(var m=this.scanner.index,g=this.scanner.source[this.scanner.index++],v="";!this.scanner.eof();){if((b=this.scanner.source[this.scanner.index++])===g)break;v+="&"===b?this.scanXHTMLEntity(g):b}return{type:8,value:v,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:m,end:this.scanner.index}}if(46===d){var y=this.scanner.source.charCodeAt(this.scanner.index+1),_=this.scanner.source.charCodeAt(this.scanner.index+2),T=46===y&&46===_?"...":".";m=this.scanner.index;return this.scanner.index+=T.length,{type:7,value:T,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:m,end:this.scanner.index}}if(96===d)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(C.Character.isIdentifierStart(d)&&92!==d){m=this.scanner.index;for(++this.scanner.index;!this.scanner.eof();){var b=this.scanner.source.charCodeAt(this.scanner.index);if(C.Character.isIdentifierPart(b)&&92!==b)++this.scanner.index;else{if(45!==b)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(m,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:m,end:this.scanner.index}}return this.scanner.lex()},JSXParser.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var d=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(d)),d},JSXParser.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var d=this.scanner.index,m="";!this.scanner.eof();){var g=this.scanner.source[this.scanner.index];if("{"===g||"<"===g)break;++this.scanner.index,m+=g,C.Character.isLineTerminator(g.charCodeAt(0))&&(++this.scanner.lineNumber,"\r"===g&&"\n"===this.scanner.source[this.scanner.index]&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var v={type:101,value:m,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:d,end:this.scanner.index};return m.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(v)),v},JSXParser.prototype.peekJSXToken=function(){var d=this.scanner.saveState();this.scanner.scanComments();var m=this.lexJSX();return this.scanner.restoreState(d),m},JSXParser.prototype.expectJSX=function(d){var m=this.nextJSXToken();7===m.type&&m.value===d||this.throwUnexpectedToken(m)},JSXParser.prototype.matchJSX=function(d){var m=this.peekJSXToken();return 7===m.type&&m.value===d},JSXParser.prototype.parseJSXIdentifier=function(){var d=this.createJSXNode(),m=this.nextJSXToken();return 100!==m.type&&this.throwUnexpectedToken(m),this.finalize(d,new _.JSXIdentifier(m.value))},JSXParser.prototype.parseJSXElementName=function(){var d=this.createJSXNode(),m=this.parseJSXIdentifier();if(this.matchJSX(":")){var g=m;this.expectJSX(":");var v=this.parseJSXIdentifier();m=this.finalize(d,new _.JSXNamespacedName(g,v))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var y=m;this.expectJSX(".");var C=this.parseJSXIdentifier();m=this.finalize(d,new _.JSXMemberExpression(y,C))}return m},JSXParser.prototype.parseJSXAttributeName=function(){var d,m=this.createJSXNode(),g=this.parseJSXIdentifier();if(this.matchJSX(":")){var v=g;this.expectJSX(":");var y=this.parseJSXIdentifier();d=this.finalize(m,new _.JSXNamespacedName(v,y))}else d=g;return d},JSXParser.prototype.parseJSXStringLiteralAttribute=function(){var d=this.createJSXNode(),m=this.nextJSXToken();8!==m.type&&this.throwUnexpectedToken(m);var g=this.getTokenRaw(m);return this.finalize(d,new b.Literal(m.value,g))},JSXParser.prototype.parseJSXExpressionAttribute=function(){var d=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var m=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(d,new _.JSXExpressionContainer(m))},JSXParser.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},JSXParser.prototype.parseJSXNameValueAttribute=function(){var d=this.createJSXNode(),m=this.parseJSXAttributeName(),g=null;return this.matchJSX("=")&&(this.expectJSX("="),g=this.parseJSXAttributeValue()),this.finalize(d,new _.JSXAttribute(m,g))},JSXParser.prototype.parseJSXSpreadAttribute=function(){var d=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var m=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(d,new _.JSXSpreadAttribute(m))},JSXParser.prototype.parseJSXAttributes=function(){for(var d=[];!this.matchJSX("/")&&!this.matchJSX(">");){var m=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();d.push(m)}return d},JSXParser.prototype.parseJSXOpeningElement=function(){var d=this.createJSXNode();this.expectJSX("<");var m=this.parseJSXElementName(),g=this.parseJSXAttributes(),v=this.matchJSX("/");return v&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(d,new _.JSXOpeningElement(m,v,g))},JSXParser.prototype.parseJSXBoundaryElement=function(){var d=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var m=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(d,new _.JSXClosingElement(m))}var g=this.parseJSXElementName(),v=this.parseJSXAttributes(),y=this.matchJSX("/");return y&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(d,new _.JSXOpeningElement(g,y,v))},JSXParser.prototype.parseJSXEmptyExpression=function(){var d=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(d,new _.JSXEmptyExpression)},JSXParser.prototype.parseJSXExpressionContainer=function(){var d,m=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(d=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),d=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(m,new _.JSXExpressionContainer(d))},JSXParser.prototype.parseJSXChildren=function(){for(var d=[];!this.scanner.eof();){var m=this.createJSXChildNode(),g=this.nextJSXText();if(g.start<g.end){var v=this.getTokenRaw(g),y=this.finalize(m,new _.JSXText(g.value,v));d.push(y)}if("{"!==this.scanner.source[this.scanner.index])break;var C=this.parseJSXExpressionContainer();d.push(C)}return d},JSXParser.prototype.parseComplexJSXElement=function(d){for(var m=[];!this.scanner.eof();){d.children=d.children.concat(this.parseJSXChildren());var g=this.createJSXChildNode(),v=this.parseJSXBoundaryElement();if(v.type===T.JSXSyntax.JSXOpeningElement){var y=v;if(y.selfClosing){var C=this.finalize(g,new _.JSXElement(y,[],null));d.children.push(C)}else m.push(d),d={node:g,opening:y,closing:null,children:[]}}if(v.type===T.JSXSyntax.JSXClosingElement){d.closing=v;var b=getQualifiedElementName(d.opening.name);if(b!==getQualifiedElementName(d.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",b),!(m.length>0))break;C=this.finalize(d.node,new _.JSXElement(d.opening,d.children,d.closing));(d=m[m.length-1]).children.push(C),m.pop()}}return d},JSXParser.prototype.parseJSXElement=function(){var d=this.createJSXNode(),m=this.parseJSXOpeningElement(),g=[],v=null;if(!m.selfClosing){var y=this.parseComplexJSXElement({node:d,opening:m,closing:v,children:g});g=y.children,v=y.closing}return this.finalize(d,new _.JSXElement(m,g,v))},JSXParser.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var d=this.parseJSXElement();return this.finishJSX(),d},JSXParser.prototype.isStartOfExpression=function(){return d.prototype.isStartOfExpression.call(this)||this.match("<")},JSXParser}(A.Parser);m.JSXParser=k},function(d,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var g={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};m.Character={fromCodePoint:function(d){return d<65536?String.fromCharCode(d):String.fromCharCode(55296+(d-65536>>10))+String.fromCharCode(56320+(d-65536&1023))},isWhiteSpace:function(d){return 32===d||9===d||11===d||12===d||160===d||d>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(d)>=0},isLineTerminator:function(d){return 10===d||13===d||8232===d||8233===d},isIdentifierStart:function(d){return 36===d||95===d||d>=65&&d<=90||d>=97&&d<=122||92===d||d>=128&&g.NonAsciiIdentifierStart.test(m.Character.fromCodePoint(d))},isIdentifierPart:function(d){return 36===d||95===d||d>=65&&d<=90||d>=97&&d<=122||d>=48&&d<=57||92===d||d>=128&&g.NonAsciiIdentifierPart.test(m.Character.fromCodePoint(d))},isDecimalDigit:function(d){return d>=48&&d<=57},isHexDigit:function(d){return d>=48&&d<=57||d>=65&&d<=70||d>=97&&d<=102},isOctalDigit:function(d){return d>=48&&d<=55}}},function(d,m,g){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var v=g(6),y=function y(d){this.type=v.JSXSyntax.JSXClosingElement,this.name=d};m.JSXClosingElement=y;var C=function C(d,m,g){this.type=v.JSXSyntax.JSXElement,this.openingElement=d,this.children=m,this.closingElement=g};m.JSXElement=C;var _=function _(){this.type=v.JSXSyntax.JSXEmptyExpression};m.JSXEmptyExpression=_;var T=function T(d){this.type=v.JSXSyntax.JSXExpressionContainer,this.expression=d};m.JSXExpressionContainer=T;var b=function b(d){this.type=v.JSXSyntax.JSXIdentifier,this.name=d};m.JSXIdentifier=b;var A=function A(d,m){this.type=v.JSXSyntax.JSXMemberExpression,this.object=d,this.property=m};m.JSXMemberExpression=A;var P=function P(d,m){this.type=v.JSXSyntax.JSXAttribute,this.name=d,this.value=m};m.JSXAttribute=P;var R=function R(d,m){this.type=v.JSXSyntax.JSXNamespacedName,this.namespace=d,this.name=m};m.JSXNamespacedName=R;var k=function k(d,m,g){this.type=v.JSXSyntax.JSXOpeningElement,this.name=d,this.selfClosing=m,this.attributes=g};m.JSXOpeningElement=k;var M=function M(d){this.type=v.JSXSyntax.JSXSpreadAttribute,this.argument=d};m.JSXSpreadAttribute=M;var I=function I(d,m){this.type=v.JSXSyntax.JSXText,this.value=d,this.raw=m};m.JSXText=I},function(d,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(d,m,g){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var v=g(2),y=function y(d){this.type=v.Syntax.ArrayExpression,this.elements=d};m.ArrayExpression=y;var C=function C(d){this.type=v.Syntax.ArrayPattern,this.elements=d};m.ArrayPattern=C;var _=function _(d,m,g){this.type=v.Syntax.ArrowFunctionExpression,this.id=null,this.params=d,this.body=m,this.generator=!1,this.expression=g,this.async=!1};m.ArrowFunctionExpression=_;var T=function T(d,m,g){this.type=v.Syntax.AssignmentExpression,this.operator=d,this.left=m,this.right=g};m.AssignmentExpression=T;var b=function b(d,m){this.type=v.Syntax.AssignmentPattern,this.left=d,this.right=m};m.AssignmentPattern=b;var A=function A(d,m,g){this.type=v.Syntax.ArrowFunctionExpression,this.id=null,this.params=d,this.body=m,this.generator=!1,this.expression=g,this.async=!0};m.AsyncArrowFunctionExpression=A;var P=function P(d,m,g){this.type=v.Syntax.FunctionDeclaration,this.id=d,this.params=m,this.body=g,this.generator=!1,this.expression=!1,this.async=!0};m.AsyncFunctionDeclaration=P;var R=function R(d,m,g){this.type=v.Syntax.FunctionExpression,this.id=d,this.params=m,this.body=g,this.generator=!1,this.expression=!1,this.async=!0};m.AsyncFunctionExpression=R;var k=function k(d){this.type=v.Syntax.AwaitExpression,this.argument=d};m.AwaitExpression=k;var M=function M(d,m,g){var y="||"===d||"&&"===d;this.type=y?v.Syntax.LogicalExpression:v.Syntax.BinaryExpression,this.operator=d,this.left=m,this.right=g};m.BinaryExpression=M;var I=function I(d){this.type=v.Syntax.BlockStatement,this.body=d};m.BlockStatement=I;var O=function O(d){this.type=v.Syntax.BreakStatement,this.label=d};m.BreakStatement=O;var x=function x(d,m){this.type=v.Syntax.CallExpression,this.callee=d,this.arguments=m};m.CallExpression=x;var L=function L(d,m){this.type=v.Syntax.CatchClause,this.param=d,this.body=m};m.CatchClause=L;var U=function U(d){this.type=v.Syntax.ClassBody,this.body=d};m.ClassBody=U;var j=function j(d,m,g){this.type=v.Syntax.ClassDeclaration,this.id=d,this.superClass=m,this.body=g};m.ClassDeclaration=j;var B=function B(d,m,g){this.type=v.Syntax.ClassExpression,this.id=d,this.superClass=m,this.body=g};m.ClassExpression=B;var V=function V(d,m){this.type=v.Syntax.MemberExpression,this.computed=!0,this.object=d,this.property=m};m.ComputedMemberExpression=V;var $=function $(d,m,g){this.type=v.Syntax.ConditionalExpression,this.test=d,this.consequent=m,this.alternate=g};m.ConditionalExpression=$;var q=function q(d){this.type=v.Syntax.ContinueStatement,this.label=d};m.ContinueStatement=q;var Y=function Y(){this.type=v.Syntax.DebuggerStatement};m.DebuggerStatement=Y;var z=function z(d,m){this.type=v.Syntax.ExpressionStatement,this.expression=d,this.directive=m};m.Directive=z;var G=function G(d,m){this.type=v.Syntax.DoWhileStatement,this.body=d,this.test=m};m.DoWhileStatement=G;var J=function J(){this.type=v.Syntax.EmptyStatement};m.EmptyStatement=J;var X=function X(d){this.type=v.Syntax.ExportAllDeclaration,this.source=d};m.ExportAllDeclaration=X;var te=function te(d){this.type=v.Syntax.ExportDefaultDeclaration,this.declaration=d};m.ExportDefaultDeclaration=te;var re=function re(d,m,g){this.type=v.Syntax.ExportNamedDeclaration,this.declaration=d,this.specifiers=m,this.source=g};m.ExportNamedDeclaration=re;var ie=function ie(d,m){this.type=v.Syntax.ExportSpecifier,this.exported=m,this.local=d};m.ExportSpecifier=ie;var se=function se(d){this.type=v.Syntax.ExpressionStatement,this.expression=d};m.ExpressionStatement=se;var oe=function oe(d,m,g){this.type=v.Syntax.ForInStatement,this.left=d,this.right=m,this.body=g,this.each=!1};m.ForInStatement=oe;var ae=function ae(d,m,g){this.type=v.Syntax.ForOfStatement,this.left=d,this.right=m,this.body=g};m.ForOfStatement=ae;var ce=function ce(d,m,g,y){this.type=v.Syntax.ForStatement,this.init=d,this.test=m,this.update=g,this.body=y};m.ForStatement=ce;var le=function le(d,m,g,y){this.type=v.Syntax.FunctionDeclaration,this.id=d,this.params=m,this.body=g,this.generator=y,this.expression=!1,this.async=!1};m.FunctionDeclaration=le;var de=function de(d,m,g,y){this.type=v.Syntax.FunctionExpression,this.id=d,this.params=m,this.body=g,this.generator=y,this.expression=!1,this.async=!1};m.FunctionExpression=de;var he=function he(d){this.type=v.Syntax.Identifier,this.name=d};m.Identifier=he;var pe=function pe(d,m,g){this.type=v.Syntax.IfStatement,this.test=d,this.consequent=m,this.alternate=g};m.IfStatement=pe;var me=function me(d,m){this.type=v.Syntax.ImportDeclaration,this.specifiers=d,this.source=m};m.ImportDeclaration=me;var fe=function fe(d){this.type=v.Syntax.ImportDefaultSpecifier,this.local=d};m.ImportDefaultSpecifier=fe;var ge=function ge(d){this.type=v.Syntax.ImportNamespaceSpecifier,this.local=d};m.ImportNamespaceSpecifier=ge;var ve=function ve(d,m){this.type=v.Syntax.ImportSpecifier,this.local=d,this.imported=m};m.ImportSpecifier=ve;var ye=function ye(d,m){this.type=v.Syntax.LabeledStatement,this.label=d,this.body=m};m.LabeledStatement=ye;var Se=function Se(d,m){this.type=v.Syntax.Literal,this.value=d,this.raw=m};m.Literal=Se;var Ee=function Ee(d,m){this.type=v.Syntax.MetaProperty,this.meta=d,this.property=m};m.MetaProperty=Ee;var Ce=function Ce(d,m,g,y,C){this.type=v.Syntax.MethodDefinition,this.key=d,this.computed=m,this.value=g,this.kind=y,this.static=C};m.MethodDefinition=Ce;var _e=function _e(d){this.type=v.Syntax.Program,this.body=d,this.sourceType="module"};m.Module=_e;var Te=function Te(d,m){this.type=v.Syntax.NewExpression,this.callee=d,this.arguments=m};m.NewExpression=Te;var be=function be(d){this.type=v.Syntax.ObjectExpression,this.properties=d};m.ObjectExpression=be;var Ae=function Ae(d){this.type=v.Syntax.ObjectPattern,this.properties=d};m.ObjectPattern=Ae;var Pe=function Pe(d,m,g,y,C,_){this.type=v.Syntax.Property,this.key=m,this.computed=g,this.value=y,this.kind=d,this.method=C,this.shorthand=_};m.Property=Pe;var ke=function ke(d,m,g,y){this.type=v.Syntax.Literal,this.value=d,this.raw=m,this.regex={pattern:g,flags:y}};m.RegexLiteral=ke;var Ne=function Ne(d){this.type=v.Syntax.RestElement,this.argument=d};m.RestElement=Ne;var De=function De(d){this.type=v.Syntax.ReturnStatement,this.argument=d};m.ReturnStatement=De;var Ie=function Ie(d){this.type=v.Syntax.Program,this.body=d,this.sourceType="script"};m.Script=Ie;var Oe=function Oe(d){this.type=v.Syntax.SequenceExpression,this.expressions=d};m.SequenceExpression=Oe;var xe=function xe(d){this.type=v.Syntax.SpreadElement,this.argument=d};m.SpreadElement=xe;var Le=function Le(d,m){this.type=v.Syntax.MemberExpression,this.computed=!1,this.object=d,this.property=m};m.StaticMemberExpression=Le;var Fe=function Fe(){this.type=v.Syntax.Super};m.Super=Fe;var Ue=function Ue(d,m){this.type=v.Syntax.SwitchCase,this.test=d,this.consequent=m};m.SwitchCase=Ue;var je=function je(d,m){this.type=v.Syntax.SwitchStatement,this.discriminant=d,this.cases=m};m.SwitchStatement=je;var Be=function Be(d,m){this.type=v.Syntax.TaggedTemplateExpression,this.tag=d,this.quasi=m};m.TaggedTemplateExpression=Be;var He=function He(d,m){this.type=v.Syntax.TemplateElement,this.value=d,this.tail=m};m.TemplateElement=He;var $e=function $e(d,m){this.type=v.Syntax.TemplateLiteral,this.quasis=d,this.expressions=m};m.TemplateLiteral=$e;var qe=function qe(){this.type=v.Syntax.ThisExpression};m.ThisExpression=qe;var ze=function ze(d){this.type=v.Syntax.ThrowStatement,this.argument=d};m.ThrowStatement=ze;var Ge=function Ge(d,m,g){this.type=v.Syntax.TryStatement,this.block=d,this.handler=m,this.finalizer=g};m.TryStatement=Ge;var Je=function Je(d,m){this.type=v.Syntax.UnaryExpression,this.operator=d,this.argument=m,this.prefix=!0};m.UnaryExpression=Je;var Xe=function Xe(d,m,g){this.type=v.Syntax.UpdateExpression,this.operator=d,this.argument=m,this.prefix=g};m.UpdateExpression=Xe;var Ze=function Ze(d,m){this.type=v.Syntax.VariableDeclaration,this.declarations=d,this.kind=m};m.VariableDeclaration=Ze;var et=function et(d,m){this.type=v.Syntax.VariableDeclarator,this.id=d,this.init=m};m.VariableDeclarator=et;var tt=function tt(d,m){this.type=v.Syntax.WhileStatement,this.test=d,this.body=m};m.WhileStatement=tt;var rt=function rt(d,m){this.type=v.Syntax.WithStatement,this.object=d,this.body=m};m.WithStatement=rt;var nt=function nt(d,m){this.type=v.Syntax.YieldExpression,this.argument=d,this.delegate=m};m.YieldExpression=nt},function(d,m,g){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var v=g(9),y=g(10),C=g(11),_=g(7),T=g(12),b=g(2),A=g(13),P="ArrowParameterPlaceHolder",R=function(){function Parser(d,m,g){void 0===m&&(m={}),this.config={range:"boolean"==typeof m.range&&m.range,loc:"boolean"==typeof m.loc&&m.loc,source:null,tokens:"boolean"==typeof m.tokens&&m.tokens,comment:"boolean"==typeof m.comment&&m.comment,tolerant:"boolean"==typeof m.tolerant&&m.tolerant},this.config.loc&&m.source&&null!==m.source&&(this.config.source=String(m.source)),this.delegate=g,this.errorHandler=new y.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new T.Scanner(d,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return Parser.prototype.throwError=function(d){for(var m=[],g=1;g<arguments.length;g++)m[g-1]=arguments[g];var y=Array.prototype.slice.call(arguments,1),C=d.replace(/%(\d)/g,(function(d,m){return v.assert(m<y.length,"Message reference must be in range"),y[m]})),_=this.lastMarker.index,T=this.lastMarker.line,b=this.lastMarker.column+1;throw this.errorHandler.createError(_,T,b,C)},Parser.prototype.tolerateError=function(d){for(var m=[],g=1;g<arguments.length;g++)m[g-1]=arguments[g];var y=Array.prototype.slice.call(arguments,1),C=d.replace(/%(\d)/g,(function(d,m){return v.assert(m<y.length,"Message reference must be in range"),y[m]})),_=this.lastMarker.index,T=this.scanner.lineNumber,b=this.lastMarker.column+1;this.errorHandler.tolerateError(_,T,b,C)},Parser.prototype.unexpectedTokenError=function(d,m){var g,v=m||C.Messages.UnexpectedToken;if(d?(m||(v=2===d.type?C.Messages.UnexpectedEOS:3===d.type?C.Messages.UnexpectedIdentifier:6===d.type?C.Messages.UnexpectedNumber:8===d.type?C.Messages.UnexpectedString:10===d.type?C.Messages.UnexpectedTemplate:C.Messages.UnexpectedToken,4===d.type&&(this.scanner.isFutureReservedWord(d.value)?v=C.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(d.value)&&(v=C.Messages.StrictReservedWord))),g=d.value):g="ILLEGAL",v=v.replace("%0",g),d&&"number"==typeof d.lineNumber){var y=d.start,_=d.lineNumber,T=this.lastMarker.index-this.lastMarker.column,b=d.start-T+1;return this.errorHandler.createError(y,_,b,v)}y=this.lastMarker.index,_=this.lastMarker.line,b=this.lastMarker.column+1;return this.errorHandler.createError(y,_,b,v)},Parser.prototype.throwUnexpectedToken=function(d,m){throw this.unexpectedTokenError(d,m)},Parser.prototype.tolerateUnexpectedToken=function(d,m){this.errorHandler.tolerate(this.unexpectedTokenError(d,m))},Parser.prototype.collectComments=function(){if(this.config.comment){var d=this.scanner.scanComments();if(d.length>0&&this.delegate)for(var m=0;m<d.length;++m){var g=d[m],v=void 0;v={type:g.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(g.slice[0],g.slice[1])},this.config.range&&(v.range=g.range),this.config.loc&&(v.loc=g.loc);var y={start:{line:g.loc.start.line,column:g.loc.start.column,offset:g.range[0]},end:{line:g.loc.end.line,column:g.loc.end.column,offset:g.range[1]}};this.delegate(v,y)}}else this.scanner.scanComments()},Parser.prototype.getTokenRaw=function(d){return this.scanner.source.slice(d.start,d.end)},Parser.prototype.convertToken=function(d){var m={type:A.TokenName[d.type],value:this.getTokenRaw(d)};if(this.config.range&&(m.range=[d.start,d.end]),this.config.loc&&(m.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),9===d.type){var g=d.pattern,v=d.flags;m.regex={pattern:g,flags:v}}return m},Parser.prototype.nextToken=function(){var d=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var m=this.scanner.lex();return this.hasLineTerminator=d.lineNumber!==m.lineNumber,m&&this.context.strict&&3===m.type&&this.scanner.isStrictModeReservedWord(m.value)&&(m.type=4),this.lookahead=m,this.config.tokens&&2!==m.type&&this.tokens.push(this.convertToken(m)),d},Parser.prototype.nextRegexToken=function(){this.collectComments();var d=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(d))),this.lookahead=d,this.nextToken(),d},Parser.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},Parser.prototype.startNode=function(d,m){void 0===m&&(m=0);var g=d.start-d.lineStart,v=d.lineNumber;return g<0&&(g+=m,v--),{index:d.start,line:v,column:g}},Parser.prototype.finalize=function(d,m){if(this.config.range&&(m.range=[d.index,this.lastMarker.index]),this.config.loc&&(m.loc={start:{line:d.line,column:d.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(m.loc.source=this.config.source)),this.delegate){var g={start:{line:d.line,column:d.column,offset:d.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(m,g)}return m},Parser.prototype.expect=function(d){var m=this.nextToken();7===m.type&&m.value===d||this.throwUnexpectedToken(m)},Parser.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var d=this.lookahead;7===d.type&&","===d.value?this.nextToken():7===d.type&&";"===d.value?(this.nextToken(),this.tolerateUnexpectedToken(d)):this.tolerateUnexpectedToken(d,C.Messages.UnexpectedToken)}else this.expect(",")},Parser.prototype.expectKeyword=function(d){var m=this.nextToken();4===m.type&&m.value===d||this.throwUnexpectedToken(m)},Parser.prototype.match=function(d){return 7===this.lookahead.type&&this.lookahead.value===d},Parser.prototype.matchKeyword=function(d){return 4===this.lookahead.type&&this.lookahead.value===d},Parser.prototype.matchContextualKeyword=function(d){return 3===this.lookahead.type&&this.lookahead.value===d},Parser.prototype.matchAssign=function(){if(7!==this.lookahead.type)return!1;var d=this.lookahead.value;return"="===d||"*="===d||"**="===d||"/="===d||"%="===d||"+="===d||"-="===d||"<<="===d||">>="===d||">>>="===d||"&="===d||"^="===d||"|="===d},Parser.prototype.isolateCoverGrammar=function(d){var m=this.context.isBindingElement,g=this.context.isAssignmentTarget,v=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var y=d.call(this);return null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=m,this.context.isAssignmentTarget=g,this.context.firstCoverInitializedNameError=v,y},Parser.prototype.inheritCoverGrammar=function(d){var m=this.context.isBindingElement,g=this.context.isAssignmentTarget,v=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var y=d.call(this);return this.context.isBindingElement=this.context.isBindingElement&&m,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&g,this.context.firstCoverInitializedNameError=v||this.context.firstCoverInitializedNameError,y},Parser.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},Parser.prototype.parsePrimaryExpression=function(){var d,m,g,v=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&"await"===this.lookahead.value&&this.tolerateUnexpectedToken(this.lookahead),d=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(v,new _.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,C.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,m=this.nextToken(),g=this.getTokenRaw(m),d=this.finalize(v,new _.Literal(m.value,g));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,m=this.nextToken(),g=this.getTokenRaw(m),d=this.finalize(v,new _.Literal("true"===m.value,g));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,m=this.nextToken(),g=this.getTokenRaw(m),d=this.finalize(v,new _.Literal(null,g));break;case 10:d=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,d=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":d=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":d=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,m=this.nextRegexToken(),g=this.getTokenRaw(m),d=this.finalize(v,new _.RegexLiteral(m.regex,g,m.pattern,m.flags));break;default:d=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?d=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?d=this.finalize(v,new _.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?d=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),d=this.finalize(v,new _.ThisExpression)):d=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:d=this.throwUnexpectedToken(this.nextToken())}return d},Parser.prototype.parseSpreadElement=function(){var d=this.createNode();this.expect("...");var m=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(d,new _.SpreadElement(m))},Parser.prototype.parseArrayInitializer=function(){var d=this.createNode(),m=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),m.push(null);else if(this.match("...")){var g=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),m.push(g)}else m.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(d,new _.ArrayExpression(m))},Parser.prototype.parsePropertyMethod=function(d){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var m=this.context.strict,g=this.context.allowStrictDirective;this.context.allowStrictDirective=d.simple;var v=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&d.firstRestricted&&this.tolerateUnexpectedToken(d.firstRestricted,d.message),this.context.strict&&d.stricted&&this.tolerateUnexpectedToken(d.stricted,d.message),this.context.strict=m,this.context.allowStrictDirective=g,v},Parser.prototype.parsePropertyMethodFunction=function(){var d=this.createNode(),m=this.context.allowYield;this.context.allowYield=!0;var g=this.parseFormalParameters(),v=this.parsePropertyMethod(g);return this.context.allowYield=m,this.finalize(d,new _.FunctionExpression(null,g.params,v,!1))},Parser.prototype.parsePropertyMethodAsyncFunction=function(){var d=this.createNode(),m=this.context.allowYield,g=this.context.await;this.context.allowYield=!1,this.context.await=!0;var v=this.parseFormalParameters(),y=this.parsePropertyMethod(v);return this.context.allowYield=m,this.context.await=g,this.finalize(d,new _.AsyncFunctionExpression(null,v.params,y))},Parser.prototype.parseObjectPropertyKey=function(){var d,m=this.createNode(),g=this.nextToken();switch(g.type){case 8:case 6:this.context.strict&&g.octal&&this.tolerateUnexpectedToken(g,C.Messages.StrictOctalLiteral);var v=this.getTokenRaw(g);d=this.finalize(m,new _.Literal(g.value,v));break;case 3:case 1:case 5:case 4:d=this.finalize(m,new _.Identifier(g.value));break;case 7:"["===g.value?(d=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):d=this.throwUnexpectedToken(g);break;default:d=this.throwUnexpectedToken(g)}return d},Parser.prototype.isPropertyKey=function(d,m){return d.type===b.Syntax.Identifier&&d.name===m||d.type===b.Syntax.Literal&&d.value===m},Parser.prototype.parseObjectProperty=function(d){var m,g=this.createNode(),v=this.lookahead,y=null,T=null,b=!1,A=!1,P=!1,R=!1;if(3===v.type){var k=v.value;this.nextToken(),b=this.match("["),y=(R=!(this.hasLineTerminator||"async"!==k||this.match(":")||this.match("(")||this.match("*")||this.match(",")))?this.parseObjectPropertyKey():this.finalize(g,new _.Identifier(k))}else this.match("*")?this.nextToken():(b=this.match("["),y=this.parseObjectPropertyKey());var M=this.qualifiedPropertyName(this.lookahead);if(3===v.type&&!R&&"get"===v.value&&M)m="get",b=this.match("["),y=this.parseObjectPropertyKey(),this.context.allowYield=!1,T=this.parseGetterMethod();else if(3===v.type&&!R&&"set"===v.value&&M)m="set",b=this.match("["),y=this.parseObjectPropertyKey(),T=this.parseSetterMethod();else if(7===v.type&&"*"===v.value&&M)m="init",b=this.match("["),y=this.parseObjectPropertyKey(),T=this.parseGeneratorMethod(),A=!0;else if(y||this.throwUnexpectedToken(this.lookahead),m="init",this.match(":")&&!R)!b&&this.isPropertyKey(y,"__proto__")&&(d.value&&this.tolerateError(C.Messages.DuplicateProtoProperty),d.value=!0),this.nextToken(),T=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))T=R?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),A=!0;else if(3===v.type){k=this.finalize(g,new _.Identifier(v.value));if(this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),P=!0;var I=this.isolateCoverGrammar(this.parseAssignmentExpression);T=this.finalize(g,new _.AssignmentPattern(k,I))}else P=!0,T=k}else this.throwUnexpectedToken(this.nextToken());return this.finalize(g,new _.Property(m,y,b,T,A,P))},Parser.prototype.parseObjectInitializer=function(){var d=this.createNode();this.expect("{");for(var m=[],g={value:!1};!this.match("}");)m.push(this.parseObjectProperty(g)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(d,new _.ObjectExpression(m))},Parser.prototype.parseTemplateHead=function(){v.assert(this.lookahead.head,"Template literal must start with a template head");var d=this.createNode(),m=this.nextToken(),g=m.value,y=m.cooked;return this.finalize(d,new _.TemplateElement({raw:g,cooked:y},m.tail))},Parser.prototype.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();var d=this.createNode(),m=this.nextToken(),g=m.value,v=m.cooked;return this.finalize(d,new _.TemplateElement({raw:g,cooked:v},m.tail))},Parser.prototype.parseTemplateLiteral=function(){var d=this.createNode(),m=[],g=[],v=this.parseTemplateHead();for(g.push(v);!v.tail;)m.push(this.parseExpression()),v=this.parseTemplateElement(),g.push(v);return this.finalize(d,new _.TemplateLiteral(g,m))},Parser.prototype.reinterpretExpressionAsPattern=function(d){switch(d.type){case b.Syntax.Identifier:case b.Syntax.MemberExpression:case b.Syntax.RestElement:case b.Syntax.AssignmentPattern:break;case b.Syntax.SpreadElement:d.type=b.Syntax.RestElement,this.reinterpretExpressionAsPattern(d.argument);break;case b.Syntax.ArrayExpression:d.type=b.Syntax.ArrayPattern;for(var m=0;m<d.elements.length;m++)null!==d.elements[m]&&this.reinterpretExpressionAsPattern(d.elements[m]);break;case b.Syntax.ObjectExpression:d.type=b.Syntax.ObjectPattern;for(m=0;m<d.properties.length;m++)this.reinterpretExpressionAsPattern(d.properties[m].value);break;case b.Syntax.AssignmentExpression:d.type=b.Syntax.AssignmentPattern,delete d.operator,this.reinterpretExpressionAsPattern(d.left)}},Parser.prototype.parseGroupExpression=function(){var d;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),d={type:P,params:[],async:!1};else{var m=this.lookahead,g=[];if(this.match("..."))d=this.parseRestElement(g),this.expect(")"),this.match("=>")||this.expect("=>"),d={type:P,params:[d],async:!1};else{var v=!1;if(this.context.isBindingElement=!0,d=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var y=[];for(this.context.isAssignmentTarget=!1,y.push(d);2!==this.lookahead.type&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var C=0;C<y.length;C++)this.reinterpretExpressionAsPattern(y[C]);v=!0,d={type:P,params:y,async:!1}}else if(this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),y.push(this.parseRestElement(g)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1;for(C=0;C<y.length;C++)this.reinterpretExpressionAsPattern(y[C]);v=!0,d={type:P,params:y,async:!1}}else y.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(v)break}v||(d=this.finalize(this.startNode(m),new _.SequenceExpression(y)))}if(!v){if(this.expect(")"),this.match("=>")&&(d.type===b.Syntax.Identifier&&"yield"===d.name&&(v=!0,d={type:P,params:[d],async:!1}),!v)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),d.type===b.Syntax.SequenceExpression)for(C=0;C<d.expressions.length;C++)this.reinterpretExpressionAsPattern(d.expressions[C]);else this.reinterpretExpressionAsPattern(d);var T=d.type===b.Syntax.SequenceExpression?d.expressions:[d];d={type:P,params:T,async:!1}}this.context.isBindingElement=!1}}}return d},Parser.prototype.parseArguments=function(){this.expect("(");var d=[];if(!this.match(")"))for(;;){var m=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(d.push(m),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),d},Parser.prototype.isIdentifierName=function(d){return 3===d.type||4===d.type||1===d.type||5===d.type},Parser.prototype.parseIdentifierName=function(){var d=this.createNode(),m=this.nextToken();return this.isIdentifierName(m)||this.throwUnexpectedToken(m),this.finalize(d,new _.Identifier(m.value))},Parser.prototype.parseNewExpression=function(){var d,m=this.createNode(),g=this.parseIdentifierName();if(v.assert("new"===g.name,"New expression must start with `new`"),this.match("."))if(this.nextToken(),3===this.lookahead.type&&this.context.inFunctionBody&&"target"===this.lookahead.value){var y=this.parseIdentifierName();d=new _.MetaProperty(g,y)}else this.throwUnexpectedToken(this.lookahead);else{var C=this.isolateCoverGrammar(this.parseLeftHandSideExpression),T=this.match("(")?this.parseArguments():[];d=new _.NewExpression(C,T),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(m,d)},Parser.prototype.parseAsyncArgument=function(){var d=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,d},Parser.prototype.parseAsyncArguments=function(){this.expect("(");var d=[];if(!this.match(")"))for(;;){var m=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(d.push(m),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),d},Parser.prototype.parseLeftHandSideExpressionAllowCall=function(){var d,m=this.lookahead,g=this.matchContextualKeyword("async"),v=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(d=this.createNode(),this.nextToken(),d=this.finalize(d,new _.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):d=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var y=this.parseIdentifierName();d=this.finalize(this.startNode(m),new _.StaticMemberExpression(d,y))}else if(this.match("(")){var C=g&&m.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var T=C?this.parseAsyncArguments():this.parseArguments();if(d=this.finalize(this.startNode(m),new _.CallExpression(d,T)),C&&this.match("=>")){for(var b=0;b<T.length;++b)this.reinterpretExpressionAsPattern(T[b]);d={type:P,params:T,async:!0}}}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");y=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),d=this.finalize(this.startNode(m),new _.ComputedMemberExpression(d,y))}else{if(10!==this.lookahead.type||!this.lookahead.head)break;var A=this.parseTemplateLiteral();d=this.finalize(this.startNode(m),new _.TaggedTemplateExpression(d,A))}return this.context.allowIn=v,d},Parser.prototype.parseSuper=function(){var d=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(d,new _.Super)},Parser.prototype.parseLeftHandSideExpression=function(){v.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var d=this.startNode(this.lookahead),m=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var g=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),m=this.finalize(d,new _.ComputedMemberExpression(m,g))}else if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");g=this.parseIdentifierName();m=this.finalize(d,new _.StaticMemberExpression(m,g))}else{if(10!==this.lookahead.type||!this.lookahead.head)break;var y=this.parseTemplateLiteral();m=this.finalize(d,new _.TaggedTemplateExpression(m,y))}return m},Parser.prototype.parseUpdateExpression=function(){var d,m=this.lookahead;if(this.match("++")||this.match("--")){var g=this.startNode(m),v=this.nextToken();d=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&d.type===b.Syntax.Identifier&&this.scanner.isRestrictedWord(d.name)&&this.tolerateError(C.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(C.Messages.InvalidLHSInAssignment);var y=!0;d=this.finalize(g,new _.UpdateExpression(v.value,d,y)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(d=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&7===this.lookahead.type&&(this.match("++")||this.match("--"))){this.context.strict&&d.type===b.Syntax.Identifier&&this.scanner.isRestrictedWord(d.name)&&this.tolerateError(C.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(C.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var T=this.nextToken().value;y=!1;d=this.finalize(this.startNode(m),new _.UpdateExpression(T,d,y))}return d},Parser.prototype.parseAwaitExpression=function(){var d=this.createNode();this.nextToken();var m=this.parseUnaryExpression();return this.finalize(d,new _.AwaitExpression(m))},Parser.prototype.parseUnaryExpression=function(){var d;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var m=this.startNode(this.lookahead),g=this.nextToken();d=this.inheritCoverGrammar(this.parseUnaryExpression),d=this.finalize(m,new _.UnaryExpression(g.value,d)),this.context.strict&&"delete"===d.operator&&d.argument.type===b.Syntax.Identifier&&this.tolerateError(C.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else d=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return d},Parser.prototype.parseExponentiationExpression=function(){var d=this.lookahead,m=this.inheritCoverGrammar(this.parseUnaryExpression);if(m.type!==b.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var g=m,v=this.isolateCoverGrammar(this.parseExponentiationExpression);m=this.finalize(this.startNode(d),new _.BinaryExpression("**",g,v))}return m},Parser.prototype.binaryPrecedence=function(d){var m=d.value;return 7===d.type?this.operatorPrecedence[m]||0:4===d.type&&("instanceof"===m||this.context.allowIn&&"in"===m)?7:0},Parser.prototype.parseBinaryExpression=function(){var d=this.lookahead,m=this.inheritCoverGrammar(this.parseExponentiationExpression),g=this.lookahead,v=this.binaryPrecedence(g);if(v>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var y=[d,this.lookahead],C=m,T=this.isolateCoverGrammar(this.parseExponentiationExpression),b=[C,g.value,T],A=[v];!((v=this.binaryPrecedence(this.lookahead))<=0);){for(;b.length>2&&v<=A[A.length-1];){T=b.pop();var P=b.pop();A.pop(),C=b.pop(),y.pop();var R=this.startNode(y[y.length-1]);b.push(this.finalize(R,new _.BinaryExpression(P,C,T)))}b.push(this.nextToken().value),A.push(v),y.push(this.lookahead),b.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var k=b.length-1;m=b[k];for(var M=y.pop();k>1;){var I=y.pop(),O=M&&M.lineStart;R=this.startNode(I,O),P=b[k-1];m=this.finalize(R,new _.BinaryExpression(P,b[k-2],m)),k-=2,M=I}}return m},Parser.prototype.parseConditionalExpression=function(){var d=this.lookahead,m=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var g=this.context.allowIn;this.context.allowIn=!0;var v=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=g,this.expect(":");var y=this.isolateCoverGrammar(this.parseAssignmentExpression);m=this.finalize(this.startNode(d),new _.ConditionalExpression(m,v,y)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return m},Parser.prototype.checkPatternParam=function(d,m){switch(m.type){case b.Syntax.Identifier:this.validateParam(d,m,m.name);break;case b.Syntax.RestElement:this.checkPatternParam(d,m.argument);break;case b.Syntax.AssignmentPattern:this.checkPatternParam(d,m.left);break;case b.Syntax.ArrayPattern:for(var g=0;g<m.elements.length;g++)null!==m.elements[g]&&this.checkPatternParam(d,m.elements[g]);break;case b.Syntax.ObjectPattern:for(g=0;g<m.properties.length;g++)this.checkPatternParam(d,m.properties[g].value)}d.simple=d.simple&&m instanceof _.Identifier},Parser.prototype.reinterpretAsCoverFormalsList=function(d){var m,g=[d],v=!1;switch(d.type){case b.Syntax.Identifier:break;case P:g=d.params,v=d.async;break;default:return null}m={simple:!0,paramSet:{}};for(var y=0;y<g.length;++y){(_=g[y]).type===b.Syntax.AssignmentPattern?_.right.type===b.Syntax.YieldExpression&&(_.right.argument&&this.throwUnexpectedToken(this.lookahead),_.right.type=b.Syntax.Identifier,_.right.name="yield",delete _.right.argument,delete _.right.delegate):v&&_.type===b.Syntax.Identifier&&"await"===_.name&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(m,_),g[y]=_}if(this.context.strict||!this.context.allowYield)for(y=0;y<g.length;++y){var _;(_=g[y]).type===b.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(m.message===C.Messages.StrictParamDupe){var T=this.context.strict?m.stricted:m.firstRestricted;this.throwUnexpectedToken(T,m.message)}return{simple:m.simple,params:g,stricted:m.stricted,firstRestricted:m.firstRestricted,message:m.message}},Parser.prototype.parseAssignmentExpression=function(){var d;if(!this.context.allowYield&&this.matchKeyword("yield"))d=this.parseYieldExpression();else{var m=this.lookahead,g=m;if(d=this.parseConditionalExpression(),3===g.type&&g.lineNumber===this.lookahead.lineNumber&&"async"===g.value&&(3===this.lookahead.type||this.matchKeyword("yield"))){var v=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(v),d={type:P,params:[v],async:!0}}if(d.type===P||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var y=d.async,T=this.reinterpretAsCoverFormalsList(d);if(T){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var A=this.context.strict,R=this.context.allowStrictDirective;this.context.allowStrictDirective=T.simple;var k=this.context.allowYield,M=this.context.await;this.context.allowYield=!0,this.context.await=y;var I=this.startNode(m);this.expect("=>");var O=void 0;if(this.match("{")){var x=this.context.allowIn;this.context.allowIn=!0,O=this.parseFunctionSourceElements(),this.context.allowIn=x}else O=this.isolateCoverGrammar(this.parseAssignmentExpression);var L=O.type!==b.Syntax.BlockStatement;this.context.strict&&T.firstRestricted&&this.throwUnexpectedToken(T.firstRestricted,T.message),this.context.strict&&T.stricted&&this.tolerateUnexpectedToken(T.stricted,T.message),d=y?this.finalize(I,new _.AsyncArrowFunctionExpression(T.params,O,L)):this.finalize(I,new _.ArrowFunctionExpression(T.params,O,L)),this.context.strict=A,this.context.allowStrictDirective=R,this.context.allowYield=k,this.context.await=M}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(C.Messages.InvalidLHSInAssignment),this.context.strict&&d.type===b.Syntax.Identifier){var U=d;this.scanner.isRestrictedWord(U.name)&&this.tolerateUnexpectedToken(g,C.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(U.name)&&this.tolerateUnexpectedToken(g,C.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(d):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var j=(g=this.nextToken()).value,B=this.isolateCoverGrammar(this.parseAssignmentExpression);d=this.finalize(this.startNode(m),new _.AssignmentExpression(j,d,B)),this.context.firstCoverInitializedNameError=null}}return d},Parser.prototype.parseExpression=function(){var d=this.lookahead,m=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var g=[];for(g.push(m);2!==this.lookahead.type&&this.match(",");)this.nextToken(),g.push(this.isolateCoverGrammar(this.parseAssignmentExpression));m=this.finalize(this.startNode(d),new _.SequenceExpression(g))}return m},Parser.prototype.parseStatementListItem=function(){var d;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,4===this.lookahead.type)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,C.Messages.IllegalExportDeclaration),d=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,C.Messages.IllegalImportDeclaration),d=this.parseImportDeclaration();break;case"const":d=this.parseLexicalDeclaration({inFor:!1});break;case"function":d=this.parseFunctionDeclaration();break;case"class":d=this.parseClassDeclaration();break;case"let":d=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:d=this.parseStatement()}else d=this.parseStatement();return d},Parser.prototype.parseBlock=function(){var d=this.createNode();this.expect("{");for(var m=[];!this.match("}");)m.push(this.parseStatementListItem());return this.expect("}"),this.finalize(d,new _.BlockStatement(m))},Parser.prototype.parseLexicalBinding=function(d,m){var g=this.createNode(),v=this.parsePattern([],d);this.context.strict&&v.type===b.Syntax.Identifier&&this.scanner.isRestrictedWord(v.name)&&this.tolerateError(C.Messages.StrictVarName);var y=null;return"const"===d?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),y=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(C.Messages.DeclarationMissingInitializer,"const")):(!m.inFor&&v.type!==b.Syntax.Identifier||this.match("="))&&(this.expect("="),y=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(g,new _.VariableDeclarator(v,y))},Parser.prototype.parseBindingList=function(d,m){for(var g=[this.parseLexicalBinding(d,m)];this.match(",");)this.nextToken(),g.push(this.parseLexicalBinding(d,m));return g},Parser.prototype.isLexicalDeclaration=function(){var d=this.scanner.saveState();this.scanner.scanComments();var m=this.scanner.lex();return this.scanner.restoreState(d),3===m.type||7===m.type&&"["===m.value||7===m.type&&"{"===m.value||4===m.type&&"let"===m.value||4===m.type&&"yield"===m.value},Parser.prototype.parseLexicalDeclaration=function(d){var m=this.createNode(),g=this.nextToken().value;v.assert("let"===g||"const"===g,"Lexical declaration must be either let or const");var y=this.parseBindingList(g,d);return this.consumeSemicolon(),this.finalize(m,new _.VariableDeclaration(y,g))},Parser.prototype.parseBindingRestElement=function(d,m){var g=this.createNode();this.expect("...");var v=this.parsePattern(d,m);return this.finalize(g,new _.RestElement(v))},Parser.prototype.parseArrayPattern=function(d,m){var g=this.createNode();this.expect("[");for(var v=[];!this.match("]");)if(this.match(","))this.nextToken(),v.push(null);else{if(this.match("...")){v.push(this.parseBindingRestElement(d,m));break}v.push(this.parsePatternWithDefault(d,m)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(g,new _.ArrayPattern(v))},Parser.prototype.parsePropertyPattern=function(d,m){var g,v,y=this.createNode(),C=!1,T=!1;if(3===this.lookahead.type){var b=this.lookahead;g=this.parseVariableIdentifier();var A=this.finalize(y,new _.Identifier(b.value));if(this.match("=")){d.push(b),T=!0,this.nextToken();var P=this.parseAssignmentExpression();v=this.finalize(this.startNode(b),new _.AssignmentPattern(A,P))}else this.match(":")?(this.expect(":"),v=this.parsePatternWithDefault(d,m)):(d.push(b),T=!0,v=A)}else C=this.match("["),g=this.parseObjectPropertyKey(),this.expect(":"),v=this.parsePatternWithDefault(d,m);return this.finalize(y,new _.Property("init",g,C,v,!1,T))},Parser.prototype.parseObjectPattern=function(d,m){var g=this.createNode(),v=[];for(this.expect("{");!this.match("}");)v.push(this.parsePropertyPattern(d,m)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(g,new _.ObjectPattern(v))},Parser.prototype.parsePattern=function(d,m){var g;return this.match("[")?g=this.parseArrayPattern(d,m):this.match("{")?g=this.parseObjectPattern(d,m):(!this.matchKeyword("let")||"const"!==m&&"let"!==m||this.tolerateUnexpectedToken(this.lookahead,C.Messages.LetInLexicalBinding),d.push(this.lookahead),g=this.parseVariableIdentifier(m)),g},Parser.prototype.parsePatternWithDefault=function(d,m){var g=this.lookahead,v=this.parsePattern(d,m);if(this.match("=")){this.nextToken();var y=this.context.allowYield;this.context.allowYield=!0;var C=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=y,v=this.finalize(this.startNode(g),new _.AssignmentPattern(v,C))}return v},Parser.prototype.parseVariableIdentifier=function(d){var m=this.createNode(),g=this.nextToken();return 4===g.type&&"yield"===g.value?this.context.strict?this.tolerateUnexpectedToken(g,C.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(g):3!==g.type?this.context.strict&&4===g.type&&this.scanner.isStrictModeReservedWord(g.value)?this.tolerateUnexpectedToken(g,C.Messages.StrictReservedWord):(this.context.strict||"let"!==g.value||"var"!==d)&&this.throwUnexpectedToken(g):(this.context.isModule||this.context.await)&&3===g.type&&"await"===g.value&&this.tolerateUnexpectedToken(g),this.finalize(m,new _.Identifier(g.value))},Parser.prototype.parseVariableDeclaration=function(d){var m=this.createNode(),g=this.parsePattern([],"var");this.context.strict&&g.type===b.Syntax.Identifier&&this.scanner.isRestrictedWord(g.name)&&this.tolerateError(C.Messages.StrictVarName);var v=null;return this.match("=")?(this.nextToken(),v=this.isolateCoverGrammar(this.parseAssignmentExpression)):g.type===b.Syntax.Identifier||d.inFor||this.expect("="),this.finalize(m,new _.VariableDeclarator(g,v))},Parser.prototype.parseVariableDeclarationList=function(d){var m={inFor:d.inFor},g=[];for(g.push(this.parseVariableDeclaration(m));this.match(",");)this.nextToken(),g.push(this.parseVariableDeclaration(m));return g},Parser.prototype.parseVariableStatement=function(){var d=this.createNode();this.expectKeyword("var");var m=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(d,new _.VariableDeclaration(m,"var"))},Parser.prototype.parseEmptyStatement=function(){var d=this.createNode();return this.expect(";"),this.finalize(d,new _.EmptyStatement)},Parser.prototype.parseExpressionStatement=function(){var d=this.createNode(),m=this.parseExpression();return this.consumeSemicolon(),this.finalize(d,new _.ExpressionStatement(m))},Parser.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(C.Messages.StrictFunction),this.parseStatement()},Parser.prototype.parseIfStatement=function(){var d,m=this.createNode(),g=null;this.expectKeyword("if"),this.expect("(");var v=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),d=this.finalize(this.createNode(),new _.EmptyStatement)):(this.expect(")"),d=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),g=this.parseIfClause())),this.finalize(m,new _.IfStatement(v,d,g))},Parser.prototype.parseDoWhileStatement=function(){var d=this.createNode();this.expectKeyword("do");var m=this.context.inIteration;this.context.inIteration=!0;var g=this.parseStatement();this.context.inIteration=m,this.expectKeyword("while"),this.expect("(");var v=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(d,new _.DoWhileStatement(g,v))},Parser.prototype.parseWhileStatement=function(){var d,m=this.createNode();this.expectKeyword("while"),this.expect("(");var g=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),d=this.finalize(this.createNode(),new _.EmptyStatement);else{this.expect(")");var v=this.context.inIteration;this.context.inIteration=!0,d=this.parseStatement(),this.context.inIteration=v}return this.finalize(m,new _.WhileStatement(g,d))},Parser.prototype.parseForStatement=function(){var d,m,g,v=null,y=null,T=null,A=!0,P=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){v=this.createNode(),this.nextToken();var R=this.context.allowIn;this.context.allowIn=!1;var k=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=R,1===k.length&&this.matchKeyword("in")){var M=k[0];M.init&&(M.id.type===b.Syntax.ArrayPattern||M.id.type===b.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(C.Messages.ForInOfLoopInitializer,"for-in"),v=this.finalize(v,new _.VariableDeclaration(k,"var")),this.nextToken(),d=v,m=this.parseExpression(),v=null}else 1===k.length&&null===k[0].init&&this.matchContextualKeyword("of")?(v=this.finalize(v,new _.VariableDeclaration(k,"var")),this.nextToken(),d=v,m=this.parseAssignmentExpression(),v=null,A=!1):(v=this.finalize(v,new _.VariableDeclaration(k,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){v=this.createNode();var I=this.nextToken().value;if(this.context.strict||"in"!==this.lookahead.value){R=this.context.allowIn;this.context.allowIn=!1;k=this.parseBindingList(I,{inFor:!0});this.context.allowIn=R,1===k.length&&null===k[0].init&&this.matchKeyword("in")?(v=this.finalize(v,new _.VariableDeclaration(k,I)),this.nextToken(),d=v,m=this.parseExpression(),v=null):1===k.length&&null===k[0].init&&this.matchContextualKeyword("of")?(v=this.finalize(v,new _.VariableDeclaration(k,I)),this.nextToken(),d=v,m=this.parseAssignmentExpression(),v=null,A=!1):(this.consumeSemicolon(),v=this.finalize(v,new _.VariableDeclaration(k,I)))}else v=this.finalize(v,new _.Identifier(I)),this.nextToken(),d=v,m=this.parseExpression(),v=null}else{var O=this.lookahead;R=this.context.allowIn;if(this.context.allowIn=!1,v=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=R,this.matchKeyword("in"))this.context.isAssignmentTarget&&v.type!==b.Syntax.AssignmentExpression||this.tolerateError(C.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(v),d=v,m=this.parseExpression(),v=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&v.type!==b.Syntax.AssignmentExpression||this.tolerateError(C.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(v),d=v,m=this.parseAssignmentExpression(),v=null,A=!1;else{if(this.match(",")){for(var x=[v];this.match(",");)this.nextToken(),x.push(this.isolateCoverGrammar(this.parseAssignmentExpression));v=this.finalize(this.startNode(O),new _.SequenceExpression(x))}this.expect(";")}}if(void 0===d&&(this.match(";")||(y=this.parseExpression()),this.expect(";"),this.match(")")||(T=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),g=this.finalize(this.createNode(),new _.EmptyStatement);else{this.expect(")");var L=this.context.inIteration;this.context.inIteration=!0,g=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=L}return void 0===d?this.finalize(P,new _.ForStatement(v,y,T,g)):A?this.finalize(P,new _.ForInStatement(d,m,g)):this.finalize(P,new _.ForOfStatement(d,m,g))},Parser.prototype.parseContinueStatement=function(){var d=this.createNode();this.expectKeyword("continue");var m=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var g=this.parseVariableIdentifier();m=g;var v="$"+g.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,v)||this.throwError(C.Messages.UnknownLabel,g.name)}return this.consumeSemicolon(),null!==m||this.context.inIteration||this.throwError(C.Messages.IllegalContinue),this.finalize(d,new _.ContinueStatement(m))},Parser.prototype.parseBreakStatement=function(){var d=this.createNode();this.expectKeyword("break");var m=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var g=this.parseVariableIdentifier(),v="$"+g.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,v)||this.throwError(C.Messages.UnknownLabel,g.name),m=g}return this.consumeSemicolon(),null!==m||this.context.inIteration||this.context.inSwitch||this.throwError(C.Messages.IllegalBreak),this.finalize(d,new _.BreakStatement(m))},Parser.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(C.Messages.IllegalReturn);var d=this.createNode();this.expectKeyword("return");var m=!this.match(";")&&!this.match("}")&&!this.hasLineTerminator&&2!==this.lookahead.type||8===this.lookahead.type||10===this.lookahead.type?this.parseExpression():null;return this.consumeSemicolon(),this.finalize(d,new _.ReturnStatement(m))},Parser.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(C.Messages.StrictModeWith);var d,m=this.createNode();this.expectKeyword("with"),this.expect("(");var g=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),d=this.finalize(this.createNode(),new _.EmptyStatement)):(this.expect(")"),d=this.parseStatement()),this.finalize(m,new _.WithStatement(g,d))},Parser.prototype.parseSwitchCase=function(){var d,m=this.createNode();this.matchKeyword("default")?(this.nextToken(),d=null):(this.expectKeyword("case"),d=this.parseExpression()),this.expect(":");for(var g=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)g.push(this.parseStatementListItem());return this.finalize(m,new _.SwitchCase(d,g))},Parser.prototype.parseSwitchStatement=function(){var d=this.createNode();this.expectKeyword("switch"),this.expect("(");var m=this.parseExpression();this.expect(")");var g=this.context.inSwitch;this.context.inSwitch=!0;var v=[],y=!1;for(this.expect("{");!this.match("}");){var T=this.parseSwitchCase();null===T.test&&(y&&this.throwError(C.Messages.MultipleDefaultsInSwitch),y=!0),v.push(T)}return this.expect("}"),this.context.inSwitch=g,this.finalize(d,new _.SwitchStatement(m,v))},Parser.prototype.parseLabelledStatement=function(){var d,m=this.createNode(),g=this.parseExpression();if(g.type===b.Syntax.Identifier&&this.match(":")){this.nextToken();var v=g,y="$"+v.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,y)&&this.throwError(C.Messages.Redeclaration,"Label",v.name),this.context.labelSet[y]=!0;var T=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),T=this.parseClassDeclaration();else if(this.matchKeyword("function")){var A=this.lookahead,P=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(A,C.Messages.StrictFunction):P.generator&&this.tolerateUnexpectedToken(A,C.Messages.GeneratorInLegacyContext),T=P}else T=this.parseStatement();delete this.context.labelSet[y],d=new _.LabeledStatement(v,T)}else this.consumeSemicolon(),d=new _.ExpressionStatement(g);return this.finalize(m,d)},Parser.prototype.parseThrowStatement=function(){var d=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(C.Messages.NewlineAfterThrow);var m=this.parseExpression();return this.consumeSemicolon(),this.finalize(d,new _.ThrowStatement(m))},Parser.prototype.parseCatchClause=function(){var d=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var m=[],g=this.parsePattern(m),v={},y=0;y<m.length;y++){var T="$"+m[y].value;Object.prototype.hasOwnProperty.call(v,T)&&this.tolerateError(C.Messages.DuplicateBinding,m[y].value),v[T]=!0}this.context.strict&&g.type===b.Syntax.Identifier&&this.scanner.isRestrictedWord(g.name)&&this.tolerateError(C.Messages.StrictCatchVariable),this.expect(")");var A=this.parseBlock();return this.finalize(d,new _.CatchClause(g,A))},Parser.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},Parser.prototype.parseTryStatement=function(){var d=this.createNode();this.expectKeyword("try");var m=this.parseBlock(),g=this.matchKeyword("catch")?this.parseCatchClause():null,v=this.matchKeyword("finally")?this.parseFinallyClause():null;return g||v||this.throwError(C.Messages.NoCatchOrFinally),this.finalize(d,new _.TryStatement(m,g,v))},Parser.prototype.parseDebuggerStatement=function(){var d=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(d,new _.DebuggerStatement)},Parser.prototype.parseStatement=function(){var d;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:d=this.parseExpressionStatement();break;case 7:var m=this.lookahead.value;d="{"===m?this.parseBlock():"("===m?this.parseExpressionStatement():";"===m?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:d=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":d=this.parseBreakStatement();break;case"continue":d=this.parseContinueStatement();break;case"debugger":d=this.parseDebuggerStatement();break;case"do":d=this.parseDoWhileStatement();break;case"for":d=this.parseForStatement();break;case"function":d=this.parseFunctionDeclaration();break;case"if":d=this.parseIfStatement();break;case"return":d=this.parseReturnStatement();break;case"switch":d=this.parseSwitchStatement();break;case"throw":d=this.parseThrowStatement();break;case"try":d=this.parseTryStatement();break;case"var":d=this.parseVariableStatement();break;case"while":d=this.parseWhileStatement();break;case"with":d=this.parseWithStatement();break;default:d=this.parseExpressionStatement()}break;default:d=this.throwUnexpectedToken(this.lookahead)}return d},Parser.prototype.parseFunctionSourceElements=function(){var d=this.createNode();this.expect("{");var m=this.parseDirectivePrologues(),g=this.context.labelSet,v=this.context.inIteration,y=this.context.inSwitch,C=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;2!==this.lookahead.type&&!this.match("}");)m.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=g,this.context.inIteration=v,this.context.inSwitch=y,this.context.inFunctionBody=C,this.finalize(d,new _.BlockStatement(m))},Parser.prototype.validateParam=function(d,m,g){var v="$"+g;this.context.strict?(this.scanner.isRestrictedWord(g)&&(d.stricted=m,d.message=C.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(d.paramSet,v)&&(d.stricted=m,d.message=C.Messages.StrictParamDupe)):d.firstRestricted||(this.scanner.isRestrictedWord(g)?(d.firstRestricted=m,d.message=C.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(g)?(d.firstRestricted=m,d.message=C.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(d.paramSet,v)&&(d.stricted=m,d.message=C.Messages.StrictParamDupe)),"function"==typeof Object.defineProperty?Object.defineProperty(d.paramSet,v,{value:!0,enumerable:!0,writable:!0,configurable:!0}):d.paramSet[v]=!0},Parser.prototype.parseRestElement=function(d){var m=this.createNode();this.expect("...");var g=this.parsePattern(d);return this.match("=")&&this.throwError(C.Messages.DefaultRestParameter),this.match(")")||this.throwError(C.Messages.ParameterAfterRestParameter),this.finalize(m,new _.RestElement(g))},Parser.prototype.parseFormalParameter=function(d){for(var m=[],g=this.match("...")?this.parseRestElement(m):this.parsePatternWithDefault(m),v=0;v<m.length;v++)this.validateParam(d,m[v],m[v].value);d.simple=d.simple&&g instanceof _.Identifier,d.params.push(g)},Parser.prototype.parseFormalParameters=function(d){var m;if(m={simple:!0,params:[],firstRestricted:d},this.expect("("),!this.match(")"))for(m.paramSet={};2!==this.lookahead.type&&(this.parseFormalParameter(m),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:m.simple,params:m.params,stricted:m.stricted,firstRestricted:m.firstRestricted,message:m.message}},Parser.prototype.matchAsyncFunction=function(){var d=this.matchContextualKeyword("async");if(d){var m=this.scanner.saveState();this.scanner.scanComments();var g=this.scanner.lex();this.scanner.restoreState(m),d=m.lineNumber===g.lineNumber&&4===g.type&&"function"===g.value}return d},Parser.prototype.parseFunctionDeclaration=function(d){var m=this.createNode(),g=this.matchContextualKeyword("async");g&&this.nextToken(),this.expectKeyword("function");var v,y=!g&&this.match("*");y&&this.nextToken();var T=null,b=null;if(!d||!this.match("(")){var A=this.lookahead;T=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(A.value)&&this.tolerateUnexpectedToken(A,C.Messages.StrictFunctionName):this.scanner.isRestrictedWord(A.value)?(b=A,v=C.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(A.value)&&(b=A,v=C.Messages.StrictReservedWord)}var P=this.context.await,R=this.context.allowYield;this.context.await=g,this.context.allowYield=!y;var k=this.parseFormalParameters(b),M=k.params,I=k.stricted;b=k.firstRestricted,k.message&&(v=k.message);var O=this.context.strict,x=this.context.allowStrictDirective;this.context.allowStrictDirective=k.simple;var L=this.parseFunctionSourceElements();return this.context.strict&&b&&this.throwUnexpectedToken(b,v),this.context.strict&&I&&this.tolerateUnexpectedToken(I,v),this.context.strict=O,this.context.allowStrictDirective=x,this.context.await=P,this.context.allowYield=R,g?this.finalize(m,new _.AsyncFunctionDeclaration(T,M,L)):this.finalize(m,new _.FunctionDeclaration(T,M,L,y))},Parser.prototype.parseFunctionExpression=function(){var d=this.createNode(),m=this.matchContextualKeyword("async");m&&this.nextToken(),this.expectKeyword("function");var g,v=!m&&this.match("*");v&&this.nextToken();var y,T=null,b=this.context.await,A=this.context.allowYield;if(this.context.await=m,this.context.allowYield=!v,!this.match("(")){var P=this.lookahead;T=this.context.strict||v||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(P.value)&&this.tolerateUnexpectedToken(P,C.Messages.StrictFunctionName):this.scanner.isRestrictedWord(P.value)?(y=P,g=C.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(P.value)&&(y=P,g=C.Messages.StrictReservedWord)}var R=this.parseFormalParameters(y),k=R.params,M=R.stricted;y=R.firstRestricted,R.message&&(g=R.message);var I=this.context.strict,O=this.context.allowStrictDirective;this.context.allowStrictDirective=R.simple;var x=this.parseFunctionSourceElements();return this.context.strict&&y&&this.throwUnexpectedToken(y,g),this.context.strict&&M&&this.tolerateUnexpectedToken(M,g),this.context.strict=I,this.context.allowStrictDirective=O,this.context.await=b,this.context.allowYield=A,m?this.finalize(d,new _.AsyncFunctionExpression(T,k,x)):this.finalize(d,new _.FunctionExpression(T,k,x,v))},Parser.prototype.parseDirective=function(){var d=this.lookahead,m=this.createNode(),g=this.parseExpression(),v=g.type===b.Syntax.Literal?this.getTokenRaw(d).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(m,v?new _.Directive(g,v):new _.ExpressionStatement(g))},Parser.prototype.parseDirectivePrologues=function(){for(var d=null,m=[];;){var g=this.lookahead;if(8!==g.type)break;var v=this.parseDirective();m.push(v);var y=v.directive;if("string"!=typeof y)break;"use strict"===y?(this.context.strict=!0,d&&this.tolerateUnexpectedToken(d,C.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(g,C.Messages.IllegalLanguageModeDirective)):!d&&g.octal&&(d=g)}return m},Parser.prototype.qualifiedPropertyName=function(d){switch(d.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return"["===d.value}return!1},Parser.prototype.parseGetterMethod=function(){var d=this.createNode(),m=this.context.allowYield;this.context.allowYield=!0;var g=this.parseFormalParameters();g.params.length>0&&this.tolerateError(C.Messages.BadGetterArity);var v=this.parsePropertyMethod(g);return this.context.allowYield=m,this.finalize(d,new _.FunctionExpression(null,g.params,v,false))},Parser.prototype.parseSetterMethod=function(){var d=this.createNode(),m=this.context.allowYield;this.context.allowYield=!0;var g=this.parseFormalParameters();1!==g.params.length?this.tolerateError(C.Messages.BadSetterArity):g.params[0]instanceof _.RestElement&&this.tolerateError(C.Messages.BadSetterRestParameter);var v=this.parsePropertyMethod(g);return this.context.allowYield=m,this.finalize(d,new _.FunctionExpression(null,g.params,v,false))},Parser.prototype.parseGeneratorMethod=function(){var d=this.createNode(),m=this.context.allowYield;this.context.allowYield=!0;var g=this.parseFormalParameters();this.context.allowYield=!1;var v=this.parsePropertyMethod(g);return this.context.allowYield=m,this.finalize(d,new _.FunctionExpression(null,g.params,v,!0))},Parser.prototype.isStartOfExpression=function(){var d=!0,m=this.lookahead.value;switch(this.lookahead.type){case 7:d="["===m||"("===m||"{"===m||"+"===m||"-"===m||"!"===m||"~"===m||"++"===m||"--"===m||"/"===m||"/="===m;break;case 4:d="class"===m||"delete"===m||"function"===m||"let"===m||"new"===m||"super"===m||"this"===m||"typeof"===m||"void"===m||"yield"===m}return d},Parser.prototype.parseYieldExpression=function(){var d=this.createNode();this.expectKeyword("yield");var m=null,g=!1;if(!this.hasLineTerminator){var v=this.context.allowYield;this.context.allowYield=!1,(g=this.match("*"))?(this.nextToken(),m=this.parseAssignmentExpression()):this.isStartOfExpression()&&(m=this.parseAssignmentExpression()),this.context.allowYield=v}return this.finalize(d,new _.YieldExpression(m,g))},Parser.prototype.parseClassElement=function(d){var m=this.lookahead,g=this.createNode(),v="",y=null,T=null,b=!1,A=!1,P=!1,R=!1;if(this.match("*"))this.nextToken();else if(b=this.match("["),"static"===(y=this.parseObjectPropertyKey()).name&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(m=this.lookahead,P=!0,b=this.match("["),this.match("*")?this.nextToken():y=this.parseObjectPropertyKey()),3===m.type&&!this.hasLineTerminator&&"async"===m.value){var k=this.lookahead.value;":"!==k&&"("!==k&&"*"!==k&&(R=!0,m=this.lookahead,y=this.parseObjectPropertyKey(),3===m.type&&"constructor"===m.value&&this.tolerateUnexpectedToken(m,C.Messages.ConstructorIsAsync))}var M=this.qualifiedPropertyName(this.lookahead);return 3===m.type?"get"===m.value&&M?(v="get",b=this.match("["),y=this.parseObjectPropertyKey(),this.context.allowYield=!1,T=this.parseGetterMethod()):"set"===m.value&&M&&(v="set",b=this.match("["),y=this.parseObjectPropertyKey(),T=this.parseSetterMethod()):7===m.type&&"*"===m.value&&M&&(v="init",b=this.match("["),y=this.parseObjectPropertyKey(),T=this.parseGeneratorMethod(),A=!0),!v&&y&&this.match("(")&&(v="init",T=R?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),A=!0),v||this.throwUnexpectedToken(this.lookahead),"init"===v&&(v="method"),b||(P&&this.isPropertyKey(y,"prototype")&&this.throwUnexpectedToken(m,C.Messages.StaticPrototype),!P&&this.isPropertyKey(y,"constructor")&&(("method"!==v||!A||T&&T.generator)&&this.throwUnexpectedToken(m,C.Messages.ConstructorSpecialMethod),d.value?this.throwUnexpectedToken(m,C.Messages.DuplicateConstructor):d.value=!0,v="constructor")),this.finalize(g,new _.MethodDefinition(y,b,T,v,P))},Parser.prototype.parseClassElementList=function(){var d=[],m={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():d.push(this.parseClassElement(m));return this.expect("}"),d},Parser.prototype.parseClassBody=function(){var d=this.createNode(),m=this.parseClassElementList();return this.finalize(d,new _.ClassBody(m))},Parser.prototype.parseClassDeclaration=function(d){var m=this.createNode(),g=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var v=d&&3!==this.lookahead.type?null:this.parseVariableIdentifier(),y=null;this.matchKeyword("extends")&&(this.nextToken(),y=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var C=this.parseClassBody();return this.context.strict=g,this.finalize(m,new _.ClassDeclaration(v,y,C))},Parser.prototype.parseClassExpression=function(){var d=this.createNode(),m=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var g=3===this.lookahead.type?this.parseVariableIdentifier():null,v=null;this.matchKeyword("extends")&&(this.nextToken(),v=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var y=this.parseClassBody();return this.context.strict=m,this.finalize(d,new _.ClassExpression(g,v,y))},Parser.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var d=this.createNode(),m=this.parseDirectivePrologues();2!==this.lookahead.type;)m.push(this.parseStatementListItem());return this.finalize(d,new _.Module(m))},Parser.prototype.parseScript=function(){for(var d=this.createNode(),m=this.parseDirectivePrologues();2!==this.lookahead.type;)m.push(this.parseStatementListItem());return this.finalize(d,new _.Script(m))},Parser.prototype.parseModuleSpecifier=function(){var d=this.createNode();8!==this.lookahead.type&&this.throwError(C.Messages.InvalidModuleSpecifier);var m=this.nextToken(),g=this.getTokenRaw(m);return this.finalize(d,new _.Literal(m.value,g))},Parser.prototype.parseImportSpecifier=function(){var d,m,g=this.createNode();return 3===this.lookahead.type?(m=d=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),m=this.parseVariableIdentifier())):(m=d=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),m=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(g,new _.ImportSpecifier(m,d))},Parser.prototype.parseNamedImports=function(){this.expect("{");for(var d=[];!this.match("}");)d.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),d},Parser.prototype.parseImportDefaultSpecifier=function(){var d=this.createNode(),m=this.parseIdentifierName();return this.finalize(d,new _.ImportDefaultSpecifier(m))},Parser.prototype.parseImportNamespaceSpecifier=function(){var d=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(C.Messages.NoAsAfterImportNamespace),this.nextToken();var m=this.parseIdentifierName();return this.finalize(d,new _.ImportNamespaceSpecifier(m))},Parser.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(C.Messages.IllegalImportDeclaration);var d,m=this.createNode();this.expectKeyword("import");var g=[];if(8===this.lookahead.type)d=this.parseModuleSpecifier();else{if(this.match("{")?g=g.concat(this.parseNamedImports()):this.match("*")?g.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(g.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?g.push(this.parseImportNamespaceSpecifier()):this.match("{")?g=g.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var v=this.lookahead.value?C.Messages.UnexpectedToken:C.Messages.MissingFromClause;this.throwError(v,this.lookahead.value)}this.nextToken(),d=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(m,new _.ImportDeclaration(g,d))},Parser.prototype.parseExportSpecifier=function(){var d=this.createNode(),m=this.parseIdentifierName(),g=m;return this.matchContextualKeyword("as")&&(this.nextToken(),g=this.parseIdentifierName()),this.finalize(d,new _.ExportSpecifier(m,g))},Parser.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(C.Messages.IllegalExportDeclaration);var d,m=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var g=this.parseFunctionDeclaration(!0);d=this.finalize(m,new _.ExportDefaultDeclaration(g))}else if(this.matchKeyword("class")){g=this.parseClassDeclaration(!0);d=this.finalize(m,new _.ExportDefaultDeclaration(g))}else if(this.matchContextualKeyword("async")){g=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression();d=this.finalize(m,new _.ExportDefaultDeclaration(g))}else{this.matchContextualKeyword("from")&&this.throwError(C.Messages.UnexpectedToken,this.lookahead.value);g=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression();this.consumeSemicolon(),d=this.finalize(m,new _.ExportDefaultDeclaration(g))}else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var v=this.lookahead.value?C.Messages.UnexpectedToken:C.Messages.MissingFromClause;this.throwError(v,this.lookahead.value)}this.nextToken();var y=this.parseModuleSpecifier();this.consumeSemicolon(),d=this.finalize(m,new _.ExportAllDeclaration(y))}else if(4===this.lookahead.type){g=void 0;switch(this.lookahead.value){case"let":case"const":g=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":g=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}d=this.finalize(m,new _.ExportNamedDeclaration(g,[],null))}else if(this.matchAsyncFunction()){g=this.parseFunctionDeclaration();d=this.finalize(m,new _.ExportNamedDeclaration(g,[],null))}else{var T=[],b=null,A=!1;for(this.expect("{");!this.match("}");)A=A||this.matchKeyword("default"),T.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");if(this.expect("}"),this.matchContextualKeyword("from"))this.nextToken(),b=this.parseModuleSpecifier(),this.consumeSemicolon();else if(A){v=this.lookahead.value?C.Messages.UnexpectedToken:C.Messages.MissingFromClause;this.throwError(v,this.lookahead.value)}else this.consumeSemicolon();d=this.finalize(m,new _.ExportNamedDeclaration(null,T,b))}return d},Parser}();m.Parser=R},function(d,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.assert=function assert(d,m){if(!d)throw new Error("ASSERT: "+m)}},function(d,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var g=function(){function ErrorHandler(){this.errors=[],this.tolerant=!1}return ErrorHandler.prototype.recordError=function(d){this.errors.push(d)},ErrorHandler.prototype.tolerate=function(d){if(!this.tolerant)throw d;this.recordError(d)},ErrorHandler.prototype.constructError=function(d,m){var g=new Error(d);try{throw g}catch(d){Object.create&&Object.defineProperty&&(g=Object.create(d),Object.defineProperty(g,"column",{value:m}))}return g},ErrorHandler.prototype.createError=function(d,m,g,v){var y="Line "+m+": "+v,C=this.constructError(y,g);return C.index=d,C.lineNumber=m,C.description=v,C},ErrorHandler.prototype.throwError=function(d,m,g,v){throw this.createError(d,m,g,v)},ErrorHandler.prototype.tolerateError=function(d,m,g,v){var y=this.createError(d,m,g,v);if(!this.tolerant)throw y;this.recordError(y)},ErrorHandler}();m.ErrorHandler=g},function(d,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(d,m,g){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var v=g(9),y=g(4),C=g(11);function hexValue(d){return"0123456789abcdef".indexOf(d.toLowerCase())}function octalValue(d){return"01234567".indexOf(d)}var _=function(){function Scanner(d,m){this.source=d,this.errorHandler=m,this.trackComment=!1,this.isModule=!1,this.length=d.length,this.index=0,this.lineNumber=d.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return Scanner.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},Scanner.prototype.restoreState=function(d){this.index=d.index,this.lineNumber=d.lineNumber,this.lineStart=d.lineStart},Scanner.prototype.eof=function(){return this.index>=this.length},Scanner.prototype.throwUnexpectedToken=function(d){return void 0===d&&(d=C.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,d)},Scanner.prototype.tolerateUnexpectedToken=function(d){void 0===d&&(d=C.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,d)},Scanner.prototype.skipSingleLineComment=function(d){var m,g,v=[];for(this.trackComment&&(v=[],m=this.index-d,g={start:{line:this.lineNumber,column:this.index-this.lineStart-d},end:{}});!this.eof();){var C=this.source.charCodeAt(this.index);if(++this.index,y.Character.isLineTerminator(C)){if(this.trackComment){g.end={line:this.lineNumber,column:this.index-this.lineStart-1};var _={multiLine:!1,slice:[m+d,this.index-1],range:[m,this.index-1],loc:g};v.push(_)}return 13===C&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,v}}if(this.trackComment){g.end={line:this.lineNumber,column:this.index-this.lineStart};_={multiLine:!1,slice:[m+d,this.index],range:[m,this.index],loc:g};v.push(_)}return v},Scanner.prototype.skipMultiLineComment=function(){var d,m,g=[];for(this.trackComment&&(g=[],d=this.index-2,m={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var v=this.source.charCodeAt(this.index);if(y.Character.isLineTerminator(v))13===v&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(42===v){if(47===this.source.charCodeAt(this.index+1)){if(this.index+=2,this.trackComment){m.end={line:this.lineNumber,column:this.index-this.lineStart};var C={multiLine:!0,slice:[d+2,this.index-2],range:[d,this.index],loc:m};g.push(C)}return g}++this.index}else++this.index}if(this.trackComment){m.end={line:this.lineNumber,column:this.index-this.lineStart};C={multiLine:!0,slice:[d+2,this.index],range:[d,this.index],loc:m};g.push(C)}return this.tolerateUnexpectedToken(),g},Scanner.prototype.scanComments=function(){var d;this.trackComment&&(d=[]);for(var m=0===this.index;!this.eof();){var g=this.source.charCodeAt(this.index);if(y.Character.isWhiteSpace(g))++this.index;else if(y.Character.isLineTerminator(g))++this.index,13===g&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,m=!0;else if(47===g)if(47===(g=this.source.charCodeAt(this.index+1))){this.index+=2;var v=this.skipSingleLineComment(2);this.trackComment&&(d=d.concat(v)),m=!0}else{if(42!==g)break;this.index+=2;v=this.skipMultiLineComment();this.trackComment&&(d=d.concat(v))}else if(m&&45===g){if(45!==this.source.charCodeAt(this.index+1)||62!==this.source.charCodeAt(this.index+2))break;this.index+=3;v=this.skipSingleLineComment(3);this.trackComment&&(d=d.concat(v))}else{if(60!==g||this.isModule)break;if("!--"!==this.source.slice(this.index+1,this.index+4))break;this.index+=4;v=this.skipSingleLineComment(4);this.trackComment&&(d=d.concat(v))}}return d},Scanner.prototype.isFutureReservedWord=function(d){switch(d){case"enum":case"export":case"import":case"super":return!0;default:return!1}},Scanner.prototype.isStrictModeReservedWord=function(d){switch(d){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},Scanner.prototype.isRestrictedWord=function(d){return"eval"===d||"arguments"===d},Scanner.prototype.isKeyword=function(d){switch(d.length){case 2:return"if"===d||"in"===d||"do"===d;case 3:return"var"===d||"for"===d||"new"===d||"try"===d||"let"===d;case 4:return"this"===d||"else"===d||"case"===d||"void"===d||"with"===d||"enum"===d;case 5:return"while"===d||"break"===d||"catch"===d||"throw"===d||"const"===d||"yield"===d||"class"===d||"super"===d;case 6:return"return"===d||"typeof"===d||"delete"===d||"switch"===d||"export"===d||"import"===d;case 7:return"default"===d||"finally"===d||"extends"===d;case 8:return"function"===d||"continue"===d||"debugger"===d;case 10:return"instanceof"===d;default:return!1}},Scanner.prototype.codePointAt=function(d){var m=this.source.charCodeAt(d);if(m>=55296&&m<=56319){var g=this.source.charCodeAt(d+1);if(g>=56320&&g<=57343)m=1024*(m-55296)+g-56320+65536}return m},Scanner.prototype.scanHexEscape=function(d){for(var m="u"===d?4:2,g=0,v=0;v<m;++v){if(this.eof()||!y.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;g=16*g+hexValue(this.source[this.index++])}return String.fromCharCode(g)},Scanner.prototype.scanUnicodeCodePointEscape=function(){var d=this.source[this.index],m=0;for("}"===d&&this.throwUnexpectedToken();!this.eof()&&(d=this.source[this.index++],y.Character.isHexDigit(d.charCodeAt(0)));)m=16*m+hexValue(d);return(m>1114111||"}"!==d)&&this.throwUnexpectedToken(),y.Character.fromCodePoint(m)},Scanner.prototype.getIdentifier=function(){for(var d=this.index++;!this.eof();){var m=this.source.charCodeAt(this.index);if(92===m)return this.index=d,this.getComplexIdentifier();if(m>=55296&&m<57343)return this.index=d,this.getComplexIdentifier();if(!y.Character.isIdentifierPart(m))break;++this.index}return this.source.slice(d,this.index)},Scanner.prototype.getComplexIdentifier=function(){var d,m=this.codePointAt(this.index),g=y.Character.fromCodePoint(m);for(this.index+=g.length,92===m&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,d=this.scanUnicodeCodePointEscape()):null!==(d=this.scanHexEscape("u"))&&"\\"!==d&&y.Character.isIdentifierStart(d.charCodeAt(0))||this.throwUnexpectedToken(),g=d);!this.eof()&&(m=this.codePointAt(this.index),y.Character.isIdentifierPart(m));)g+=d=y.Character.fromCodePoint(m),this.index+=d.length,92===m&&(g=g.substr(0,g.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,d=this.scanUnicodeCodePointEscape()):null!==(d=this.scanHexEscape("u"))&&"\\"!==d&&y.Character.isIdentifierPart(d.charCodeAt(0))||this.throwUnexpectedToken(),g+=d);return g},Scanner.prototype.octalToDecimal=function(d){var m="0"!==d,g=octalValue(d);return!this.eof()&&y.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(m=!0,g=8*g+octalValue(this.source[this.index++]),"0123".indexOf(d)>=0&&!this.eof()&&y.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(g=8*g+octalValue(this.source[this.index++]))),{code:g,octal:m}},Scanner.prototype.scanIdentifier=function(){var d,m=this.index,g=92===this.source.charCodeAt(m)?this.getComplexIdentifier():this.getIdentifier();if(3!==(d=1===g.length?3:this.isKeyword(g)?4:"null"===g?5:"true"===g||"false"===g?1:3)&&m+g.length!==this.index){var v=this.index;this.index=m,this.tolerateUnexpectedToken(C.Messages.InvalidEscapedReservedWord),this.index=v}return{type:d,value:g,lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}},Scanner.prototype.scanPunctuator=function(){var d=this.index,m=this.source[this.index];switch(m){case"(":case"{":"{"===m&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,m="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:">>>="===(m=this.source.substr(this.index,4))?this.index+=4:"==="===(m=m.substr(0,3))||"!=="===m||">>>"===m||"<<="===m||">>="===m||"**="===m?this.index+=3:"&&"===(m=m.substr(0,2))||"||"===m||"=="===m||"!="===m||"+="===m||"-="===m||"*="===m||"/="===m||"++"===m||"--"===m||"<<"===m||">>"===m||"&="===m||"|="===m||"^="===m||"%="===m||"<="===m||">="===m||"=>"===m||"**"===m?this.index+=2:(m=this.source[this.index],"<>=!+-*%&|^/".indexOf(m)>=0&&++this.index)}return this.index===d&&this.throwUnexpectedToken(),{type:7,value:m,lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}},Scanner.prototype.scanHexLiteral=function(d){for(var m="";!this.eof()&&y.Character.isHexDigit(this.source.charCodeAt(this.index));)m+=this.source[this.index++];return 0===m.length&&this.throwUnexpectedToken(),y.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+m,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}},Scanner.prototype.scanBinaryLiteral=function(d){for(var m,g="";!this.eof()&&("0"===(m=this.source[this.index])||"1"===m);)g+=this.source[this.index++];return 0===g.length&&this.throwUnexpectedToken(),this.eof()||(m=this.source.charCodeAt(this.index),(y.Character.isIdentifierStart(m)||y.Character.isDecimalDigit(m))&&this.throwUnexpectedToken()),{type:6,value:parseInt(g,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}},Scanner.prototype.scanOctalLiteral=function(d,m){var g="",v=!1;for(y.Character.isOctalDigit(d.charCodeAt(0))?(v=!0,g="0"+this.source[this.index++]):++this.index;!this.eof()&&y.Character.isOctalDigit(this.source.charCodeAt(this.index));)g+=this.source[this.index++];return v||0!==g.length||this.throwUnexpectedToken(),(y.Character.isIdentifierStart(this.source.charCodeAt(this.index))||y.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(g,8),octal:v,lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}},Scanner.prototype.isImplicitOctalLiteral=function(){for(var d=this.index+1;d<this.length;++d){var m=this.source[d];if("8"===m||"9"===m)return!1;if(!y.Character.isOctalDigit(m.charCodeAt(0)))return!0}return!0},Scanner.prototype.scanNumericLiteral=function(){var d=this.index,m=this.source[d];v.assert(y.Character.isDecimalDigit(m.charCodeAt(0))||"."===m,"Numeric literal must start with a decimal digit or a decimal point");var g="";if("."!==m){if(g=this.source[this.index++],m=this.source[this.index],"0"===g){if("x"===m||"X"===m)return++this.index,this.scanHexLiteral(d);if("b"===m||"B"===m)return++this.index,this.scanBinaryLiteral(d);if("o"===m||"O"===m)return this.scanOctalLiteral(m,d);if(m&&y.Character.isOctalDigit(m.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(m,d)}for(;y.Character.isDecimalDigit(this.source.charCodeAt(this.index));)g+=this.source[this.index++];m=this.source[this.index]}if("."===m){for(g+=this.source[this.index++];y.Character.isDecimalDigit(this.source.charCodeAt(this.index));)g+=this.source[this.index++];m=this.source[this.index]}if("e"===m||"E"===m)if(g+=this.source[this.index++],"+"!==(m=this.source[this.index])&&"-"!==m||(g+=this.source[this.index++]),y.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;y.Character.isDecimalDigit(this.source.charCodeAt(this.index));)g+=this.source[this.index++];else this.throwUnexpectedToken();return y.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(g),lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}},Scanner.prototype.scanStringLiteral=function(){var d=this.index,m=this.source[d];v.assert("'"===m||'"'===m,"String literal must starts with a quote"),++this.index;for(var g=!1,_="";!this.eof();){var T=this.source[this.index++];if(T===m){m="";break}if("\\"===T)if((T=this.source[this.index++])&&y.Character.isLineTerminator(T.charCodeAt(0)))++this.lineNumber,"\r"===T&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(T){case"u":if("{"===this.source[this.index])++this.index,_+=this.scanUnicodeCodePointEscape();else{var b=this.scanHexEscape(T);null===b&&this.throwUnexpectedToken(),_+=b}break;case"x":var A=this.scanHexEscape(T);null===A&&this.throwUnexpectedToken(C.Messages.InvalidHexEscapeSequence),_+=A;break;case"n":_+="\n";break;case"r":_+="\r";break;case"t":_+="\t";break;case"b":_+="\b";break;case"f":_+="\f";break;case"v":_+="\v";break;case"8":case"9":_+=T,this.tolerateUnexpectedToken();break;default:if(T&&y.Character.isOctalDigit(T.charCodeAt(0))){var P=this.octalToDecimal(T);g=P.octal||g,_+=String.fromCharCode(P.code)}else _+=T}else{if(y.Character.isLineTerminator(T.charCodeAt(0)))break;_+=T}}return""!==m&&(this.index=d,this.throwUnexpectedToken()),{type:8,value:_,octal:g,lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}},Scanner.prototype.scanTemplate=function(){var d="",m=!1,g=this.index,v="`"===this.source[g],_=!1,T=2;for(++this.index;!this.eof();){var b=this.source[this.index++];if("`"===b){T=1,_=!0,m=!0;break}if("$"===b){if("{"===this.source[this.index]){this.curlyStack.push("${"),++this.index,m=!0;break}d+=b}else if("\\"===b)if(b=this.source[this.index++],y.Character.isLineTerminator(b.charCodeAt(0)))++this.lineNumber,"\r"===b&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(b){case"n":d+="\n";break;case"r":d+="\r";break;case"t":d+="\t";break;case"u":if("{"===this.source[this.index])++this.index,d+=this.scanUnicodeCodePointEscape();else{var A=this.index,P=this.scanHexEscape(b);null!==P?d+=P:(this.index=A,d+=b)}break;case"x":var R=this.scanHexEscape(b);null===R&&this.throwUnexpectedToken(C.Messages.InvalidHexEscapeSequence),d+=R;break;case"b":d+="\b";break;case"f":d+="\f";break;case"v":d+="\v";break;default:"0"===b?(y.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(C.Messages.TemplateOctalLiteral),d+="\0"):y.Character.isOctalDigit(b.charCodeAt(0))?this.throwUnexpectedToken(C.Messages.TemplateOctalLiteral):d+=b}else y.Character.isLineTerminator(b.charCodeAt(0))?(++this.lineNumber,"\r"===b&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,d+="\n"):d+=b}return m||this.throwUnexpectedToken(),v||this.curlyStack.pop(),{type:10,value:this.source.slice(g+1,this.index-T),cooked:d,head:v,tail:_,lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}},Scanner.prototype.testRegExp=function(d,m){var g=d,v=this;m.indexOf("u")>=0&&(g=g.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,(function(d,m,g){var y=parseInt(m||g,16);return y>1114111&&v.throwUnexpectedToken(C.Messages.InvalidRegExp),y<=65535?String.fromCharCode(y):"￿"})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"￿"));try{RegExp(g)}catch(d){this.throwUnexpectedToken(C.Messages.InvalidRegExp)}try{return new RegExp(d,m)}catch(d){return null}},Scanner.prototype.scanRegExpBody=function(){var d=this.source[this.index];v.assert("/"===d,"Regular expression literal must start with a slash");for(var m=this.source[this.index++],g=!1,_=!1;!this.eof();)if(m+=d=this.source[this.index++],"\\"===d)d=this.source[this.index++],y.Character.isLineTerminator(d.charCodeAt(0))&&this.throwUnexpectedToken(C.Messages.UnterminatedRegExp),m+=d;else if(y.Character.isLineTerminator(d.charCodeAt(0)))this.throwUnexpectedToken(C.Messages.UnterminatedRegExp);else if(g)"]"===d&&(g=!1);else{if("/"===d){_=!0;break}"["===d&&(g=!0)}return _||this.throwUnexpectedToken(C.Messages.UnterminatedRegExp),m.substr(1,m.length-2)},Scanner.prototype.scanRegExpFlags=function(){for(var d="";!this.eof();){var m=this.source[this.index];if(!y.Character.isIdentifierPart(m.charCodeAt(0)))break;if(++this.index,"\\"!==m||this.eof())d+=m,m;else if("u"===(m=this.source[this.index])){++this.index;var g=this.index,v=this.scanHexEscape("u");if(null!==v)for(d+=v,"\\u";g<this.index;++g)this.source[g];else this.index=g,d+="u","\\u";this.tolerateUnexpectedToken()}else"\\",this.tolerateUnexpectedToken()}return d},Scanner.prototype.scanRegExp=function(){var d=this.index,m=this.scanRegExpBody(),g=this.scanRegExpFlags();return{type:9,value:"",pattern:m,flags:g,regex:this.testRegExp(m,g),lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}},Scanner.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var d=this.source.charCodeAt(this.index);return y.Character.isIdentifierStart(d)?this.scanIdentifier():40===d||41===d||59===d?this.scanPunctuator():39===d||34===d?this.scanStringLiteral():46===d?y.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():y.Character.isDecimalDigit(d)?this.scanNumericLiteral():96===d||125===d&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():d>=55296&&d<57343&&y.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},Scanner}();m.Scanner=_},function(d,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.TokenName={},m.TokenName[1]="Boolean",m.TokenName[2]="<end>",m.TokenName[3]="Identifier",m.TokenName[4]="Keyword",m.TokenName[5]="Null",m.TokenName[6]="Numeric",m.TokenName[7]="Punctuator",m.TokenName[8]="String",m.TokenName[9]="RegularExpression",m.TokenName[10]="Template"},function(d,m){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",lang:"⟨",rang:"⟩"}},function(d,m,g){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var v=g(10),y=g(12),C=g(13),_=function(){function Reader(){this.values=[],this.curly=this.paren=-1}return Reader.prototype.beforeFunctionExpression=function(d){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(d)>=0},Reader.prototype.isRegexStart=function(){var d=this.values[this.values.length-1],m=null!==d;switch(d){case"this":case"]":m=!1;break;case")":var g=this.values[this.paren-1];m="if"===g||"while"===g||"for"===g||"with"===g;break;case"}":if(m=!1,"function"===this.values[this.curly-3])m=!!(v=this.values[this.curly-4])&&!this.beforeFunctionExpression(v);else if("function"===this.values[this.curly-4]){var v;m=!(v=this.values[this.curly-5])||!this.beforeFunctionExpression(v)}}return m},Reader.prototype.push=function(d){7===d.type||4===d.type?("{"===d.value?this.curly=this.values.length:"("===d.value&&(this.paren=this.values.length),this.values.push(d.value)):this.values.push(null)},Reader}(),T=function(){function Tokenizer(d,m){this.errorHandler=new v.ErrorHandler,this.errorHandler.tolerant=!!m&&("boolean"==typeof m.tolerant&&m.tolerant),this.scanner=new y.Scanner(d,this.errorHandler),this.scanner.trackComment=!!m&&("boolean"==typeof m.comment&&m.comment),this.trackRange=!!m&&("boolean"==typeof m.range&&m.range),this.trackLoc=!!m&&("boolean"==typeof m.loc&&m.loc),this.buffer=[],this.reader=new _}return Tokenizer.prototype.errors=function(){return this.errorHandler.errors},Tokenizer.prototype.getNextToken=function(){if(0===this.buffer.length){var d=this.scanner.scanComments();if(this.scanner.trackComment)for(var m=0;m<d.length;++m){var g=d[m],v=this.scanner.source.slice(g.slice[0],g.slice[1]),y={type:g.multiLine?"BlockComment":"LineComment",value:v};this.trackRange&&(y.range=g.range),this.trackLoc&&(y.loc=g.loc),this.buffer.push(y)}if(!this.scanner.eof()){var _=void 0;this.trackLoc&&(_={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var T="/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(T);var b={type:C.TokenName[T.type],value:this.scanner.source.slice(T.start,T.end)};if(this.trackRange&&(b.range=[T.start,T.end]),this.trackLoc&&(_.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},b.loc=_),9===T.type){var A=T.pattern,P=T.flags;b.regex={pattern:A,flags:P}}this.buffer.push(b)}}return this.buffer.shift()},Tokenizer}();m.Tokenizer=T}])}))},31878:d=>{!function(m){d.exports=m;var g={on:function on(d,m){return getListeners(this,d).push(m),this},once:function once(d,m){var g=this;return wrap.originalListener=m,getListeners(g,d).push(wrap),g;function wrap(){off.call(g,d,wrap),m.apply(this,arguments)}},off,emit:function emit(d,m){var g=this,v=getListeners(g,d,!0);if(!v)return!1;var y=arguments.length;if(1===y)v.forEach(zeroarg);else if(2===y)v.forEach(onearg);else{var C=Array.prototype.slice.call(arguments,1);v.forEach(moreargs)}return!!v.length;function zeroarg(d){d.call(g)}function onearg(d){d.call(g,m)}function moreargs(d){d.apply(g,C)}}};function mixin(d){for(var m in g)d[m]=g[m];return d}function off(d,m){var g,v=this;if(arguments.length){if(m){if(g=getListeners(v,d,!0)){if(!(g=g.filter(ne)).length)return off.call(v,d);v.listeners[d]=g}}else if((g=v.listeners)&&(delete g[d],!Object.keys(g).length))return off.call(v)}else delete v.listeners;return v;function ne(d){return d!==m&&d.originalListener!==m}}function getListeners(d,m,g){if(!g||d.listeners){var v=d.listeners||(d.listeners={});return v[m]||(v[m]=[])}}mixin(m.prototype),m.mixin=mixin}((
/**
 * event-lite.js - Light-weight EventEmitter (less than 1KB when gzipped)
 *
 * @copyright Yusuke Kawasaki
 * @license MIT
 * @constructor
 * @see https://github.com/kawanet/event-lite
 * @see http://kawanet.github.io/event-lite/EventLite.html
 * @example
 * var EventLite = require("event-lite");
 *
 * function MyClass() {...}             // your class
 *
 * EventLite.mixin(MyClass.prototype);  // import event methods
 *
 * var obj = new MyClass();
 * obj.on("foo", function() {...});     // add event listener
 * obj.once("bar", function() {...});   // add one-time event listener
 * obj.emit("foo");                     // dispatch event
 * obj.emit("bar");                     // dispatch another event
 * obj.off("foo");                      // remove event listener
 */
function EventLite(){if(!(this instanceof EventLite))return new EventLite}))},73076:(d,m)=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});const g=new WeakMap,v=new WeakMap;function pd(d){const m=g.get(d);return console.assert(null!=m,"'this' is expected an Event object, but got",d),m}function setCancelFlag(d){null==d.passiveListener?d.event.cancelable&&(d.canceled=!0,"function"==typeof d.event.preventDefault&&d.event.preventDefault()):"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",d.passiveListener)}function Event(d,m){g.set(this,{eventTarget:d,event:m,eventPhase:2,currentTarget:d,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:m.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const v=Object.keys(m);for(let d=0;d<v.length;++d){const m=v[d];m in this||Object.defineProperty(this,m,defineRedirectDescriptor(m))}}function defineRedirectDescriptor(d){return{get(){return pd(this).event[d]},set(m){pd(this).event[d]=m},configurable:!0,enumerable:!0}}function defineCallDescriptor(d){return{value(){const m=pd(this).event;return m[d].apply(m,arguments)},configurable:!0,enumerable:!0}}function getWrapper(d){if(null==d||d===Object.prototype)return Event;let m=v.get(d);return null==m&&(m=function defineWrapper(d,m){const g=Object.keys(m);if(0===g.length)return d;function CustomEvent(m,g){d.call(this,m,g)}CustomEvent.prototype=Object.create(d.prototype,{constructor:{value:CustomEvent,configurable:!0,writable:!0}});for(let v=0;v<g.length;++v){const y=g[v];if(!(y in d.prototype)){const d="function"==typeof Object.getOwnPropertyDescriptor(m,y).value;Object.defineProperty(CustomEvent.prototype,y,d?defineCallDescriptor(y):defineRedirectDescriptor(y))}}return CustomEvent}(getWrapper(Object.getPrototypeOf(d)),d),v.set(d,m)),m}function isStopped(d){return pd(d).immediateStopped}function setPassiveListener(d,m){pd(d).passiveListener=m}Event.prototype={get type(){return pd(this).event.type},get target(){return pd(this).eventTarget},get currentTarget(){return pd(this).currentTarget},composedPath(){const d=pd(this).currentTarget;return null==d?[]:[d]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return pd(this).eventPhase},stopPropagation(){const d=pd(this);d.stopped=!0,"function"==typeof d.event.stopPropagation&&d.event.stopPropagation()},stopImmediatePropagation(){const d=pd(this);d.stopped=!0,d.immediateStopped=!0,"function"==typeof d.event.stopImmediatePropagation&&d.event.stopImmediatePropagation()},get bubbles(){return Boolean(pd(this).event.bubbles)},get cancelable(){return Boolean(pd(this).event.cancelable)},preventDefault(){setCancelFlag(pd(this))},get defaultPrevented(){return pd(this).canceled},get composed(){return Boolean(pd(this).event.composed)},get timeStamp(){return pd(this).timeStamp},get srcElement(){return pd(this).eventTarget},get cancelBubble(){return pd(this).stopped},set cancelBubble(d){if(!d)return;const m=pd(this);m.stopped=!0,"boolean"==typeof m.event.cancelBubble&&(m.event.cancelBubble=!0)},get returnValue(){return!pd(this).canceled},set returnValue(d){d||setCancelFlag(pd(this))},initEvent(){}},Object.defineProperty(Event.prototype,"constructor",{value:Event,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(Event.prototype,window.Event.prototype),v.set(window.Event.prototype,Event));const y=new WeakMap;function isObject(d){return null!==d&&"object"==typeof d}function getListeners(d){const m=y.get(d);if(null==m)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return m}function defineEventAttribute(d,m){Object.defineProperty(d,`on${m}`,function defineEventAttributeDescriptor(d){return{get(){let m=getListeners(this).get(d);for(;null!=m;){if(3===m.listenerType)return m.listener;m=m.next}return null},set(m){"function"==typeof m||isObject(m)||(m=null);const g=getListeners(this);let v=null,y=g.get(d);for(;null!=y;)3===y.listenerType?null!==v?v.next=y.next:null!==y.next?g.set(d,y.next):g.delete(d):v=y,y=y.next;if(null!==m){const y={listener:m,listenerType:3,passive:!1,once:!1,next:null};null===v?g.set(d,y):v.next=y}},configurable:!0,enumerable:!0}}(m))}function defineCustomEventTarget(d){function CustomEventTarget(){EventTarget.call(this)}CustomEventTarget.prototype=Object.create(EventTarget.prototype,{constructor:{value:CustomEventTarget,configurable:!0,writable:!0}});for(let m=0;m<d.length;++m)defineEventAttribute(CustomEventTarget.prototype,d[m]);return CustomEventTarget}function EventTarget(){if(!(this instanceof EventTarget)){if(1===arguments.length&&Array.isArray(arguments[0]))return defineCustomEventTarget(arguments[0]);if(arguments.length>0){const d=new Array(arguments.length);for(let m=0;m<arguments.length;++m)d[m]=arguments[m];return defineCustomEventTarget(d)}throw new TypeError("Cannot call a class as a function")}y.set(this,new Map)}EventTarget.prototype={addEventListener(d,m,g){if(null==m)return;if("function"!=typeof m&&!isObject(m))throw new TypeError("'listener' should be a function or an object.");const v=getListeners(this),y=isObject(g),C=(y?Boolean(g.capture):Boolean(g))?1:2,_={listener:m,listenerType:C,passive:y&&Boolean(g.passive),once:y&&Boolean(g.once),next:null};let T=v.get(d);if(void 0===T)return void v.set(d,_);let b=null;for(;null!=T;){if(T.listener===m&&T.listenerType===C)return;b=T,T=T.next}b.next=_},removeEventListener(d,m,g){if(null==m)return;const v=getListeners(this),y=(isObject(g)?Boolean(g.capture):Boolean(g))?1:2;let C=null,_=v.get(d);for(;null!=_;){if(_.listener===m&&_.listenerType===y)return void(null!==C?C.next=_.next:null!==_.next?v.set(d,_.next):v.delete(d));C=_,_=_.next}},dispatchEvent(d){if(null==d||"string"!=typeof d.type)throw new TypeError('"event.type" should be a string.');const m=getListeners(this),g=d.type;let v=m.get(g);if(null==v)return!0;const y=function wrapEvent(d,m){return new(getWrapper(Object.getPrototypeOf(m)))(d,m)}(this,d);let C=null;for(;null!=v;){if(v.once?null!==C?C.next=v.next:null!==v.next?m.set(g,v.next):m.delete(g):C=v,setPassiveListener(y,v.passive?v.listener:null),"function"==typeof v.listener)try{v.listener.call(this,y)}catch(d){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(d)}else 3!==v.listenerType&&"function"==typeof v.listener.handleEvent&&v.listener.handleEvent(y);if(isStopped(y))break;v=v.next}return setPassiveListener(y,null),function setEventPhase(d,m){pd(d).eventPhase=m}(y,0),function setCurrentTarget(d,m){pd(d).currentTarget=m}(y,null),!y.defaultPrevented}},Object.defineProperty(EventTarget.prototype,"constructor",{value:EventTarget,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(EventTarget.prototype,window.EventTarget.prototype),m.defineEventAttribute=defineEventAttribute,m.EventTarget=EventTarget,m.default=EventTarget,d.exports=EventTarget,d.exports.EventTarget=d.exports.default=EventTarget,d.exports.defineEventAttribute=defineEventAttribute},5393:(d,m,g)=>{var v;d.exports=function(){if(!v){try{v=g(445)("follow-redirects")}catch(d){}"function"!=typeof v&&(v=function(){})}v.apply(null,arguments)}},85510:(d,m,g)=>{var v=g(57310),y=v.URL,C=g(13685),_=g(95687),T=g(12781).Writable,b=g(39491),A=g(5393),P=["abort","aborted","connect","error","socket","timeout"],R=Object.create(null);P.forEach((function(d){R[d]=function(m,g,v){this._redirectable.emit(d,m,g,v)}}));var k=createErrorType("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),M=createErrorType("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),I=createErrorType("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),O=createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end");function RedirectableRequest(d,m){T.call(this),this._sanitizeOptions(d),this._options=d,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],m&&this.on("response",m);var g=this;this._onNativeResponse=function(d){g._processResponse(d)},this._performRequest()}function wrap(d){var m={maxRedirects:21,maxBodyLength:10485760},g={};return Object.keys(d).forEach((function(C){var _=C+":",T=g[_]=d[C],P=m[C]=Object.create(T);Object.defineProperties(P,{request:{value:function request(d,C,T){if("string"==typeof d){var P=d;try{d=urlToOptions(new y(P))}catch(m){d=v.parse(P)}}else y&&d instanceof y?d=urlToOptions(d):(T=C,C=d,d={protocol:_});return"function"==typeof C&&(T=C,C=null),(C=Object.assign({maxRedirects:m.maxRedirects,maxBodyLength:m.maxBodyLength},d,C)).nativeProtocols=g,b.equal(C.protocol,_,"protocol mismatch"),A("options",C),new RedirectableRequest(C,T)},configurable:!0,enumerable:!0,writable:!0},get:{value:function get(d,m,g){var v=P.request(d,m,g);return v.end(),v},configurable:!0,enumerable:!0,writable:!0}})})),m}function noop(){}function urlToOptions(d){var m={protocol:d.protocol,hostname:d.hostname.startsWith("[")?d.hostname.slice(1,-1):d.hostname,hash:d.hash,search:d.search,pathname:d.pathname,path:d.pathname+d.search,href:d.href};return""!==d.port&&(m.port=Number(d.port)),m}function removeMatchingHeaders(d,m){var g;for(var v in m)d.test(v)&&(g=m[v],delete m[v]);return null==g?void 0:String(g).trim()}function createErrorType(d,m){function CustomError(d){Error.captureStackTrace(this,this.constructor),d?(this.message=m+": "+d.message,this.cause=d):this.message=m}return CustomError.prototype=new Error,CustomError.prototype.constructor=CustomError,CustomError.prototype.name="Error ["+d+"]",CustomError.prototype.code=d,CustomError}function abortRequest(d){for(var m=0;m<P.length;m++)d.removeListener(P[m],R[P[m]]);d.on("error",noop),d.abort()}RedirectableRequest.prototype=Object.create(T.prototype),RedirectableRequest.prototype.abort=function(){abortRequest(this._currentRequest),this.emit("abort")},RedirectableRequest.prototype.write=function(d,m,g){if(this._ending)throw new O;if(!("string"==typeof d||"object"==typeof d&&"length"in d))throw new TypeError("data should be a string, Buffer or Uint8Array");"function"==typeof m&&(g=m,m=null),0!==d.length?this._requestBodyLength+d.length<=this._options.maxBodyLength?(this._requestBodyLength+=d.length,this._requestBodyBuffers.push({data:d,encoding:m}),this._currentRequest.write(d,m,g)):(this.emit("error",new I),this.abort()):g&&g()},RedirectableRequest.prototype.end=function(d,m,g){if("function"==typeof d?(g=d,d=m=null):"function"==typeof m&&(g=m,m=null),d){var v=this,y=this._currentRequest;this.write(d,m,(function(){v._ended=!0,y.end(null,null,g)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,g)},RedirectableRequest.prototype.setHeader=function(d,m){this._options.headers[d]=m,this._currentRequest.setHeader(d,m)},RedirectableRequest.prototype.removeHeader=function(d){delete this._options.headers[d],this._currentRequest.removeHeader(d)},RedirectableRequest.prototype.setTimeout=function(d,m){var g=this;function destroyOnTimeout(m){m.setTimeout(d),m.removeListener("timeout",m.destroy),m.addListener("timeout",m.destroy)}function startTimer(m){g._timeout&&clearTimeout(g._timeout),g._timeout=setTimeout((function(){g.emit("timeout"),clearTimer()}),d),destroyOnTimeout(m)}function clearTimer(){g._timeout&&(clearTimeout(g._timeout),g._timeout=null),g.removeListener("abort",clearTimer),g.removeListener("error",clearTimer),g.removeListener("response",clearTimer),m&&g.removeListener("timeout",m),g.socket||g._currentRequest.removeListener("socket",startTimer)}return m&&this.on("timeout",m),this.socket?startTimer(this.socket):this._currentRequest.once("socket",startTimer),this.on("socket",destroyOnTimeout),this.on("abort",clearTimer),this.on("error",clearTimer),this.on("response",clearTimer),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(d){RedirectableRequest.prototype[d]=function(m,g){return this._currentRequest[d](m,g)}})),["aborted","connection","socket"].forEach((function(d){Object.defineProperty(RedirectableRequest.prototype,d,{get:function(){return this._currentRequest[d]}})})),RedirectableRequest.prototype._sanitizeOptions=function(d){if(d.headers||(d.headers={}),d.host&&(d.hostname||(d.hostname=d.host),delete d.host),!d.pathname&&d.path){var m=d.path.indexOf("?");m<0?d.pathname=d.path:(d.pathname=d.path.substring(0,m),d.search=d.path.substring(m))}},RedirectableRequest.prototype._performRequest=function(){var d=this._options.protocol,m=this._options.nativeProtocols[d];if(m){if(this._options.agents){var g=d.substr(0,d.length-1);this._options.agent=this._options.agents[g]}var y=this._currentRequest=m.request(this._options,this._onNativeResponse);this._currentUrl=v.format(this._options),y._redirectable=this;for(var C=0;C<P.length;C++)y.on(P[C],R[P[C]]);if(this._isRedirect){var _=0,T=this,b=this._requestBodyBuffers;!function writeNext(d){if(y===T._currentRequest)if(d)T.emit("error",d);else if(_<b.length){var m=b[_++];y.finished||y.write(m.data,m.encoding,writeNext)}else T._ended&&y.end()}()}}else this.emit("error",new TypeError("Unsupported protocol "+d))},RedirectableRequest.prototype._processResponse=function(d){var m=d.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:d.headers,statusCode:m});var g=d.headers.location;if(!g||!1===this._options.followRedirects||m<300||m>=400)return d.responseUrl=this._currentUrl,d.redirects=this._redirects,this.emit("response",d),void(this._requestBodyBuffers=[]);if(abortRequest(this._currentRequest),d.destroy(),++this._redirectCount>this._options.maxRedirects)this.emit("error",new M);else{((301===m||302===m)&&"POST"===this._options.method||303===m&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],removeMatchingHeaders(/^content-/i,this._options.headers));var y,C=removeMatchingHeaders(/^host$/i,this._options.headers),_=v.parse(this._currentUrl),T=C||_.host,b=/^\w+:/.test(g)?this._currentUrl:v.format(Object.assign(_,{host:T}));try{y=v.resolve(b,g)}catch(d){return void this.emit("error",new k(d))}A("redirecting to",y),this._isRedirect=!0;var P=v.parse(y);if(Object.assign(this._options,P),(P.protocol!==_.protocol&&"https:"!==P.protocol||P.host!==T&&!function isSubdomain(d,m){const g=d.length-m.length-1;return g>0&&"."===d[g]&&d.endsWith(m)}(P.host,T))&&removeMatchingHeaders(/^(?:authorization|cookie)$/i,this._options.headers),"function"==typeof this._options.beforeRedirect){var R={headers:d.headers};try{this._options.beforeRedirect.call(null,this._options,R)}catch(d){return void this.emit("error",d)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(d){this.emit("error",new k(d))}}},d.exports=wrap({http:C,https:_}),d.exports.wrap=wrap},9335:(d,m,g)=>{"use strict";const v=g(60085),y=g(71017),C=g(5145).mkdirsSync,_=g(52450).utimesMillisSync,T=g(83719);function startCopy(d,m,g,C){if(!C.filter||C.filter(m,g))return function getStats(d,m,g,C){const _=(C.dereference?v.statSync:v.lstatSync)(m);if(_.isDirectory())return function onDir(d,m,g,y,C){if(!m)return function mkDirAndCopy(d,m,g,y){return v.mkdirSync(g),copyDir(m,g,y),v.chmodSync(g,d.mode)}(d,g,y,C);if(m&&!m.isDirectory())throw new Error(`Cannot overwrite non-directory '${y}' with directory '${g}'.`);return copyDir(g,y,C)}(_,d,m,g,C);if(_.isFile()||_.isCharacterDevice()||_.isBlockDevice())return function onFile(d,m,g,y,C){return m?function mayCopyFile(d,m,g,y){if(y.overwrite)return v.unlinkSync(g),copyFile(d,m,g,y);if(y.errorOnExist)throw new Error(`'${g}' already exists`)}(d,g,y,C):copyFile(d,g,y,C)}(_,d,m,g,C);if(_.isSymbolicLink())return function onLink(d,m,g,C){let _=v.readlinkSync(m);C.dereference&&(_=y.resolve(process.cwd(),_));if(d){let d;try{d=v.readlinkSync(g)}catch(d){if("EINVAL"===d.code||"UNKNOWN"===d.code)return v.symlinkSync(_,g);throw d}if(C.dereference&&(d=y.resolve(process.cwd(),d)),T.isSrcSubdir(_,d))throw new Error(`Cannot copy '${_}' to a subdirectory of itself, '${d}'.`);if(v.statSync(g).isDirectory()&&T.isSrcSubdir(d,_))throw new Error(`Cannot overwrite '${d}' with '${_}'.`);return function copyLink(d,m){return v.unlinkSync(m),v.symlinkSync(d,m)}(_,g)}return v.symlinkSync(_,g)}(d,m,g,C)}(d,m,g,C)}function copyFile(d,m,y,C){return"function"==typeof v.copyFileSync?(v.copyFileSync(m,y),v.chmodSync(y,d.mode),C.preserveTimestamps?_(y,d.atime,d.mtime):void 0):function copyFileFallback(d,m,y,C){const _=65536,T=g(66422)(_),b=v.openSync(m,"r"),A=v.openSync(y,"w",d.mode);let P=0;for(;P<d.size;){const d=v.readSync(b,T,0,_,P);v.writeSync(A,T,0,d),P+=d}C.preserveTimestamps&&v.futimesSync(A,d.atime,d.mtime);v.closeSync(b),v.closeSync(A)}(d,m,y,C)}function copyDir(d,m,g){v.readdirSync(d).forEach((v=>function copyDirItem(d,m,g,v){const C=y.join(m,d),_=y.join(g,d),{destStat:b}=T.checkPathsSync(C,_,"copy");return startCopy(b,C,_,v)}(v,d,m,g)))}d.exports=function copySync(d,m,g){"function"==typeof g&&(g={filter:g}),(g=g||{}).clobber=!("clobber"in g)||!!g.clobber,g.overwrite="overwrite"in g?!!g.overwrite:g.clobber,g.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const{srcStat:_,destStat:b}=T.checkPathsSync(d,m,"copy");return T.checkParentPathsSync(d,_,m,"copy"),function handleFilterAndCopy(d,m,g,_){if(_.filter&&!_.filter(m,g))return;const T=y.dirname(g);v.existsSync(T)||C(T);return startCopy(d,m,g,_)}(b,d,m,g)}},90249:(d,m,g)=>{"use strict";d.exports={copySync:g(9335)}},95205:(d,m,g)=>{"use strict";const v=g(60085),y=g(71017),C=g(5145).mkdirs,_=g(19699).pathExists,T=g(52450).utimesMillis,b=g(83719);function checkParentDir(d,m,g,v,T){const b=y.dirname(g);_(b,((y,_)=>y?T(y):_?startCopy(d,m,g,v,T):void C(b,(y=>y?T(y):startCopy(d,m,g,v,T)))))}function handleFilter(d,m,g,v,y,C){Promise.resolve(y.filter(g,v)).then((_=>_?d(m,g,v,y,C):C()),(d=>C(d)))}function startCopy(d,m,g,v,y){return v.filter?handleFilter(getStats,d,m,g,v,y):getStats(d,m,g,v,y)}function getStats(d,m,g,y,C){(y.dereference?v.stat:v.lstat)(m,((_,T)=>_?C(_):T.isDirectory()?function onDir(d,m,g,y,C,_){if(!m)return function mkDirAndCopy(d,m,g,y,C){v.mkdir(g,(_=>{if(_)return C(_);copyDir(m,g,y,(m=>m?C(m):v.chmod(g,d.mode,C)))}))}(d,g,y,C,_);if(m&&!m.isDirectory())return _(new Error(`Cannot overwrite non-directory '${y}' with directory '${g}'.`));return copyDir(g,y,C,_)}(T,d,m,g,y,C):T.isFile()||T.isCharacterDevice()||T.isBlockDevice()?function onFile(d,m,g,y,C,_){return m?function mayCopyFile(d,m,g,y,C){if(!y.overwrite)return y.errorOnExist?C(new Error(`'${g}' already exists`)):C();v.unlink(g,(v=>v?C(v):copyFile(d,m,g,y,C)))}(d,g,y,C,_):copyFile(d,g,y,C,_)}(T,d,m,g,y,C):T.isSymbolicLink()?onLink(d,m,g,y,C):void 0))}function copyFile(d,m,g,y,C){return"function"==typeof v.copyFile?v.copyFile(m,g,(m=>m?C(m):setDestModeAndTimestamps(d,g,y,C))):function copyFileFallback(d,m,g,y,C){const _=v.createReadStream(m);_.on("error",(d=>C(d))).once("open",(()=>{const m=v.createWriteStream(g,{mode:d.mode});m.on("error",(d=>C(d))).on("open",(()=>_.pipe(m))).once("close",(()=>setDestModeAndTimestamps(d,g,y,C)))}))}(d,m,g,y,C)}function setDestModeAndTimestamps(d,m,g,y){v.chmod(m,d.mode,(v=>v?y(v):g.preserveTimestamps?T(m,d.atime,d.mtime,y):y()))}function copyDir(d,m,g,y){v.readdir(d,((v,C)=>v?y(v):copyDirItems(C,d,m,g,y)))}function copyDirItems(d,m,g,v,C){const _=d.pop();return _?function copyDirItem(d,m,g,v,C,_){const T=y.join(g,m),A=y.join(v,m);b.checkPaths(T,A,"copy",((m,y)=>{if(m)return _(m);const{destStat:b}=y;startCopy(b,T,A,C,(m=>m?_(m):copyDirItems(d,g,v,C,_)))}))}(d,_,m,g,v,C):C()}function onLink(d,m,g,C,_){v.readlink(m,((m,T)=>m?_(m):(C.dereference&&(T=y.resolve(process.cwd(),T)),d?void v.readlink(g,((m,A)=>m?"EINVAL"===m.code||"UNKNOWN"===m.code?v.symlink(T,g,_):_(m):(C.dereference&&(A=y.resolve(process.cwd(),A)),b.isSrcSubdir(T,A)?_(new Error(`Cannot copy '${T}' to a subdirectory of itself, '${A}'.`)):d.isDirectory()&&b.isSrcSubdir(A,T)?_(new Error(`Cannot overwrite '${A}' with '${T}'.`)):function copyLink(d,m,g){v.unlink(m,(y=>y?g(y):v.symlink(d,m,g)))}(T,g,_)))):v.symlink(T,g,_))))}d.exports=function copy(d,m,g,v){"function"!=typeof g||v?"function"==typeof g&&(g={filter:g}):(v=g,g={}),v=v||function(){},(g=g||{}).clobber=!("clobber"in g)||!!g.clobber,g.overwrite="overwrite"in g?!!g.overwrite:g.clobber,g.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),b.checkPaths(d,m,"copy",((y,C)=>{if(y)return v(y);const{srcStat:_,destStat:T}=C;b.checkParentPaths(d,_,m,"copy",(y=>y?v(y):g.filter?handleFilter(checkParentDir,T,d,m,g,v):checkParentDir(T,d,m,g,v)))}))}},71889:(d,m,g)=>{"use strict";const v=g(55725).E;d.exports={copy:v(g(95205))}},14088:(d,m,g)=>{"use strict";const v=g(55725).E,y=g(60085),C=g(71017),_=g(5145),T=g(53495),b=v((function emptyDir(d,m){m=m||function(){},y.readdir(d,((g,v)=>{if(g)return _.mkdirs(d,m);v=v.map((m=>C.join(d,m))),function deleteItem(){const d=v.pop();if(!d)return m();T.remove(d,(d=>{if(d)return m(d);deleteItem()}))}()}))}));function emptyDirSync(d){let m;try{m=y.readdirSync(d)}catch(m){return _.mkdirsSync(d)}m.forEach((m=>{m=C.join(d,m),T.removeSync(m)}))}d.exports={emptyDirSync,emptydirSync:emptyDirSync,emptyDir:b,emptydir:b}},11454:(d,m,g)=>{"use strict";const v=g(55725).E,y=g(71017),C=g(60085),_=g(5145),T=g(19699).pathExists;d.exports={createFile:v((function createFile(d,m){function makeFile(){C.writeFile(d,"",(d=>{if(d)return m(d);m()}))}C.stat(d,((g,v)=>{if(!g&&v.isFile())return m();const C=y.dirname(d);T(C,((d,g)=>d?m(d):g?makeFile():void _.mkdirs(C,(d=>{if(d)return m(d);makeFile()}))))}))})),createFileSync:function createFileSync(d){let m;try{m=C.statSync(d)}catch(d){}if(m&&m.isFile())return;const g=y.dirname(d);C.existsSync(g)||_.mkdirsSync(g),C.writeFileSync(d,"")}}},22689:(d,m,g)=>{"use strict";const v=g(11454),y=g(40462),C=g(73318);d.exports={createFile:v.createFile,createFileSync:v.createFileSync,ensureFile:v.createFile,ensureFileSync:v.createFileSync,createLink:y.createLink,createLinkSync:y.createLinkSync,ensureLink:y.createLink,ensureLinkSync:y.createLinkSync,createSymlink:C.createSymlink,createSymlinkSync:C.createSymlinkSync,ensureSymlink:C.createSymlink,ensureSymlinkSync:C.createSymlinkSync}},40462:(d,m,g)=>{"use strict";const v=g(55725).E,y=g(71017),C=g(60085),_=g(5145),T=g(19699).pathExists;d.exports={createLink:v((function createLink(d,m,g){function makeLink(d,m){C.link(d,m,(d=>{if(d)return g(d);g(null)}))}T(m,((v,b)=>v?g(v):b?g(null):void C.lstat(d,(v=>{if(v)return v.message=v.message.replace("lstat","ensureLink"),g(v);const C=y.dirname(m);T(C,((v,y)=>v?g(v):y?makeLink(d,m):void _.mkdirs(C,(v=>{if(v)return g(v);makeLink(d,m)}))))}))))})),createLinkSync:function createLinkSync(d,m){if(C.existsSync(m))return;try{C.lstatSync(d)}catch(d){throw d.message=d.message.replace("lstat","ensureLink"),d}const g=y.dirname(m);return C.existsSync(g)||_.mkdirsSync(g),C.linkSync(d,m)}}},67650:(d,m,g)=>{"use strict";const v=g(71017),y=g(60085),C=g(19699).pathExists;d.exports={symlinkPaths:function symlinkPaths(d,m,g){if(v.isAbsolute(d))return y.lstat(d,(m=>m?(m.message=m.message.replace("lstat","ensureSymlink"),g(m)):g(null,{toCwd:d,toDst:d})));{const _=v.dirname(m),T=v.join(_,d);return C(T,((m,C)=>m?g(m):C?g(null,{toCwd:T,toDst:d}):y.lstat(d,(m=>m?(m.message=m.message.replace("lstat","ensureSymlink"),g(m)):g(null,{toCwd:d,toDst:v.relative(_,d)})))))}},symlinkPathsSync:function symlinkPathsSync(d,m){let g;if(v.isAbsolute(d)){if(g=y.existsSync(d),!g)throw new Error("absolute srcpath does not exist");return{toCwd:d,toDst:d}}{const C=v.dirname(m),_=v.join(C,d);if(g=y.existsSync(_),g)return{toCwd:_,toDst:d};if(g=y.existsSync(d),!g)throw new Error("relative srcpath does not exist");return{toCwd:d,toDst:v.relative(C,d)}}}}},72947:(d,m,g)=>{"use strict";const v=g(60085);d.exports={symlinkType:function symlinkType(d,m,g){if(g="function"==typeof m?m:g,m="function"!=typeof m&&m)return g(null,m);v.lstat(d,((d,v)=>{if(d)return g(null,"file");m=v&&v.isDirectory()?"dir":"file",g(null,m)}))},symlinkTypeSync:function symlinkTypeSync(d,m){let g;if(m)return m;try{g=v.lstatSync(d)}catch(d){return"file"}return g&&g.isDirectory()?"dir":"file"}}},73318:(d,m,g)=>{"use strict";const v=g(55725).E,y=g(71017),C=g(60085),_=g(5145),T=_.mkdirs,b=_.mkdirsSync,A=g(67650),P=A.symlinkPaths,R=A.symlinkPathsSync,k=g(72947),M=k.symlinkType,I=k.symlinkTypeSync,O=g(19699).pathExists;d.exports={createSymlink:v((function createSymlink(d,m,g,v){v="function"==typeof g?g:v,g="function"!=typeof g&&g,O(m,((_,b)=>_?v(_):b?v(null):void P(d,m,((_,b)=>{if(_)return v(_);d=b.toDst,M(b.toCwd,g,((g,_)=>{if(g)return v(g);const b=y.dirname(m);O(b,((g,y)=>g?v(g):y?C.symlink(d,m,_,v):void T(b,(g=>{if(g)return v(g);C.symlink(d,m,_,v)}))))}))}))))})),createSymlinkSync:function createSymlinkSync(d,m,g){if(C.existsSync(m))return;const v=R(d,m);d=v.toDst,g=I(v.toCwd,g);const _=y.dirname(m);return C.existsSync(_)||b(_),C.symlinkSync(d,m,g)}}},52143:(d,m,g)=>{"use strict";const v=g(55725).E,y=g(60085),C=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","lchmod","link","lstat","mkdir","mkdtemp","open","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((d=>"function"==typeof y[d]));Object.keys(y).forEach((d=>{"promises"!==d&&(m[d]=y[d])})),C.forEach((d=>{m[d]=v(y[d])})),m.exists=function(d,m){return"function"==typeof m?y.exists(d,m):new Promise((m=>y.exists(d,m)))},m.read=function(d,m,g,v,C,_){return"function"==typeof _?y.read(d,m,g,v,C,_):new Promise(((_,T)=>{y.read(d,m,g,v,C,((d,m,g)=>{if(d)return T(d);_({bytesRead:m,buffer:g})}))}))},m.write=function(d,m,...g){return"function"==typeof g[g.length-1]?y.write(d,m,...g):new Promise(((v,C)=>{y.write(d,m,...g,((d,m,g)=>{if(d)return C(d);v({bytesWritten:m,buffer:g})}))}))},"function"==typeof y.realpath.native&&(m.realpath.native=v(y.realpath.native))},10890:(d,m,g)=>{"use strict";d.exports=Object.assign({},g(52143),g(90249),g(71889),g(14088),g(22689),g(59270),g(5145),g(14377),g(54146),g(64911),g(19699),g(53495));const v=g(57147);Object.getOwnPropertyDescriptor(v,"promises")&&Object.defineProperty(d.exports,"promises",{get:()=>v.promises})},59270:(d,m,g)=>{"use strict";const v=g(55725).E,y=g(79691);y.outputJson=v(g(38700)),y.outputJsonSync=g(82286),y.outputJSON=y.outputJson,y.outputJSONSync=y.outputJsonSync,y.writeJSON=y.writeJson,y.writeJSONSync=y.writeJsonSync,y.readJSON=y.readJson,y.readJSONSync=y.readJsonSync,d.exports=y},79691:(d,m,g)=>{"use strict";const v=g(55725).E,y=g(30370);d.exports={readJson:v(y.readFile),readJsonSync:y.readFileSync,writeJson:v(y.writeFile),writeJsonSync:y.writeFileSync}},82286:(d,m,g)=>{"use strict";const v=g(60085),y=g(71017),C=g(5145),_=g(79691);d.exports=function outputJsonSync(d,m,g){const T=y.dirname(d);v.existsSync(T)||C.mkdirsSync(T),_.writeJsonSync(d,m,g)}},38700:(d,m,g)=>{"use strict";const v=g(71017),y=g(5145),C=g(19699).pathExists,_=g(79691);d.exports=function outputJson(d,m,g,T){"function"==typeof g&&(T=g,g={});const b=v.dirname(d);C(b,((v,C)=>v?T(v):C?_.writeJson(d,m,g,T):void y.mkdirs(b,(v=>{if(v)return T(v);_.writeJson(d,m,g,T)}))))}},5145:(d,m,g)=>{"use strict";const v=(0,g(55725).E)(g(57631)),y=g(49396);d.exports={mkdirs:v,mkdirsSync:y,mkdirp:v,mkdirpSync:y,ensureDir:v,ensureDirSync:y}},49396:(d,m,g)=>{"use strict";const v=g(60085),y=g(71017),C=g(28201).invalidWin32Path,_=parseInt("0777",8);d.exports=function mkdirsSync(d,m,g){m&&"object"==typeof m||(m={mode:m});let T=m.mode;const b=m.fs||v;if("win32"===process.platform&&C(d)){const m=new Error(d+" contains invalid WIN32 path characters.");throw m.code="EINVAL",m}void 0===T&&(T=_&~process.umask()),g||(g=null),d=y.resolve(d);try{b.mkdirSync(d,T),g=g||d}catch(v){if("ENOENT"===v.code){if(y.dirname(d)===d)throw v;g=mkdirsSync(y.dirname(d),m,g),mkdirsSync(d,m,g)}else{let m;try{m=b.statSync(d)}catch(d){throw v}if(!m.isDirectory())throw v}}return g}},57631:(d,m,g)=>{"use strict";const v=g(60085),y=g(71017),C=g(28201).invalidWin32Path,_=parseInt("0777",8);d.exports=function mkdirs(d,m,g,T){if("function"==typeof m?(g=m,m={}):m&&"object"==typeof m||(m={mode:m}),"win32"===process.platform&&C(d)){const m=new Error(d+" contains invalid WIN32 path characters.");return m.code="EINVAL",g(m)}let b=m.mode;const A=m.fs||v;void 0===b&&(b=_&~process.umask()),T||(T=null),g=g||function(){},d=y.resolve(d),A.mkdir(d,b,(v=>{if(!v)return g(null,T=T||d);if("ENOENT"===v.code){if(y.dirname(d)===d)return g(v);mkdirs(y.dirname(d),m,((v,y)=>{v?g(v,y):mkdirs(d,m,g,y)}))}else A.stat(d,((d,m)=>{d||!m.isDirectory()?g(v,T):g(null,T)}))}))}},28201:(d,m,g)=>{"use strict";const v=g(71017);function getRootPath(d){return(d=v.normalize(v.resolve(d)).split(v.sep)).length>0?d[0]:null}const y=/[<>:"|?*]/;d.exports={getRootPath,invalidWin32Path:function invalidWin32Path(d){const m=getRootPath(d);return d=d.replace(m,""),y.test(d)}}},14377:(d,m,g)=>{"use strict";d.exports={moveSync:g(53841)}},53841:(d,m,g)=>{"use strict";const v=g(60085),y=g(71017),C=g(90249).copySync,_=g(53495).removeSync,T=g(5145).mkdirpSync,b=g(83719);function rename(d,m,g){try{v.renameSync(d,m)}catch(v){if("EXDEV"!==v.code)throw v;return function moveAcrossDevice(d,m,g){return C(d,m,{overwrite:g,errorOnExist:true}),_(d)}(d,m,g)}}d.exports=function moveSync(d,m,g){const C=(g=g||{}).overwrite||g.clobber||!1,{srcStat:A}=b.checkPathsSync(d,m,"move");return b.checkParentPathsSync(d,A,m,"move"),T(y.dirname(m)),function doRename(d,m,g){if(g)return _(m),rename(d,m,g);if(v.existsSync(m))throw new Error("dest already exists.");return rename(d,m,g)}(d,m,C)}},54146:(d,m,g)=>{"use strict";const v=g(55725).E;d.exports={move:v(g(82571))}},82571:(d,m,g)=>{"use strict";const v=g(60085),y=g(71017),C=g(71889).copy,_=g(53495).remove,T=g(5145).mkdirp,b=g(19699).pathExists,A=g(83719);function rename(d,m,g,y){v.rename(d,m,(v=>v?"EXDEV"!==v.code?y(v):function moveAcrossDevice(d,m,g,v){C(d,m,{overwrite:g,errorOnExist:!0},(m=>m?v(m):_(d,v)))}(d,m,g,y):y()))}d.exports=function move(d,m,g,v){"function"==typeof g&&(v=g,g={});const C=g.overwrite||g.clobber||!1;A.checkPaths(d,m,"move",((g,P)=>{if(g)return v(g);const{srcStat:R}=P;A.checkParentPaths(d,R,m,"move",(g=>{if(g)return v(g);T(y.dirname(m),(g=>g?v(g):function doRename(d,m,g,v){if(g)return _(m,(y=>y?v(y):rename(d,m,g,v)));b(m,((y,C)=>y?v(y):C?v(new Error("dest already exists.")):rename(d,m,g,v)))}(d,m,C,v)))}))}))}},64911:(d,m,g)=>{"use strict";const v=g(55725).E,y=g(60085),C=g(71017),_=g(5145),T=g(19699).pathExists;d.exports={outputFile:v((function outputFile(d,m,g,v){"function"==typeof g&&(v=g,g="utf8");const b=C.dirname(d);T(b,((C,T)=>C?v(C):T?y.writeFile(d,m,g,v):void _.mkdirs(b,(C=>{if(C)return v(C);y.writeFile(d,m,g,v)}))))})),outputFileSync:function outputFileSync(d,...m){const g=C.dirname(d);if(y.existsSync(g))return y.writeFileSync(d,...m);_.mkdirsSync(g),y.writeFileSync(d,...m)}}},19699:(d,m,g)=>{"use strict";const v=g(55725).p,y=g(52143);d.exports={pathExists:v((function pathExists(d){return y.access(d).then((()=>!0)).catch((()=>!1))})),pathExistsSync:y.existsSync}},53495:(d,m,g)=>{"use strict";const v=g(55725).E,y=g(89373);d.exports={remove:v(y),removeSync:y.sync}},89373:(d,m,g)=>{"use strict";const v=g(60085),y=g(71017),C=g(39491),_="win32"===process.platform;function defaults(d){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((m=>{d[m]=d[m]||v[m],d[m+="Sync"]=d[m]||v[m]})),d.maxBusyTries=d.maxBusyTries||3}function rimraf(d,m,g){let v=0;"function"==typeof m&&(g=m,m={}),C(d,"rimraf: missing path"),C.strictEqual(typeof d,"string","rimraf: path should be a string"),C.strictEqual(typeof g,"function","rimraf: callback function required"),C(m,"rimraf: invalid options argument provided"),C.strictEqual(typeof m,"object","rimraf: options should be object"),defaults(m),rimraf_(d,m,(function CB(y){if(y){if(("EBUSY"===y.code||"ENOTEMPTY"===y.code||"EPERM"===y.code)&&v<m.maxBusyTries){v++;return setTimeout((()=>rimraf_(d,m,CB)),100*v)}"ENOENT"===y.code&&(y=null)}g(y)}))}function rimraf_(d,m,g){C(d),C(m),C("function"==typeof g),m.lstat(d,((v,y)=>v&&"ENOENT"===v.code?g(null):v&&"EPERM"===v.code&&_?fixWinEPERM(d,m,v,g):y&&y.isDirectory()?rmdir(d,m,v,g):void m.unlink(d,(v=>{if(v){if("ENOENT"===v.code)return g(null);if("EPERM"===v.code)return _?fixWinEPERM(d,m,v,g):rmdir(d,m,v,g);if("EISDIR"===v.code)return rmdir(d,m,v,g)}return g(v)}))))}function fixWinEPERM(d,m,g,v){C(d),C(m),C("function"==typeof v),g&&C(g instanceof Error),m.chmod(d,438,(y=>{y?v("ENOENT"===y.code?null:g):m.stat(d,((y,C)=>{y?v("ENOENT"===y.code?null:g):C.isDirectory()?rmdir(d,m,g,v):m.unlink(d,v)}))}))}function fixWinEPERMSync(d,m,g){let v;C(d),C(m),g&&C(g instanceof Error);try{m.chmodSync(d,438)}catch(d){if("ENOENT"===d.code)return;throw g}try{v=m.statSync(d)}catch(d){if("ENOENT"===d.code)return;throw g}v.isDirectory()?rmdirSync(d,m,g):m.unlinkSync(d)}function rmdir(d,m,g,v){C(d),C(m),g&&C(g instanceof Error),C("function"==typeof v),m.rmdir(d,(_=>{!_||"ENOTEMPTY"!==_.code&&"EEXIST"!==_.code&&"EPERM"!==_.code?_&&"ENOTDIR"===_.code?v(g):v(_):function rmkids(d,m,g){C(d),C(m),C("function"==typeof g),m.readdir(d,((v,C)=>{if(v)return g(v);let _,T=C.length;if(0===T)return m.rmdir(d,g);C.forEach((v=>{rimraf(y.join(d,v),m,(v=>{if(!_)return v?g(_=v):void(0==--T&&m.rmdir(d,g))}))}))}))}(d,m,v)}))}function rimrafSync(d,m){let g;defaults(m=m||{}),C(d,"rimraf: missing path"),C.strictEqual(typeof d,"string","rimraf: path should be a string"),C(m,"rimraf: missing options"),C.strictEqual(typeof m,"object","rimraf: options should be object");try{g=m.lstatSync(d)}catch(g){if("ENOENT"===g.code)return;"EPERM"===g.code&&_&&fixWinEPERMSync(d,m,g)}try{g&&g.isDirectory()?rmdirSync(d,m,null):m.unlinkSync(d)}catch(g){if("ENOENT"===g.code)return;if("EPERM"===g.code)return _?fixWinEPERMSync(d,m,g):rmdirSync(d,m,g);if("EISDIR"!==g.code)throw g;rmdirSync(d,m,g)}}function rmdirSync(d,m,g){C(d),C(m),g&&C(g instanceof Error);try{m.rmdirSync(d)}catch(v){if("ENOTDIR"===v.code)throw g;if("ENOTEMPTY"===v.code||"EEXIST"===v.code||"EPERM"===v.code)!function rmkidsSync(d,m){if(C(d),C(m),m.readdirSync(d).forEach((g=>rimrafSync(y.join(d,g),m))),!_){return m.rmdirSync(d,m)}{const g=Date.now();do{try{return m.rmdirSync(d,m)}catch(d){}}while(Date.now()-g<500)}}(d,m);else if("ENOENT"!==v.code)throw v}}d.exports=rimraf,rimraf.sync=rimrafSync},66422:d=>{"use strict";d.exports=function(d){if("function"==typeof Buffer.allocUnsafe)try{return Buffer.allocUnsafe(d)}catch(m){return new Buffer(d)}return new Buffer(d)}},83719:(d,m,g)=>{"use strict";const v=g(60085),y=g(71017),C=process.versions.node.split("."),_=Number.parseInt(C[0],10),T=Number.parseInt(C[1],10),b=Number.parseInt(C[2],10);function nodeSupportsBigInt(){if(_>10)return!0;if(10===_){if(T>5)return!0;if(5===T&&b>=0)return!0}return!1}function isSrcSubdir(d,m){const g=y.resolve(d).split(y.sep).filter((d=>d)),v=y.resolve(m).split(y.sep).filter((d=>d));return g.reduce(((d,m,g)=>d&&v[g]===m),!0)}function errMsg(d,m,g){return`Cannot ${g} '${d}' to a subdirectory of itself, '${m}'.`}d.exports={checkPaths:function checkPaths(d,m,g,y){!function getStats(d,m,g){nodeSupportsBigInt()?v.stat(d,{bigint:!0},((d,y)=>{if(d)return g(d);v.stat(m,{bigint:!0},((d,m)=>d?"ENOENT"===d.code?g(null,{srcStat:y,destStat:null}):g(d):g(null,{srcStat:y,destStat:m})))})):v.stat(d,((d,y)=>{if(d)return g(d);v.stat(m,((d,m)=>d?"ENOENT"===d.code?g(null,{srcStat:y,destStat:null}):g(d):g(null,{srcStat:y,destStat:m})))}))}(d,m,((v,C)=>{if(v)return y(v);const{srcStat:_,destStat:T}=C;return T&&T.ino&&T.dev&&T.ino===_.ino&&T.dev===_.dev?y(new Error("Source and destination must not be the same.")):_.isDirectory()&&isSrcSubdir(d,m)?y(new Error(errMsg(d,m,g))):y(null,{srcStat:_,destStat:T})}))},checkPathsSync:function checkPathsSync(d,m,g){const{srcStat:y,destStat:C}=function getStatsSync(d,m){let g,y;g=nodeSupportsBigInt()?v.statSync(d,{bigint:!0}):v.statSync(d);try{y=nodeSupportsBigInt()?v.statSync(m,{bigint:!0}):v.statSync(m)}catch(d){if("ENOENT"===d.code)return{srcStat:g,destStat:null};throw d}return{srcStat:g,destStat:y}}(d,m);if(C&&C.ino&&C.dev&&C.ino===y.ino&&C.dev===y.dev)throw new Error("Source and destination must not be the same.");if(y.isDirectory()&&isSrcSubdir(d,m))throw new Error(errMsg(d,m,g));return{srcStat:y,destStat:C}},checkParentPaths:function checkParentPaths(d,m,g,C,_){const T=y.resolve(y.dirname(d)),b=y.resolve(y.dirname(g));if(b===T||b===y.parse(b).root)return _();nodeSupportsBigInt()?v.stat(b,{bigint:!0},((v,y)=>v?"ENOENT"===v.code?_():_(v):y.ino&&y.dev&&y.ino===m.ino&&y.dev===m.dev?_(new Error(errMsg(d,g,C))):checkParentPaths(d,m,b,C,_))):v.stat(b,((v,y)=>v?"ENOENT"===v.code?_():_(v):y.ino&&y.dev&&y.ino===m.ino&&y.dev===m.dev?_(new Error(errMsg(d,g,C))):checkParentPaths(d,m,b,C,_)))},checkParentPathsSync:function checkParentPathsSync(d,m,g,C){const _=y.resolve(y.dirname(d)),T=y.resolve(y.dirname(g));if(T===_||T===y.parse(T).root)return;let b;try{b=nodeSupportsBigInt()?v.statSync(T,{bigint:!0}):v.statSync(T)}catch(d){if("ENOENT"===d.code)return;throw d}if(b.ino&&b.dev&&b.ino===m.ino&&b.dev===m.dev)throw new Error(errMsg(d,g,C));return checkParentPathsSync(d,m,T,C)},isSrcSubdir}},52450:(d,m,g)=>{"use strict";const v=g(60085),y=g(22037),C=g(71017);d.exports={hasMillisRes:function hasMillisRes(d){let m=C.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));m=C.join(y.tmpdir(),m);const g=new Date(1435410243862);v.writeFile(m,"https://github.com/jprichardson/node-fs-extra/pull/141",(y=>{if(y)return d(y);v.open(m,"r+",((y,C)=>{if(y)return d(y);v.futimes(C,g,g,(g=>{if(g)return d(g);v.close(C,(g=>{if(g)return d(g);v.stat(m,((m,g)=>{if(m)return d(m);d(null,g.mtime>1435410243e3)}))}))}))}))}))},hasMillisResSync:function hasMillisResSync(){let 